import{j as n,r as f,a as je}from"./node_modules/react-0beb1837.js";import{c as Mt}from"./node_modules/react-dom-f51d7a2d.js";import{L as It,H as Ot}from"./node_modules/react-router-dom-1eb4decd.js";import{c as S}from"./node_modules/classnames-e401d0a3.js";import{c as Ft,u as jt,a as Lt,b as Nt,d as j,e as Rt,f as Ut,W as Ht,g as $t}from"./node_modules/wagmi-427ba1d9.js";import{p as Wt,I as qt,q as Gt,r as Vt,t as Kt}from"./node_modules/@wagmi-3a69b90e.js";import{U as zt}from"./node_modules/@uniswap-19584686.js";import{L as Yt}from"./node_modules/@lyrafinance-ef6a9e5c.js";import"./node_modules/cross-fetch-9ac157bd.js";import{W as Zt,G as Qt,C as G,B as J}from"./node_modules/@ethersproject-21b0065b.js";import{Q as Le,k as Xt,h as Jt}from"./node_modules/react-toastify-e7feefbe.js";import{S as en,c as tn}from"./node_modules/react-select-83f54f62.js";import{W as nn}from"./node_modules/react-tooltip-07244895.js";import{b as _e,O as an,a as sn,d as rn,e as me,f as on}from"./node_modules/react-router-f49d1790.js";import{u as pn,a as tt,b as Ne}from"./node_modules/react-use-e60a89c2.js";import{R as Re}from"./node_modules/react-modal-d66169f9.js";import{u as nt,i as Ue}from"./node_modules/swr-8e41e7a7.js";import{I as un}from"./node_modules/react-icons-314c56b9.js";import{f as ze}from"./node_modules/date-fns-8fa817a4.js";import{r as ln}from"./node_modules/swiper-4105a6d8.js";import{u as it}from"./node_modules/ethers-0817d50b.js";import{S as yn}from"./node_modules/rc-slider-d30c4979.js";import{A as dn,a as cn}from"./node_modules/@szhsin-5a864415.js";import"./node_modules/scheduler-765c72db.js";import"./node_modules/@remix-run-06a34d2a.js";import"./node_modules/@tanstack-bdb8aa03.js";import"./node_modules/use-sync-external-store-357101f6.js";import"./node_modules/@noble-c8e7831c.js";import"./node_modules/eventemitter3-50fd48f0.js";import"./node_modules/zustand-bfa6df6a.js";import"./node_modules/graphql-tag-9568edd7.js";import"./node_modules/graphql-6a9502bd.js";import"./node_modules/@apollo-b7627a8e.js";import"./node_modules/optimism-96b4f7fa.js";import"./node_modules/@wry-af370e25.js";import"./node_modules/ts-invariant-d603e89e.js";import"./node_modules/zen-observable-ts-47d5f8bb.js";import"./node_modules/symbol-observable-f2ed883d.js";import"./node_modules/bech32-d582637e.js";import"./node_modules/js-sha3-dbfebf46.js";import"./node_modules/bn.js-c7c4c633.js";import"./node_modules/hash.js-b2e4d6cd.js";import"./node_modules/minimalistic-assert-7cc78341.js";import"./node_modules/inherits-2c87d58f.js";import"./node_modules/aes-js-5c71d223.js";import"./node_modules/scrypt-js-1f67d6a9.js";import"./node_modules/clsx-1229b3e0.js";import"./node_modules/@babel-9a9b6246.js";import"./node_modules/@emotion-3832f1f0.js";import"./node_modules/hoist-non-react-statics-23d96a9a.js";import"./node_modules/react-is-e8e5dbb3.js";import"./node_modules/stylis-79144faa.js";import"./node_modules/@floating-ui-1f2e0c5a.js";import"./node_modules/use-isomorphic-layout-effect-43379cc7.js";import"./node_modules/memoize-one-297ddbcb.js";import"./node_modules/@xobotyi-c2000ea3.js";import"./node_modules/prop-types-387d7a00.js";import"./node_modules/warning-883c7a3c.js";import"./node_modules/exenv-9baed461.js";import"./node_modules/react-lifecycles-compat-47a97bfa.js";import"./node_modules/rc-util-eaebf3dd.js";import"./node_modules/react-transition-state-95c75a42.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();const mn="/sf_draft/assets/Logo-258738bb.svg",at=({className:e})=>n.jsx("div",{className:S("Logo",e),children:n.jsx("a",{className:"Logo__link",href:"/index.html",children:n.jsx("img",{src:mn,alt:"Sharwa.Finance"})})});const st=e=>{const{className:t,links:i,type:a}=e,s=S(t,`Links_${a}`);return n.jsx("div",{className:S("Links",s),children:i.map(r=>{const o=S("Links__item",r.isActive&&"active");return n.jsx(It,{to:r.to,className:o,disabled:r.isDisabled,onClick:r.isDisabled&&(u=>u.preventDefault()),children:r.name},r.to)})})};const rt=e=>{const[t,i]=f.useState(!1),a=f.useCallback(()=>{document.removeEventListener("click",a),i(!1),e&&e()},[]);return{isOpen:t,openPopup:()=>{t||(i(!0),setTimeout(()=>{document.addEventListener("click",a)},10))},closePopup:a}},Tn="/sf_draft/assets/wallet-fce3adf9.svg",fn="/sf_draft/assets/link-c9833cec.svg",bn="/sf_draft/assets/cross_white-42eb5050.svg",hn="/sf_draft/assets/Arbitrum-299bccbf.svg",Cn="/sf_draft/assets/Arbitrum-299bccbf.svg",V=42161,le=10,He=[V],$e={[V]:{name:"Arbitrum",icon:hn},[le]:{name:"Optimism",icon:Cn,isDisabled:!0}},xn=[{inputs:[{internalType:"address",name:"_exchanger",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct TxBuilder.Module[]",name:"moduleArray",type:"tuple[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"exchanger",outputs:[{internalType:"contract Exchanger",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"module",outputs:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextBuildID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"exchangerAddress",type:"address"}],name:"setExchanger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct TxBuilder.Module",name:"modData",type:"tuple"}],name:"setModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],_n=[{inputs:[{internalType:"address",name:"_lyra_eth",type:"address"},{internalType:"address",name:"_lyra_btc",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"},{internalType:"address",name:"_lyra_ethErc721",type:"address"},{internalType:"address",name:"_lyra_btcErc721",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"ClosePositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"}],name:"ClosePositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum BaseOptionBuilder.ProtocolType[]",name:"protocolsArrays",type:"uint8[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"positionID",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct ILyra.TradeInputParameters",name:"params",type:"tuple"},{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"positionID",type:"uint256"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct ILyra.TradeInputParameters",name:"params",type:"tuple"},{internalType:"uint256",name:"premium",type:"uint256"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_btc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_btcErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_eth",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_ethErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextBuildID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],gn=[{inputs:[{internalType:"address",name:"_erc721Address",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"TakeProfitSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"TakeProfitUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkTakeProfit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc721Contract",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveTakeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getExpirationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPayOffAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveTakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveTakes",type:"uint256"}],name:"setMaxActiveTakes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"setTakeProfit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"updateTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],kn=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],vn=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Sn=[{inputs:[{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"contract IPositionsManager",name:"_manager",type:"address"},{internalType:"uint256",name:"_maxLockupPeriod",type:"uint256"},{internalType:"contract ICoverPool",name:"_coverPool",type:"address"},{internalType:"uint256",name:"_benchmark",type:"uint256"},{internalType:"contract IHegicStrategy[]",name:"initialStrategies",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Expired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Paid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Replenished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"acceptedStrategy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"addStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"benchmark",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"connectStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"coverPool",outputs:[{internalType:"contract ICoverPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"lockedByStrategy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lockedLiquidity",outputs:[{internalType:"enum IOperationalTreasury.LockedLiquidityState",name:"state",type:"uint8"},{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"},{internalType:"uint32",name:"expiration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedPremium",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"contract IPositionsManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLockupPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"mayBeAcceptedAtEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"account",type:"address"}],name:"payOff",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"replenish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setBenchmark",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalLocked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lockedLiquidityID",type:"uint256"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],wn=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"HEGIC_POOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"}],name:"createOptionFor",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721Metadata",name:"_uriBuilder",type:"address"}],name:"setURIBuilder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uriBuilder",outputs:[{internalType:"contract IERC721Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"}],An=[{inputs:[{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"contract IPremiumCalculator",name:"_pricer",type:"address"},{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint8",name:"_spotDecimals",type:"uint8"},{internalType:"uint16",name:"_priceScale",type:"uint16"},{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"},{internalType:"uint48",name:"_exerciseWindowDuration",type:"uint48"},{internalType:"contract LimitController",name:"_limitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],indexed:!1,internalType:"struct IHegicStrategy.StrategyData",name:"data",type:"tuple"},{indexed:!1,internalType:"uint256",name:"negativepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positivepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"Acquired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"limit",type:"uint256"}],name:"SetLimit",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"",type:"bytes[]"}],name:"calculateNegativepnlAndPositivepnl",outputs:[{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"connect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"create",outputs:[{internalType:"uint32",name:"expiration",type:"uint32"},{internalType:"uint256",name:"negativePNL",type:"uint256"},{internalType:"uint256",name:"positivePNL",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exerciseWindowDuration",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"period",type:"uint32"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"getAvailableContracts",outputs:[{internalType:"uint256",name:"available",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLockedByStrategy",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isPayoffAvailable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"k",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"limitController",outputs:[{internalType:"contract LimitController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"optionID",type:"uint256"}],name:"payOffAmount",outputs:[{internalType:"uint256",name:"profit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positionExpiration",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IPremiumCalculator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48",name:"value",type:"uint48"}],name:"setK",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract LimitController",name:"value",type:"address"}],name:"setLimitController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IPremiumCalculator",name:"value",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"strategyData",outputs:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Bn=[{inputs:[{internalType:"int256[5]",name:"initialCoefficients",type:"int256[5]"},{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"uint256",name:"_tokenDecimals",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[3]",name:"values",type:"uint256[3]"}],name:"SetBorders",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetCoefficients",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountCall",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountPut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"values",type:"uint8"}],name:"SetDiscountSpread",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetImpliedVolRate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[4]",name:"values",type:"uint256[4]"}],name:"SetImpliedVolRates",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"min",type:"uint256"},{indexed:!1,internalType:"uint256",name:"max",type:"uint256"}],name:"SetPeriodLimits",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetSettlementFeeShare",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetStrikePercentage",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"strike",type:"uint256"}],name:"calculatePremium",outputs:[{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"coefficients",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"setCoefficients",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Dn=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Pn=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],En=[{inputs:[{internalType:"address",name:"_lyraRegister",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardAlreadySettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"BoardExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardIsFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum IOptionMarket.NonZeroValues",name:"valueType",type:"uint8"}],name:"ExpectedNonZeroValue",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"InvalidStrikeId",type:"error"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"fullQuotes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"}],Mn=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Ye=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],We=1e3,In=60,On=60,Fn=24,jn=e=>Math.floor(e/We/In/On/Fn),ge=e=>Math.floor(e/We),Ln={[V]:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",[le]:""},se=e=>{const t=Ln[e];if(!t)throw new Error(`No Alchemy api keys found for chainId ${e}`);return new Qt(e,t)},Nn=e=>new Yt({provider:se(e)}),ke=()=>{if(!window.ethereum)throw new Error("No Ethereum provider found");return new Zt(window.ethereum).getSigner()},Rn="/sf_draft/assets/ETH-fe35d2b1.svg",Un="/sf_draft/assets/BTC-03fbacc9.svg",Hn="/sf_draft/assets/WETH-2ba67e25.svg",$n="/sf_draft/assets/WBTC-f0287338.svg",Ze="/sf_draft/assets/USDC-5a7f3d86.svg",Wn="/sf_draft/assets/USDT-2e53b5e9.svg",qn="/sf_draft/assets/DAI-b460716b.svg",ve={[V]:[{name:"Ethereum",symbol:"ETH",decimals:18,getAddress:e=>e?null:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:Rn,isSwappable:!0},{name:"Bitcoin",symbol:"BTC",decimals:8,getAddress:()=>"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:Un},{name:"Wrapped Ethereum",symbol:"WETH",decimals:18,getAddress:()=>"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:Hn,isSwappable:!0},{name:"Wrapped Bitcoin",symbol:"WBTC",decimals:8,getAddress:()=>"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:$n,isSwappable:!0},{name:"Dai",symbol:"DAI",decimals:18,getAddress:()=>"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",icon:qn,isSwappable:!0,isStable:!0},{name:"USD Coin",symbol:"USDC",decimals:6,getAddress:()=>"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",icon:Ze,isSwappable:!0,isStable:!0},{name:"USDC.e",symbol:"USDC.e",decimals:6,getAddress:()=>"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",icon:Ze,isSwappable:!0,isStable:!0},{name:"Tether",symbol:"USDT",decimals:6,getAddress:()=>"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",icon:Wn,isSwappable:!0,isStable:!0}]},fe={},be={},Qe=Object.keys(ve);for(let e=0;e<Qe.length;e++){const t=Qe[e];fe[t]={},be[t]={};let i=ve[t];for(let a=0;a<i.length;a++){const s=i[a];fe[t][s.symbol]=s,be[t][s.getAddress()]=s}}const Y=(e,t)=>{if(!fe[e])throw new Error(`No tokens found for chainId ${e}`);const a=fe[e][t];if(!a)throw new Error(`Incorrect symbol "${t}" for chainId ${e}`);return a},Xe=(e,t)=>{if(!be[e])throw new Error(`No tokens found for chainId ${e}`);const a=be[e][t];if(!a)throw new Error(`Incorrect address "${t}" for chainId ${e}`);return a},Gn=e=>{const t=ve[e];if(!t)throw new Error(`No tokens found for chainId ${e}`);return t.filter(a=>a.isSwappable)},ot=e=>Y(e,"USDC.e").getAddress(),ue={[V]:{TxBuilderOpen:{address:"0x1e9a254A4D914C474821aEFbd902Dc0E9A51572b",abi:xn},TxBuilderClose:{address:"0xe5EaFFd06db43E73C5D3a7608F6901680BDB93a2",abi:_n},StopOrder_Hegic:{address:"0x83ca705E8eEE363b16935D5FCbC3514530d41C74",abi:gn},StopOrder_Lyra_BTC:{address:"0xDE51a10A711412353e825623F58F56d9D0EA98cF",abi:kn},StopOrder_Lyra_ETH:{address:"0x06a6815b91c88BDa19832Ada861077e123C34FFb",abi:vn},Hegic_OperationalTreasury:{address:"0xec096ea6eB9aa5ea689b0CF00882366E92377371",abi:Sn},Hegic_PositionManager:{address:"0x5fe380d68fee022d8acd42dc4d36fbfb249a76d5",abi:wn},Hegic_Strategy:{abi:An},Hegic_PriceCalculator:{abi:Bn},Lyra_OptionToken_BTC:{address:"0x0e97498F3d91756Ec7F2d244aC97F6Ea9f4eBbC3",abi:Dn},Lyra_OptionToken_ETH:{address:"0xe485155ce647157624C5E2A41db45A9CC88098c3",abi:Pn},Lyra_Quoter:{address:"0x23236b4c7772636b5224df56Be8168A2f42df31C",abi:En},Chainlink_BTC:{address:"0x6ce185860a4963106506C203335A2910413708e9",abi:Ye},Chainlink_ETH:{address:"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612",abi:Ye},Uniswap_Quoter:{address:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",abi:zt.abi}},[le]:{}},Vn=()=>{for(const e in ue){const t=ue[e],i=ve[e];i&&(i.forEach(a=>{t[a.symbol]={address:a.getAddress(),abi:Mn}}),ue[e]={...t})}};Vn();const K=(e,t)=>{if(!ue[e])throw new Error(`Unknown chainId ${e}`);const i=ue[e][t];if(!i)throw new Error(`Unknown contract "${t}" for chainId ${e}`);return[i.address,i.abi]},Kn=(e,t)=>K(e,t)[1],zn={[V]:{short:{CALL_100_BTC:"0x527d1086C3DD22FcdB338F69D47A1e4bFE11E539",CALL_100_ETH:"0x09a4B65b3144733f1bFBa6aEaBEDFb027a38Fb60",CALL_110_BTC:"0x377191F680b52ce3d0060388fEF01be7ef68e3d5",CALL_110_ETH:"0xF48f571DdD77dba9Ae10fefF6df04484685091D9",CALL_120_BTC:"0x8Fb8529695237D4004cffb21499e7E49E982786a",CALL_120_ETH:"0x96416b82C9DFA7649570c784Eb0D0FFcDE361cFE",CALL_130_BTC:"0x32563D6151891c0A8d56eD644AcDEa6FE5f4E4eB",CALL_130_ETH:"0xf8b8b54bE1Eb37E76873670Ac9DE3C28b507142C",PUT_100_BTC:"0xA8DF600289bEc25602741756f55f27ffFDAB69a6",PUT_100_ETH:"0xaA0DfBFb8dA7f45BB41c0fB68B71FAEB959B22aa",PUT_70_BTC:"0x7066286C1AA0FeBE0f63eF8a44F6Fea9F05FFBE0",PUT_70_ETH:"0x35EF16F3c329a54050Ca120145340dfC2b4F9541",PUT_80_BTC:"0x06c3Ba025bEd24Ea38c2BdDA4bcD2A7F9f5C30e1",PUT_80_ETH:"0x77C8d12d9E2D21f6eE02E8ccA332fDe4BE5C2465",PUT_90_BTC:"0xe115beD3b0752BBbbEF5C423021b464bBF93dC2c",PUT_90_ETH:"0x6B7e5906F53d8bB365f4A6fA776Fd0f0caf57881","CALL-SPREAD_10_BTC":"0x5D0bc0d08e8A7C09d10df9BB2498f1d4aB986e6A","CALL-SPREAD_10_ETH":"0x5c59f7ec23C0Bace3B1959C99A43FFd30078E5bE","CALL-SPREAD_20_BTC":"0x597cdD5D4CEC7FA2851Cc0cfd93d6915c926a107","CALL-SPREAD_20_ETH":"0x4490ad3c0c1A61061E88a3eaD661bFe16225A370","CALL-SPREAD_30_BTC":"0xc822F483dAE467721123eA60D3D233e7ac68802f","CALL-SPREAD_30_ETH":"0x610D7feB49DD18BBC20E4dbe600c53E1cDf6d9F1","PUT-SPREAD_10_BTC":"0x45b9D63F1998ca31151981792849a64342C88631","PUT-SPREAD_10_ETH":"0xc4C3b5050D574CBF3eE0b613104cF5C4E47625d4","PUT-SPREAD_20_BTC":"0x606e34C7008f1425C3a69446de4cAd3D7c6fd96D","PUT-SPREAD_20_ETH":"0xa1c290D16E2290EA536a13Ba7cc3Df0000A0f1A6","PUT-SPREAD_30_BTC":"0x71D89f44C71252f319Cd9652f7886c3834685A58","PUT-SPREAD_30_ETH":"0x8F11Ed84e9Dc76db4392b428A0eAF98Ce72c3752"},medShort:{CALL_100_BTC:"0x20ee3e61e8f1eB8ae959abf5F78bA8731d010Ac3",CALL_100_ETH:"0x6418C3514923a6464A26A2ffA5f17bF1efC96a21",CALL_110_BTC:"0xaFA483B18FE66251C8306C7018028f674F653012",CALL_110_ETH:"0xaF38a4d9153B149F05FA85C2cCFAaA677c99040E",CALL_120_BTC:"0xFe35F1AB7e18930d4316B86fCefBCF053bf44A45",CALL_120_ETH:"0x1060e80c1156060a1E8DdB9C64Afe74564865Ee2",CALL_130_BTC:"0xe4DB400BFC4D627559D592db4ca2839cb87Fbbfc",CALL_130_ETH:"0xc00103524932d86770d4F671107b0E170BD0fe6c",PUT_100_BTC:"0xE0f083fd87ebAEBFCfa8236098048105d32639E4",PUT_100_ETH:"0x2739A4C003080A5B3Ade22b92c3321EDa2Da3A9e",PUT_70_BTC:"0x52442a8C632D4c998A8BDBf44A70481AA5599b0e",PUT_70_ETH:"0x48EcF46Aa51992a064aB172439ABFE182F39b478",PUT_80_BTC:"0xb02343D33d2447870E38b3452Ef59d0De7b3289d",PUT_80_ETH:"0xb58ccd922B57422d0497904B7D9fccB922b8aaDf",PUT_90_BTC:"0x7d0c3FDF0e8A6f475Ed1834ae05fDa1E519fd227",PUT_90_ETH:"0x3e2a0fE32Cc000d87D9e5D6ed8b3D64e9c74C752","CALL-SPREAD_10_BTC":"0x6FF946F2BB609B63910a774E193F29CdE7E8fD5f","CALL-SPREAD_10_ETH":"0x0ac1995C43B5566760AD1D88B812f3e51e12eCc6","CALL-SPREAD_20_BTC":"0x7E8e5eaD9A1b8F0533F614a736214a95835c79d7","CALL-SPREAD_20_ETH":"0x1068daF4CD8fDe2000B6FbE8Ec94F106dc08a40E","CALL-SPREAD_30_BTC":"0x3b4900D5a20dbEbCE44eDF8f6B68Dae32E990Ed0","CALL-SPREAD_30_ETH":"0x24db3145F45aAF2c54f586C66b801c42c8658671","PUT-SPREAD_10_BTC":"0x88386f02c46d8D7b2C9E4aEf3b4246A438F72693","PUT-SPREAD_10_ETH":"0x31e6Cd148fe51830E7a97262eE9cf52Fe5256B08","PUT-SPREAD_20_BTC":"0x72Ac8A96b8E79466AdcE711EcBD1Ec5968b371C8","PUT-SPREAD_20_ETH":"0x9e1072E5119C9345d9543a5Ba1EFeDBAE9bEF2AD","PUT-SPREAD_30_BTC":"0x01381e0EDdB57678257179d2cB472C3e8e54202c","PUT-SPREAD_30_ETH":"0xE8dD9Cc3A4Bd078f3D36043f259381d5B50D4B45"},medLong:{CALL_100_BTC:"0x21a4b4441AA957735902507A72A58A3a1Caaa0dC",CALL_100_ETH:"0xE377A1a97237b3B89a96d8B731A2ab10d5DaC16C",CALL_110_BTC:"0x6c46e2531a42F618F2ae452971DC9a7c6AD48D15",CALL_110_ETH:"0x05458B7d9531EaD242290De60bEaa3cC10C87560",CALL_120_BTC:"0xe259410Bbfb45CE89FDA81ec0A97d36Da8Db4374",CALL_120_ETH:"0x79F87E88088293FE34dEf4eBe71fBFa5367220B4",CALL_130_BTC:"0x27806482457FC98F9C2e724b5E604C66BB5ba121",CALL_130_ETH:"0xae2F4e15564995af79b7dd2378B2680f7Facc342",PUT_100_BTC:"0x035b965c5B7bC20E00358ACF1794d2248eA1932A",PUT_100_ETH:"0xf711D0BC60F37cA28845BA623ccd9C635E5073A1",PUT_70_BTC:"0x55c4532e1790592120b7b27436842caD203E7CD3",PUT_70_ETH:"0xF55F6d98e2F48F8D46757D5A6e225bf0ADC9651C",PUT_80_BTC:"0x8dD239e0e51BCAAd503b06D818ce811e7D99c1Af",PUT_80_ETH:"0xdF30cdb7abb3Ca707b82359A349D3b0C94d4a421",PUT_90_BTC:"0xE56BEAfAe4731A21eF83fe81F63b95055e81E374",PUT_90_ETH:"0x33a4B4403B8C6349371CbDf539138D78ec0Aab66","CALL-SPREAD_10_BTC":"0x8e3063D5dCbe66E58053C3Bc8E0BC8dDFe43D585","CALL-SPREAD_10_ETH":"0xBB318170Ce1c2dc79B564f33F92BacaadaBd22de","CALL-SPREAD_20_BTC":"0x324be893029D982c187F0333E7aa1d44365d2676","CALL-SPREAD_20_ETH":"0xb89d7eB2bc675347BEb685ff1bE1557E983beFe1","CALL-SPREAD_30_BTC":"0x530289340C6d2Ef02140054Ae7F91C293fd586CF","CALL-SPREAD_30_ETH":"0x929d20D9e1A6A90bf057857C8BA09271f1BaadA2","PUT-SPREAD_10_BTC":"0x7267091cFc9825a4A1dF36C26d412FeFD788d935","PUT-SPREAD_10_ETH":"0x2B93645f310E016c1a6d1738DCec0f18621F71d0","PUT-SPREAD_20_BTC":"0x9ab2f8530150799CDdAC35799d18Ad2fe05Bf8c3","PUT-SPREAD_20_ETH":"0x4EE21aB8bc165Cd3e6C45676F9f64426Ffc2d67b","PUT-SPREAD_30_BTC":"0xBa883223A1757eEB781d02C383926c308d4843f4","PUT-SPREAD_30_ETH":"0xf87C8C7587055FA62082E8ed447fe68D98805fF2"},long:{CALL_100_BTC:"0xc07fBf677f417bb9FfDD8248A74c7FBcCFaDAe9e",CALL_100_ETH:"0x2727B807D22fCAeB7F900F49894054Ed92b9125B",CALL_110_BTC:"0x14d25367102A931E2E2F587F4ED94087dc585fd0",CALL_110_ETH:"0xE53a20c824cEAB8151AF8Fc92E7Eb689cFbD1231",CALL_120_BTC:"0xBAbccB37338488AFBaBECAE2C3D21b9a71289A73",CALL_120_ETH:"0xB7b36483B256290435a060805bdF15B3f2b122eb",CALL_130_BTC:"0x9fA4DFfBE3B129988e0d09536b0E2D74F6bF7D91",CALL_130_ETH:"0x4dC39763ccC861dB1c8e80c34C0079c9A12f03E4",PUT_100_BTC:"0xEd46f602212d1CbaCd699C876b4A49761421bf97",PUT_100_ETH:"0x015FAA9aF7599e6cea597EBC7e7e04A149a3E992",PUT_70_BTC:"0xa26541ccE18CcC6E21360562d34044ceb3B5A40e",PUT_70_ETH:"0x5BBe6C4A66D4a48442dc0837a0eA859a11D7766C",PUT_80_BTC:"0xFD203c73851986ad7e7B99457AeafF3d98e76228",PUT_80_ETH:"0x7FD5E8B2Ef25A105bf6B1c45f62d8925Eaa068Bc",PUT_90_BTC:"0x02d730e3dEb3B5876fE2Cba59423ef1Db8211DA1",PUT_90_ETH:"0x3031EA515c2274024D93A8D3BfA91ce920E1192E","CALL-SPREAD_10_BTC":"0x0c1C4D9dFd51093bE1e4Bab1b565113B339835F6","CALL-SPREAD_10_ETH":"0xCe5e136688A1553C67b3B39Ff5366595dD0F771E","CALL-SPREAD_20_BTC":"0x7b92a9f268bab14F0FAee4337B01D563AE132Bc3","CALL-SPREAD_20_ETH":"0xe3F646CB987a9d16eb71B8d0883744e55c95862a","CALL-SPREAD_30_BTC":"0x223b806Bab0CA844a91b247fE0Ba179E11EAA728","CALL-SPREAD_30_ETH":"0x199DB958f00F150438E5b9276ff30617D3f83ebF","PUT-SPREAD_10_BTC":"0x66F54921b32cCA36767D2C272Dda64D5152B92C4","PUT-SPREAD_10_ETH":"0xfcd40dDe82b699D455B3D073196d580227C2Fba6","PUT-SPREAD_20_BTC":"0x8c77f5427B40ab2414dC9bca48c74928BFe17Dd1","PUT-SPREAD_20_ETH":"0xbAe8114E3A2EA5aF5e2b3c8F6FF37714f6D4afFB","PUT-SPREAD_30_BTC":"0x6D79b82701e4017887d499Ba131FD336ceA6A4CC","PUT-SPREAD_30_ETH":"0x9945Eb8ac1F4c524fe7Da710ff3068969A329fBA"}}},Yn={[V]:{PUT_100_BTC:"0x4567600c2c813322F0CBb358a8d083296A7eEA37",PUT_100_ETH:"0xB72FC913e45522cD721252476fEfB7F50a65E23A",PUT_70_BTC:"0x3aFbaf00a6C42e6BE67f8a618b17fB3D441C1898",PUT_70_ETH:"0xf3625e26cb920f762dEC8DB4fE4845E9384313C0",PUT_80_BTC:"0x9C3BBe90191F8311939A34737c02A6B49e27caA5",PUT_80_ETH:"0x58051Cb78094551afC202C50085B13bF00BF624E",PUT_90_BTC:"0x56A2dC3fAc4bE0A1716c938295e141195e4A1cb3",PUT_90_ETH:"0x1AF37c8412bCdAa6C6dD4D2E2aDae2B8292603D4",CALL_100_BTC:"0xAA4483Da5c4D17830dE9a843d07C37b3eC028d9F",CALL_100_ETH:"0xC62a0b7e480a23BdCfe13EA08BDAceDc278a14C1",CALL_110_BTC:"0x04BFC83f6277cf50dFB032EFd348316aACbD7863",CALL_110_ETH:"0x6316BC5f5dF141ae88C436Fe6047D334f1B7e485",CALL_120_BTC:"0x965Ded687bc0Da3388c6925e0Eb330bD44629B77",CALL_120_ETH:"0x321F8A71e8268f50eBd2f748D524E7750AD70798",CALL_130_BTC:"0x4b350b7457b54C5A76828f81472f2719D801D0D5",CALL_130_ETH:"0xffdc9da896d3301DE596b16a389138B70b1CBAdb","CALL-SPREAD_10_BTC":"0xD3872581C3f7DE832Ecc9Aa51eb525AC9Ffc41d2","CALL-SPREAD_10_ETH":"0x3BC74C993e1E85ffB5e242402aEc3e90DCfa249f","CALL-SPREAD_20_BTC":"0x7f6a7d60c6f7ac50BD0efA677D397d9cd61fC3a9","CALL-SPREAD_20_ETH":"0x8C335E897B04B2Ca569Ec733f6242cDe33917094","CALL-SPREAD_30_BTC":"0x631c5EFb3e9D2536F9c9c9d7635e2B01363C51C5","CALL-SPREAD_30_ETH":"0xAe4897D4d3742F7f9C6A1eA01447EA3061bD6de2","PUT-SPREAD_10_BTC":"0xa4A32102a2c1d3Bf01A73B66571B440795835ff5","PUT-SPREAD_10_ETH":"0x5a4Dc7011CA0be61c42957cDC36D508d45010D8B","PUT-SPREAD_20_BTC":"0x0cC3559beCa7bB605348B1a7B4D90963672C880a","PUT-SPREAD_20_ETH":"0xeb38c2Ba3125733e9636eAB7C3c2e7a2C4A11534","PUT-SPREAD_30_BTC":"0x4CE72803543da3f563Ef76592945C57FBE7fce38","PUT-SPREAD_30_ETH":"0xDB044975100aE87d0eEDd804D9E6083a8406fdAe"}},Zn=(e,t)=>{const i=zn[e];if(!i)throw new Error(`No Hegic strategies found for chainId ${e}`);const a=jn(t);if(a<7||a>90)throw new Error(`No Hegic strategies found for period ${a} days`);let s;return a<14?s=i.short:a<30?s=i.medShort:a<60?s=i.medLong:a<=90&&(s=i.long),s},Qn=(e,t)=>{const i=Yn[e];if(!i)throw new Error(`No Hegic Price Calculator address found for chainId ${e}`);const a=i[t];if(!a)throw new Error(`No Hegic Price Calculator address found for strategy key ${t}`);return a},Xn=(e,t,i)=>{const a=Kn(e,`Hegic_${i}`);return new G(t,a,se(e))},Jn=(e,t)=>{const i=Qn(e,t);return Xn(e,i,"PriceCalculator")},ei=()=>{const e=[Gt];if(e.length!==He.length)throw new Error("Invalid number of wagmi chains.");const{chains:t,publicClient:i,webSocketPublicClient:a}=Wt(e,[Vt()]);return Ft({autoConnect:!0,publicClient:i,webSocketPublicClient:a,connectors:[new qt({chains:t,options:{name:"Injected",shimDisconnect:!0}})]})},pt=e=>{switch(e){case V:return"https://arbiscan.io";case le:return"https://optimistic.etherscan.io";default:return"https://etherscan.io"}},ti=async(e,t)=>{const i=K(e,`Chainlink_${t}`),a=se(e);return(await new G(...i,a).latestAnswer()).toBigInt()};const ae=f.forwardRef(function({children:t,className:i,style:a,isDisabled:s,onClick:r,type:o},p){const u=S(i,o&&`Button_${o}`),y=o==="complex";return n.jsx("button",{className:S("Button",u),ref:p,disabled:s,onClick:r,"data-text":t,style:a,children:y?n.jsx("span",{children:t.toString()}):t})}),ut=f.createContext(null),L=()=>{const e=f.useContext(ut),{address:t,isConnected:i}=jt();return{account:e??t,isConnected:i}},ni=e=>{let t=e.reason??e.message;return t==="Internal JSON-RPC error."&&(t=e.data.message),t},ii=e=>e.includes("User rejected the request")?"User rejected the request.":e.includes("Request of type 'wallet_switchEthereumChain' already pending")?"Switching network request is already pending.":e.includes("Connector already connected")?"Wallet is already connected.":e.includes("Already processing eth_requestAccounts")?"Please, log in to your wallet account.":e,te=e=>{if(typeof e!="bigint")throw new TypeError(`Invalid BigInt: ${e}`)},ai=e=>{if(typeof e!="number"&&typeof e!="string")throw new TypeError(`Invalid entry: ${e}`)},si=e=>{if(typeof e!="string")throw new TypeError(`Invalid String: ${e}`)},ri=(e,t,i)=>{const a=pt(e)+"/tx/"+i;console.log(t,`
`,a),Le.success(n.jsxs("div",{children:[t,n.jsx("br",{}),i&&n.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:"View transaction"}),n.jsx("br",{})]}))},oi=e=>{console.log(e),Le.success(e)},he=(e,t)=>{const i=ni(e),a=ii(i);console.error(e),Le.error(n.jsxs("div",{children:["Error: ",e.code,n.jsx("br",{}),a,n.jsx("br",{}),n.jsx("br",{}),"Check the console for details."]})),t&&t(!1)};function lt(){const{connect:e,connectors:t}=Lt({onError:s=>{he(s)}}),{disconnect:i}=Nt(),a=t[0];return{connectWallet:()=>e({connector:a}),disconnectWallet:i}}const pi=()=>{const{isOpen:e,openPopup:t,closePopup:i}=rt(),a=S(e&&"open"),s=j(),{account:r,isConnected:o}=L(),{connectWallet:p,disconnectWallet:u}=lt(),y=d=>d.slice(0,9)+"..."+d.slice(-15),l=()=>n.jsx(ae,{type:"complex",onClick:p,children:"Connect Wallet"}),c=()=>n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"Wallet__header",onClick:t,children:n.jsxs("div",{className:"Wallet__address",children:[n.jsx("img",{src:Tn,alt:"Wallet icon"}),n.jsx("span",{children:y(r)})]})}),n.jsxs("div",{className:"Wallet__body",onClick:d=>d.stopPropagation(),children:[n.jsx("button",{className:"close-btn",onClick:i,children:n.jsx("img",{src:bn,alt:"x"})}),n.jsxs("a",{className:"Wallet__link",href:`${pt(s)}/address/${r}`,rel:"noreferrer",target:"_blank",children:[n.jsx("img",{src:fn,alt:"external link"}),n.jsx("span",{children:"View on explorer"})]}),n.jsx("div",{className:"Wallet__inner-address",children:"("+y(r)+")"}),n.jsx(ae,{className:"Wallet__button",onClick:u,children:"Disconnect wallet"})]})]});return n.jsx("div",{className:S("Wallet",a),children:o?c():l()})};const ui="/sf_draft/assets/dropdown-fc81e803.svg",re=({className:e,options:t,defaultValue:i,defaultOption:a,onChange:s,iconNode:r,iconTextNode:o,...p})=>{const u=r||o,y=({children:d,...T})=>n.jsxs(tn.Control,{...T,children:[r&&n.jsx("div",{className:"Selector__icon",children:r}),o&&n.jsx("div",{className:"Selector__icon Selector__icon_text",children:o}),d]}),l=d=>{const T=m=>m.value===d,b=t.find(m=>m.options);let v;return b?t.forEach(m=>{if(v)return;v=(m.options??[m]).find(T)}):v=t.find(T),v},c=S(e,u&&"Selector_with-icon");return n.jsx(en,{...p,options:t,defaultValue:a??l(i),onChange:s,className:S("Selector",c),classNamePrefix:"Selector",isClearable:!1,isSearchable:!1,components:{DropdownIndicator:({innerRef:d,innerProps:T})=>n.jsx("div",{ref:d,...T,className:"Selector__indicator Selector__dropdown-indicator",children:n.jsx("img",{src:ui,alt:"dropdown icon"})}),Control:y}})},yt=()=>{const{switchNetworkAsync:e}=Rt();return t=>{if(typeof t!="number"&&typeof t!="string")throw new TypeError(`Invalid chainId type: ${t} (${typeof t})`);const i=$e[t].name;e(t).then(()=>{oi(`Network switched to ${i} (${t})`)},a=>{he(a)})}};const H=({children:e,hasDelay:t=!0,...i})=>n.jsx(nn,{place:"bottom-start",delayShow:t?150:0,delayHide:t?150:0,...i,children:e}),li=()=>{const e=j(),t=yt(),i=He.map(s=>{const{name:r,icon:o,isDisabled:p}=$e[s];return{value:s,label:n.jsxs("div",{className:"flex gap-x-7",children:[n.jsx("img",{src:o,alt:`${r} icon`}),n.jsx("span",{children:r})]}),isCurrent:s===e,isDisabled:p}}),a=i.find(s=>s.isCurrent);return n.jsxs("div",{className:"NetworkSwitcher",children:[n.jsx(re,{options:i,value:a,onChange:s=>{t(s.value)},isDisabled:!0}),n.jsx(H,{anchorSelect:".NetworkSwitcher .Selector__option--is-disabled",content:"Coming soon"})]})},yi=()=>{const{isConnected:e}=L();return n.jsxs("div",{className:"CryptoGateway",children:[e&&n.jsx(li,{}),n.jsx(pi,{})]})},di=()=>{const e=_e(),t=[{name:"Option Trading",to:"/terminal"}];return t.forEach(i=>{e.pathname.startsWith(i.to)&&(i.isActive=!0)}),n.jsxs("header",{className:"Header _container",children:[n.jsx(at,{}),n.jsx(st,{links:t}),n.jsx(yi,{})]})};const ci=()=>{const e=Jt({enter:"jellyIn",exit:"jellyOut"});return n.jsx(Xt,{limit:2,transition:e,position:"bottom-right",hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,draggable:!1})};const mi=300,Ti=e=>{const t=pn();f.useEffect(()=>{const i=window.innerWidth>1025?t:0;e?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${i}px`):setTimeout(()=>{document.body.style.overflow="unset",document.body.style.paddingRight=0},mi)},[e,t])};Re.setAppElement("#root");Re.defaultStyles={};const dt=({children:e,className:t,isOpen:i,setIsOpen:a,isObligatory:s})=>(Ti(i),n.jsx(Re,{className:S(t,"App-box"),isOpen:i,onRequestClose:()=>{s||a(!1)},overlayElement:(r,o)=>n.jsxs("div",{...r,children:[o,!s&&n.jsx("button",{className:"ReactModal__Close-btn"})]}),closeTimeoutMS:300,children:e})),fi=e=>{const{chainId:t}=e,[i]=f.useState(!0),a=yt();return n.jsxs(dt,{className:"UnsupportedChainErrorModal",isOpen:i,isObligatory:!0,children:[n.jsxs("div",{className:"UnsupportedChainErrorModal__text text-inline",children:["Chain ",t," is not supported."]}),n.jsx("div",{className:"UnsupportedChainErrorModal__switch-btns",children:He.map(s=>{const r=$e[s],{name:o,icon:p,isDisabled:u}=r;return n.jsxs(ae,{isDisabled:u,type:"stroke",onClick:()=>{a(s)},children:[n.jsx("img",{src:p,alt:`${o} icon`}),"Switch to ",o]},s)})})]})},bi="AEZAKMI=",hi=()=>{const[e,t]=f.useState(),i=_e(),a=r=>{t(r),console.log("GOD EYE MODE ENABLED:",r)},s=r=>{t(null),console.log(`GOD EYE MODE DISABLED${r?` (${r})`:""}`)};return f.useEffect(()=>{const r=i.pathname.split("/"),o=r[r.length-1];if(o.startsWith(bi)){const p=o.split("=")[1];Kt(p)?a(p):s("Invalid wallet address")}},[i.pathname]),{godEyeAddress:e}},Ci=({children:e})=>{const{godEyeAddress:t}=hi();return n.jsx(ut.Provider,{value:t,children:e})},xi="/terminal/builder",_i="0x683Ad8b899Cd14d8e077c9A623E8B3fEd65a8c09";const ct=["ETH","BTC"],U=18,gi=18,ki=8,vi=6,Si={ETH:gi,BTC:ki},mt=30,Te=6,wi="/sf_draft/assets/graph-b6757e0e.svg";const q=({className:e,children:t,isSmall:i=!0,symbol:a="USDC",isHlight:s})=>{const r=j(),o=Y(r,a).icon,p=t,u=S(s&&"hlight",e);return n.jsxs("div",{className:S("Currency",u),children:[n.jsx("img",{src:o,alt:`${a} icon`,width:i?15:"auto"}),n.jsx("span",{children:p})]})},oe=(e,t=",")=>{ai(e);const i=e.toString().split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,t),i.join(".")},Se=(e,t)=>{let i=e.toString();if(t===void 0)return i;if(t===0)return i.split(".")[0];const a=i.indexOf(".");if(a!==-1){let r=i.length-a-1;r>t&&(i=i.substr(0,i.length-(r-t)))}return i},Ai=(e,t)=>{let i=e.toString();const a=i.indexOf("."),s=a!==-1,r=s?i.length-a-1:0;return r<t&&(i+=+s?"":".",i+="0".repeat(t-r)),i},Bi=e=>{const t=e.toString();return t.indexOf(".")!==-1?parseFloat(t):e},Di=(e,t)=>{var s;let i=e.toString().replace(/^\./g,"").replace(/[^0-9.]/g,"").replace(/^0\d/,"");return((s=i.match(/\./g))==null?void 0:s.length)>1&&(i=(o=>o.replace(/\.$/,""))(i)),i=Se(i,t?0:Te),i},Tt=(e,t,i)=>oe(Di(e,i),t),ne=(e,t=",")=>(si(e),Number(e.split(t).join(""))),Z=(e,t=U,i)=>{te(e);let a=Number(e)/10**t;return typeof i<"u"&&(a=Math.floor(a*10**i)/10**i),a},ft=(e,t)=>(te(e),e*BigInt(10**t)),Pi=(e,t)=>(te(e),e/BigInt(10**t)),we=(e,t=U)=>{if(t<Te)throw new Error("Converting float to BigInt without expanding decimals is not safe.");const i=Math.floor(Number(e)*10**Te);return ft(BigInt(i),t-Te)},$=(e,t=2,i=U,a=!0)=>{te(e);let s=Z(e,i);return s=Se(s,t),s=Ai(s,t),a&&(s=oe(s)),String(s)},ye=(e,t=3,i=U)=>{te(e);let a=Z(e,i);return a=Se(a,t),a=Bi(a),a=oe(a),String(a)},Ae=(e,t,i)=>{te(e);const a=i-t;return(a<0?Pi:ft)(e,Math.abs(a))},qe=(e,t)=>Ae(e,t,U),Ei=e=>fetch(e).then(t=>t.json()),Mi=e=>{switch(e){case V:return"https://gmx-server-mainnet.uw.r.appspot.com/prices";case le:throw new Error("No url for Optimism");default:throw new Error(`Unknown chainId ${e}`)}},bt=()=>{const e=j(),t=Mi(e),{data:i,error:a}=nt([t],{fetcher:Ei,refreshInterval:1e3,shouldRetryOnError:!1});return a&&console.log(a),i},Ii=()=>{const e=j(),t=ct.map(a=>Y(e,a)),i=bt();return n.jsxs("div",{className:"TokenPricesPanel",children:[n.jsx("div",{className:"TokenPricesPanel__icon",children:n.jsx("img",{src:wi,alt:"Graph icon"})}),n.jsx("div",{className:"TokenPricesPanel__items",children:t.map(a=>{if(!i)return null;let{getAddress:s,symbol:r}=a;const o=BigInt(i[s()]),p=$(o,2,mt);return n.jsx("div",{className:"TokenPricesPanel__item",children:n.jsx(q,{isHlight:!0,symbol:r,children:n.jsxs("span",{children:["$",p]})})},r)})})]})},Oi=()=>{const e=_e(),t=[{name:"Option Strategies",to:"/terminal/builder"}];return t.forEach(i=>{e.pathname.endsWith(i.to)&&(i.isActive=!0)}),n.jsxs("div",{className:"Terminal",children:[n.jsx(Ii,{}),n.jsx(st,{links:t,type:"border"}),n.jsx(an,{})]})};function ht(e,t={maxValue:void 0,placeholder:"",isDisabled:!1},i=[Tt,ne]){const[a,s]=e,{maxValue:r,placeholder:o,isDisabled:p}=t,[u,y]=i,[l,c]=f.useState(!1),d=f.useRef(null);return{node:n.jsx("input",{type:"text",ref:d,value:a,disabled:p,placeholder:o,onChange:T=>{r&&y(T.target.value)>r?s(u(r)):s(u(T.target.value))},onFocus:()=>{c(!0)},onBlur:()=>{c(!1)}}),hasFocus:l,ref:d}}const Fi=e=>{const{value:t,setValue:i,maxValue:a,formatInputStringFns:s,hasError:r,isDisabled:o,unitStr:p,placeholder:u}=e,y=ht([t,i],{maxValue:a,placeholder:u,isDisabled:o},s),l=S(e.className,y.hasFocus&&"hlight",r&&"error",o&&"disabled");return n.jsxs("div",{className:S("InputFamily Input",l),onClick:()=>{y.ref.current.focus()},children:[y.node,n.jsx("div",{className:"Input__unit",children:p})]})},Pe="#46956A",z="#C75E4B",Je="#D99445",Ee="#6988FF",ji="≈",Li={positive:"+",negative:"-",neutral:""},F="Limited",R="Unlimited",ie="Bullish",Me="Bearish",W="Neutral",pe={"Long Call":{stats:{outlooks:[ie],profit:R,loss:F,description:"When you believe that the price of the underlying asset will rise."},structure:[1],key:1,color:Pe},"Short Call":{stats:{outlooks:[Me],profit:F,loss:R,description:"When you believe that the price of the underlying asset will fall."},structure:[-1],key:101,color:z},"Covered Call":{stats:{outlooks:[ie],profit:F,loss:R,description:"When you believe that the price of the underlying asset will rise."},structure:[-1],key:201,color:z},"Long Put":{stats:{outlooks:[Me],profit:R,loss:F,description:"When you believe that the price of the underlying asset fall."},structure:[2],key:2,color:Pe},"Short Put":{stats:{outlooks:[ie],profit:F,loss:R,description:"When you believe that the price of the underlying asset will rise."},structure:[-2],key:102,color:z},"Long Strangle":{stats:{outlooks:[W],profit:R,loss:F,description:"When you believe that the price of the underlying asset will rise or fall."},structure:[1,2],key:3,color:Je},"Short Strangle":{stats:{outlooks:[W],profit:F,loss:R,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:103,color:z},"Covered Strangle":{stats:{outlooks:[W,ie],profit:F,loss:R,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:203,color:z},"Long Straddle":{stats:{outlooks:[W],profit:R,loss:F,description:"When you believe that the price of the underlying asset changes when the direction of the change could be either up or down."},structure:[1,2],key:4,color:Je},"Short Straddle":{stats:{outlooks:[W],profit:F,loss:R,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:104,color:z},"Covered Straddle":{stats:{outlooks:[W,ie],profit:F,loss:R,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:204,color:z},"Iron Butterfly":{stats:{outlooks:[W],profit:F,loss:F,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:5,color:Ee,plural:"Iron Butterflies"},"Iron Condor":{stats:{outlooks:[W],profit:F,loss:F,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:6,color:Ee}},Ni={[ie]:Pe,[W]:Ee,[Me]:z},Ri=Object.keys(pe),Ui=e=>{const{amountStrState:t,strategy:i}=e,[a,s]=t,r=pe[i].plural??`${i}s`;return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_amount",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Enter Amount"}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(Fi,{value:a,setValue:s,unitStr:r})})]})},Hi=e=>{const{assetState:t,isDisabled:i}=e,[a,s]=t,r=ct.map(o=>({value:o,label:n.jsx(q,{symbol:o,isHlight:!0,children:o})}));return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_asset",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Asset"}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(re,{options:r,defaultValue:a,isDisabled:i,onChange:o=>{s(o.value)}})})]})},$i="/sf_draft/assets/strategy-selector-icon-1e15875d.svg",Wi=e=>{const{strategyState:t,isDisabled:i}=e,[a,s]=t,r=Ri.map(o=>({value:o,label:o}));return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_strategy",children:[n.jsxs("div",{className:"BuilderForm__field-header",children:["Strategy",n.jsx("div",{className:"BuilderForm__field-tip tip","data-tooltip-id":"BuilderForm_WhenPurchaseTooltip",children:"When purchase"})]}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(re,{options:r,defaultValue:a,onChange:o=>{s(o.value)},iconNode:n.jsx("img",{src:$i,alt:"Strategy selector icon"}),className:"Selector_thin-options",isDisabled:i})})]})};const Q=e=>{const{style:t,hasLeftMargin:i}=e;return n.jsx("div",{className:"Spinner",children:n.jsx(un,{className:"Spinner__icon",style:{marginLeft:i?7:0,...t}})})},Ge=(e,t,i=n.jsx(Q,{}))=>t?i:e,Ct=(e,t,i=n.jsx(Q,{}))=>t?i:e(),ee=(e="—",t)=>n.jsx("span",{className:"muted",style:{fontSize:t?13:"inherit"},children:e}),xt=(e,t)=>{const i=Number(e),a=Number(t);if(i>a)return 1;if(i==a)return 0;if(i<a)return-1},qi=(e,t,i)=>{const a=e[i],s=t[i];return xt(a,s)},_t=e=>e.filter((i,a)=>e.indexOf(i)===a),Ie=e=>typeof e>"u",gt=e=>e.charAt(0).toUpperCase()+e.slice(1),Be=e=>Math.abs(e)===1,de=e=>e>0,kt=e=>!!e.find(t=>!de(t)),Gi=e=>!!e.find(t=>de(t)),Vi=e=>!!e.find(t=>t),Ki=e=>{const[,t]=e.split("_");return Number(t)},zi=(e,t,i)=>{let a;const s=`W${i}`,r=t.split(" ")[0];return!Be(e)||r==="Short"?a=["USDC.e"]:r==="Covered"?a=[s]:r==="Iron"&&(a=["USDC.e",s]),a},Yi=e=>{const t=e.includes("Straddle"),i=e==="Iron Butterfly";if(t)return[0,1];if(i)return[1,2]},Zi=(e,t)=>{if(!e)return;if(e.length>1){const a=e.find(s=>s.market===t);if(a)return a}return e[0]},Qi=e=>{const{strategyStructure:t,dateListState:i,chosenDateState:a,lyraMarket:s,updateTriggers:r,resetTriggers:o,isDisabled:p,updateUnstableField:u}=e,[y,l]=i,[c,d]=f.useState(!1),[T,b]=a,{account:v}=L(),m=()=>{if(d(!0),s){const P=s.liveBoards().map(A=>A.expiryTimestamp*We);l(P),d(!1)}},h=()=>{b(null)};f.useEffect(()=>{m()},r),f.useEffect(()=>{h()},o);const x=y.map(P=>({value:P,label:ze(P,"d MMM")})),B=T&&x.find(P=>P.value===T);return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_date",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),n.jsx("div",{className:"BuilderForm__field-body",children:t.map((P,A)=>{const I=de(P),M=Be(P),k=Ge(n.jsx(re,{className:"Selector_thin-options",placeholder:"Choose Date",isDisabled:p||!v,options:x,value:B,formatOptionLabel:({value:w},{selectValue:E})=>{var _;const D=((_=E[0])==null?void 0:_.value)===w?"d MMM hh a":"d MMM";return ze(w,D)},onChange:w=>{b(w.value)},iconTextNode:n.jsxs("span",{className:S({positive:I,negative:!I},"block"),style:{width:25},children:[I?"Buy":"Sell",n.jsx("br",{}),M?"Call":"Put"]})},A),c,n.jsx(Q,{},A));return u(A,k),k})})]})};const Xi=e=>{const t=j(),a=Y(t,e).getAddress(),s=bt();return s?s[a]:0},Ji=(e,t,i)=>e?i>t:i<t,ea=(e,t,i=3)=>Math.abs(e-t)<i;const ta="/sf_draft/assets/Hegic-a7e6545a.svg",na="/sf_draft/assets/Hegic_circled-26df614a.svg",ia="/sf_draft/assets/Hegic_circled-light-9256df54.svg",aa="/sf_draft/assets/Lyra-0ebc1db3.svg",sa="/sf_draft/assets/Lyra_circled-1da5fd25.svg",ra="/sf_draft/assets/Lyra_circled-light-a90bfa71.svg",vt={Hegic:{common:ta,circled:na,circledLight:ia},Lyra:{common:aa,circled:sa,circledLight:ra}},oa=.0015,Oe=["delta","vega","gamma","theta"],St=({strikeData:e,priceNode:t,isPriceHlight:i})=>{const{market:a,isCall:s,isBuy:r}=e,o=vt[a].circled;return n.jsxs("div",{className:"StrikeBrief",children:[n.jsx("div",{className:"StrikeBrief__icon",children:n.jsx("img",{src:o,alt:`${a}`})}),n.jsxs("div",{className:S("StrikeBrief__info-card",{positive:r,negative:!r}),children:[r?"Buy":"Sell"," ",s?"Call":"Put"]}),n.jsx("div",{className:S("StrikeBrief__price",i&&"hlight"),children:t})]})};const pa=e=>{const{children:t,className:i}=e;return n.jsx("table",{...e,className:S("Table",i),children:t})};const ua=e=>{const{id:t,amountStr:i,strikeMarketsDataArr:a,chosenStrikeData:s,setChosenStrikeData:r,isOpen:o,close:p}=e,[u,y]=f.useState([]),l=()=>{a.forEach((m,h)=>{const x=we(ne(i));m.utils.calcPremium(x).then(B=>{u[h]=B,y([...u])})})};if(f.useEffect(()=>{y([]),a&&l()},[a,i]),!a)return null;const c=23,T=80-c,v=180-c;return n.jsx("div",{className:S("StrikeInfoBox",o&&"open"),style:{zIndex:9-t*2},children:n.jsxs(pa,{onClick:m=>m.stopPropagation(),children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:n.jsx("div",{style:{width:v},children:"Market"})}),n.jsx("th",{children:n.jsx("div",{style:{width:T},children:"Source"})}),n.jsx("th",{children:n.jsx("div",{style:{width:T},children:"Delta"})}),n.jsx("th",{children:n.jsx("div",{style:{width:T},children:"Vega"})}),n.jsx("th",{children:n.jsx("div",{style:{width:T},children:"Gamma"})}),n.jsx("th",{children:n.jsx("div",{style:{width:T},children:"Theta"})}),n.jsx("th",{children:n.jsx("div",{style:{width:T},children:"Rho"})})]})}),n.jsx("tbody",{children:a.map((m,h)=>{const{greeks:x}=m,B=u[h],P=!B||B.isDisabled,A=m===s;return n.jsxs("tr",{className:S("StrikeInfoBox__strike-option",P&&"disabled",A&&"chosen"),children:[n.jsxs("td",{children:[n.jsx("button",{className:"StrikeInfoBox__strike-option-overlay-btn",onClick:()=>{r(m),p()},disabled:P}),n.jsx(St,{strikeData:m,priceNode:Ct(()=>B===null?ee("No liquidity",!0):`$${$(B.inUSDC)}`,Ue(B)),isPriceHlight:!0})]}),n.jsx("td",{children:"AMM"}),n.jsx("td",{children:x.delta}),n.jsx("td",{children:x.vega}),n.jsx("td",{children:x.gamma}),n.jsx("td",{children:x.theta}),n.jsx("td",{children:x.rho})]},m.market)})})]})})};const wt=e=>{const{children:t}=e;return n.jsx("div",{className:"InnerWarning",children:t})};ln();const la=e=>{const{id:t,className:i,isUnited:a,spaceBetween:s,isDraggable:r,breakpoints:o,handleInit:p,slideClassName:u,children:y}=e,l=f.useRef(null),c=`${a?`.${i}`:`#${t}`}`,d={spaceBetween:s,allowTouchMove:r,breakpoints:o,navigation:{enabled:!0,prevEl:`${c} .Carousel__nav-btn_prev`,nextEl:`${c} .Carousel__nav-btn_next`},on:{init:T=>{T.el.style.overflow="clip visible",p&&p(T)}}};return f.useEffect(()=>{const T=l.current;T&&(Object.assign(T,d),T.initialize())},[l,d]),n.jsxs("div",{className:S("Carousel",i),id:t,children:[n.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_prev"}),n.jsx("swiper-container",{init:!1,ref:l,children:y==null?void 0:y.map((T,b)=>n.jsx("swiper-slide",{class:u,children:T},b))}),n.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_next"})]})};const ya=e=>{const{asset:t}=e;return n.jsx(la,{slidesPerView:"auto",breakpoints:{768:{slidesPerView:"auto"},576:{slidesPerView:7,grid:{fill:"row",rows:2}},520:{slidesPerView:6,grid:{fill:"row",rows:2}},380:{slidesPerView:5,grid:{fill:"row",rows:2}},0:{slidesPerView:4,spaceBetween:4,grid:{fill:"row",rows:2}}},spaceBetween:5,className:"StrikeCarousel",isDraggable:!1,isUnited:!0,slideClassName:`StrikeCarousel__slide_${t}`,children:e.children})},Ce=e=>Object.keys(e).map(Number),da=e=>{const t={},i=Object.keys(e).map(Ki),a=_t(i),s=Object.values(e);return a.forEach(r=>{const o=s.filter(p=>p.strike===r);t[r]=o}),t},ca=e=>e.map(da),ma=e=>{const t=[];return e.forEach(a=>{const s=Ce(a);t.push(...s)}),_t(t)},Ta=e=>{const t=ma(e);return e.map(a=>{const s=Ce(a),r={...a};return t.forEach(o=>{s.indexOf(o)===-1&&(r[o]=[{strike:o,isAbsent:!0}])}),r})};const fa=e=>{const{currentPrice:t,isFirst:i}=e;return n.jsx("div",{className:S("StrikeCurrentPriceItem","StrikeChooser__item",i&&"StrikeCurrentPriceItem_first"),children:n.jsxs("span",{children:["$",oe(t)]})})};const ba="/sf_draft/assets/cross_grey-42dbd9c5.svg",ha=e=>{const{isITM:t}=e;return n.jsx("div",{className:S("StrikeAbsentItem","StrikeChooser__item",t&&"StrikeChooser__item_ITM"),children:n.jsx("img",{src:ba,alt:"Absent"})})};function et(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function Ca(){const[e,t]=f.useState(et());return f.useEffect(()=>{function i(){t(et())}return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),e}const Ve=(e=768)=>{const{width:t}=Ca();return t<e},xa=e=>{const{className:t,id:i,structureKey:a,asset:s,amountStr:r,strikesData:o,chosenStrikeData:p,setChosenStrikeData:u}=e,{isConnected:y}=L(),l=BigInt(Xi(s)),c=Z(l,mt),d=i===0,T=Ve(),[b,v]=f.useState(null),m=k=>{const w={...k};for(const E in k)k[E][0].isCurrentPrice&&(w[E][0].isCurrentPrice=!1);return w},h=()=>{const k=m(o),E=Ce(k).find(C=>ea(C,c));if(E){const C=k[E][0];C.isCurrentPrice=!0}else{const C=Math.floor(c);k[C]=[{strike:C,isCurrentPrice:!0}]}return k},x=()=>{if(o){let k=h();const w=Ce(k).sort(xt),E=Object.values(k).sort((C,D)=>{const _=C[0],g=D[0];return qi(_,g,"strike")});return{strikes:w,dataArr:E}}return{}},{strikes:B,dataArr:P}=x(),{openPopup:A,closePopup:I,isOpen:M}=rt(()=>v(null));return n.jsxs("div",{className:S("StrikeChooser",t,T&&!o&&"hidden"),children:[o?n.jsx("div",{className:"StrikeChooser__items",style:{zIndex:10-i*2},children:n.jsx(ya,{asset:s,children:B.map((k,w)=>{const E=P[w],C=E[0],{isCurrentPrice:D,isAbsent:_,market:g}=C;if(D&&!g)return n.jsx(fa,{currentPrice:k,isFirst:d},"current_price");const O=Be(a),N=Ji(O,k,c);if(_)return n.jsx(ha,{isITM:N},w);const ce=p&&p.strike===k,X=ce&&p.market,De=b===E;return n.jsxs(ae,{className:S("StrikeChooser__item",N&&"StrikeChooser__item_ITM",ce&&"chosen",De&&"open",D&&S("StrikeCurrentPriceItem",d&&"StrikeCurrentPriceItem_first")),style:{cursor:"pointer"},type:"stroke",onClick:Et=>{M&&Et.stopPropagation(),v(E),A()},children:[ce&&n.jsx("div",{className:"StrikeChooser__item-market",children:n.jsx("img",{src:vt[X].circledLight,alt:`${X} icon`})}),n.jsxs("span",{children:["$",oe(k)]})]},k)})})}):n.jsxs(wt,{children:[y?"C":"Connect wallet and c","hoose expiration date to view strikes"]}),n.jsx(ua,{id:i,amountStr:r,strikeMarketsDataArr:b,chosenStrikeData:p,setChosenStrikeData:u,isOpen:M,close:I})]})},_a=(e,t,i=[],a,s,r)=>{s&&s(!0),t(...i).then(o=>{console.log(`Submitting: ${o}`),o.wait().then(p=>{ri(e,a,o.hash),s&&s(!1),r&&r(p)},p=>{he(p,s)})},o=>{he(o,s)})},ga=(e,t,i,a,s,r)=>{const o=t.isStable?2:3,p=ye(a,o),u=Ae(a,U,t.decimals),y=new G(...K(e,t.symbol),ke());_a(e,y.approve,[i,J.from(u)],`${p} ${t.symbol} approved.`,s,r)},ka=async(e,t,i,a,s)=>{te(s);const r=new G(...K(e,t.symbol),se(e)),o=Ae(s,U,t.decimals);return(await r.allowance(i,a)).toBigInt()>=o},At=(e,t)=>{const i=Si[t];return BigInt(e*10**i)},va=e=>e.startsWith("W"),Sa=.05*10**4,Bt=(e,t,i,a)=>{const s=Xe(e,t),r=Xe(e,i),o=Ae(a,U,s.decimals);if(t===i||o===0n||s.isStable&&r.isStable)return new Promise(l=>{l(a)});const p=J.from(o);return new G(...K(e,"Uniswap_Quoter"),ke()).callStatic.quoteExactInput(it.solidityPack(["address","uint24","address"],[t,Sa,i]),p).then(l=>{const c=l.toBigInt();return qe(c,r.decimals)}).catch(l=>{console.log(`Swapping ${s.symbol} to ${r.symbol} error!

`,l)})},xe=(e,t,i)=>{const a=ot(e);return Bt(e,t,a,i)},wa=(e,t,i)=>{const a=ot(e);return Bt(e,a,t,i)},Dt="Hegic_",Aa="USDC.e",Ba=(e,t)=>{let i;try{i=Zn(e,t)}catch(a){console.log(a)}return i},Da=async(e,t)=>{const i=await ti(e,t);return Z(i,8)},Pa=(e,t,i)=>{const[a,,s]=e.split("_");return!(a.includes("SPREAD")||i!==(a==="CALL")||s!==t)},Ea=async(e,t,i)=>{let a;const s=new G(t,K(e,"Hegic_Strategy")[1],se(e)),r=ge(i);try{a=!(await s.getAvailableContracts(r,[])).eq(0)}catch{}return a},Ma=async(e,t,i,a)=>{const{period:s}=i,r=Jn(e,t),o=ge(s);return r.calculatePremium(o,a,0).then(p=>{const u=qe(p.toBigInt(),vi),y=Y(e,Aa);return xe(e,y.getAddress(),u).then(l=>({inUSDC:l,inPaymentToken:u,paymentToken:y}))})},Ia=(e,t)=>Math.floor(t*(e/100)),Oa=(e,t,i,a)=>{const{isCall:s}=i,{strategyKey:r}=t,[,o]=r.split("_"),p=Ia(o,a),u=ja(e,t,i),y=s?Number(o)>100?1:0:Number(o)<100?-1:0;return{market:"Hegic",strike:p,isCall:s,isBuy:!0,greeks:{delta:y,vega:0,gamma:0,theta:0,rho:0},utils:u}},Fa=(e,t)=>{const i=At(1,e);return t.utils.calcPremium(i)},ja=(e,t,i)=>{const{strategyKey:a,strategyAddress:s}=t,{period:r}=i;return{calcPremium:u=>Ma(e,a,i,u),getBuilderParams:u=>{const y=new G(...K(e,"TxBuilderOpen"),ke());return new Promise(l=>{l(y.encodeFromHegic(s,y.address,u,ge(r),[]))})}}},La=async(e,t,i)=>{const{asset:a,isCall:s,period:r}=i,o={},p={},u=await Da(e,a),y=Object.keys(t);for(let l=0;l<y.length;l++){const c=y[l],d=t[c],T={strategyKey:c,strategyAddress:d};if(!Pa(c,a,s)||!await Ea(e,d,r))continue;const b=Oa(e,T,i,u),v=Fa(a,b),{strike:m}=b;p[m]=v,o[`${Dt}${m}`]={...b}}return{strikesData:o,premiumPromisesData:p}},Na=async(e,t)=>{const i=Object.keys(t),a=Object.values(t);await Promise.all(a).then(s=>{s.forEach((r,o)=>{if(r){const p=i[o];e[`${Dt}${p}`].premiumData=r}})})},Ra=e=>{const t={};for(const i in e){const a=e[i];a.premiumData&&(t[i]=a)}return t},Ua=async(e,t,i)=>{const{strikesData:a,premiumPromisesData:s}=await La(e,t,i);return await Na(a,s),a},Ha=async(e,t)=>{const{period:i}=t,a=Ba(e,i);return a?Ra(await Ua(e,a,t)):{}},Fe="Lyra_",$a="USDC.e",Wa=["NotEnoughCollateral","TooMuchCollateral","EmptyCollateral","InsufficientQuoteBalance","InsufficientQuoteAllowance","InsufficientBaseBalance","InsufficientBaseAllowance","IncorrectOwner"],qa=e=>{const t=Wa.find(i=>i===e);if(!e||t)return!0},Ga=(e,t)=>{var s;const i=(s=e.liveBoards().find(r=>r.expiryTimestamp===ge(t)))==null?void 0:s.id;return i?e.liveBoardsMap[i]:void 0},Va=(e,t)=>!e||!qa(t.disabledReason)?(console.log(t.disabledReason),!1):!0,Ka=(e,t,i)=>{const a=(y,l=18)=>it.parseUnits(y.toFixed(l).toString(),l),s=J.from(10).pow(18),r=2.5,o=i?e.strikePrice:e.strike().strikePrice,p=(e.newSize??e.size).mul(o).div(s).mul(a(r)).div(s);return t.max?t.max:p.gt(t.min)?p:t.min},za=(e,t,i,a,s)=>{const{isCall:r,isBuy:o}=a,p=Y(e,$a),u=(b,v)=>t.trade(s,i,r,o,b,oa,v),y=(b,v)=>{const m=J.from(b);return u(m).then(h=>{const x=o?"maxTotalCost":"minTotalCost",B=h.params[0][x].toBigInt();return Va(B,h)?xe(e,p.getAddress(),B).then(P=>{const A={inUSDC:P,inPaymentToken:B,paymentToken:p};return v?A:{premiumData:A,greeks:h.greeks}}):null})},l=b=>y(b,!0),c=(b,v)=>{const m=J.from(b);return u(m,v).then(h=>{const{collateral:x}=h;x&&!x.max&&(h.collateral.max=Ka(h,h.collateral));const B=`W${h.marketName.split("-")[0]}`,P=x.isBase?Y(e,B):p;return xe(e,P.getAddress(),x.amount.toBigInt()).then(A=>(h.collateral.amount=h.collateral.amount.toBigInt(),h.collateral.amountInUSDC=A,h.collateral.token=P,h.collateral))})},d=new G(...K(e,"TxBuilderOpen"),se(e));return{calcPremium:l,calcPremiumWithGreeks:y,getCollateralData:c,getBuilderParams:(b,v)=>{const m=J.from(b);return u(m,v).then(h=>{const x=h.params[0];return d.encodeFromLyra([x.strikeId,x.positionId,x.iterations,x.optionType,x.amount,x.setCollateralTo,x.minTotalCost,x.maxTotalCost,_i])})}}},Ya=(e,t,i,a,s)=>{const{isCall:r,isBuy:o}=a,{strikeId:p,strikePrice:u}=i,y=p.toNumber(),l=Z(u.toBigInt()),c=za(e,t,y,a,s);return{market:"Lyra",strike:l,strikeId:y,isCall:r,isBuy:o,utils:c}},Za=(e,t,i)=>{const a=At(e,t);return i.utils.calcPremiumWithGreeks(a)},Qa=(e,t,i,a,s)=>{const{amount:r,asset:o}=i,p={},u={};return a.strikes.forEach(y=>{const l=Ya(e,t,y,i,s),c=Za(r,o,l),{strike:d}=l;u[d]=c,p[`${Fe}${d}`]=l}),{strikesData:p,premiumWithGreeksPromisesData:u}},Xa=async(e,t)=>{const i=Object.keys(t),a=Object.values(t);await Promise.all(a).then(s=>{s.forEach((r,o)=>{if(r){const{premiumData:p,greeks:u}=r;for(const l in u){const c=u[l];u[l]=Z(c.toBigInt(),U,3)}const y=i[o];e[`${Fe}${y}`].premiumData=p,e[`${Fe}${y}`].greeks=u}})})},Ja=e=>{const t={};for(const i in e){const a=e[i];a.premiumData&&(t[i]=a)}return t},es=async(e,t,i,a)=>{const{expiryDate:s}=i,r=Ga(t,s),{strikesData:o,premiumWithGreeksPromisesData:p}=Qa(e,t,i,r,a);return await Xa(o,p),Ja(o)},ts=e=>{const{asset:t,strategy:i,amountStr:a,chosenDate:s,strategyStructure:r,hasSell:o,strikesDataArrState:p,chosenStrikesState:u,areStrikesLoadingState:y,lyraMarket:l,updateTriggers:c,resetTriggers:d,updateUnstableField:T}=e,b=j(),{account:v}=L(),[m,h]=p,[x,B]=u,[P,A]=y,I=()=>{A(!0);const w=[];r.forEach((E,C)=>{const D={asset:t,expiryDate:s,amount:ne(a),period:s-Date.now(),isCall:Be(E),isBuy:de(E)};m[C]={};const _=g=>{m[C]={...m[C],...g}};D.isBuy&&w.push(Ha(b,D).then(_)),w.push(es(b,l,D,v).then(_))}),Promise.all(w).then(()=>{const E=ca(m),C=Ta(E);h([...C]),A(!1)})},M=()=>{const w=x.map(()=>{});B(w)},k=()=>{h([])};return f.useEffect(()=>{M(),k()},d),f.useEffect(()=>{s&&I()},c),n.jsxs("div",{className:S("BuilderForm__field","BuilderForm__field_strike",!o&&"col-span-2"),children:[n.jsx("div",{className:"BuilderForm__field-header",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_StrikeTooltip",children:"Strike"})}),n.jsx("div",{className:"BuilderForm__field-body",children:r.map((w,E)=>{const C=Yi(i),D=C&&C.indexOf(E)!==-1,_=Ge(n.jsx(xa,{id:E,structureKey:w,asset:t,amountStr:a,strikesData:m[E],chosenStrikeData:x[E],setChosenStrikeData:g=>{if(x[E]=g,D){const O=g.strike,N=g.market;C.filter(X=>X!==E).forEach(X=>{const De=Zi(m[X][O],N);x[X]=De})}B([...x])}},E),P,n.jsx(Q,{},E));return T(E,_),_})})]})};const ns=e=>{const{liqPrice:t,isLiqPriceLoading:i,isInLastHalf:a}=e,s=n.jsx("span",{className:"muted_light",children:"..."}),r=n.jsx("span",{className:"muted_light",children:"—"}),o=()=>`$${$(t.toBigInt())}`;return n.jsxs("div",{className:S("CollateralLiqPrice",a&&"CollateralLiqPrice_down"),children:["Liq. Price:",n.jsxs("span",{className:"CollateralLiqPrice__val",children:[i&&s,!i&&(t?o():r)]})]})};const is=({min:e,max:t,collateralData:i,handleClick:a})=>n.jsx("div",{className:"CollateralRangeBtns",children:[e,t].map((s,r)=>{const o=i.isBase,p=s.toBigInt(),y=(o?ye:$)(p,o?3:0),l=r===0;return n.jsxs(je.Fragment,{children:[n.jsxs("button",{onClick:()=>a(y),children:[o?"":"$",y]},r),l?"—":""]},r)})});const as=({collateralData:e,collateralAmountStr:t,onChange:i})=>{const{isBase:a}=e,s=a?1:0,r=Z(e.min.toBigInt(),U,s),o=Z(e.max.toBigInt(),U,s),p=ne(t),u=a?.1:1;return n.jsx("div",{className:"CollateralSlider",children:n.jsx(yn,{defaultValue:0,value:p,min:r,max:o,step:u,onChange:i})})},ss=e=>{const{isInLastHalf:t,getCollateralData:i,collateralData:a,setCollateralData:s,collateralTokens:r,chosenStrike:o,updateTriggers:p,resetTriggers:u}=e,[y,l]=f.useState(""),[c,d]=f.useState(r[0]),[T,b]=f.useState(!1),[v,m]=f.useState(!1),h=()=>{l(""),d(r[0]),s(null)},x=()=>{l(""),s(null)};f.useEffect(()=>{h()},u),f.useEffect(()=>{o&&(b(!0),x(),B(!0))},[o,c]);const B=M=>{let k;if(!M&&y){const w=ne(y);k=we(w)}i(c,k).then(w=>{s(w),b(!1),m(!1)})};tt(()=>{T||(m(!0),B())},800,[y,...p]);const P=ht([y,l],{placeholder:"0"}),A=r.map(M=>({value:M,label:n.jsx(q,{symbol:M,isHlight:!0,children:M})})),I=S(P.hasFocus&&"hlight");return n.jsx("div",{className:S("CollateralChooser",I),children:o?n.jsxs(n.Fragment,{children:[a&&n.jsx(ns,{liqPrice:a.liquidationPrice,isLiqPriceLoading:v,isInLastHalf:t}),Ge(n.jsxs("div",{className:"CollateralChooser__input-container",children:[n.jsx("div",{className:"CollateralChooser__input",children:P.node}),a&&n.jsx(is,{min:a.min,max:a.max,collateralData:a,handleClick:M=>{l(M)}}),a&&n.jsx(as,{collateralData:a,collateralAmountStr:y,onChange:M=>{const k=Tt(M);l(k)}})]}),T),n.jsx("div",{className:"CollateralChooser__token-selector",children:n.jsx(re,{options:A,defaultValue:c,isDisabled:A.length===1,onChange:M=>{d(M.value)}},`CollateralChooser__token-selector_${c}`)})]}):n.jsx(wt,{children:"Strike required"})})},rs=e=>{const{asset:t,amountStr:i,strategy:a,strategyStructure:s,hasSell:r,chosenStrikes:o,collateralDataArrState:p,updateTriggers:u,resetTriggers:y,updateUnstableField:l}=e,[c,d]=p,T=()=>{d([])};f.useEffect(()=>{T()},y);const b=(m,h)=>{c[m]=h,d([...c])},v=(m,h,x)=>{const B=o[m];if(!B)return new Promise(()=>{});const P=we(ne(i)),A=va(h),I=J.from(x??0);return B.utils.getCollateralData(P,{isBaseCollateral:A,setToCollateral:I})};return r?n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_collateral",children:[n.jsx("div",{className:"BuilderForm__field-header",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),n.jsx("div",{className:"BuilderForm__field-body",children:s.map((m,h)=>{if(de(m))return n.jsx("div",{className:"BuilderForm__field-empty-row",children:ee()},h);const B=o[h],P=zi(m,a,t),A=h>(s.length-1)/2,I=n.jsx(ss,{isInLastHalf:A,collateralTokens:P,collateralData:c[h],setCollateralData:M=>b(h,M),getCollateralData:(M,k)=>v(h,M,k),chosenStrike:B,updateTriggers:u,resetTriggers:y},h);return l(h,I),I})})]}):null};const Ke=({isVertical:e})=>n.jsx("div",{className:S("Divider",e&&"vertical")}),os=e=>{const{strategyStructure:t,unstableFields:i,chosenStrikes:a,strikesDataArr:s,areStrikesLoading:r}=e;return Ve()?n.jsxs("div",{className:"BuilderMobileContainer BuilderForm__field",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),n.jsx("div",{className:"BuilderForm__field-body",children:t.map((p,u)=>{const y=r||!!s[u],l=!!a[u],c=!!i.collateral[u],d=u===t.length-1;return n.jsxs("div",{className:"BuilderMobileContainer__item",children:[n.jsx("div",{className:S("BuilderMobileContainer__item-date",y&&"mb-7"),children:i.date[u]}),n.jsx("div",{className:"BuilderMobileContainer__item-strike",children:i.strike[u]}),c&&l&&n.jsxs("div",{className:S("BuilderMobileContainer__item-collateral"),children:[n.jsx("div",{className:"BuilderMobileContainer__item-title",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),i.collateral[u]]}),y&&!d&&n.jsx(Ke,{})]},u)})})]}):null},ps=e=>{const{assetState:t,strategyState:i,amountStrState:a,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}=e,[y]=t,[l]=i,[c]=a,[d]=r,T=pe[l].structure,b=kt(T),v=f.useState(!1),[m]=v,[h]=p,[x]=o,B=j(),P=Nn(B),[A,I]=f.useState(null),M=()=>{I(null);const _=`W${y}`;P.markets().then(g=>{const O=g.find(N=>N.baseToken.symbol===_);I(O)})};f.useEffect(()=>{M()},[y]);const k={date:[y,A],strike:[d],collateral:[c]},w={date:[y,l],strike:[y,l,d],collateral:[y,l,d],unstableFields:[l]},[E,C]=f.useState({date:[],strike:[],collateral:[]}),D=(_,g,O)=>{E[_][g]=O};return f.useEffect(()=>{C({date:[],strike:[],collateral:[]})},w.unstableFields),n.jsxs("div",{className:"BuilderForm__fields",children:[n.jsx(Hi,{assetState:t,isDisabled:m}),n.jsx(Wi,{strategyState:i,isDisabled:m}),n.jsx(Ui,{amountStrState:a,strategy:l}),n.jsx(Qi,{strategyStructure:T,dateListState:s,chosenDateState:r,lyraMarket:A,updateTriggers:k.date,resetTriggers:w.date,isDisabled:m,updateUnstableField:(_,g)=>{D("date",_,g)}}),n.jsx(ts,{asset:y,strategy:l,amountStr:c,chosenDate:d,strategyStructure:T,hasSell:b,strikesDataArrState:o,chosenStrikesState:p,areStrikesLoadingState:v,lyraMarket:A,updateTriggers:k.strike,resetTriggers:w.strike,updateUnstableField:(_,g)=>{D("strike",_,g)}}),n.jsx(rs,{asset:y,strategy:l,amountStr:c,strategyStructure:T,hasSell:b,chosenStrikes:h,collateralDataArrState:u,updateTriggers:k.collateral,resetTriggers:w.collateral,updateUnstableField:(_,g)=>{D("collateral",_,g)}}),n.jsx(os,{strategyStructure:T,unstableFields:E,chosenStrikes:h,strikesDataArr:x,areStrikesLoading:m})]})},us=()=>n.jsxs(H,{id:"BuilderForm_StrikeTooltip",children:[n.jsx("h6",{children:"Hegic Options (American options)"}),n.jsxs("p",{className:"my-5",children:["They require manual exercise before ",n.jsx("br",{}),"the expiration date. ",n.jsx("br",{}),"There are no secondary markets; out-",n.jsx("br",{}),"of-the-money options can't be sold."]}),n.jsx("h6",{children:"Lyra (European options)"}),n.jsxs("p",{className:"my-5",children:["They are only exercised automatically ",n.jsx("br",{}),"at the expiration date. ",n.jsx("br",{}),"Secondary markets are available; out-",n.jsx("br",{}),"of-the-money options can be sold."]})]});const ls=({strategy:e})=>{const t=pe[e],{outlooks:i,profit:a,loss:s,description:r}=t.stats;return n.jsxs(H,{className:"WhenPurchaseTooltip",id:"BuilderForm_WhenPurchaseTooltip",place:"bottom-end",children:[n.jsxs("div",{className:"WhenPurchaseTooltip__header",children:[n.jsx("h2",{className:"WhenPurchaseTooltip__title",children:e}),n.jsx("div",{className:"WhenPurchaseTooltip__outlooks",children:i.map(o=>{const p=Ni[o];return n.jsx("div",{className:"WhenPurchaseTooltip__outlook",style:{color:p},children:o},o)})})]}),n.jsxs("div",{className:"WhenPurchaseTooltip__body",children:[n.jsx("h3",{className:"WhenPurchaseTooltip__subtitle",children:"When purchase"}),n.jsx("p",{className:"WhenPurchaseTooltip__description",children:r}),n.jsx("div",{className:"WhenPurchaseTooltip__stats",children:[a,s].map((o,p)=>{const u=p===0?"Profit":"Loss";return n.jsxs("div",{className:"WhenPurchaseTooltip__stats-item",children:[n.jsx("div",{className:"WhenPurchaseTooltip__stats-item-name",children:u}),n.jsx("div",{className:"WhenPurchaseTooltip__stats-item-value",children:o})]},`${u}_${o}`)})})]})]})},ys=()=>n.jsxs(H,{id:"BuilderForm_CollateralTooltip",children:["This refers to the amount ",n.jsx("br",{}),"you’re setting aside ",n.jsx("br",{}),"as collateral for selling options"]}),ds=()=>n.jsxs(H,{id:"BuilderForm_MaxCostTooltip",children:["This is the highest amount ",n.jsx("br",{}),"you’ll pay for buying options. ",n.jsx("br",{}),"If the option price rises ",n.jsx("br",{}),"beyond this, your transaction ",n.jsx("br",{}),"will be reverted."]}),cs=()=>n.jsxs(H,{id:"BuilderForm_MinReceivedTooltip",children:["This is the least amount you’re ",n.jsx("br",{}),"assured to receive when ",n.jsx("br",{}),"selling options. If the option ",n.jsx("br",{}),"price drops beyond this point, ",n.jsx("br",{}),"your transaction will ",n.jsx("br",{}),"be reverted."]}),ms=()=>n.jsxs(H,{id:"BuilderForm_YouPayWarningTooltip",children:["Apparently, the collateral you've set ",n.jsx("br",{}),"is too small. This may result in instant ",n.jsx("br",{}),"liquidation of the position."]}),Ts=({strategy:e})=>n.jsxs("div",{className:"BuilderTooltips",children:[n.jsx(us,{}),n.jsx(ls,{strategy:e}),n.jsx(ys,{}),n.jsx(ds,{}),n.jsx(cs,{}),n.jsx(ms,{})]});const fs=({collateralCost:e,getCostNode:t})=>n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"}),n.jsx("div",{className:S("BuilderCalculations__item-value",e&&e.inUSDC!==0n&&"tip"),"data-tooltip-id":"BuilderForm__CollateralCostDecompositionTooltip",children:t(e)})]}),bs=({maxCost:e,getCostNode:t})=>n.jsxs("div",{className:"TradeCostValue",children:[n.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MaxCostTooltip",children:"Max. Cost"}),n.jsx("div",{className:S("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MaxCostDecompositionTooltip",children:t(e,"-")})]}),hs=({netCost:e,getCostNode:t})=>{const i=(e==null?void 0:e.inUSDC)<0?"negative":(e==null?void 0:e.inUSDC)>0?"positive":"neutral",a=Li[i];return n.jsxs("div",{className:"TradeCostValue",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"Net. Cost"}),n.jsx("div",{className:S("BuilderCalculations__item-value",i),children:t(e,a)})]})},Cs=({minReceived:e,getCostNode:t})=>n.jsxs("div",{className:"TradeCostValue",children:[n.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MinReceivedTooltip",children:"Min. Received"}),n.jsx("div",{className:S("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MinReceivedDecompositionTooltip",children:t(e,"+")})]});const xs=({hasBuy:e,hasSell:t,getCostNode:i,maxCost:a,minReceived:s,netCost:r})=>{const o={plus:n.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:18},children:"+"}),equal:n.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:17},children:"="})},p=e&&t;return n.jsxs("div",{className:"TradeCostItem BuilderCalculations__item",children:[e&&n.jsx(bs,{maxCost:a,getCostNode:i}),p&&o.plus,t&&n.jsx(Cs,{minReceived:s,getCostNode:i}),p&&n.jsxs(n.Fragment,{children:[o.equal,n.jsx(hs,{netCost:r,getCostNode:i})]})]})},_s=({hasBuy:e,hasSell:t,hasChosenStrike:i,maxCost:a,minReceived:s,netCost:r,collateralCost:o})=>{const p=(u,y)=>!i||Ue(u)||(u==null?void 0:u.inUSDC)===0n?"$0":Ct(()=>`${y??""}$${$(u.inUSDC<0?-u.inUSDC:u.inUSDC)}`,!u);return n.jsxs("div",{className:"BuilderCostItems BuilderCalculations__items",children:[n.jsx(xs,{hasBuy:e,hasSell:t,getCostNode:p,maxCost:a,minReceived:s,netCost:r}),t&&n.jsx(fs,{collateralCost:o,getCostNode:p})]})};const Pt=({id:e,decompositionArr:t,...i})=>n.jsx(H,{className:"TooltipDecomposition",id:e,place:"bottom-end",...i,children:t.map((a,s)=>{const r=s===t.length-1;return n.jsxs(je.Fragment,{children:[n.jsxs("div",{className:"TooltipDecomposition__item",children:[n.jsx("div",{className:"TooltipDecomposition__item-name",children:a.nameNode}),n.jsx("div",{className:"TooltipDecomposition__item-value",children:a.valueNode})]}),!r&&n.jsx(Ke,{})]},s)})}),gs=({id:e,priceDecompositionArr:t})=>{const a=(()=>t.map(r=>{const o=r.paymentToken.isStable,p=n.jsx(q,{symbol:r.paymentToken.symbol,isHlight:!0,children:ye(r.inPaymentToken,o?2:3)}),u=`$${$(r.inUSDC,0)}`;return{nameNode:p,valueNode:u}}))();return n.jsx(Pt,{id:e,decompositionArr:a})},ks=({maxCost:e,minReceived:t,collateralCost:i})=>{const a=[{id:"BuilderForm__MaxCostDecompositionTooltip",decomposition:e==null?void 0:e.decomposition,isZero:(e==null?void 0:e.inUSDC)===0n},{id:"BuilderForm__MinReceivedDecompositionTooltip",decomposition:t==null?void 0:t.decomposition,isZero:(t==null?void 0:t.inUSDC)===0n},{id:"BuilderForm__CollateralCostDecompositionTooltip",decomposition:i==null?void 0:i.decomposition,isZero:(i==null?void 0:i.inUSDC)===0n}];return n.jsx("div",{className:"CostDecompositionTooltips",children:a.map(s=>!s.decomposition||s.isZero?null:n.jsx(gs,{id:s.id,priceDecompositionArr:s.decomposition},s.id))})},vs=({amountStr:e,chosenStrikesState:t,collateralDataArrState:i,setYouPay:a,hasSell:s,hasBuy:r})=>{const[o,p]=t,[u,y]=i,[l,c]=f.useState(null),[d,T]=f.useState(null),[b,v]=f.useState(null),[m,h]=f.useState(null),x=Vi(o),B=!!u.find(C=>C),P=C=>{o[C]=null,u[C]=null,p([...o]),y([...u])},A={sum:C=>C.reduce((_,g,O)=>{if(O===0)return{inUSDC:g.inUSDC,decomposition:[g]};const N=_.decomposition;return N.push({paymentToken:g.paymentToken,inPaymentToken:g.inPaymentToken,inUSDC:g.inUSDC}),{inUSDC:_.inUSDC+g.inUSDC,decomposition:N}},C[0]),separateBuyFromSell:C=>{const D=[],_=[];return C.forEach(g=>{g&&(g.isBuy?D.push(g):_.push(g))}),{buyCosts:D,sellCosts:_}},getArgsForHandler:C=>{const{reset:D}=I[C],{isAllowed:_,update:g}=k[C];return[D,_,g]}},I={collateral:{reset:()=>{h({inUSDC:0n})}},trade:{reset:()=>{c(null),T(null),v(null)}},youPay:{reset:()=>{a(null)}}},M={collateral:{calc:()=>{const C=u.filter(_=>_).map(_=>{if(_){const{amount:g,amountInUSDC:O,token:N}=_;return{paymentToken:N,inPaymentToken:g,inUSDC:O}}});return A.sum(C)}},trade:{calc:()=>{const C=[],D=we(ne(e));return o.forEach((_,g)=>{_&&C.push(_.utils.calcPremium(D).then(O=>O?(O.isBuy=_.isBuy,O):(P(g),null)))}),Promise.all(C).then(_=>{const{buyCosts:g,sellCosts:O}=A.separateBuyFromSell(_);return{maxCost:A.sum(g),minReceived:A.sum(O)}})}},youPay:{calc:()=>{if(s){if(m!=null&&m.inUSDC)return{inUSDC:m.inUSDC+((l==null?void 0:l.inUSDC)??0n)}}else return{inUSDC:l.inUSDC}}}},k={collateral:{triggers:[u],isAllowed:B&&x,update:()=>{const C=M.collateral.calc();h(C)}},trade:{triggers:[o],debouncedTriggers:[e],isAllowed:x,update:()=>{M.trade.calc().then(C=>{const{maxCost:D,minReceived:_}=C;c(D),T(_);const g={inUSDC:((_==null?void 0:_.inUSDC)??0n)-((D==null?void 0:D.inUSDC)??0n)};v(g)})}},youPay:{triggers:[b,m],isAllowed:!!(s?b!=null&&b.inUSDC&&(m!=null&&m.inUSDC):b!=null&&b.inUSDC),update:()=>{const C=M.youPay.calc();a(C)}}},w=(C,D,_)=>{C(),D&&_()};return Object.keys(k).forEach(C=>{const D=()=>{w(...A.getArgsForHandler(C))},_=[...k[C].triggers],g=k[C].debouncedTriggers&&[...k[C].debouncedTriggers];g&&tt(D,800,g),f.useEffect(D,_)}),n.jsxs("div",{className:S("BuilderCost",s&&"has-sell"),children:[n.jsx(_s,{hasBuy:r,hasSell:s,hasChosenStrike:x,maxCost:l,minReceived:d,netCost:b,collateralCost:m}),n.jsx(ks,{maxCost:l,minReceived:d,collateralCost:m})]})};const Ss=({decompositionData:e})=>n.jsx("div",{className:"GreeksDecompositionTooltips",children:Oe.map(t=>{const i=e[t];if(!i||!i.length)return null;const s=`BuilderForm_${gt(t)}DecompositionTooltip`;return n.jsx(Pt,{id:s,decompositionArr:i},s)})});const ws=({children:e,renderHeader:t=({state:i})=>i.isEnter?"Hide":"Show"})=>n.jsx("div",{className:"Accordion",children:n.jsx(dn,{transition:!0,transitionTimeout:250,children:n.jsx(cn,{header:t,children:e})})}),As=({chosenStrikes:e})=>{const t={};Oe.forEach(p=>{t[p]=[]});const i=(p,u)=>{const y=p.greeks[u],l={nameNode:n.jsx(St,{strikeData:p,priceNode:`$${oe(p.strike)}`}),valueNode:y};t[u].push(l)},a=()=>n.jsx("div",{className:"BuilderCalculations__items",children:Oe.map(p=>{const u=gt(p),y=e.reduce((l,c)=>{if(!c)return l;i(c,p);const d=c.greeks[p];return l+d},0);return n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:u}),n.jsx("div",{className:S("BuilderCalculations__item-value",y&&"tip"),"data-tooltip-id":`BuilderForm_${u}DecompositionTooltip`,children:Se(y,3)})]},p)})}),s=()=>n.jsx(ws,{renderHeader:({state:p})=>`${p.isEnter?"Hide":"Show"} greeks`,children:a()}),o=Ve(576);return n.jsxs("div",{className:"BuilderGreeks",children:[o?s():a(),n.jsx(Ss,{decompositionData:t})]})};const Bs=({youPayState:e,paymentToken:t})=>{const i=j(),[a,s]=e,r=()=>a.inUSDC<0?new Promise(l=>{l(null)}):wa(i,t.address,a.inUSDC),o={triggers:[a],isAllowed:!!(a&&t&&Ie(a.inPaymentToken)),update:()=>{r().then(l=>{setTimeout(()=>{a.paymentToken=t,a.inPaymentToken=l,s({...a})},1e3)})}},p={triggers:[t],isAllowed:!!a,reset:()=>{a.inPaymentToken=void 0,s({...a})}};f.useEffect(()=>{o.isAllowed&&o.update()},[...o.triggers]),f.useEffect(()=>{p.isAllowed&&p.reset()},[...p.triggers]);const u={getNegativeValueNode:()=>n.jsx(q,{children:n.jsx("span",{className:"negative tip","data-tooltip-id":"BuilderForm_YouPayWarningTooltip",children:$(a.inUSDC,0)})}),getPaymentTokenNode:()=>{const c=t.symbol.includes("BTC")?3:2;return ye(a.inPaymentToken,c)},getUsdcNode:()=>`$${$(a.inUSDC,0)}`,getApproximatelySymbolNode:()=>n.jsx("span",{className:"muted_light mx-5",style:{fontSize:16},children:ji})};return(()=>!a||!t?ee():a.inPaymentToken===null?u.getNegativeValueNode():Ie(a.inPaymentToken)?n.jsx(Q,{}):n.jsxs(q,{isHlight:!0,symbol:t.symbol,children:[u.getPaymentTokenNode(),u.getApproximatelySymbolNode(),u.getUsdcNode()]}))()};const Ds=({className:e,options:t,defaultOption:i,defaultValue:a,onChange:s,...r})=>n.jsx(re,{className:S("SelectorInline",e),options:t,defaultOption:i,defaultValue:a,onChange:s,...r}),Ps=e=>{const{account:t}=L();return e.map(a=>{const s=a.getAddress(!0),r=a.getAddress();let{data:o}=Ut({address:t,token:s});return o||(o={value:0n}),{...o,address:r,isETH:a.symbol==="ETH",isStable:a.isStable}})},Es=e=>{const{isConnected:t,account:i}=L(),a=j(),s=Ps(e),{data:r}=nt(t&&[i,"useTokenBalancesUSDC",s],async()=>{const o=[],p=[];return s.forEach((u,y)=>{u&&(u.value_defaultDecimals=qe(u.value,u.decimals),p.push(xe(a,u.address,u.value_defaultDecimals).then(l=>{o[y]={...u,value_USDC:l}}).catch(l=>{console.log(`Swapping ${u.symbol} to USDC error.

`+l),o[y]=null})))}),await Promise.all(p),o});return r??[]},Ms=({paymentTokens:e,tokenBalance:t,setTokenBalance:i})=>{const{isConnected:a,account:s}=L(),[r,o]=Ne("payment-token","ETH"),p=Es(e),u=()=>{const d=p.find(T=>T.symbol===r);p.length&&i(d)};f.useEffect(()=>{t||u()},[p]),f.useEffect(()=>{i(null),u()},[s]);const y=d=>a?d===null?ee("Error"):Ue(d)?n.jsx(Q,{}):`$${$(d.value_USDC,0)}`:ee(),l=e.map((d,T)=>{const b=p[T],v=y(b);return{label:n.jsxs("div",{className:"PaymentTokenSelector__item",children:[n.jsx("div",{className:"PaymentTokenSelector__item-name",children:n.jsx(q,{symbol:d.symbol,isHlight:!0,children:d.symbol})}),n.jsx("div",{className:"PaymentTokenSelector__item-value",children:v})]}),value:d.symbol,balance:b}}),c=[{label:n.jsxs("div",{className:"PaymentTokenSelector__item",children:[n.jsx("div",{children:"Asset"}),n.jsx("div",{children:"Balance, $"})]}),options:l}];return n.jsx(Ds,{className:"PaymentTokenSelector",options:c,defaultValue:r,onChange:d=>{i(d.balance),o(d.value)}},s)},Is=({tokenBalanceState:e,youPayState:t,confirmButtonNode:i})=>{const{isConnected:a}=L(),s=j(),r=Gn(s),[o,p]=e,u=()=>{if(!a)return ee();if(o===null)return ee("Error");if(Ie(o))return n.jsx(Q,{});const y=o.value===0n?0:2;return n.jsx(q,{symbol:o.symbol,isHlight:!0,children:$(o.value,y,o.decimals)})};return n.jsxs("div",{className:"BuilderSwap",children:[n.jsxs("div",{className:"BuilderCalculations__items",children:[n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"Select Payment method"}),n.jsx("div",{className:"BuilderCalculations__item-value",children:n.jsx(Ms,{paymentTokens:r,tokenBalance:o,setTokenBalance:p})})]}),n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"You pay"}),n.jsx("div",{className:"BuilderCalculations__item-value",children:n.jsx(Bs,{youPayState:t,paymentToken:o})})]}),n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"Balance"}),n.jsx("div",{className:"BuilderCalculations__item-value",children:u()})]})]}),i]})},Os=(e,t,i,a,s,r)=>{const{isConnected:o}=L(),p=()=>{if(!e)return"Enter Amount";if(!i.length||!i.every(d=>d))return"Fill out the Strike fields";const c=!!a.find(d=>d&&d.amount===0n);if(t&&c)return"Fill out the Collateral fields";if(!s)return"Please, wait...";if(s>r)return"Insufficient balance"};return{getError:p,getIsBtnEnabled:()=>o?!p():!0,getBtnText:()=>{const l="Buy Strategy";return o?p()??l:"Connect wallet"}}},Fs=({strategy:e,amountStr:t,youPayState:i,chosenStrikesState:a,collateralDataArrState:s,openBuyModal:r})=>{const{isConnected:o}=L(),{connectWallet:p}=lt(),u=f.useState(null),[y]=u,[l]=a,[c]=s,[d,T]=i,b=pe[e].structure,v=kt(b),m=Gi(b),{getIsBtnEnabled:h,getBtnText:x}=Os(t,v,l,c,d==null?void 0:d.inPaymentToken,y==null?void 0:y.value_defaultDecimals),B=n.jsx(ae,{className:"BuilderForm__button",onClick:o?r:p,isDisabled:!h(),children:x()});return n.jsxs("div",{className:"BuilderCalculations",children:[n.jsx(As,{chosenStrikes:l}),n.jsx(vs,{amountStr:t,chosenStrikesState:a,collateralDataArrState:s,setYouPay:T,hasSell:v,hasBuy:m}),n.jsx(Is,{youPayState:i,tokenBalanceState:u,confirmButtonNode:B})]})};const js=({stagesArr:e})=>n.jsx("div",{className:"Stages",children:e.map(t=>n.jsx("div",{className:S("Stages__item",t.isActive&&"active"),children:t.name},t.name))}),Ls=(e,t,i)=>{const{account:a}=L(),s=j(),r=Y(s,e);return{check:()=>ka(s,r,a,t,i),approve:(p,u)=>ga(s,r,t,i,p,u)}},Ns=({isOpen:e,setIsOpen:t,asset:i,strategy:a,amountStr:s,youPay:r})=>{const o=j(),p=pe[a],[u,y]=f.useState(!1),[l,c]=f.useState(null),T=["Approve","Buy"].map(w=>({name:w,isActive:l===w})),b=r.paymentToken.isStable?2:3,v=r.inPaymentToken,m=ye(r.inPaymentToken,b),h=r.paymentToken.symbol,x=`${m} ${h}`,B={Approve:`Approve ${x}`,Buy:`Pay ${x}`},P=new G(...K(o,"TxBuilderOpen"),ke()),A=Ls(h,P.address,v);f.useEffect(()=>{e&&(c(null),A.check().then(w=>{c(w?"Buy":"Approve")}))},[e,r]);const I=()=>{if(!l)return"Please, wait...";if(u)return`Approving ${h}...`},M={approve:()=>{A.approve(y,()=>c("Buy"))},buy:()=>{}},k={getBtnText:()=>I()??B[l],getIsBtnEnabled:()=>!I(),getBtnOnClick:()=>{switch(l){case"Approve":return M.approve;case"Buy":return M.buy}}};return n.jsxs(dt,{className:"BuyBuildModal",isOpen:e,setIsOpen:t,children:[n.jsx(js,{stagesArr:T}),n.jsx("h1",{className:"BuyBuildModal__title",children:l??n.jsx(Q,{})}),n.jsxs("div",{className:"BuyBuildModal__strategy",children:["Strategy",n.jsxs("div",{className:"BuyBuildModal__strategy-info",children:[n.jsx("span",{className:"BuyBuildModal__strategy-name",style:{color:p.color},children:a}),n.jsx(Ke,{isVertical:!0}),n.jsx(q,{className:"BuyBuildModal__strategy-amount",symbol:i,isHlight:!0,children:s})]})]}),l==="Buy"&&n.jsx(n.Fragment,{children:n.jsxs("p",{className:"BuyBuildModal__hint",children:["Sharwa.Finance will auto-convert your ",x," into tokens compatible with the options protocols where your positions are to be opened, using Uniswap v3."]})}),n.jsx(ae,{className:"BuyBuildModal__button",isDisabled:!k.getIsBtnEnabled(),onClick:k.getBtnOnClick(),children:k.getBtnText()})]})},Rs=({assetState:e,strategyState:t,amountStrState:i,dateListState:a,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p})=>{const[u]=e,[y]=t,[l]=i,c=f.useState(null),[d]=c,[T,b]=f.useState(!1),v=()=>{b(!0)};return n.jsxs("div",{className:"BuilderForm App-box",children:[n.jsx(ps,{assetState:e,strategyState:t,amountStrState:i,dateListState:a,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p}),n.jsx(Fs,{strategy:y,amountStr:l,youPayState:c,chosenStrikesState:o,collateralDataArrState:p,openBuyModal:v}),(d==null?void 0:d.inPaymentToken)&&n.jsx(Ns,{isOpen:T,setIsOpen:b,asset:u,strategy:y,amountStr:l,youPay:d}),n.jsx(Ts,{strategy:y})]})};const Us=e=>n.jsx("div",{className:"BuilderPositionChart App-box"}),Hs=e=>{const{assetState:t}=e,i=Ne("builder-strategy","Long Call"),a=f.useState("1"),s=f.useState([]),r=f.useState(null),o=f.useState([]),p=f.useState([]),u=f.useState([]);return n.jsxs("div",{className:"BuilderDashboard",children:[n.jsx(Rs,{assetState:t,strategyState:i,amountStrState:a,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}),n.jsx(Us,{})]})},$s=()=>{const e=Ne("asset","ETH");return n.jsx("div",{className:"Builder",children:n.jsx(Hs,{assetState:e})})},Ws=()=>{const e=_e(),t=sn();return f.useEffect(()=>{e.pathname.endsWith("terminal")&&t("/terminal/builder")},[e.pathname]),n.jsxs(rn,{children:[n.jsxs(me,{path:"/terminal",element:n.jsx(Oi,{}),children:[n.jsx(me,{path:"builder",element:n.jsx($s,{})}),n.jsx(me,{path:"margin-trading",element:n.jsx("div",{children:"Margin Trading"})})]}),n.jsx(me,{path:"*",element:n.jsx(on,{to:xi,replace:!0})})]})},qs=()=>n.jsxs("div",{className:"Tooltips",children:[n.jsx(H,{id:"Tooltip_default"}),n.jsx(H,{place:"bottom-end",id:"Tooltip_bottom-end"})]});const Gs="/sf_draft/assets/Discord-f7d998b5.svg",Vs="/sf_draft/assets/Gitbook-c728118d.svg",Ks="/sf_draft/assets/Github-d50e83d6.svg",zs="/sf_draft/assets/Mirror-095740c8.svg",Ys="/sf_draft/assets/Telegram-04f64a96.svg",Zs="/sf_draft/assets/Twitter-5cfdd2f4.svg",Qs=()=>{const e={Discord:{icon:Gs,url:"https://discord.gg/5DGZ7rzSfS"},Gitbook:{icon:Vs,url:"https://docs.sharwa.finance/"},Github:{icon:Ks,url:"https://github.com/DeDeLend"},Mirror:{icon:zs,url:"https://mirror.xyz/sharwa-finance.eth"},Telegram:{icon:Ys,url:"https://t.me/SharwaFinance"},Twitter:{icon:Zs,url:"https://twitter.com/SharwaFinance"}};return n.jsx("footer",{className:"Footer",children:n.jsxs("div",{className:"Footer__content _container",children:[n.jsx(at,{}),n.jsx("div",{className:"Footer__smedia-items",children:Object.keys(e).map(t=>{const i=e[t];return n.jsx("a",{className:"Footer__smedia-item",target:"_blank",rel:"noreferrer",href:i.url,children:n.jsx("img",{src:i.icon,alt:`${t} logo`})},t)})})]})})};const Xs=({children:e})=>n.jsx("div",{className:"GlobalStickyMessage",children:e});function Js(){const{chain:e}=$t(),t=()=>n.jsxs(n.Fragment,{children:[n.jsx(di,{}),n.jsx("main",{className:"_container",children:n.jsx(Ws,{})}),n.jsx(Qs,{}),n.jsx(Xs,{children:"Sharwa.Finance is in alpha. Use at your own risk"})]}),i=()=>n.jsx(fi,{chainId:e.id});return e!=null&&e.unsupported?i():t()}function er(){return n.jsxs(n.Fragment,{children:[n.jsx(ci,{}),n.jsx(qs,{}),n.jsx(Ht,{config:ei(),children:n.jsx(Ot,{children:n.jsx(Ci,{children:n.jsx(Js,{})})})})]})}Mt.createRoot(document.getElementById("root")).render(n.jsx(je.StrictMode,{children:n.jsx(er,{})}));
