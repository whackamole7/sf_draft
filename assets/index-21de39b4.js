import{j as n,r as h,a as Ie}from"./node_modules/react-8dbf0ba9.js";import{c as Xn}from"./node_modules/react-dom-5964a8fa.js";import{L as Qn,H as Jn}from"./node_modules/react-router-dom-886a23c9.js";import{c as E}from"./node_modules/classnames-f74ae127.js";import{c as ea,u as ta,a as na,b as aa,d as K,e as ia,f as sa,W as ra,g as oa}from"./node_modules/wagmi-d91eb072.js";import{p as pa,I as ua,q as la,r as ya,t as da}from"./node_modules/@wagmi-b7393cb3.js";import{L as ca}from"./node_modules/@lyrafinance-9864f6cc.js";import"./node_modules/cross-fetch-04a8fabb.js";import{G as ma,W as Ta,C as q,B as X,H as fa,I as Qt,J as Jt}from"./node_modules/@ethersproject-ddeba03c.js";import{i as te,u as Ne}from"./node_modules/swr-a3ebc545.js";import{Q as _t,k as ba,h as ha}from"./node_modules/react-toastify-f751e82e.js";import{S as xa,c as ga}from"./node_modules/react-select-9489d6f1.js";import{W as _a}from"./node_modules/react-tooltip-6c645e0a.js";import{b as ze,O as Ca,a as va,d as ka,e as ve,f as Sa}from"./node_modules/react-router-476c18f9.js";import{E as wa}from"./node_modules/react-error-boundary-e97eb6da.js";import{u as Pa,a as Ma,b as Ye,c as Ct}from"./node_modules/react-use-8c031cc1.js";import{R as vt}from"./node_modules/react-modal-cd54180e.js";import{I as Aa}from"./node_modules/react-icons-ba508276.js";import{f as en}from"./node_modules/date-fns-8fa817a4.js";import{u as kt}from"./node_modules/ethers-eef63365.js";import{A as Da,a as Ba}from"./node_modules/@szhsin-d0002c9a.js";import{r as Ea}from"./node_modules/swiper-4105a6d8.js";import"./node_modules/@uniswap-7dbc4954.js";import{S as Ia}from"./node_modules/rc-slider-6ebf543b.js";import{R as Oa,A as ja,X as Fa,Y as Na,T as La,a as Ra,b as $t,C as Ua}from"./node_modules/recharts-d2b262a1.js";import"./node_modules/scheduler-765c72db.js";import"./node_modules/@remix-run-06a34d2a.js";import"./node_modules/@tanstack-dc78ad19.js";import"./node_modules/use-sync-external-store-75b28473.js";import"./node_modules/@noble-c8e7831c.js";import"./node_modules/eventemitter3-2269f191.js";import"./node_modules/zustand-bfa6df6a.js";import"./node_modules/graphql-tag-9568edd7.js";import"./node_modules/graphql-6a9502bd.js";import"./node_modules/@apollo-b7627a8e.js";import"./node_modules/optimism-96b4f7fa.js";import"./node_modules/@wry-af370e25.js";import"./node_modules/ts-invariant-d603e89e.js";import"./node_modules/zen-observable-ts-47d5f8bb.js";import"./node_modules/symbol-observable-f2ed883d.js";import"./node_modules/bech32-5df13157.js";import"./node_modules/js-sha3-df4974fa.js";import"./node_modules/bn.js-a68d3b24.js";import"./node_modules/hash.js-0ef8e410.js";import"./node_modules/minimalistic-assert-7cc78341.js";import"./node_modules/inherits-2c87d58f.js";import"./node_modules/aes-js-6ca60d19.js";import"./node_modules/scrypt-js-c3ee04e4.js";import"./node_modules/clsx-1229b3e0.js";import"./node_modules/@babel-9a9b6246.js";import"./node_modules/@emotion-b4e53819.js";import"./node_modules/hoist-non-react-statics-23d96a9a.js";import"./node_modules/react-is-e8e5dbb3.js";import"./node_modules/stylis-79144faa.js";import"./node_modules/@floating-ui-1f2e0c5a.js";import"./node_modules/use-isomorphic-layout-effect-c83ae722.js";import"./node_modules/memoize-one-297ddbcb.js";import"./node_modules/@xobotyi-c2000ea3.js";import"./node_modules/prop-types-d4605d31.js";import"./node_modules/warning-883c7a3c.js";import"./node_modules/exenv-9baed461.js";import"./node_modules/react-lifecycles-compat-392b58c2.js";import"./node_modules/react-transition-state-1da90747.js";import"./node_modules/jsbi-a35364a5.js";import"./node_modules/tiny-invariant-bee4f299.js";import"./node_modules/decimal.js-light-6fe16ef2.js";import"./node_modules/big.js-da9df5c5.js";import"./node_modules/toformat-f9e404da.js";import"./node_modules/rc-util-5e169f03.js";import"./node_modules/react-resize-detector-72cb16c2.js";import"./node_modules/lodash-fe40a095.js";import"./node_modules/react-smooth-b00aa191.js";import"./node_modules/fast-equals-a0711cdd.js";import"./node_modules/victory-vendor-5e3e398c.js";import"./node_modules/d3-scale-4cce9527.js";import"./node_modules/internmap-7949acc8.js";import"./node_modules/d3-array-7d9b19f9.js";import"./node_modules/d3-time-format-aa787c71.js";import"./node_modules/d3-time-9ce187c0.js";import"./node_modules/d3-interpolate-8fa1f6ff.js";import"./node_modules/d3-color-6502c434.js";import"./node_modules/d3-format-ffdb8652.js";import"./node_modules/recharts-scale-170b47f7.js";import"./node_modules/d3-shape-9e788a4f.js";import"./node_modules/d3-path-41c4cb36.js";import"./node_modules/reduce-css-calc-e52c712f.js";import"./node_modules/css-unit-converter-9e08bb2c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();const Ha="/sf_draft/assets/Logo-258738bb.svg",tn=({className:e})=>n.jsx("div",{className:E("Logo",e),children:n.jsx("a",{className:"Logo__link",href:"/index.html",children:n.jsx("img",{src:Ha,alt:"Sharwa.Finance"})})});const St=({className:e,links:t,type:a})=>{const i=E(e,a&&`Links_${a}`);return n.jsx("div",{className:E("Links",i),children:t.map((s,r)=>{var y;const o=E("Links__item",s.isActive&&"active");return((y=s.to)==null?void 0:y.startsWith("http"))?n.jsx("a",{className:o,href:s.to,rel:"noreferrer",target:"_blank",children:s.name},s.to):n.jsx(Qn,{to:s.to,className:o,disabled:s.isDisabled,onClick:s.isDisabled&&(l=>l.preventDefault()),children:s.name},s.to??r)})})};const nn=e=>{const[t,a]=h.useState(!1),i=h.useCallback(()=>{document.removeEventListener("click",i),a(!1),e&&e()},[]);return{isOpen:t,openPopup:()=>{t||(a(!0),setTimeout(()=>{document.addEventListener("click",i)},10))},closePopup:i}},$a="/sf_draft/assets/wallet-fce3adf9.svg",qa="/sf_draft/assets/link-c9833cec.svg",Wa="/sf_draft/assets/cross_white-42eb5050.svg",Va="/sf_draft/assets/Arbitrum-299bccbf.svg",Ga="/sf_draft/assets/Arbitrum-299bccbf.svg",be=42161,Ze=10,wt=[be],Pt={[be]:{name:"Arbitrum",icon:Va},[Ze]:{name:"Optimism",icon:Ga,isDisabled:!0}},Ka=[{inputs:[{internalType:"address",name:"_exchanger",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module[]",name:"moduleArray",type:"tuple[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"exchanger",outputs:[{internalType:"contract Exchanger",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"module",outputs:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextBuildID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"exchangerAddress",type:"address"}],name:"setExchanger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module",name:"modData",type:"tuple"}],name:"setModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],za=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Ya=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Za=[{inputs:[{internalType:"address",name:"_proxySeller",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"}],name:"OpenPositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proxySeller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Xa=[{inputs:[{internalType:"address",name:"_erc721Address",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"TakeProfitSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"TakeProfitUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkTakeProfit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc721Contract",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveTakeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getExpirationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPayOffAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveTakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveTakes",type:"uint256"}],name:"setMaxActiveTakes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"setTakeProfit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"updateTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Qa=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ja=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ei=[{inputs:[{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_roleManager",type:"address"},{internalType:"address",name:"_weth9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes",name:"swapData",type:"bytes"}],name:"calculateMsgValue",outputs:[{internalType:"uint256",name:"value",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"msgValue",type:"uint256"}],name:"checkMsgValue",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromExchange",outputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],name:"encodeFromExchange",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"roleManager",outputs:[{internalType:"contract RoleManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"weth9",outputs:[{internalType:"contract IWETH9",name:"",type:"address"}],stateMutability:"view",type:"function"}],ti=[{inputs:[{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"contract IPositionsManager",name:"_manager",type:"address"},{internalType:"uint256",name:"_maxLockupPeriod",type:"uint256"},{internalType:"contract ICoverPool",name:"_coverPool",type:"address"},{internalType:"uint256",name:"_benchmark",type:"uint256"},{internalType:"contract IHegicStrategy[]",name:"initialStrategies",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Expired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Paid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Replenished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"acceptedStrategy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"addStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"benchmark",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"connectStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"coverPool",outputs:[{internalType:"contract ICoverPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"lockedByStrategy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lockedLiquidity",outputs:[{internalType:"enum IOperationalTreasury.LockedLiquidityState",name:"state",type:"uint8"},{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"},{internalType:"uint32",name:"expiration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedPremium",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"contract IPositionsManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLockupPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"mayBeAcceptedAtEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"account",type:"address"}],name:"payOff",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"replenish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setBenchmark",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalLocked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lockedLiquidityID",type:"uint256"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],ni=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"HEGIC_POOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"}],name:"createOptionFor",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721Metadata",name:"_uriBuilder",type:"address"}],name:"setURIBuilder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uriBuilder",outputs:[{internalType:"contract IERC721Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"}],ai=[{inputs:[{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"contract IPremiumCalculator",name:"_pricer",type:"address"},{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint8",name:"_spotDecimals",type:"uint8"},{internalType:"uint16",name:"_priceScale",type:"uint16"},{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"},{internalType:"uint48",name:"_exerciseWindowDuration",type:"uint48"},{internalType:"contract LimitController",name:"_limitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],indexed:!1,internalType:"struct IHegicStrategy.StrategyData",name:"data",type:"tuple"},{indexed:!1,internalType:"uint256",name:"negativepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positivepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"Acquired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"limit",type:"uint256"}],name:"SetLimit",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"",type:"bytes[]"}],name:"calculateNegativepnlAndPositivepnl",outputs:[{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"connect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"create",outputs:[{internalType:"uint32",name:"expiration",type:"uint32"},{internalType:"uint256",name:"negativePNL",type:"uint256"},{internalType:"uint256",name:"positivePNL",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exerciseWindowDuration",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"period",type:"uint32"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"getAvailableContracts",outputs:[{internalType:"uint256",name:"available",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLockedByStrategy",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isPayoffAvailable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"k",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"limitController",outputs:[{internalType:"contract LimitController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"optionID",type:"uint256"}],name:"payOffAmount",outputs:[{internalType:"uint256",name:"profit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positionExpiration",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IPremiumCalculator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48",name:"value",type:"uint48"}],name:"setK",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract LimitController",name:"value",type:"address"}],name:"setLimitController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IPremiumCalculator",name:"value",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"strategyData",outputs:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],ii=[{inputs:[{internalType:"int256[5]",name:"initialCoefficients",type:"int256[5]"},{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"uint256",name:"_tokenDecimals",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[3]",name:"values",type:"uint256[3]"}],name:"SetBorders",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetCoefficients",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountCall",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountPut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"values",type:"uint8"}],name:"SetDiscountSpread",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetImpliedVolRate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[4]",name:"values",type:"uint256[4]"}],name:"SetImpliedVolRates",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"min",type:"uint256"},{indexed:!1,internalType:"uint256",name:"max",type:"uint256"}],name:"SetPeriodLimits",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetSettlementFeeShare",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetStrikePercentage",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"strike",type:"uint256"}],name:"calculatePremium",outputs:[{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"coefficients",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"setCoefficients",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],si=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],ri=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],oi=[{inputs:[{internalType:"address",name:"_lyraRegister",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardAlreadySettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"BoardExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardIsFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum IOptionMarket.NonZeroValues",name:"valueType",type:"uint8"}],name:"ExpectedNonZeroValue",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"InvalidStrikeId",type:"error"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"fullQuotes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"}],pi=[{inputs:[{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"},{internalType:"address",name:"_underlyingAsset",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"uint256",name:"rfr",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{components:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],internalType:"struct Types.OptionParams",name:"_optionParams",type:"tuple"},{internalType:"address",name:"_authority",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidAmount",type:"error"},{inputs:[],name:"InvalidDecimals",type:"error"},{inputs:[],name:"InvalidShareAmount",type:"error"},{inputs:[],name:"IssuanceFailed",type:"error"},{inputs:[],name:"LiabilitiesGreaterThanAssets",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NotHandler",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"OptionStrikeInvalid",type:"error"},{inputs:[],name:"ReactorAlreadyExists",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TradingNotPaused",type:"error"},{inputs:[],name:"TradingPaused",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{inputs:[],name:"WithdrawExceedsLiquidity",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrowReturned",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"}],name:"BuybackOption",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"DepositEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"InitiateWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256",name:"deltaChange",type:"int256"}],name:"RebalancePortfolioDelta",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralReturned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLost",type:"uint256"},{indexed:!1,internalType:"address",name:"closer",type:"address"}],name:"SettleVault",type:"event"},{anonymous:!1,inputs:[],name:"TradingPaused",type:"event"},{anonymous:!1,inputs:[],name:"TradingUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"WithdrawalEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrow",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"}],name:"WriteOption",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lpCollateralDifference",type:"uint256"},{internalType:"bool",name:"addToLpBalance",type:"bool"}],name:"adjustCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"optionsValue",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"bool",name:"isSale",type:"bool"}],name:"adjustVariables",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"bufferPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"auth",type:"bool"}],name:"changeHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"checkBuffer",outputs:[{internalType:"int256",name:"bufferRemaining",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAllocated",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"completeWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"depositEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"depositEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depositReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint256",name:"unredeemedShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralLiabilities",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"executeEpochCalculation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExternalDelta",outputs:[{internalType:"int256",name:"externalDelta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getHedgingReactors",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"isPut",type:"bool"},{internalType:"uint256",name:"underlyingPrice",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"expiration",type:"uint256"}],name:"getImpliedVolatility",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNAV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPortfolioDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVolatilityFeed",outputs:[{internalType:"contract VolatilityFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"seller",type:"address"}],name:"handlerBuybackOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"handlerIssue",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerIssueAndWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"hedgingReactors",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"initiateWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isTradingPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPriceDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTimeDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionParams",outputs:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"partitionedFunds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseTradingAndRequest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"pauseUnpauseTrading",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingDeposits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingWithdrawals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"uint256",name:"reactorIndex",type:"uint256"}],name:"rebalancePortfolioDelta",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"},{internalType:"bool",name:"_override",type:"bool"}],name:"removeHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resetEphemeralValues",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bufferPercentage",type:"uint256"}],name:"setBufferPercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralCap",type:"uint256"}],name:"setCollateralCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_reactorAddress",type:"address"}],name:"setHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxPriceDeviationThreshold",type:"uint256"}],name:"setMaxPriceDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxTimeDeviationThreshold",type:"uint256"}],name:"setMaxTimeDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_newMinCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMinPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMinExpiry",type:"uint128"},{internalType:"uint128",name:"_newMaxExpiry",type:"uint128"}],name:"setNewOptionParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"}],name:"settleVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdrawalEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdrawalReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"shares",type:"uint128"}],stateMutability:"view",type:"function"}],ui=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidExpiry",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesAltered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesApproved",type:"event"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"approvedOptions",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"changeOptionBuyOrSell",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"expirations",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExpirations",outputs:[{internalType:"uint64[]",name:"",type:"uint64[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"bool",name:"isPut",type:"bool"}],name:"getOptionDetails",outputs:[{internalType:"uint128[]",name:"",type:"uint128[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"getOptionStores",outputs:[{components:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct OptionCatalogue.OptionStores",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isBuyable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isSellable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"issueNewSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],name:"optionDetails",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"optionStores",outputs:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"}],li=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_addressBook",type:"address"},{internalType:"uint256",name:"_slippageGradient",type:"uint256"},{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IVNotFound",type:"error"},{inputs:[],name:"InvalidMultiplierValue",type:"error"},{inputs:[],name:"InvalidMultipliersArrayLength",type:"error"},{inputs:[],name:"InvalidTenorArrayLength",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__LogInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__LogInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__SqrtOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newBidAskIVSpread",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldBidAskIVSpread",type:"uint256"}],name:"BidAskIVSpreadChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newCollateralLendingRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldCollateralLendingRate",type:"uint256"}],name:"CollateralLendingRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newDeltaBandWidth",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldDeltaBandWidth",type:"uint256"}],name:"DeltaBandWidthChanged",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"newDeltaBorrowRates",type:"tuple"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"oldDeltaBorrowRates",type:"tuple"}],name:"DeltaBorrowRatesChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newFeePerContract",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldFeePerContract",type:"uint256"}],name:"FeePerContractChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaSellOptionFlatIV",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaSellOptionFlatIV",type:"uint256"}],name:"LowDeltaSellOptionFlatIVChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaThreshold",type:"uint256"}],name:"LowDeltaThresholdChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newRiskFreeRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldRiskFreeRate",type:"uint256"}],name:"RiskFreeRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newSlippageGradient",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldSlippageGradient",type:"uint256"}],name:"SlippageGradientChanged",type:"event"},{anonymous:!1,inputs:[],name:"SlippageGradientMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadCollateralMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadDeltaMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"TenorParamsSet",type:"event"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"bidAskIVSpread",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralLendingRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBandWidth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBorrowRates",outputs:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feePerContract",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_deltaBandWidth",type:"uint256"},{internalType:"uint16",name:"_numberOfTenors",type:"uint16"},{internalType:"uint16",name:"_maxTenorValue",type:"uint16"},{components:[{internalType:"int80[]",name:"callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadDeltaMultipliers",type:"int80[]"}],internalType:"struct BeyondPricer.DeltaBandMultipliers[]",name:"_tenorPricingParams",type:"tuple[]"}],name:"initializeTenorParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaSellOptionFlatIV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTenorValue",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"numberOfTenors",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bool",name:"isSell",type:"bool"},{internalType:"int256",name:"netDhvExposure",type:"int256"}],name:"quoteOptionPrice",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"int256",name:"totalDelta",type:"int256"},{internalType:"uint256",name:"totalFees",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bidAskIVSpread",type:"uint256"}],name:"setBidAskIVSpread",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"}],name:"setCollateralLendingRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],name:"setDeltaBorrowRates",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_feePerContract",type:"uint256"}],name:"setFeePerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaSellOptionFlatIV",type:"uint256"}],name:"setLowDeltaSellOptionFlatIV",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaThreshold",type:"uint256"}],name:"setLowDeltaThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_slippageGradient",type:"uint256"}],name:"setSlippageGradient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSlippageGradientMultipliers",type:"int80[]"}],name:"setSlippageGradientMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadCollateralMultipliers",type:"int80[]"}],name:"setSpreadCollateralMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadDeltaMultipliers",type:"int80[]"}],name:"setSpreadDeltaMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"slippageGradient",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],yi=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_pricer",type:"address"},{internalType:"address",name:"_addressbook",type:"address"},{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_feeRecipient",type:"address"},{internalType:"address",name:"_catalogue",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CloseSizeTooLarge",type:"error"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"ForbiddenAction",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NonExistentOtoken",type:"error"},{inputs:[],name:"NonWhitelistedOtoken",type:"error"},{inputs:[],name:"NothingToClose",type:"error"},{inputs:[],name:"OperatorNotApproved",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"PoolFeeNotSet",type:"error"},{inputs:[],name:"PremiumTooSmall",type:"error"},{inputs:[],name:"SeriesNotBuyable",type:"error"},{inputs:[],name:"SeriesNotSellable",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TokenImbalance",type:"error"},{inputs:[],name:"TooMuchSlippage",type:"error"},{inputs:[],name:"TradeTooLarge",type:"error"},{inputs:[],name:"TradeTooSmall",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{inputs:[],name:"UnauthorisedSender",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"}],name:"OptionsIssued",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"}],name:"OptionsRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsSold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOptionExchange",type:"address"},{indexed:!1,internalType:"address",name:"otoken",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"OtokenMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"}],name:"RedemptionSent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"addressbook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bool",name:"",type:"bool"}],name:"approvedCollateral",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"catalogue",outputs:[{internalType:"contract OptionCatalogue",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isApproved",type:"bool"}],name:"changeApprovedCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint128",name:"strikeDecimalConverted",type:"uint128"},{internalType:"bool",name:"isSell",type:"bool"}],name:"checkHash",outputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"createOtoken",outputs:[{internalType:"address",name:"series",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDelta",outputs:[{internalType:"int256",name:"delta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"getOptionDetails",outputs:[{internalType:"address",name:"",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"",type:"tuple"},{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolDenominatedValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"_delta",type:"int256"}],name:"hedgeDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"heldTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum CombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct CombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct CombinedActions.OperationProcedures[]",name:"_operationProcedures",type:"tuple[]"}],name:"operate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolFees",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract BeyondPricer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_series",type:"address[]"},{internalType:"uint256[]",name:"amountOutMinimums",type:"uint256[]"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_catalogue",type:"address"}],name:"setOptionCatalogue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"}],name:"setPoolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pricer",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_minTradeSize",type:"uint256"},{internalType:"uint256",name:"_maxTradeSize",type:"uint256"}],name:"setTradeSizeLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOptionExchange",type:"address"},{internalType:"address[]",name:"otokens",type:"address[]"}],name:"transferOtokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"update",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],di=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"},{internalType:"address",name:"_protocol",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IncorrectSeriesToRemove",type:"error"},{inputs:[],name:"MaxNetDhvExposureExceeded",type:"error"},{inputs:[],name:"NoShortPositions",type:"error"},{inputs:[],name:"NoVaultForShortPositions",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"seriesAddress",type:"address"}],name:"OptionHasExpiredInStores",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"SeriesNotExpired",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"underlying",type:"address"},{indexed:!0,internalType:"address",name:"strike",type:"address"},{indexed:!1,internalType:"int256",name:"delta",type:"int256"},{indexed:!1,internalType:"int256",name:"gamma",type:"int256"},{indexed:!1,internalType:"int256",name:"vega",type:"int256"},{indexed:!1,internalType:"int256",name:"theta",type:"int256"},{indexed:!1,internalType:"int256",name:"callPutsValue",type:"int256"}],name:"DataFullfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxNetDhvExposure",type:"uint256"}],name:"MaxNetDhvExposureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"int256",name:"oldNetDhvExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"newNetDhvExposure",type:"int256"}],name:"NetDhvExposureChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_underlying",type:"address"},{indexed:!1,internalType:"address",name:"_strike",type:"address"}],name:"RequestedUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"seriesAddress",type:"address"},{indexed:!1,internalType:"int256",name:"shortExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"longExposure",type:"int256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],indexed:!1,internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"StoresUpdated",type:"event"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"accountLiquidatedSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"addressAtIndexInSet",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"addressSetLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"cleanLooperManually",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"}],name:"fulfill",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddressSet",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strike",type:"address"}],name:"getPortfolioValues",outputs:[{components:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"gamma",type:"int256"},{internalType:"int256",name:"vega",type:"int256"},{internalType:"int256",name:"theta",type:"int256"},{internalType:"int256",name:"callPutsValue",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],internalType:"struct Types.PortfolioValues",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_a",type:"address"}],name:"isAddressInSet",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxNetDhvExposure",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPortfolioValuesFeed",name:"_migrateContract",type:"address"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"netDhvExposure",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"}],name:"requestPortfolioData",outputs:[{internalType:"bytes32",name:"id",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rfr",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_liquidityPool",type:"address"}],name:"setLiquidityPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"}],name:"setMaxNetDhvExposure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"_optionHashes",type:"bytes32[]"},{internalType:"int256[]",name:"_netDhvExposures",type:"int256[]"}],name:"setNetDhvExposures",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rfr",type:"uint256"}],name:"setRFR",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"storesForAddress",outputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"syncLooper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"},{internalType:"address",name:"_seriesAddress",type:"address"}],name:"updateStores",outputs:[],stateMutability:"nonpayable",type:"function"}],ci=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],qt=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],mi=[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],ne=1e3,Mt=60,$e=60,qe=24,an=e=>e*qe*$e*Mt*ne,Ti=e=>Math.floor(e/ne/Mt/$e/qe),Xe=e=>Math.floor(e/ne),fi=e=>{const t=e/ne/Mt/$e,a=Math.floor(t%qe),i=Math.floor(t/qe),s=Math.floor(t*$e);return a===0&&i===0?`${s}m`:`${i}d:${a}h`},bi={[be]:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",[Ze]:""},G=e=>{const t=bi[e];if(!t)throw new Error(`No Alchemy api key found for chainId ${e}`);return new ma(e,t)},sn=e=>new ca({provider:G(e)}),_e=()=>{if(!window.ethereum)throw new Error("No Ethereum provider found");return new Ta(window.ethereum).getSigner()},hi="/sf_draft/assets/ETH-fe35d2b1.svg",xi="/sf_draft/assets/BTC-03fbacc9.svg",gi="/sf_draft/assets/WETH-2ba67e25.svg",_i="/sf_draft/assets/WBTC-f0287338.svg",Wt="/sf_draft/assets/USDC-5a7f3d86.svg",Ci="/sf_draft/assets/USDT-2e53b5e9.svg",vi="/sf_draft/assets/DAI-b460716b.svg",Qe={[be]:[{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",isETH:!0,icon:hi,isSwappable:!0},{name:"Bitcoin",symbol:"BTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:xi},{name:"Wrapped Ethereum",symbol:"WETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:gi,isSwappable:!0},{name:"Wrapped Bitcoin",symbol:"WBTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:_i,isSwappable:!0},{name:"Dai",symbol:"DAI",decimals:18,address:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",icon:vi,isSwappable:!0,isStable:!0},{name:"USD Coin",symbol:"USDC",decimals:6,address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",icon:Wt,isSwappable:!0,isStable:!0},{name:"USDC.e",symbol:"USDC.e",decimals:6,address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",icon:Wt,isSwappable:!0,isStable:!0},{name:"Tether",symbol:"USDT",decimals:6,address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",icon:Ci,isSwappable:!0,isStable:!0}]},We={},Ve={},Vt=Object.keys(Qe);for(let e=0;e<Vt.length;e++){const t=Vt[e];We[t]={},Ve[t]={};let a=Qe[t];for(let i=0;i<a.length;i++){const s=a[i];We[t][s.symbol]=s,Ve[t][s.address]=s}}const pe=(e,t)=>{if(!We[e])throw new Error(`No tokens found for chainId ${e}`);const i=We[e][t];if(!i)throw new Error(`Incorrect symbol "${t}" for chainId ${e}`);return i},Gt=(e,t)=>{if(!Ve[e])throw new Error(`No tokens found for chainId ${e}`);const i=Ve[e][t];if(!i)throw new Error(`Incorrect address "${t}" for chainId ${e}`);return i},ki=e=>{const t=Qe[e];if(!t)throw new Error(`No tokens found for chainId ${e}`);return t.filter(i=>i.isSwappable)},rn=e=>pe(e,"USDC.e").address,on=e=>pe(be,e).icon,Be={[be]:{TxBuilder:{address:"0x9C22123ffecAf575F93e5FA21DEeb43696A10ad3",abi:Ka},TxBuilderOpen_Lyra_BTC:{address:"0x90481D5ed869be0E5bf11e5a2a8dCF632b9FAEf5",abi:za},TxBuilderOpen_Lyra_ETH:{address:"0x0aaE7bFE3D404Bb6BA3502Ced966Aea6c4F17222",abi:Ya},TxBuilderOpen_Hegic:{address:"0xBe5aE8dbB22fa18BeBA05057a171266383a8d5B7",abi:Za},StopOrder_Hegic:{address:"0x83ca705E8eEE363b16935D5FCbC3514530d41C74",abi:Xa},StopOrder_Lyra_BTC:{address:"0xDE51a10A711412353e825623F58F56d9D0EA98cF",abi:Qa},StopOrder_Lyra_ETH:{address:"0x06a6815b91c88BDa19832Ada861077e123C34FFb",abi:Ja},Exchanger:{address:"0x2f7e0Ee16FFd6BA0721158F74934Ff0e42Df6131",abi:ei},Hegic_OperationalTreasury:{address:"0xec096ea6eB9aa5ea689b0CF00882366E92377371",abi:ti},Hegic_PositionManager:{address:"0x5fe380d68fee022d8acd42dc4d36fbfb249a76d5",abi:ni},Hegic_Strategy:{abi:ai},Hegic_PriceCalculator:{abi:ii},Lyra_OptionToken_BTC:{address:"0x0e97498F3d91756Ec7F2d244aC97F6Ea9f4eBbC3",abi:si},Lyra_OptionToken_ETH:{address:"0xe485155ce647157624C5E2A41db45A9CC88098c3",abi:ri},Lyra_Quoter:{address:"0x23236b4c7772636b5224df56Be8168A2f42df31C",abi:oi},Rysk_LiquidityPool:{address:"0x217749d9017cB87712654422a1F5856AAA147b80",abi:pi},Rysk_OptionCatalogue:{address:"0x44227Dc2a1d71FC07DC254Dfd42B1C44aFF12168",abi:ui},Rysk_BeyondPricer:{address:"0xeA5Fb118862876f249Ff0b3e7fb25fEb38158def",abi:li},Rysk_OptionExchange:{address:"0xC117bf3103bd09552F9a721F0B8Bce9843aaE1fa",abi:yi},Rysk_AlphaPortfolioValuesFeed:{address:"0xc7abaec336098cd0dcd98b67cb14d3b18e1c68a8",abi:di},Chainlink_BTC:{address:"0x6ce185860a4963106506C203335A2910413708e9",abi:qt},Chainlink_ETH:{address:"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612",abi:qt},Uniswap_Quoter:{address:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",abi:mi}},[Ze]:{}},Si=()=>{for(const e in Be){const t=Be[e],a=Qe[e];a&&(a.forEach(i=>{i.isETH||(t[i.symbol]={address:i.address,abi:ci})}),Be[e]={...t})}};Si();const W=(e,t)=>{if(!Be[e])throw new Error(`Unknown chainId ${e}`);const a=Be[e][t];if(!a)throw new Error(`Unknown contract "${t}" for chainId ${e}`);return[a.address,a.abi]},wi=(e,t)=>W(e,t)[0],pn=(e,t)=>W(e,t)[1],Pi={[be]:{short:{CALL_100_BTC:"0x527d1086C3DD22FcdB338F69D47A1e4bFE11E539",CALL_100_ETH:"0x09a4B65b3144733f1bFBa6aEaBEDFb027a38Fb60",CALL_110_BTC:"0x377191F680b52ce3d0060388fEF01be7ef68e3d5",CALL_110_ETH:"0xF48f571DdD77dba9Ae10fefF6df04484685091D9",CALL_120_BTC:"0x8Fb8529695237D4004cffb21499e7E49E982786a",CALL_120_ETH:"0x96416b82C9DFA7649570c784Eb0D0FFcDE361cFE",CALL_130_BTC:"0x32563D6151891c0A8d56eD644AcDEa6FE5f4E4eB",CALL_130_ETH:"0xf8b8b54bE1Eb37E76873670Ac9DE3C28b507142C",PUT_100_BTC:"0xA8DF600289bEc25602741756f55f27ffFDAB69a6",PUT_100_ETH:"0xaA0DfBFb8dA7f45BB41c0fB68B71FAEB959B22aa",PUT_70_BTC:"0x7066286C1AA0FeBE0f63eF8a44F6Fea9F05FFBE0",PUT_70_ETH:"0x35EF16F3c329a54050Ca120145340dfC2b4F9541",PUT_80_BTC:"0x06c3Ba025bEd24Ea38c2BdDA4bcD2A7F9f5C30e1",PUT_80_ETH:"0x77C8d12d9E2D21f6eE02E8ccA332fDe4BE5C2465",PUT_90_BTC:"0xe115beD3b0752BBbbEF5C423021b464bBF93dC2c",PUT_90_ETH:"0x6B7e5906F53d8bB365f4A6fA776Fd0f0caf57881","CALL-SPREAD_10_BTC":"0x5D0bc0d08e8A7C09d10df9BB2498f1d4aB986e6A","CALL-SPREAD_10_ETH":"0x5c59f7ec23C0Bace3B1959C99A43FFd30078E5bE","CALL-SPREAD_20_BTC":"0x597cdD5D4CEC7FA2851Cc0cfd93d6915c926a107","CALL-SPREAD_20_ETH":"0x4490ad3c0c1A61061E88a3eaD661bFe16225A370","CALL-SPREAD_30_BTC":"0xc822F483dAE467721123eA60D3D233e7ac68802f","CALL-SPREAD_30_ETH":"0x610D7feB49DD18BBC20E4dbe600c53E1cDf6d9F1","PUT-SPREAD_10_BTC":"0x45b9D63F1998ca31151981792849a64342C88631","PUT-SPREAD_10_ETH":"0xc4C3b5050D574CBF3eE0b613104cF5C4E47625d4","PUT-SPREAD_20_BTC":"0x606e34C7008f1425C3a69446de4cAd3D7c6fd96D","PUT-SPREAD_20_ETH":"0xa1c290D16E2290EA536a13Ba7cc3Df0000A0f1A6","PUT-SPREAD_30_BTC":"0x71D89f44C71252f319Cd9652f7886c3834685A58","PUT-SPREAD_30_ETH":"0x8F11Ed84e9Dc76db4392b428A0eAF98Ce72c3752"},medShort:{CALL_100_BTC:"0x20ee3e61e8f1eB8ae959abf5F78bA8731d010Ac3",CALL_100_ETH:"0x6418C3514923a6464A26A2ffA5f17bF1efC96a21",CALL_110_BTC:"0xaFA483B18FE66251C8306C7018028f674F653012",CALL_110_ETH:"0xaF38a4d9153B149F05FA85C2cCFAaA677c99040E",CALL_120_BTC:"0xFe35F1AB7e18930d4316B86fCefBCF053bf44A45",CALL_120_ETH:"0x1060e80c1156060a1E8DdB9C64Afe74564865Ee2",CALL_130_BTC:"0xe4DB400BFC4D627559D592db4ca2839cb87Fbbfc",CALL_130_ETH:"0xc00103524932d86770d4F671107b0E170BD0fe6c",PUT_100_BTC:"0xE0f083fd87ebAEBFCfa8236098048105d32639E4",PUT_100_ETH:"0x2739A4C003080A5B3Ade22b92c3321EDa2Da3A9e",PUT_70_BTC:"0x52442a8C632D4c998A8BDBf44A70481AA5599b0e",PUT_70_ETH:"0x48EcF46Aa51992a064aB172439ABFE182F39b478",PUT_80_BTC:"0xb02343D33d2447870E38b3452Ef59d0De7b3289d",PUT_80_ETH:"0xb58ccd922B57422d0497904B7D9fccB922b8aaDf",PUT_90_BTC:"0x7d0c3FDF0e8A6f475Ed1834ae05fDa1E519fd227",PUT_90_ETH:"0x3e2a0fE32Cc000d87D9e5D6ed8b3D64e9c74C752","CALL-SPREAD_10_BTC":"0x6FF946F2BB609B63910a774E193F29CdE7E8fD5f","CALL-SPREAD_10_ETH":"0x0ac1995C43B5566760AD1D88B812f3e51e12eCc6","CALL-SPREAD_20_BTC":"0x7E8e5eaD9A1b8F0533F614a736214a95835c79d7","CALL-SPREAD_20_ETH":"0x1068daF4CD8fDe2000B6FbE8Ec94F106dc08a40E","CALL-SPREAD_30_BTC":"0x3b4900D5a20dbEbCE44eDF8f6B68Dae32E990Ed0","CALL-SPREAD_30_ETH":"0x24db3145F45aAF2c54f586C66b801c42c8658671","PUT-SPREAD_10_BTC":"0x88386f02c46d8D7b2C9E4aEf3b4246A438F72693","PUT-SPREAD_10_ETH":"0x31e6Cd148fe51830E7a97262eE9cf52Fe5256B08","PUT-SPREAD_20_BTC":"0x72Ac8A96b8E79466AdcE711EcBD1Ec5968b371C8","PUT-SPREAD_20_ETH":"0x9e1072E5119C9345d9543a5Ba1EFeDBAE9bEF2AD","PUT-SPREAD_30_BTC":"0x01381e0EDdB57678257179d2cB472C3e8e54202c","PUT-SPREAD_30_ETH":"0xE8dD9Cc3A4Bd078f3D36043f259381d5B50D4B45"},medLong:{CALL_100_BTC:"0x21a4b4441AA957735902507A72A58A3a1Caaa0dC",CALL_100_ETH:"0xE377A1a97237b3B89a96d8B731A2ab10d5DaC16C",CALL_110_BTC:"0x6c46e2531a42F618F2ae452971DC9a7c6AD48D15",CALL_110_ETH:"0x05458B7d9531EaD242290De60bEaa3cC10C87560",CALL_120_BTC:"0xe259410Bbfb45CE89FDA81ec0A97d36Da8Db4374",CALL_120_ETH:"0x79F87E88088293FE34dEf4eBe71fBFa5367220B4",CALL_130_BTC:"0x27806482457FC98F9C2e724b5E604C66BB5ba121",CALL_130_ETH:"0xae2F4e15564995af79b7dd2378B2680f7Facc342",PUT_100_BTC:"0x035b965c5B7bC20E00358ACF1794d2248eA1932A",PUT_100_ETH:"0xf711D0BC60F37cA28845BA623ccd9C635E5073A1",PUT_70_BTC:"0x55c4532e1790592120b7b27436842caD203E7CD3",PUT_70_ETH:"0xF55F6d98e2F48F8D46757D5A6e225bf0ADC9651C",PUT_80_BTC:"0x8dD239e0e51BCAAd503b06D818ce811e7D99c1Af",PUT_80_ETH:"0xdF30cdb7abb3Ca707b82359A349D3b0C94d4a421",PUT_90_BTC:"0xE56BEAfAe4731A21eF83fe81F63b95055e81E374",PUT_90_ETH:"0x33a4B4403B8C6349371CbDf539138D78ec0Aab66","CALL-SPREAD_10_BTC":"0x8e3063D5dCbe66E58053C3Bc8E0BC8dDFe43D585","CALL-SPREAD_10_ETH":"0xBB318170Ce1c2dc79B564f33F92BacaadaBd22de","CALL-SPREAD_20_BTC":"0x324be893029D982c187F0333E7aa1d44365d2676","CALL-SPREAD_20_ETH":"0xb89d7eB2bc675347BEb685ff1bE1557E983beFe1","CALL-SPREAD_30_BTC":"0x530289340C6d2Ef02140054Ae7F91C293fd586CF","CALL-SPREAD_30_ETH":"0x929d20D9e1A6A90bf057857C8BA09271f1BaadA2","PUT-SPREAD_10_BTC":"0x7267091cFc9825a4A1dF36C26d412FeFD788d935","PUT-SPREAD_10_ETH":"0x2B93645f310E016c1a6d1738DCec0f18621F71d0","PUT-SPREAD_20_BTC":"0x9ab2f8530150799CDdAC35799d18Ad2fe05Bf8c3","PUT-SPREAD_20_ETH":"0x4EE21aB8bc165Cd3e6C45676F9f64426Ffc2d67b","PUT-SPREAD_30_BTC":"0xBa883223A1757eEB781d02C383926c308d4843f4","PUT-SPREAD_30_ETH":"0xf87C8C7587055FA62082E8ed447fe68D98805fF2"},long:{CALL_100_BTC:"0xc07fBf677f417bb9FfDD8248A74c7FBcCFaDAe9e",CALL_100_ETH:"0x2727B807D22fCAeB7F900F49894054Ed92b9125B",CALL_110_BTC:"0x14d25367102A931E2E2F587F4ED94087dc585fd0",CALL_110_ETH:"0xE53a20c824cEAB8151AF8Fc92E7Eb689cFbD1231",CALL_120_BTC:"0xBAbccB37338488AFBaBECAE2C3D21b9a71289A73",CALL_120_ETH:"0xB7b36483B256290435a060805bdF15B3f2b122eb",CALL_130_BTC:"0x9fA4DFfBE3B129988e0d09536b0E2D74F6bF7D91",CALL_130_ETH:"0x4dC39763ccC861dB1c8e80c34C0079c9A12f03E4",PUT_100_BTC:"0xEd46f602212d1CbaCd699C876b4A49761421bf97",PUT_100_ETH:"0x015FAA9aF7599e6cea597EBC7e7e04A149a3E992",PUT_70_BTC:"0xa26541ccE18CcC6E21360562d34044ceb3B5A40e",PUT_70_ETH:"0x5BBe6C4A66D4a48442dc0837a0eA859a11D7766C",PUT_80_BTC:"0xFD203c73851986ad7e7B99457AeafF3d98e76228",PUT_80_ETH:"0x7FD5E8B2Ef25A105bf6B1c45f62d8925Eaa068Bc",PUT_90_BTC:"0x02d730e3dEb3B5876fE2Cba59423ef1Db8211DA1",PUT_90_ETH:"0x3031EA515c2274024D93A8D3BfA91ce920E1192E","CALL-SPREAD_10_BTC":"0x0c1C4D9dFd51093bE1e4Bab1b565113B339835F6","CALL-SPREAD_10_ETH":"0xCe5e136688A1553C67b3B39Ff5366595dD0F771E","CALL-SPREAD_20_BTC":"0x7b92a9f268bab14F0FAee4337B01D563AE132Bc3","CALL-SPREAD_20_ETH":"0xe3F646CB987a9d16eb71B8d0883744e55c95862a","CALL-SPREAD_30_BTC":"0x223b806Bab0CA844a91b247fE0Ba179E11EAA728","CALL-SPREAD_30_ETH":"0x199DB958f00F150438E5b9276ff30617D3f83ebF","PUT-SPREAD_10_BTC":"0x66F54921b32cCA36767D2C272Dda64D5152B92C4","PUT-SPREAD_10_ETH":"0xfcd40dDe82b699D455B3D073196d580227C2Fba6","PUT-SPREAD_20_BTC":"0x8c77f5427B40ab2414dC9bca48c74928BFe17Dd1","PUT-SPREAD_20_ETH":"0xbAe8114E3A2EA5aF5e2b3c8F6FF37714f6D4afFB","PUT-SPREAD_30_BTC":"0x6D79b82701e4017887d499Ba131FD336ceA6A4CC","PUT-SPREAD_30_ETH":"0x9945Eb8ac1F4c524fe7Da710ff3068969A329fBA"}}},Mi={[be]:{PUT_100_BTC:"0x4567600c2c813322F0CBb358a8d083296A7eEA37",PUT_100_ETH:"0xB72FC913e45522cD721252476fEfB7F50a65E23A",PUT_70_BTC:"0x3aFbaf00a6C42e6BE67f8a618b17fB3D441C1898",PUT_70_ETH:"0xf3625e26cb920f762dEC8DB4fE4845E9384313C0",PUT_80_BTC:"0x9C3BBe90191F8311939A34737c02A6B49e27caA5",PUT_80_ETH:"0x58051Cb78094551afC202C50085B13bF00BF624E",PUT_90_BTC:"0x56A2dC3fAc4bE0A1716c938295e141195e4A1cb3",PUT_90_ETH:"0x1AF37c8412bCdAa6C6dD4D2E2aDae2B8292603D4",CALL_100_BTC:"0xAA4483Da5c4D17830dE9a843d07C37b3eC028d9F",CALL_100_ETH:"0xC62a0b7e480a23BdCfe13EA08BDAceDc278a14C1",CALL_110_BTC:"0x04BFC83f6277cf50dFB032EFd348316aACbD7863",CALL_110_ETH:"0x6316BC5f5dF141ae88C436Fe6047D334f1B7e485",CALL_120_BTC:"0x965Ded687bc0Da3388c6925e0Eb330bD44629B77",CALL_120_ETH:"0x321F8A71e8268f50eBd2f748D524E7750AD70798",CALL_130_BTC:"0x4b350b7457b54C5A76828f81472f2719D801D0D5",CALL_130_ETH:"0xffdc9da896d3301DE596b16a389138B70b1CBAdb","CALL-SPREAD_10_BTC":"0xD3872581C3f7DE832Ecc9Aa51eb525AC9Ffc41d2","CALL-SPREAD_10_ETH":"0x3BC74C993e1E85ffB5e242402aEc3e90DCfa249f","CALL-SPREAD_20_BTC":"0x7f6a7d60c6f7ac50BD0efA677D397d9cd61fC3a9","CALL-SPREAD_20_ETH":"0x8C335E897B04B2Ca569Ec733f6242cDe33917094","CALL-SPREAD_30_BTC":"0x631c5EFb3e9D2536F9c9c9d7635e2B01363C51C5","CALL-SPREAD_30_ETH":"0xAe4897D4d3742F7f9C6A1eA01447EA3061bD6de2","PUT-SPREAD_10_BTC":"0xa4A32102a2c1d3Bf01A73B66571B440795835ff5","PUT-SPREAD_10_ETH":"0x5a4Dc7011CA0be61c42957cDC36D508d45010D8B","PUT-SPREAD_20_BTC":"0x0cC3559beCa7bB605348B1a7B4D90963672C880a","PUT-SPREAD_20_ETH":"0xeb38c2Ba3125733e9636eAB7C3c2e7a2C4A11534","PUT-SPREAD_30_BTC":"0x4CE72803543da3f563Ef76592945C57FBE7fce38","PUT-SPREAD_30_ETH":"0xDB044975100aE87d0eEDd804D9E6083a8406fdAe"}},At=e=>{const t=Pi[e];if(!t)throw new Error(`No Hegic strategies found for chainId ${e}`);return t},Ai=(e,t)=>{const a=At(e),i=Ti(t);if(i<7||i>90)return;let s;return i<14?s=a.short:i<30?s=a.medShort:i<60?s=a.medLong:i<=90&&(s=a.long),s},Di=e=>{const t={},a=At(e);return Object.values(a).forEach((i,s)=>{const r=Object.keys(t)[s];for(const o in i){const p=i[o];t[`${o}_${r}`]=p}}),t},Bi=e=>{const t=At(e),a=[];return Object.values(t).forEach(i=>{a.push(...Object.values(i))}),a},Ei=(e,t)=>{const a=Mi[e];if(!a)throw new Error(`No Hegic Price Calculator address found for chainId ${e}`);const i=a[t];if(!i)throw new Error(`No Hegic Price Calculator address found for strategy key ${t}`);return i},un=(e,t,a)=>{const i=pn(e,`Hegic_${a}`);return new q(t,i,G(e))},Ii=(e,t)=>{const a=Ei(e,t);return un(e,a,"PriceCalculator")},ln=(e,t)=>un(e,t,"Strategy"),Dt=["ETH","BTC"],J=18,Oi=18,ji=8,mt=6,Bt={ETH:Oi,BTC:ji},Fi=8,Ni=8,Ee=6,yn=2,dn=3,Li=e=>{let t=e.reason??e.message;return t==="Internal JSON-RPC error."&&(t=e.data.message),t},Ri=e=>e.includes("User rejected the request")?"User rejected the request.":e.includes("user rejected transaction")?"User rejected transaction.":e.includes("Request of type 'wallet_switchEthereumChain' already pending")?"Switching network request is already pending.":e.includes("Connector already connected")?"Wallet is already connected.":e.includes("Already processing eth_requestAccounts")?"Please, log in to your wallet account.":e.includes("Too little received")?"Slippage set too low. Please consider increasing it for successful strategy purchase.":e,le=e=>{if(typeof e!="bigint")throw new TypeError(`Invalid BigInt: ${e}`)},cn=e=>{if(typeof e!="number"&&typeof e!="string")throw new TypeError(`Invalid amount: ${e}`)},Ui=e=>{if(typeof e!="string")throw new TypeError(`Invalid String: ${e}`)},ie=(e,t=",")=>{cn(e);const a=e.toString().split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,t),a.join(".")},Hi=e=>{cn(e);const t=e.toString(),a=t.indexOf(".");if(a!==-1){const i=t.match(/[1-9]/)[0];return t.indexOf(i,a)-a}return 0},Je=(e,t,a)=>{let i=e.toString();if(te(t))return i;if(t===0)return i.split(".")[0];const s=i.indexOf(".");if(s!==-1){let o=i.length-s-1;if(o>t){const p=i.substr(0,i.length-(o-t));if(a)if(Number(p)===0){const u=Hi(i);i=i.substr(0,i.length-(o-u))}else i=p;else i=p}}return i},mn=(e,t)=>{let a=e.toString();const i=a.indexOf("."),s=i!==-1,r=s?a.length-i-1:0;return r<t&&(a+=+s?"":".",a+="0".repeat(t-r)),a},$i=e=>{const t=e.toString();return t.indexOf(".")!==-1?parseFloat(t):e},qi=e=>{const t=e.toString(),[a,i]=t.split(".");return i==="0".repeat(i==null?void 0:i.length)?a:t},Wi=(e,t)=>{var s;let a=e.toString().replace(/^\./g,"").replace(/[^0-9.]/g,"").replace(/^0\d/,"");return((s=a.match(/\./g))==null?void 0:s.length)>1&&(a=(o=>o.replace(/\.$/,""))(a)),a=Je(a,t?0:Ee),a},Oe=(e,t,a)=>ie(Wi(e,a),t),de=(e,t=",")=>(Ui(e),Number(e.split(t).join(""))),et=(e,t)=>Math.round(e*10**t)/10**t,H=(e,t=J,a)=>{le(e);let i=Number(e)/10**t;return typeof a<"u"&&(i=Math.round(i*10**a)/10**a),String(i).includes("e")?0:i},tt=(e,t)=>(le(e),e*BigInt(10**t)),Tn=(e,t)=>(le(e),e/BigInt(10**t)),$=(e,t=J)=>{if(t<Ee)throw new Error("Converting number to BigInt without expanding decimals is not safe.");const a=Math.floor(Number(e)*10**Ee);return tt(BigInt(a),t-Ee)},V=(e,t=yn,a=J,i=!1)=>{le(e);let s=H(e,a);return s=Je(s,t),s=mn(s,t),i||(s=qi(s)),s=ie(s),String(s)},fn=(e,t=dn,a=J,i)=>{le(e);let s=H(e,a);return s=Je(s,t,i),s=$i(s),s=ie(s),String(s)},Pe=(e,t,a,i)=>{le(e);const s=t?V:fn;return te(a)&&(a=t?yn:dn),s(e,a,i,!t)},Et=(e,t,a)=>{le(e);const i=a-t;return(i<0?Tn:tt)(e,Math.abs(i))},ye=(e,t)=>Et(e,t,J),xe=(e,t)=>Et(e,J,t),bn=(e,t)=>{le(e);const a=H(e)*t;return $(a)},Vi=(e,t,a=J)=>(e=tt(e,a),e/t),hn=(e,t,a=J)=>{le(e);const i=a-t,s=Tn(e,i);return tt(s,i)},Se=e=>(le(e),e<0n?-e:e),Tt=e=>-Se(e),Te=e=>{if(typeof e!="object")throw new Error(`Invalid bigNumberData: ${e}`);const t={};for(const a in e){let i=e[a];X.isBigNumber(i)&&(i=i.toBigInt()),t[a]=i}return t},Ge=e=>{const t=de(e);return $(t)},Gi=e=>{const t=H(e);return Oe(t)},Ki=()=>{const e=[la];if(e.length!==wt.length)throw new Error("Invalid number of wagmi chains.");const{chains:t,publicClient:a,webSocketPublicClient:i}=pa(e,[ya()]);return ea({autoConnect:!0,publicClient:a,webSocketPublicClient:i,connectors:[new ua({chains:t,options:{name:"Injected",shimDisconnect:!0}})]})},xn=e=>{switch(e){case be:return"https://arbiscan.io";case Ze:return"https://optimistic.etherscan.io";default:return"https://etherscan.io"}},zi=async(e,t)=>{const a=W(e,`Chainlink_${t}`),i=G(e),r=(await new q(...a,i).latestAnswer()).toBigInt();return ye(r,Ni)};const fe=h.forwardRef(function({children:t,className:a,style:i,isDisabled:s,onClick:r,type:o},p){const u=E(a,o&&`Button_${o}`),y=o==="complex";return n.jsx("button",{className:E("Button",u),ref:p,disabled:s,onClick:r,"data-text":t,style:i,children:y?n.jsx("span",{children:t.toString()}):t})}),gn=h.createContext(null),Z=()=>{const e=h.useContext(gn),{address:t,isConnected:a}=ta();return{account:e??t,isConnected:a}},Yi=(e,t,a)=>{t=_n(t);const i=xn(e)+"/tx/"+a;console.log(t.text,`
`,i),_t.success(n.jsxs("div",{children:[n.jsx("div",{children:t.node}),n.jsx("br",{}),a&&n.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:"View transaction"})]}))},_n=e=>{if(typeof e=="string"){const t=e;e={text:t,node:t}}return e},Zi=e=>{e=_n(e),console.log(e.text),_t.success(e.node)},we=(e,t)=>{const a=Li(e),i=Ri(a);console.error(e),_t.error(n.jsx("div",{children:i})),t&&t(!1)};function Cn(){const{connect:e,connectors:t}=na({onError:s=>{we(s)}}),{disconnect:a}=aa(),i=t[0];return{connectWallet:()=>e({connector:i}),disconnectWallet:a}}const Xi=()=>{const{isOpen:e,openPopup:t,closePopup:a}=nn(),i=E(e&&"open"),s=K(),{account:r,isConnected:o}=Z(),{connectWallet:p,disconnectWallet:u}=Cn(),y=c=>c.slice(0,9)+"..."+c.slice(-15),l=()=>n.jsx(fe,{type:"complex",onClick:p,children:"Connect Wallet"}),d=()=>n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"Wallet__header",onClick:t,children:n.jsxs("div",{className:"Wallet__address",children:[n.jsx("img",{src:$a,alt:"Wallet icon"}),n.jsx("span",{children:y(r)})]})}),n.jsxs("div",{className:"Wallet__body",onClick:c=>c.stopPropagation(),children:[n.jsx("button",{className:"close-btn",onClick:a,children:n.jsx("img",{src:Wa,alt:"x"})}),n.jsxs("a",{className:"Wallet__link",href:`${xn(s)}/address/${r}`,rel:"noreferrer",target:"_blank",children:[n.jsx("img",{src:qa,alt:"external link"}),n.jsx("span",{children:"View on explorer"})]}),n.jsx("div",{className:"Wallet__inner-address",children:"("+y(r)+")"}),n.jsx(fe,{className:"Wallet__button",onClick:u,children:"Disconnect wallet"})]})]});return n.jsx("div",{className:E("Wallet",i),children:o?d():l()})};const Qi="/sf_draft/assets/dropdown-fc81e803.svg",Me=({className:e,options:t,defaultValue:a,defaultOption:i,onChange:s,iconNode:r,iconTextNode:o,...p})=>{const u=r||o,y=({children:c,...m})=>n.jsxs(ga.Control,{...m,children:[r&&n.jsx("div",{className:"Selector__icon",children:r}),o&&n.jsx("div",{className:"Selector__icon Selector__icon_text",children:o}),c]}),l=c=>{const m=T=>T.value===c,x=t.find(T=>T.options);let f;return x?t.forEach(T=>{if(f)return;f=(T.options??[T]).find(m)}):f=t.find(m),f},d=E(e,u&&"Selector_with-icon");return n.jsx(xa,{...p,options:t,defaultValue:i??l(a),onChange:s,className:E("Selector",d),classNamePrefix:"Selector",isClearable:!1,isSearchable:!1,components:{DropdownIndicator:({innerRef:c,innerProps:m})=>n.jsx("div",{ref:c,...m,className:"Selector__indicator Selector__dropdown-indicator",children:n.jsx("img",{src:Qi,alt:"dropdown icon"})}),Control:y}})},vn=()=>{const{switchNetworkAsync:e}=ia();return t=>{if(typeof t!="number"&&typeof t!="string")throw new TypeError(`Invalid chainId type: ${t} (${typeof t})`);const a=Pt[t].name;e(t).then(()=>{Zi(`Network switched to ${a} (${t})`)},i=>{we(i)})}};const ue=({children:e,hasDelay:t=!0,...a})=>n.jsx(_a,{place:"bottom-start",delayShow:t?150:0,delayHide:t?150:0,...a,children:e}),Ji=()=>{const e=K(),t=vn(),a=wt.map(s=>{const{name:r,icon:o,isDisabled:p}=Pt[s];return{value:s,label:n.jsxs("div",{className:"flex gap-x-7",children:[n.jsx("img",{src:o,alt:`${r} icon`}),n.jsx("span",{children:r})]}),isCurrent:s===e,isDisabled:p}}),i=a.find(s=>s.isCurrent);return n.jsxs("div",{className:"NetworkSwitcher",children:[n.jsx(Me,{options:a,value:i,onChange:s=>{t(s.value)},isDisabled:!0}),n.jsx(ue,{anchorSelect:".NetworkSwitcher .Selector__option--is-disabled",content:"Coming soon"})]})},es=()=>{const{isConnected:e}=Z();return n.jsxs("div",{className:"CryptoGateway",children:[e&&n.jsx(Ji,{}),n.jsx(Xi,{})]})},ts=()=>{const e=ze(),t=[{name:"Option Trading",to:"/terminal"},{name:"Legacy",to:"https://old.sharwa.finance/"}];return t.forEach(a=>{e.pathname.startsWith(a.to)&&(a.isActive=!0)}),n.jsxs("header",{className:"Header _container",children:[n.jsx(tn,{}),n.jsx(St,{links:t}),n.jsx(es,{})]})};const ns=()=>{const e=ha({enter:"jellyIn",exit:"jellyOut"});return n.jsx(ba,{limit:2,transition:e,position:"bottom-right",hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,draggable:!1})};const as=300,is=e=>{const t=Pa();h.useEffect(()=>{const a=window.innerWidth>1025?t:0;e?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${a}px`):setTimeout(()=>{document.body.style.overflow="unset",document.body.style.paddingRight=0},as)},[e,t])};vt.setAppElement("#root");vt.defaultStyles={};const nt=({children:e,className:t,isOpen:a,setIsOpen:i,isObligatory:s,reset:r})=>(is(a),h.useEffect(()=>{!a&&r&&r()},[a]),n.jsx(vt,{className:E(t,"App-box"),isOpen:a,onRequestClose:()=>{s||i(!1)},overlayElement:(o,p)=>n.jsxs("div",{...o,children:[p,!s&&n.jsx("button",{className:"ReactModal__Close-btn"})]}),closeTimeoutMS:300,children:e})),ss=e=>{const{chainId:t}=e,[a]=h.useState(!0),i=vn();return n.jsxs(nt,{className:"UnsupportedChainErrorModal",isOpen:a,isObligatory:!0,children:[n.jsxs("div",{className:"UnsupportedChainErrorModal__text text-inline",children:["Chain ",t," is not supported."]}),n.jsx("div",{className:"UnsupportedChainErrorModal__switch-btns",children:wt.map(s=>{const r=Pt[s],{name:o,icon:p,isDisabled:u}=r;return n.jsxs(fe,{isDisabled:u,type:"stroke",onClick:()=>{i(s)},children:[n.jsx("img",{src:p,alt:`${o} icon`}),"Switch to ",o]},s)})})]})},rs="AEZAKMI=",os=()=>{const[e,t]=h.useState(),a=ze(),i=r=>{t(r),console.log("GOD EYE MODE ENABLED:",r)},s=r=>{t(null),console.log(`GOD EYE MODE DISABLED${r?` (${r})`:""}`)};return h.useEffect(()=>{const r=a.pathname.split("/"),o=r[r.length-1];if(o.startsWith(rs)){const p=o.split("=")[1];da(p)?i(p):s("Invalid wallet address")}},[a.pathname]),{godEyeAddress:e}},ps=({children:e})=>{const{godEyeAddress:t}=os();return n.jsx(gn.Provider,{value:t,children:e})},us="/terminal/builder",kn="0x683Ad8b899Cd14d8e077c9A623E8B3fEd65a8c09",at=600;const ls="/sf_draft/assets/graph-b6757e0e.svg";const ae=({className:e,children:t,isSmall:a=!0,symbol:i="USDC",isHlight:s,style:r})=>{const o=K(),p=pe(o,i).icon,u=t,y=E(s&&"hlight",e);return n.jsxs("div",{className:E("Currency",y),style:r,children:[n.jsx("img",{src:p,alt:`${i} icon`,width:a?15:"auto"}),n.jsx("span",{children:u})]})},Sn=h.createContext(null),Le=()=>h.useContext(Sn),ys=()=>{const e=Le();return n.jsxs("div",{className:"TokenPricesPanel",children:[n.jsx("div",{className:"TokenPricesPanel__icon",children:n.jsx("img",{src:ls,alt:"Graph icon"})}),n.jsx("div",{className:"TokenPricesPanel__items",children:Dt.map(t=>{if(!e)return null;const a=e[t],i=V(a,void 0,void 0,!0);return n.jsx("div",{className:"TokenPricesPanel__item",children:n.jsx(ae,{isHlight:!0,symbol:t,children:n.jsxs("span",{children:["$",i]})})},t)})})]})},ds=()=>{const e=ze(),t=[{name:"Option Strategies",to:"/terminal/builder"}];return t.forEach(a=>{e.pathname.endsWith(a.to)&&(a.isActive=!0)}),n.jsxs("div",{className:"Terminal",children:[n.jsx(ys,{}),n.jsx(St,{links:t,type:"border"}),n.jsx(Ca,{})]})};function it(e,t={maxValue:void 0,placeholder:"",isDisabled:!1,isFocused:!1},a=[Oe,de]){const[i,s]=e,{maxValue:r,placeholder:o,isDisabled:p,isFocused:u}=t,[y,l]=a,[d,c]=h.useState(!1),m=h.useRef(null);return{node:n.jsx("input",{autoFocus:u,type:"text",ref:m,value:i,disabled:p,placeholder:o,onChange:x=>{r&&l(x.target.value)>r?s(y(r)):s(y(x.target.value))},onFocus:()=>{c(!0)},onBlur:()=>{c(!1)}}),hasFocus:d,ref:m}}const cs=e=>{const{value:t,setValue:a,maxValue:i,formatInputStringFns:s,hasError:r,isDisabled:o,unitStr:p,placeholder:u}=e,y=it([t,a],{maxValue:i,placeholder:u,isDisabled:o},s),l=E(e.className,y.hasFocus&&"hlight",r&&"error",o&&"disabled");return n.jsxs("div",{className:E("InputFamily Input",l),onClick:()=>{y.ref.current.focus()},children:[y.node,n.jsx("div",{className:"Input__unit",children:p})]})},ge="#46956A",ee="#C75E4B",Kt="#D99445",ft="#6988FF",Ue="#747FA6",ct="#3A4466",ms="≈",Ts={positive:"+",negative:"-",neutral:""},Q="Limited",oe="Unlimited",ke="Bullish",bt="Bearish",me="Neutral",re={"Long Call":{stats:{outlooks:[ke],profit:oe,loss:Q,description:"When you believe that the price of the underlying asset will rise."},structure:[1],key:1,color:ge},"Short Call":{stats:{outlooks:[bt],profit:Q,loss:oe,description:"When you believe that the price of the underlying asset will fall."},structure:[-1],key:101,color:ee},"Covered Call":{stats:{outlooks:[ke],profit:Q,loss:oe,description:"When you believe that the price of the underlying asset will rise."},structure:[-1],key:201,color:ee},"Long Put":{stats:{outlooks:[bt],profit:oe,loss:Q,description:"When you believe that the price of the underlying asset fall."},structure:[2],key:2,color:ge},"Short Put":{stats:{outlooks:[ke],profit:Q,loss:oe,description:"When you believe that the price of the underlying asset will rise."},structure:[-2],key:102,color:ee},"Long Strangle":{stats:{outlooks:[me],profit:oe,loss:Q,description:"When you believe that the price of the underlying asset will rise or fall."},structure:[1,2],key:3,color:Kt},"Short Strangle":{stats:{outlooks:[me],profit:Q,loss:oe,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:103,color:ee},"Covered Strangle":{stats:{outlooks:[me,ke],profit:Q,loss:oe,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:203,color:ee},"Long Straddle":{stats:{outlooks:[me],profit:oe,loss:Q,description:"When you believe that the price of the underlying asset changes when the direction of the change could be either up or down."},structure:[1,2],key:4,color:Kt},"Short Straddle":{stats:{outlooks:[me],profit:Q,loss:oe,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:104,color:ee},"Covered Straddle":{stats:{outlooks:[me,ke],profit:Q,loss:oe,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:204,color:ee},"Iron Butterfly":{stats:{outlooks:[me],profit:Q,loss:Q,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:5,color:ft,plural:"Iron Butterflies"},"Iron Condor":{stats:{outlooks:[me],profit:Q,loss:Q,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:6,color:ft},"Bull Call Spread":{color:ge},"Bear Put Spread":{color:ee}},fs={[ke]:ge,[me]:ft,[bt]:ee},wn=Object.keys(re).filter(e=>re[e].key),bs={Lyra_ETH:0,Lyra_BTC:1,Hegic:2},ht=.003,zt=.005,Pn={PARENT_COMPLEX:"parent_complex",PARENT_SIMPLE:"parent_simple",CHILD:"child"},hs=e=>{const{amountStrState:t,strategy:a}=e,[i,s]=t,r=re[a].plural??`${a}s`;return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_amount",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Enter Amount"}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(cs,{value:i,setValue:s,unitStr:r})})]})},xs=e=>{const{assetState:t,isDisabled:a}=e,[i,s]=t,r=Dt.map(o=>({value:o,label:n.jsx(ae,{symbol:o,isHlight:!0,children:o})}));return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_asset",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Asset"}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(Me,{options:r,defaultValue:i,isDisabled:a,onChange:o=>{s(o.value)}})})]})},gs="/sf_draft/assets/strategy-selector-icon-1e15875d.svg",_s=e=>{const{strategyState:t,isDisabled:a}=e,[i,s]=t,r=wn.map(o=>({value:o,label:o}));return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_strategy",children:[n.jsxs("div",{className:"BuilderForm__field-header",children:["Strategy",n.jsx("div",{className:"BuilderForm__field-tip tip","data-tooltip-id":"BuilderForm_WhenPurchaseTooltip",children:"When purchase"})]}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(Me,{options:r,defaultValue:i,onChange:o=>{s(o.value)},iconNode:n.jsx("img",{src:gs,alt:"Strategy selector icon"}),className:"Selector_thin-options",isDisabled:a})})]})};const he=e=>{const{style:t,hasLeftMargin:a}=e;return n.jsx("div",{className:"Spinner",children:n.jsx(Aa,{className:"Spinner__icon",style:{marginLeft:a?7:0,...t}})})},It=(e,t,a=n.jsx(he,{}))=>t?a:e,st=(e,t,a=n.jsx(he,{}))=>t?a:e(),se=(e="—",t,a)=>n.jsx("span",{className:E("muted",a&&"muted_light"),style:{fontSize:t?13:"inherit"},children:e}),Mn=e=>e.charAt(0).toUpperCase()+e.slice(1),rt=(e,t,a=1)=>{const i=e,s=t;if(i>s)return a;if(i==s)return 0;if(i<s)return-a},Ot=e=>e.filter((a,i)=>e.indexOf(a)===i),Cs=e=>{e.splice(0,e.length)},ot=(e,t,a=[],i,s,r)=>(s&&s(!0),t(...a).then(o=>{console.log("Submitting:",o),o.wait().then(p=>{Yi(e,i,o.hash),s&&s(!1),r&&r(p)},p=>{we(p,s)})},o=>{we(o,s)})),vs=(e,t,a,i,s,r)=>{const o=xe(i,t.decimals),p=new q(...W(e,t.symbol),_e());ot(e,p.approve,[a,X.from(o)],`${t.symbol} approved.`,s,r)},ks=async(e,t,a,i,s)=>{le(s);const r=new q(...W(e,t.symbol),G(e)),o=xe(s,t.decimals);return(await r.allowance(a,i)).toBigInt()>=o},jt=(e,t)=>{const a=Bt[t];return xe(e,a)},Ss=(e,t)=>{const a=Bt[t];return ye(e,a)},ws=e=>e.startsWith("W"),An=(e,t)=>{const a=e.address!==t.address,i=e.isETH!==t.isETH;return a||i},pt=e=>Math.abs(e)===1,Ae=e=>e>0,Ft=e=>!!e.find(t=>!Ae(t)),Ps=e=>!!e.find(t=>Ae(t)),Ms=e=>!!e.find(t=>t),As=e=>{const[,t]=e.split("_");return Number(t)},Ds=(e,t,a)=>{let i;const s=`W${a}`,r=t.split(" ")[0];return!pt(e)||r==="Short"?i=["USDC.e"]:r==="Covered"?i=[s]:r==="Iron"&&(i=["USDC.e",s]),i},Bs=e=>{const t=e.includes("Straddle"),a=e==="Iron Butterfly";if(t)return[0,1];if(a)return[1,2]},Es=(e,t)=>{if(!(e!=null&&e[0].market))return;if(e.length>1){const i=e.find(s=>s.market===t);if(i)return i}return e[0]},Dn=(e,t)=>new q(...W(e,`TxBuilderOpen_${t}`),G(e)),Is=e=>{const t=new q(...W(e,"TxBuilderOpen_Hegic"),G(e)),a=new q(...W(e,"TxBuilderOpen_Lyra_BTC"),G(e)),i=new q(...W(e,"TxBuilderOpen_Lyra_ETH"),G(e));return{Hegic:t,Lyra_ETH:i,Lyra_BTC:a}},Os=(e,t,a)=>{if(!t)return a;let i=0,s=0;return e.map(o=>Ae(o)?t[i++]:a[s++])},js=e=>{const t=Object.keys(e);return t?!!t.find(i=>!e[i][0].isAbsent):!1},Nt=(e,t)=>{var i;return(i=e==null?void 0:e.decomposition)!=null&&i.length?!!e.decomposition.find(s=>{if(!s)return;const r=s.marketToken,o=t??e.paymentToken;return!r||!o?!1:An(r,o)}):!1};const Fs="/sf_draft/assets/Hegic-a7e6545a.svg",Ns="/sf_draft/assets/Hegic_circled-26df614a.svg",Ls="/sf_draft/assets/Hegic_circled-light-9256df54.svg",Rs="/sf_draft/assets/Lyra-0ebc1db3.svg",Us="/sf_draft/assets/Lyra_circled-1da5fd25.svg",Hs="/sf_draft/assets/Lyra_circled-light-a90bfa71.svg",$s="/sf_draft/assets/Rysk-42fd3216.svg",qs="/sf_draft/assets/Rysk_circled-80c8292c.svg",Ws="/sf_draft/assets/Rysk_circled-light-d3dd627c.svg",Bn={Hegic:{common:Fs,circled:Ns,circledLight:Ls},Lyra:{common:Rs,circled:Us,circledLight:Hs},Rysk:{common:$s,circled:qs,circledLight:Ws}},He=.0015,Vs=.02,xt=["delta","vega","gamma","theta"],Yt=8,Gs=[7,14,30,60,90],Ke=Gs.map(an),En=1e4,Ks=()=>Ke.map((t,a)=>{const i=new Date(Date.now()+t),s=a===0,r=a===Ke.length-1,o=i.getUTCHours()>=Yt,p=i.getUTCDate();return s&&o&&i.setUTCDate(p+1),r&&!o&&i.setUTCDate(p-1),i.setUTCHours(Yt),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0),i.getTime()}),zs=e=>e?e.liveBoards().map(a=>a.expiryTimestamp*ne):void 0,Ys=async e=>{const t=new q(...W(e,"Rysk_LiquidityPool"),G(e)),a=new q(...W(e,"Rysk_OptionCatalogue"),G(e)),{minExpiry:i,maxExpiry:s}=await t.optionParams();return a.getExpirations().then(r=>r.map(p=>Number(p)*ne).filter(p=>{const u=Number(i)*ne,y=Number(s)*ne;if(!(p<Date.now())&&!(p-Date.now()<u)&&!(p-Date.now()>y))return!0}))},Zs=async(e,t)=>{let a;try{a=[...Ks(),...zs(t),...await Ys(e)]}catch{}return a},Xs=e=>{const{strategyStructure:t,dateListState:a,chosenDateState:i,lyraMarket:s,updateTriggers:r,resetTriggers:o,isDisabled:p,updateUnstableField:u}=e,y=K(),{account:l}=Z(),[d,c]=a,[m,x]=h.useState(!1),[f,T]=i,g=()=>{x(!0),Zs(y,s).then(I=>{if(!I)return;const R=Ot(I).sort(rt);c(R),x(!1)})},b=()=>{T(null)};h.useEffect(()=>{g()},r),h.useEffect(()=>{b()},o);const k=(I,R="d MMM")=>{const O=I-Date.now();return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"BuilderForm__date-value",children:en(I,R)}),n.jsx("div",{className:"BuilderForm__date-period",children:fi(O)})]})},B=d.map(I=>({value:I,label:k(I)})),D=f&&B.find(I=>I.value===f);return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_date",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),n.jsx("div",{className:"BuilderForm__field-body",children:t.map((I,R)=>{const O=Ae(I),L=pt(I),j=It(n.jsx(Me,{className:"Selector_thin-options",placeholder:"Choose Date",isDisabled:p||!l,options:B,value:D,formatOptionLabel:({value:w},{selectValue:N,context:C})=>{var S;if(C==="menu")return k(w);const _=((S=N[0])==null?void 0:S.value)===w?"d MMM hh a":"d MMM";return k(w,_)},onChange:w=>{T(w.value)},iconTextNode:n.jsxs("span",{className:E({positive:O,negative:!O},"block"),style:{width:25},children:[O?"Buy":"Sell",n.jsx("br",{}),L?"Call":"Put"]})},R),m,n.jsx(he,{},R));return u(R,j),j})})]})},In=(e,t,a,i)=>{const[s,r]=a.split(".");let o=e[s],p=t[s];return r&&(o=o&&o[r],p=p&&p[r]),rt(o,p,i)},ut=(e,t,a)=>{if(!e||!Object.keys(e).length)return{...t};if(!t)return;const i={...e};a||(a=Object.keys(e));for(let s=0;s<a.length;s++){const[r,o]=a[s].split("."),p=o?e[r][o]:e[r],u=o?t[r][o]:t[r],y=p+u;o?(i[r]||(i[r]={}),i[r][o]=y):i[r]=y}return i};const On=.005*10**5,Lt=(e,t,a,i)=>{const s=Gt(e,t),r=Gt(e,a),o=xe(i,s.decimals);if(t===a||o===0n||s.isStable&&r.isStable)return new Promise(l=>{l(i)});const p=X.from(o);return new q(...W(e,"Uniswap_Quoter"),_e()).callStatic.quoteExactInput(kt.solidityPack(["address","uint24","address"],[t,On,a]),p).then(l=>{const d=l.toBigInt();return ye(d,r.decimals)}).catch(l=>{console.log(`Swapping ${s.symbol} to ${r.symbol} error!

`,l)})},Re=(e,t,a)=>{const i=rn(e);return Lt(e,t,i,a)},Qs=(e,t,a)=>{const i=rn(e);return Lt(e,i,t,a)},Js=(e,t)=>kt.solidityPack(["address","uint24","address"],[e,On,t]),er=(e,t,a)=>e?a>t:a<t,tr=(e,t)=>{const{isCall:a,strike:i,amount:s}=e,r=H(s);return a?i<t?r:0:i>t?-r:0},nr=(e,t)=>{const{isCall:a,amount:i}=e;return a?Number(t)<100?i:0:Number(t)>100?-i:0},Rt=(e,t)=>bn(e,1+t),lt=(e,t)=>Vi(e+t,Se(t))*100n,jn=(e,t,a)=>{if(!t)return null;t=Te(t);const{isBase:i,liquidationPrice:s,max:r,min:o}=t,p=`W${a}`,u=pe(e,i?p:"USDC.e");return Re(e,u.address,t.amount??0n).then(y=>({inMarketToken:t.amount,marketToken:u,inUSDC:y,isBase:i,liquidationPrice:s,min:o,max:r}))},Fn=(e,t)=>{const a=ut(e,t);for(const i in a){const s=a[i];a[i]=et(s,3)}return a};const yt=({strikeData:e,priceNode:t,isPriceHlight:a})=>{const{market:i,isCall:s,isBuy:r}=e,o=Bn[i].circled;return n.jsxs("div",{className:"StrikeBrief",children:[n.jsx("div",{className:"StrikeBrief__icon",children:n.jsx("img",{src:o,alt:`${i}`})}),n.jsxs("div",{className:E("StrikeBrief__info-card",{positive:r,negative:!r}),children:[r?"Buy":"Sell"," ",s?"Call":"Put"]}),n.jsx("div",{className:E("StrikeBrief__price",a&&"hlight"),children:t})]})};function Zt(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function ar(){const[e,t]=h.useState(Zt());return h.useEffect(()=>{function a(){t(Zt())}return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}const dt=(e=768)=>{const{width:t}=ar();return t<e},ir=({getParentNode:e,getChildNodes:t})=>{const[a,i]=Ma(!1),s=E(a&&"expanded"),r=e(s,i),o=t(s);return n.jsxs(n.Fragment,{children:[r,...o]})};const Nn=({children:e,transitionTimeout:t=250,renderHeader:a=({state:i})=>i.isEnter?"Hide":"Show"})=>n.jsx("div",{className:"Accordion",children:n.jsx(Da,{transition:!0,transitionTimeout:t,children:n.jsx(Ba,{header:a,children:e})})});const je=({isVertical:e})=>n.jsx("div",{className:E("Divider",e&&"vertical")});class Ln{constructor(t){const{titleData:a,itemsData:i}=t,s=Object.keys(a);this.titleData=a,this.itemsData=i,this.dataKeys=s}}class sr extends Ln{constructor(t){super(t),this.getTitleRow=this.getTitleRow.bind(this),this.getItemsRows=this.getItemsRows.bind(this)}getTitleRow(){const t=this._getCells(this.titleData,!0);return n.jsxs("tr",{children:[...t]})}getItemsRows(){const t=this.itemsData.map(a=>{const i=this._getItemRow(a);return n.jsx(Ie.Fragment,{children:i},a.id)});return n.jsx(Ie.Fragment,{children:t},"rows")}_getCells(t,a){return this.dataKeys.map(i=>{const s=t[i]??se();return a?n.jsx("th",{children:s},i):n.jsx("td",{children:s},i)})}_getItemRow(t){const a=!!t.children,i=this._getCells(t),s=(o,p)=>n.jsxs("tr",{className:E("Table__item",a&&"expandable",o),onClick:p,children:[...i]});return a?this._getExpandableRow(t,s):s()}_getExpandableRow(t,a){const i=s=>t.children.map(o=>{const p=this._getCells(o);return n.jsxs("tr",{className:E("Table__child-item",s),children:[...p]},o.id)});return n.jsx(ir,{getParentNode:a,getChildNodes:i},t.id)}}class rr extends Ln{constructor(t){super(t),this._getItem=this._getItem.bind(this)}getItems(){return this.itemsData.map(this._getItem)}_renderItemRows(t){const a=t.omittedKeys;return this.dataKeys.map(s=>{const r=t[s];return a&&!!a.find(p=>s===p)||te(r)?null:n.jsxs("div",{className:E("Table__item-row info-row",s),children:[n.jsx("div",{className:"info-row__title",children:this.titleData[s]}),n.jsx("div",{className:"info-row__value",children:r})]})})}_getItem(t){return n.jsxs("div",{className:"Table__item App-box",children:[this._renderItemRows(t),t.children&&n.jsxs(n.Fragment,{children:[n.jsx(je,{}),n.jsx(Nn,{transitionTimeout:500,renderHeader:({state:a})=>`${a.isEnter?"Hide":"Show"} full strategy`,children:t.children.map(a=>n.jsxs(n.Fragment,{children:[n.jsx(je,{}),n.jsx("div",{className:"Table__child-item",children:this._renderItemRows(a)})]}))})]})]})}}const Rn=({structureData:e,className:t,children:a})=>{const i=dt(576),s=p=>{if(!p){const u=new sr(e),{getTitleRow:y,getItemsRows:l}=u;p=[n.jsx("thead",{children:y()},"head"),n.jsx("tbody",{children:l()},"body")]}return n.jsx("div",{className:"Table__desktop",children:n.jsx("table",{children:p})})},r=()=>{const u=new rr(e).getItems();return n.jsx("div",{className:"Table__mobile",children:u})},o=()=>i?r():s();return n.jsx("div",{className:E("Table",t),children:a!=null&&a.length?s(a):o()})};const or=e=>{const{id:t,amountStr:a,strikeMarketsDataArr:i,chosenStrikeData:s,setChosenStrikeData:r,isOpen:o,close:p}=e,[u,y]=h.useState([]),l=()=>{const T=[];i.forEach((g,b)=>{const k=$(de(a));g.utils.calcPremium(k).then(B=>{T[b]=B,y([...T])})})};if(h.useEffect(()=>{y([]),i&&l()},[i,a]),!i)return null;const d=23,m=80-d,f=180-d;return n.jsx("div",{className:E("StrikeInfoBox",o&&"open"),style:{zIndex:9-t*2},children:n.jsxs(Rn,{onClick:T=>T.stopPropagation(),children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:n.jsx("div",{style:{width:f},children:"Market"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Source"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Delta"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Vega"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Gamma"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Theta"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Rho"})})]})}),n.jsx("tbody",{children:i.map((T,g)=>{const{greeks:b}=T,k=u[g],B=!k||k.isDisabled,D=T===s;return n.jsxs("tr",{className:E("StrikeInfoBox__strike-option",B&&"disabled",D&&"chosen"),children:[n.jsxs("td",{children:[n.jsx("button",{className:"StrikeInfoBox__strike-option-overlay-btn",onClick:()=>{r(T),p()},disabled:B}),n.jsx(yt,{strikeData:T,priceNode:st(()=>k===null?se("No liquidity",!0):`$${V(k.inUSDC)}`,te(k)),isPriceHlight:!0})]}),n.jsx("td",{children:"AMM"}),n.jsx("td",{children:b.delta}),n.jsx("td",{children:b.vega}),n.jsx("td",{children:b.gamma}),n.jsx("td",{children:b.theta}),n.jsx("td",{children:b.rho})]},T.market)})})]})})};const Fe=e=>{const{children:t}=e;return n.jsx("div",{className:"InnerWarning",children:t})};Ea();const pr=e=>{const{id:t,className:a,isUnited:i,spaceBetween:s,isDraggable:r,breakpoints:o,handleInit:p,slideClassName:u,children:y}=e,l=h.useRef(null),d=`${i?`.${a}`:`#${t}`}`,c={spaceBetween:s,allowTouchMove:r,breakpoints:o,navigation:{enabled:!0,prevEl:`${d} .Carousel__nav-btn_prev`,nextEl:`${d} .Carousel__nav-btn_next`},on:{init:m=>{m.el.style.overflow="clip visible",p&&p(m)}}};return h.useEffect(()=>{const m=l.current;m&&(Object.assign(m,c),m.initialize())},[l,c]),n.jsxs("div",{className:E("Carousel",a),id:t,children:[n.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_prev"}),n.jsx("swiper-container",{init:!1,ref:l,children:y==null?void 0:y.map((m,x)=>n.jsx("swiper-slide",{class:u,children:m},x))}),n.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_next"})]})};const ur=e=>{const{asset:t}=e;return n.jsx(pr,{slidesPerView:"auto",breakpoints:{768:{slidesPerView:"auto"},576:{slidesPerView:7,grid:{fill:"row",rows:2}},520:{slidesPerView:6,grid:{fill:"row",rows:2}},380:{slidesPerView:5,grid:{fill:"row",rows:2}},0:{slidesPerView:4,spaceBetween:4,grid:{fill:"row",rows:2}}},spaceBetween:5,className:"StrikeCarousel",isDraggable:!1,isUnited:!0,slideClassName:`StrikeCarousel__slide_${t}`,children:e.children})},Ut=e=>Object.keys(e).map(Number),lr=e=>{const t={},a=Object.keys(e).map(As),i=Ot(a),s=Object.values(e);return i.forEach(r=>{const o=s.filter(p=>p.strike===r);t[r]=o}),t},yr=e=>e.map(lr),dr=e=>{const t=[];return e.forEach(i=>{const s=Ut(i);t.push(...s)}),Ot(t)},cr=e=>{const t=dr(e);return e.map(i=>{const s=Ut(i),r={...i};return t.forEach(o=>{s.indexOf(o)===-1&&(r[o]=[{strike:o,isAbsent:!0,isDummy:!0}])}),r})};const mr=e=>{const{currentPrice:t,isFirst:a}=e;return n.jsx("div",{className:E("StrikeCurrentPriceItem","StrikeChooser__item",a&&"StrikeCurrentPriceItem_first"),children:n.jsxs("span",{children:["$",ie(t)]})})};const Tr="/sf_draft/assets/cross_grey-42dbd9c5.svg",fr=e=>{const{isITM:t}=e;return n.jsx("div",{className:E("StrikeAbsentItem","StrikeChooser__item",t&&"StrikeChooser__item_ITM"),children:n.jsx("img",{src:Tr,alt:"Absent"})})},Ht=e=>{const t=Le();return(t==null?void 0:t[e])??0n},br=({className:e,id:t,isAutoSelectEnabled:a,structureKey:i,asset:s,amountStr:r,strikesData:o,chosenStrikeData:p,setChosenStrikeData:u})=>{const{isConnected:y}=Z(),l=Ht(s),d=Math.floor(H(l)),c=t===0,m=dt(),[x,f]=h.useState(null),T=w=>{const N={};for(const C in w){const _=w[C][0],{isCurrentPrice:S,isDummy:v}=_;S&&v||(N[C]=w[C])}return N},g=()=>{const w=T(o);let N;for(const C in o){const A=o[C][0];if(A.isCurrentPrice||d===A.strike){A.isCurrentPrice=!0,N=A;break}}return N||(w[d]=[{strike:d,isCurrentPrice:!0,isDummy:!0}]),w},b=()=>{if(o){if(!js(o))return{strikes:[],dataArr:[]};let w=g();const N=Ut(w).sort(rt),C=Object.values(w).sort((A,_)=>{const S=A[0],v=_[0];return In(S,v,"strike")});return{strikes:N,dataArr:C}}return{}},{strikes:k,dataArr:B}=b(),D=!!(k!=null&&k.length),{openPopup:I,closePopup:R,isOpen:O}=nn(()=>f(null)),L=()=>n.jsx(ur,{asset:s,children:k.map((w,N)=>{const C=B[N],A=C[0],{isCurrentPrice:_,isAbsent:S,isDummy:v}=A;if(_&&v)return n.jsx(mr,{currentPrice:w,isFirst:c},"current_price");const P=pt(i),M=er(P,w,d);if(S)return n.jsx(fr,{isITM:M},N);const F=p&&p.strike===w,U=F&&p.market,Y=x===C;return n.jsxs(fe,{className:E("StrikeChooser__item",M&&"StrikeChooser__item_ITM",F&&"chosen",Y&&"open",_&&E("StrikeCurrentPriceItem",c&&"StrikeCurrentPriceItem_first")),style:{cursor:"pointer"},type:"stroke",onClick:ce=>{O&&ce.stopPropagation(),f(C),I()},children:[F&&n.jsx("div",{className:"StrikeChooser__item-market",children:n.jsx("img",{src:Bn[U].circledLight,alt:`${U} icon`})}),n.jsxs("span",{children:["$",ie(w)]})]},w)})}),j=()=>o?D?n.jsx("div",{className:"StrikeChooser__items",style:{zIndex:10-t*2},children:L()}):n.jsx(Fe,{children:"No Liquidity"}):n.jsxs(Fe,{children:[y?"C":"Connect wallet and c","hoose expiration date to view strikes"]});return n.jsxs("div",{className:E("StrikeChooser",e,m&&!o&&"hidden"),children:[j(),n.jsx(or,{id:t,amountStr:r,strikeMarketsDataArr:x,chosenStrikeData:p,setChosenStrikeData:u,isOpen:O,close:R})]})},Un="Hegic_",hr="USDC.e",xr=e=>{const{isBuy:t}=e;if(t)return!0},gr=(e,t,a)=>{const[i,,s]=e.split("_");return!(i.includes("SPREAD")||a!==(i==="CALL")||s!==t)},_r=async(e,t,a)=>{const{asset:i,amount:s,period:r}=a;let o;const p=new q(t,pn(e,"Hegic_Strategy"),G(e)),u=Xe(r);try{const y=(await p.getAvailableContracts(u,[])).toBigInt(),l=Bt[i],d=$(s,l);o=y>=d}catch{}return o},Cr=async(e,t,a,i)=>{const{asset:s,period:r}=a,o=jt(i,s),p=Ii(e,t),u=Xe(r);return p.calculatePremium(u,o,0).then(y=>{const l=ye(y.toBigInt(),mt),d=pe(e,hr);return Re(e,d.address,l).then(c=>({inUSDC:c,inMarketToken:l,marketToken:d}))})},vr=(e,t)=>{const a=H(t);return Math.floor(a*(e/100))},kr=(e,t,a)=>{const{protocolName:i,isCall:s,assetPrice:r}=a,{strategyKey:o}=t,[,p]=o.split("_"),u=vr(p,r),y=wr(e,t,a),l=nr(a,p);return{market:"Hegic",protocolName:i,strike:u,isCurrentPrice:p==="100",isCall:s,isBuy:!0,greeks:{delta:l,vega:0,gamma:0,theta:0,rho:0},utils:y}},Sr=(e,t)=>{const a=$(e,J);return t.utils.calcPremium(a)},wr=(e,t,a)=>{const{strategyKey:i,strategyAddress:s}=t,{asset:r,protocolName:o,period:p}=a;return{calcPremium:async l=>Cr(e,i,a,l),getBuilderParams:async(l,d,c)=>{l=jt(l,r);const m=X.from(l),x=d.premiumInMarketToken,f=hn(x,c),T=X.from(f);return Dn(e,o).encodeFromHegic(s,m,Xe(p),T,[])}}},Pr=async(e,t,a)=>{const{asset:i,amount:s,isCall:r}=a,o={},p={},u=Object.keys(t);for(let y=0;y<u.length;y++){const l=u[y],d=t[l],c={strategyKey:l,strategyAddress:d};if(!gr(l,i,r)||!await _r(e,d,a))continue;const m=kr(e,c,a),x=Sr(s,m),{strike:f}=m;p[f]=x,o[`${Un}${f}`]={...m}}return{strikesData:o,premiumPromisesData:p}},Mr=async(e,t)=>{const a=Object.keys(t),i=Object.values(t);await Promise.all(i).then(s=>{s.forEach((r,o)=>{if(r){const p=a[o];e[`${Un}${p}`].premiumData=r}})})},Ar=e=>{const t={};for(const a in e){const i=e[a];i.premiumData&&(t[a]=i)}return t},Dr=async(e,t,a)=>{const{strikesData:i,premiumPromisesData:s}=await Pr(e,t,a);return await Mr(i,s),i},Br=async(e,t)=>{if(!xr(t))return{};const{expiry:a}=t,i=a-Date.now();t.protocolName="Hegic",t.period=i;const s=Ai(e,i);return s?Ar(await Dr(e,s,t)):{}},gt="Lyra_",Er="USDC.e",Ir=["NotEnoughCollateral","TooMuchCollateral","EmptyCollateral","InsufficientQuoteBalance","InsufficientQuoteAllowance","InsufficientBaseBalance","InsufficientBaseAllowance","IncorrectOwner"],Or=e=>{const t=Ir.find(a=>a===e);if(!e||t)return!0},jr=(e,t)=>{var s;const a=(s=e.liveBoards().find(r=>r.expiryTimestamp===Xe(t)))==null?void 0:s.id;return a?e.liveBoardsMap[a]:void 0},Fr=(e,t)=>!(!e||!Or(t.disabledReason)),Nr=(e,t,a)=>{const i=(y,l=18)=>kt.parseUnits(y.toFixed(l).toString(),l),s=X.from(10).pow(18),r=2.5,o=a?e.strikePrice:e.strike().strikePrice,p=(e.newSize??e.size).mul(o).div(s).mul(i(r)).div(s);return t.max?t.max:p.gt(t.min)?p:t.min},Lr=(e,t,a,i,s)=>{const{asset:r,protocolName:o,isCall:p,isBuy:u}=i,y=pe(e,Er),l=(f,T)=>{const g=X.from(f);return t.trade(s,a,p,u,g,He,T)},d=async(f,T)=>{const g=jt(f,r);return l(g).then(b=>{const k=u?"maxTotalCost":"minTotalCost",B=b.params[0][k].toBigInt(),D=Rt(B,Vs);return Fr(D,b)?Re(e,y.address,D).then(I=>{const R={inUSDC:I,inMarketToken:D,marketToken:y};return T?R:{premiumData:R,greeks:b.greeks}}):null})};return{calcPremium:async f=>d(f,!0),calcPremiumWithGreeks:d,getCollateralData:async(f,T)=>{const g=X.from(f);return l(g,T).then(b=>{const{collateral:k}=b;k&&!k.max&&(b.collateral.max=Nr(b,k));const B=b.marketName.split("-")[0];return jn(e,k,B)})},getBuilderParams:async(f,T,g)=>{const b=Dn(e,o),k=X.from(f),B=T.premiumInMarketToken,D=hn(B,g),I=X.from(D);return l(k,T).then(R=>{const O=R.params[0];return b.encodeFromLyra([O.strikeId,O.positionId,O.iterations,O.optionType,O.amount,O.setCollateralTo,O.minTotalCost,I,kn])})}}},Rr=(e,t,a,i,s)=>{const{protocolName:r,isCall:o,isBuy:p}=i,{strikeId:u,strikePrice:y}=a,l=u.toNumber(),d=H(y.toBigInt()),c=Lr(e,t,l,i,s);return{market:"Lyra",protocolName:r,strike:d,isCall:o,isBuy:p,utils:c}},Ur=(e,t)=>{const a=$(e,J);return t.utils.calcPremiumWithGreeks(a)},Hr=(e,t,a,i,s)=>{const{amount:r}=a,o={},p={};return i.strikes.forEach(u=>{const y=Rr(e,t,u,a,s),l=Ur(r,y),{strike:d}=y;p[d]=l,o[`${gt}${d}`]=y}),{strikesData:o,premiumsWithGreeksPromises:p}},$r=async(e,t)=>{const a=Object.keys(t),i=Object.values(t);await Promise.all(i).then(s=>{s.forEach((r,o)=>{if(r){const{premiumData:p,greeks:u}=r;for(const l in u){const d=u[l];u[l]=H(d.toBigInt(),J,3)}const y=a[o];e[`${gt}${y}`].premiumData=p,e[`${gt}${y}`].greeks=u}})})},qr=e=>{const t={};for(const a in e){const i=e[a];i.premiumData&&(t[a]=i)}return t},Wr=async(e,t,a,i)=>{if(!t)return{};const{asset:s,expiry:r}=a;a.protocolName=`Lyra_${s}`;const o=jr(t,r);if(!o)return;const{strikesData:p,premiumsWithGreeksPromises:u}=Hr(e,t,a,o,i);return await $r(p,u),qr(p)},Vr="Rysk_",Gr="USDC",Kr=e=>{const{asset:t}=e;if(t==="ETH")return!0},zr=async e=>{const t=new q(...W(e,"Rysk_OptionExchange"),G(e)),a=t.minTradeSize(),i=t.maxTradeSize();return Promise.all([a,i]).then(s=>{const r={};return s=s.map(o=>H(BigInt(o))).sort(rt),r.minAmount=s[0],r.maxAmount=s[1],r})},Yr=async(e,t)=>zr(e).then(({minAmount:a,maxAmount:i})=>{if(t>=a&&t<=i)return!0}),Zr=async(e,t,a)=>{const{isBuy:i}=t;return new q(...W(e,"Rysk_OptionExchange"),G(e)).checkHash({...a,strike:xe(a.strike,8)},a.strike,!i).then(r=>!!r).catch(r=>null)},Xr=async(e,t,a,i)=>Promise.all([Yr(e,a),Zr(e,t,i)]).then(([s,r])=>!!(s&&r)),Qr=async(e,t)=>new q(...W(e,"Rysk_AlphaPortfolioValuesFeed"),G(e)).netDhvExposure(fa(["uint64","uint128","bool"],[t.expiration,t.strike,t.isPut])).then(i=>BigInt(i)),Jr=(e,t,a)=>{const{expiry:i,isCall:s,isBuy:r}=t,o=new q(...W(e,"Rysk_BeyondPricer"),G(e)),p=pe(e,"USDC").address,u=pe(e,"WETH").address,y=async d=>l(d,!0),l=async(d,c)=>{const m={expiration:i/ne,strike:$(a),isPut:!s,strikeAsset:p,underlying:u,collateral:p},x=H(d);if(!await Xr(e,t,x,m))return null;const f=await Qr(e,m);return o.quoteOptionPrice(m,d,!r,f).then(async T=>{if(T=Te(T),!r&&T.totalPremium>>3n<=T.totalFees)return new Promise(B=>B(null));const g=H(T.totalDelta,void 0,3),b=pe(e,Gr),k=ye(T.totalPremium,b.decimals);return Re(e,b.address,k).then(B=>{const D={marketToken:b,inMarketToken:k,inUSDC:B};return c?D:{premiumData:D,greeks:{delta:g,vega:0,gamma:0,theta:0,rho:0}}})})};return{calcPremium:y,calcPremiumWithGreeks:l}},eo=async(e,t)=>{const{expiry:a,isCall:i}=t;return new q(...W(e,"Rysk_OptionCatalogue"),G(e)).getOptionDetails(a/ne,!i).then(r=>r.map(o=>{const p=BigInt(o);return H(p)}))},to=async(e,t,a)=>{const{amount:i,isCall:s,isBuy:r}=t,o=$(i),p=Jr(e,t,a);return p.calcPremiumWithGreeks(o).then(async y=>{if(!y)return null;const{premiumData:l,greeks:d}=y;return{market:"Rysk",strike:a,isCall:s,isBuy:r,premiumData:l,greeks:d,utils:p,isComingSoon:!0,marketLink:"https://app.rysk.finance/"}})},no=async(e,t)=>{if(!Kr(t))return{};const a={},i=await eo(e,t),s=[];return i.forEach(r=>{s.push(to(e,t,r).then(o=>{o&&(a[`${Vr}${r}`]=o)}))}),await Promise.all(s),a},ao=e=>{const{asset:t,strategy:a,amountStr:i,chosenDate:s,strategyStructure:r,hasSell:o,strikesDataArrState:p,chosenStrikesState:u,areStrikesLoadingState:y,lyraMarket:l,updateTriggers:d,resetTriggers:c,updateUnstableField:m}=e,x=K(),{account:f}=Z(),[T,g]=p,[b,k]=u,[B,D]=y,I=Ht(t),R=()=>{D(!0);const j=[];r.forEach((w,N)=>{const C={asset:t,amount:de(i),expiry:s,isCall:pt(w),isBuy:Ae(w),assetPrice:I};T[N]={};const A=_=>{T[N]={...T[N],..._}};j.push(Br(x,{...C}).then(A)),j.push(Wr(x,l,{...C},f).then(A)),j.push(no(x,{...C}).then(A))}),Promise.all(j).then(()=>{const w=yr(T),N=cr(w);g([...N]),D(!1)})},O=()=>{k([])},L=()=>{g([])};return h.useEffect(()=>{O(),L()},c),h.useEffect(()=>{s&&R()},d),n.jsxs("div",{className:E("BuilderForm__field","BuilderForm__field_strike",!o&&"col-span-2"),children:[n.jsx("div",{className:"BuilderForm__field-header",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_StrikeTooltip",children:"Strike"})}),n.jsx("div",{className:"BuilderForm__field-body",children:r.map((j,w)=>{const N=Bs(a),C=N&&N.indexOf(w)!==-1,A=It(n.jsx(br,{id:w,isAutoSelectEnabled:r.length===1,structureKey:j,asset:t,amountStr:i,strikesData:T[w],chosenStrikeData:b[w],setChosenStrikeData:_=>{if(b[w]=_,C){const S=_.strike,v=_.market;N.filter(M=>M!==w).forEach(M=>{const F=Es(T[M][S],v);b[M]=F})}k([...b])}},w),B,n.jsx(he,{},w));return m(w,A),A})})]})};const io=e=>{const{liqPrice:t,isLiqPriceLoading:a,isInLastHalf:i}=e,s=n.jsx("span",{className:"muted_light",children:"..."}),r=n.jsx("span",{className:"muted_light",children:"—"}),o=()=>`$${V(t)}`;return n.jsxs("div",{className:E("CollateralLiqPrice",i&&"CollateralLiqPrice_down"),children:["Liq. Price:",n.jsxs("span",{className:"CollateralLiqPrice__val",children:[a&&s,!a&&(t?o():r)]})]})};const so=({min:e,max:t,collateralData:a,handleClick:i})=>n.jsx("div",{className:"CollateralRangeBtns",children:[e,t].map((s,r)=>{const o=a.isBase,p=ie(et(H(s),Ee)),u=Pe(s,a.marketToken.isStable),y=r===0;return n.jsxs(Ie.Fragment,{children:[n.jsxs("button",{onClick:()=>i(p),children:[o?"":"$",u]},r),y?"—":""]},r)})});const ro=({collateralData:e,collateralAmountStr:t,onChange:a})=>{const{isBase:i}=e,s=i?1:0,r=H(e.min,J,s),o=H(e.max,J,s),p=de(t),u=i?.01:1;return n.jsx("div",{className:"CollateralSlider",children:n.jsx(Ia,{defaultValue:0,value:p,min:r,max:o,step:u,onChange:a})})},oo=e=>{const{isInLastHalf:t,getCollateralData:a,collateralData:i,setCollateralData:s,collateralTokens:r,chosenStrike:o,updateTriggers:p,resetTriggers:u}=e,[y,l]=h.useState(""),[d,c]=h.useState(r[0]),[m,x]=h.useState(!1),[f,T]=h.useState(!1),g=()=>{l(""),c(r[0]),s(null)},b=()=>{l(""),s(null)};h.useEffect(()=>{g()},u),h.useEffect(()=>{o&&(x(!0),b(),k(!0))},[o,d]);const k=O=>{let L;if(!O&&y){const j=de(y);L=$(j)}a(d,L).then(j=>{s(j),x(!1),T(!1)})};Ye(()=>{m||(T(!0),k())},at,[y,...p]);const B=it([y,l],{placeholder:"0"}),D=r.map(O=>({value:O,label:n.jsx(ae,{symbol:O,isHlight:!0,children:O})})),I=E(B.hasFocus&&"hlight"),R=()=>n.jsxs(n.Fragment,{children:[i&&n.jsx(io,{liqPrice:i.liquidationPrice,isLiqPriceLoading:f,isInLastHalf:t}),st(()=>n.jsxs("div",{className:"CollateralChooser__input-container",children:[n.jsx("div",{className:"CollateralChooser__input",children:B.node}),i&&n.jsx(so,{min:i.min,max:i.max,collateralData:i,handleClick:O=>{l(O)}}),i&&n.jsx(ro,{collateralData:i,collateralAmountStr:y,onChange:O=>{const L=Oe(O);l(L)}})]}),m),n.jsx("div",{className:"CollateralChooser__token-selector",children:n.jsx(Me,{options:D,defaultValue:d,isDisabled:D.length===1,onChange:O=>{c(O.value)}},`CollateralChooser__token-selector_${d}`)})]});return n.jsx("div",{className:E("CollateralChooser",I),children:o?o.isComingSoon?n.jsxs(Fe,{children:[o.market," is coming soon"]}):R():n.jsx(Fe,{children:"Strike required"})})},po=e=>{const{asset:t,amountStr:a,strategy:i,strategyStructure:s,hasSell:r,chosenStrikes:o,collateralDataArrState:p,updateTriggers:u,resetTriggers:y,updateUnstableField:l}=e,[d,c]=p,m=()=>{c([])};h.useEffect(()=>{m()},y);const x=(T,g)=>{d[T]=g,c([...d])},f=(T,g,b)=>{const k=o[T];if(!k||!k.utils.getCollateralData)return new Promise(()=>{});const B=$(de(a)),D=ws(g),I=X.from(b??0);return k.utils.getCollateralData(B,{isBaseCollateral:D,setToCollateral:I})};return r?n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_collateral",children:[n.jsx("div",{className:"BuilderForm__field-header",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),n.jsx("div",{className:"BuilderForm__field-body",children:s.map((T,g)=>{if(Ae(T))return n.jsx("div",{className:"BuilderForm__field-empty-row",children:se()},g);const k=o[g],B=Ds(T,i,t),D=g>(s.length-1)/2,I=n.jsx(oo,{isInLastHalf:D,collateralTokens:B,collateralData:d[g],setCollateralData:R=>x(g,R),getCollateralData:(R,O)=>f(g,R,O),chosenStrike:k,updateTriggers:u,resetTriggers:y},g);return l(g,I),I})})]}):null};const uo=e=>{const{strategyStructure:t,unstableFields:a,chosenStrikes:i,strikesDataArr:s,areStrikesLoading:r}=e;return dt()?n.jsxs("div",{className:"BuilderMobileContainer BuilderForm__field",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),n.jsx("div",{className:"BuilderForm__field-body",children:t.map((p,u)=>{const y=r||!!s[u],l=!!i[u],d=!!a.collateral[u],c=u===t.length-1;return n.jsxs("div",{className:"BuilderMobileContainer__item",children:[n.jsx("div",{className:E("BuilderMobileContainer__item-date",y&&"mb-7"),children:a.date[u]}),n.jsx("div",{className:"BuilderMobileContainer__item-strike",children:a.strike[u]}),d&&l&&n.jsxs("div",{className:E("BuilderMobileContainer__item-collateral"),children:[n.jsx("div",{className:"BuilderMobileContainer__item-title",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),a.collateral[u]]}),y&&!c&&n.jsx(je,{})]},u)})})]}):null},lo=e=>{const{assetState:t,strategyState:a,amountStrState:i,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}=e,[y]=t,[l]=a,[d]=i,[c]=r,m=re[l].structure,x=Ft(m),f=h.useState(!1),[T]=f,[g]=p,[b]=o,k=K(),B=sn(k),[D,I]=h.useState(void 0),R=()=>{I(void 0);const C=`W${y}`;B.markets().then(A=>{const _=A.find(S=>S.baseToken.symbol===C);I(_??null)})};h.useEffect(()=>{R()},[y]);const O={date:[y,D],strike:[c],collateral:[d]},L={date:[y,l],strike:[y,l,c],collateral:[y,l,c],unstableFields:[l]},[j,w]=h.useState({date:[],strike:[],collateral:[]}),N=(C,A,_)=>{j[C][A]=_};return h.useEffect(()=>{w({date:[],strike:[],collateral:[]})},L.unstableFields),n.jsxs("div",{className:"BuilderForm__fields",children:[n.jsx(xs,{assetState:t,isDisabled:T}),n.jsx(_s,{strategyState:a,isDisabled:T}),n.jsx(hs,{amountStrState:i,strategy:l}),n.jsx(Xs,{strategyStructure:m,dateListState:s,chosenDateState:r,lyraMarket:D,updateTriggers:O.date,resetTriggers:L.date,isDisabled:T,updateUnstableField:(C,A)=>{N("date",C,A)}}),n.jsx(ao,{asset:y,strategy:l,amountStr:d,chosenDate:c,strategyStructure:m,hasSell:x,strikesDataArrState:o,chosenStrikesState:p,areStrikesLoadingState:f,lyraMarket:D,updateTriggers:O.strike,resetTriggers:L.strike,updateUnstableField:(C,A)=>{N("strike",C,A)}}),n.jsx(po,{asset:y,strategy:l,amountStr:d,strategyStructure:m,hasSell:x,chosenStrikes:g,collateralDataArrState:u,updateTriggers:O.collateral,resetTriggers:L.collateral,updateUnstableField:(C,A)=>{N("collateral",C,A)}}),n.jsx(uo,{strategyStructure:m,unstableFields:j,chosenStrikes:g,strikesDataArr:b,areStrikesLoading:T})]})},yo=()=>n.jsxs(ue,{id:"BuilderForm_StrikeTooltip",children:[n.jsx("h6",{children:"Hegic Options (American options)"}),n.jsxs("p",{className:"my-5",children:["They require manual exercise before ",n.jsx("br",{}),"the expiration date. ",n.jsx("br",{}),"There are no secondary markets; out-",n.jsx("br",{}),"of-the-money options can't be sold."]}),n.jsx("h6",{children:"Lyra (European options)"}),n.jsxs("p",{className:"my-5",children:["They are only exercised automatically ",n.jsx("br",{}),"at the expiration date. ",n.jsx("br",{}),"Secondary markets are available; out-",n.jsx("br",{}),"of-the-money options can be sold."]})]});const co=({strategy:e})=>{const t=re[e],{outlooks:a,profit:i,loss:s,description:r}=t.stats;return n.jsxs(ue,{className:"WhenPurchaseTooltip",id:"BuilderForm_WhenPurchaseTooltip",place:"bottom-end",children:[n.jsxs("div",{className:"WhenPurchaseTooltip__header",children:[n.jsx("h2",{className:"WhenPurchaseTooltip__title",children:e}),n.jsx("div",{className:"WhenPurchaseTooltip__outlooks",children:a.map(o=>{const p=fs[o];return n.jsx("div",{className:"WhenPurchaseTooltip__outlook",style:{color:p},children:o},o)})})]}),n.jsxs("div",{className:"WhenPurchaseTooltip__body",children:[n.jsx("h3",{className:"WhenPurchaseTooltip__subtitle",children:"When purchase"}),n.jsx("p",{className:"WhenPurchaseTooltip__description",children:r}),n.jsx("div",{className:"WhenPurchaseTooltip__stats",children:[i,s].map((o,p)=>{const u=p===0?"Profit":"Loss";return n.jsxs("div",{className:"WhenPurchaseTooltip__stats-item",children:[n.jsx("div",{className:"WhenPurchaseTooltip__stats-item-name",children:u}),n.jsx("div",{className:"WhenPurchaseTooltip__stats-item-value",children:o})]},`${u}_${o}`)})})]})]})},mo=()=>n.jsxs(ue,{id:"BuilderForm_CollateralTooltip",children:["This refers to the amount ",n.jsx("br",{}),"you’re setting aside ",n.jsx("br",{}),"as collateral for selling options"]}),To=()=>n.jsxs(ue,{id:"BuilderForm_MaxCostTooltip",children:["This is the highest amount ",n.jsx("br",{}),"you’ll pay for buying options. ",n.jsx("br",{}),"If the option price rises ",n.jsx("br",{}),"beyond this, your transaction ",n.jsx("br",{}),"will be reverted."]}),fo=()=>n.jsxs(ue,{id:"BuilderForm_MinReceivedTooltip",children:["This is the least amount you’re ",n.jsx("br",{}),"assured to receive when ",n.jsx("br",{}),"selling options. If the option ",n.jsx("br",{}),"price drops beyond this point, ",n.jsx("br",{}),"your transaction will ",n.jsx("br",{}),"be reverted."]}),bo=()=>n.jsxs(ue,{id:"BuilderForm_YouPayWarningTooltip",children:["Apparently, the collateral you've set ",n.jsx("br",{}),"is too small. This may result in instant ",n.jsx("br",{}),"liquidation of the position."]}),ho=()=>n.jsxs(ue,{id:"Builder_PremiumTooltip",children:[n.jsx("h6",{children:"Negative Premium"}),n.jsxs("div",{style:{margin:"3px 0 5px"},children:["Indicates the amount of USDC you ",n.jsx("br",{}),"have paid as an option buyer."]}),n.jsx("h6",{children:"Positive Premium"}),n.jsxs("div",{style:{margin:"3px 0"},children:["Denotes the amount of USDC you ",n.jsx("br",{}),"have received as an option seller."]})]}),xo=({strategy:e})=>n.jsxs("div",{className:"BuilderTooltips",children:[n.jsx(yo,{}),n.jsx(co,{strategy:e}),n.jsx(mo,{}),n.jsx(ho,{}),n.jsx(To,{}),n.jsx(fo,{}),n.jsx(bo,{})]});const go=({collateralCost:e,getCostNode:t})=>n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"}),n.jsx("div",{className:E("BuilderCalculations__item-value",e&&e.inUSDC!==0n&&"tip"),"data-tooltip-id":"BuilderForm__CollateralCostDecompositionTooltip",children:t(e)})]}),_o=({maxCost:e,getCostNode:t})=>n.jsxs("div",{className:"TradeCostValue",children:[n.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MaxCostTooltip",children:"Max. Cost"}),n.jsx("div",{className:E("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MaxCostDecompositionTooltip",children:t(e,"-")})]}),Co=({netCost:e,getCostNode:t})=>{const a=(e==null?void 0:e.inUSDC)<0?"negative":(e==null?void 0:e.inUSDC)>0?"positive":"neutral",i=Ts[a];return n.jsxs("div",{className:"TradeCostValue",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"Net. Cost"}),n.jsx("div",{className:E("BuilderCalculations__item-value",a),children:t(e,i)})]})},vo=({minReceived:e,getCostNode:t})=>n.jsxs("div",{className:"TradeCostValue",children:[n.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MinReceivedTooltip",children:"Min. Received"}),n.jsx("div",{className:E("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MinReceivedDecompositionTooltip",children:t(e,"+")})]});const ko=({hasBuy:e,hasSell:t,getCostNode:a,maxCost:i,minReceived:s,netCost:r})=>{const o={plus:n.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:18},children:"+"}),equal:n.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:17},children:"="})},p=e&&t;return n.jsxs("div",{className:"TradeCostItem BuilderCalculations__item",children:[e&&n.jsx(_o,{maxCost:i,getCostNode:a}),p&&o.plus,t&&n.jsx(vo,{minReceived:s,getCostNode:a}),p&&n.jsxs(n.Fragment,{children:[o.equal,n.jsx(Co,{netCost:r,getCostNode:a})]})]})},So=({hasBuy:e,hasSell:t,hasChosenStrike:a,maxCost:i,minReceived:s,netCost:r,collateralCost:o})=>{const p=(u,y)=>!a||te(u)||(u==null?void 0:u.inUSDC)===0n?"$0":st(()=>`${y??""}$${V(u.inUSDC<0?-u.inUSDC:u.inUSDC)}`,!u);return n.jsxs("div",{className:"BuilderCostItems BuilderCalculations__items",children:[n.jsx(ko,{hasBuy:e,hasSell:t,getCostNode:p,maxCost:i,minReceived:s,netCost:r}),t&&n.jsx(go,{collateralCost:o,getCostNode:p})]})};const Hn=({id:e,decompositionArr:t,...a})=>n.jsx(ue,{className:"TooltipDecomposition",id:e,place:"bottom-end",...a,children:t.map((i,s)=>{const r=s===t.length-1;return n.jsxs(Ie.Fragment,{children:[n.jsxs("div",{className:"TooltipDecomposition__item",children:[n.jsx("div",{className:"TooltipDecomposition__item-name",children:i.nameNode}),n.jsx("div",{className:"TooltipDecomposition__item-value",children:i.valueNode})]}),!r&&n.jsx(je,{})]},s)})}),wo=({id:e,priceDecompositionArr:t})=>{const i=(()=>t.map(r=>{const o=r.marketToken.isStable,p=n.jsx(ae,{symbol:r.marketToken.symbol,isHlight:!0,children:Pe(r.inMarketToken,o)}),u=`$${V(r.inUSDC,2)}`;return{nameNode:p,valueNode:u}}))();return n.jsx(Hn,{id:e,decompositionArr:i})},Po=({maxCost:e,minReceived:t,collateralCost:a})=>{const i=[{id:"BuilderForm__MaxCostDecompositionTooltip",decomposition:e==null?void 0:e.decomposition,isZero:(e==null?void 0:e.inUSDC)===0n},{id:"BuilderForm__MinReceivedDecompositionTooltip",decomposition:t==null?void 0:t.decomposition,isZero:(t==null?void 0:t.inUSDC)===0n},{id:"BuilderForm__CollateralCostDecompositionTooltip",decomposition:a==null?void 0:a.decomposition,isZero:(a==null?void 0:a.inUSDC)===0n}];return n.jsx("div",{className:"CostDecompositionTooltips",children:i.map(s=>!s.decomposition||s.isZero?null:n.jsx(wo,{id:s.id,priceDecompositionArr:s.decomposition},s.id))})};const $n="/sf_draft/assets/pen-7561a00e.svg",Mo=({slippage:e,setSlippage:t})=>{const a=c=>`${et(c*100,6)}`,[i,s]=h.useState(a(e)),{node:r,ref:o,hasFocus:p}=it([i,s],{maxValue:100}),u=()=>{const c=a(ht);s(c)},y=()=>{const c=Number(i)/100;t(c)},l=()=>{const c=o.current,m=c.value.includes(".");let x=(c.value.length+1)*8.5;m&&(x-=4),c.style.width=x+"px"},d=()=>{(!i||Number(i)===0)&&u()};return h.useEffect(()=>{i&&y(),l()},[i]),h.useEffect(()=>{p||d()},[p]),n.jsxs("div",{className:"SlippageInput",onClick:()=>{var c;return(c=o.current)==null?void 0:c.focus()},children:[n.jsxs("div",{className:E("SlippageInput__input-container",p&&"focused"),children:[r,n.jsx("span",{className:"SlippageInput__unit",children:"%"})]}),n.jsx("button",{className:"SlippageInput__btn",children:n.jsx("img",{src:$n,alt:"Edit slippage"})})]})},Ao=({swapSlippageState:e})=>{const[t,a]=e;return n.jsxs("div",{className:"SwapSlippageField info-row",children:[n.jsx("div",{className:"info-row__title",children:"Slippage"}),n.jsx("div",{className:"info-row__value",children:n.jsx(Mo,{slippage:t,setSlippage:a})})]})},Do=({strategy:e,amountStr:t,chosenStrikesState:a,collateralDataArrState:i,youPayState:s,swapSlippageState:r})=>{const o=re[e].structure,p=Ft(o),u=Ps(o),[y,l]=s,[d,c]=a,[m,x]=i,[f,T]=h.useState(null),[g,b]=h.useState(null),[k,B]=h.useState(null),[D,I]=h.useState(null),R=Ms(d),O=!!m.find(v=>v),L=Nt(y),j=v=>{d[v]=null,m[v]=null,c([...d]),x([...m])},w={sum:v=>v.reduce((M,F,U)=>{if(U===0)return{inUSDC:F.inUSDC,decomposition:[F]};const Y=M.decomposition;return Y[U]={marketToken:F.marketToken,inMarketToken:F.inMarketToken,inUSDC:F.inUSDC},{inUSDC:M.inUSDC+F.inUSDC,decomposition:Y}},v[0]),separateBuyFromSell:v=>{const P=[],M=[];return v.forEach(F=>{F&&(F.isBuy?P.push(F):M.push(F))}),{buyCosts:P,sellCosts:M}},getArgsForHandler:v=>{const{reset:P}=N[v],{isAllowed:M,update:F}=A[v];return[P,M,F]}},N={collateral:{reset:()=>{I({inUSDC:0n})}},trade:{reset:()=>{T(null),b(null),B(null)}},youPay:{reset:()=>{l(null)}}},C={collateral:{calc:()=>{const v=m.filter(M=>M);return w.sum(v)}},trade:{calc:()=>{if(!t)return;const v=[],P=$(de(t));return d.forEach((M,F)=>{M&&v.push(M.utils.calcPremium(P).then(U=>U?(M.premiumData=U,M.amount=P,U.isBuy=M.isBuy,U):(j(F),null)))}),Promise.all(v).then(M=>{const{buyCosts:F,sellCosts:U}=w.separateBuyFromSell(M);return{maxCost:w.sum(F),minReceived:w.sum(U)}})}},youPay:{calc:()=>{let v;return p?D!=null&&D.inUSDC&&(v={inUSDC:D.inUSDC+((f==null?void 0:f.inUSDC)??0n),decomposition:Os(o,f==null?void 0:f.decomposition,D.decomposition),shouldSwap:L}):v={inUSDC:f.inUSDC,decomposition:f.decomposition},v}}},A={collateral:{triggers:[m],isAllowed:O&&R,update:()=>{const v=C.collateral.calc();I(v)}},trade:{triggers:[d],debouncedTriggers:[t],isAllowed:R,update:()=>{C.trade.calc().then(v=>{const{maxCost:P,minReceived:M}=v;T(P),b(M);const F={inUSDC:((M==null?void 0:M.inUSDC)??0n)-((P==null?void 0:P.inUSDC)??0n)};B(F)})}},youPay:{triggers:[k,D],isAllowed:!!(p?k!=null&&k.inUSDC&&(D!=null&&D.inUSDC):k!=null&&k.inUSDC),update:()=>{const v=C.youPay.calc();l(v)}}},_=(v,P,M)=>{v(),P&&M()};return Object.keys(A).forEach(v=>{const P=()=>{_(...w.getArgsForHandler(v))},M=[...A[v].triggers],F=A[v].debouncedTriggers&&[...A[v].debouncedTriggers];F&&Ye(P,at,F),h.useEffect(P,M)}),n.jsxs("div",{className:E("BuilderCost",p&&"has-sell"),children:[n.jsxs("div",{className:"BuilderCost__content",children:[n.jsx(So,{hasBuy:u,hasSell:p,hasChosenStrike:R,maxCost:f,minReceived:g,netCost:k,collateralCost:D}),L&&n.jsx(Ao,{swapSlippageState:r})]}),n.jsx(Po,{maxCost:f,minReceived:g,collateralCost:D})]})};const Bo=({decompositionData:e})=>n.jsx("div",{className:"GreeksDecompositionTooltips",children:xt.map(t=>{const a=e[t];if(!a||!a.length)return null;const s=`BuilderForm_${Mn(t)}DecompositionTooltip`;return n.jsx(Hn,{id:s,decompositionArr:a},s)})}),Eo=({chosenStrikes:e})=>{const t={};xt.forEach(p=>{t[p]=[]});const a=(p,u)=>{const y=p.greeks[u],l={nameNode:n.jsx(yt,{strikeData:p,priceNode:`$${ie(p.strike)}`}),valueNode:y};t[u].push(l)},i=()=>n.jsx("div",{className:"BuilderCalculations__items",children:xt.map(p=>{const u=Mn(p),y=e.reduce((l,d)=>{if(!d)return l;a(d,p);const c=d.greeks[p];return l+c},0);return n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:u}),n.jsx("div",{className:E("BuilderCalculations__item-value",e.length&&"tip"),"data-tooltip-id":`BuilderForm_${u}DecompositionTooltip`,children:Je(y,3)})]},p)})}),s=()=>n.jsx(Nn,{renderHeader:({state:p})=>`${p.isEnter?"Hide":"Show"} greeks`,children:i()}),o=dt(576);return n.jsxs("div",{className:"BuilderGreeks",children:[o?s():i(),n.jsx(Bo,{decompositionData:t})]})};const Io=({youPayState:e,paymentToken:t})=>{const a=K(),[i,s]=e,r=()=>i.inUSDC<0?new Promise(l=>{l(null)}):Qs(a,t.address,i.inUSDC),o={triggers:[i],isAllowed:!!(i&&t&&te(i.inPaymentToken)),update:()=>{const l=()=>{setTimeout(()=>{s({...i})},1e3)};if(!Nt(i,t)){i.inPaymentToken=i.decomposition.reduce((c,m)=>m?c+m.inMarketToken:c,0n),i.paymentToken=t,l();return}r().then(c=>{i.paymentToken=t,i.inPaymentToken=c,l()})}},p={triggers:[t.symbol],isAllowed:!!i,reset:()=>{i.inPaymentToken=void 0,s({...i})}};h.useEffect(()=>{o.isAllowed&&o.update()},[...o.triggers]),h.useEffect(()=>{p.isAllowed&&p.reset()},[...p.triggers]);const u={getNegativeValueNode:()=>n.jsx(ae,{children:n.jsx("span",{className:"negative tip","data-tooltip-id":"BuilderForm_YouPayWarningTooltip",children:V(i.inUSDC,0)})}),getPaymentTokenNode:()=>Pe(i.inPaymentToken,i.paymentToken.isStable),getUsdcNode:()=>`$${V(i.inUSDC,2)}`,getApproximatelySymbolNode:()=>n.jsx("span",{className:"muted_light mx-5",style:{fontSize:16},children:ms})};return(()=>!i||!t?se():i.inPaymentToken===null?u.getNegativeValueNode():te(i.inPaymentToken)?n.jsx(he,{}):n.jsxs(ae,{isHlight:!0,symbol:t.symbol,children:[u.getPaymentTokenNode(),u.getApproximatelySymbolNode(),u.getUsdcNode()]}))()};const Oo=({className:e,options:t,defaultOption:a,defaultValue:i,onChange:s,...r})=>n.jsx(Me,{className:E("SelectorInline",e),options:t,defaultOption:a,defaultValue:i,onChange:s,...r}),jo=e=>{const{account:t}=Z();return e.map(i=>{let{data:s}=sa({address:t,token:i.isETH?null:i.address,watch:!0});return s||(s={value:0n}),{...s,address:i.address,symbol:i.symbol,isETH:i.isETH,isStable:i.isStable}})},Fo=e=>{const{isConnected:t,account:a}=Z(),i=K(),s=jo(e),{data:r}=Ne(t&&[a,"useTokenBalancesUSDC",s],async()=>{const o=[],p=[];return s.forEach((u,y)=>{u&&(u.inTokenDecimals=u.value,u.inDefaultDecimals=ye(u.value,u.decimals),p.push(Re(i,u.address,u.inDefaultDecimals).then(l=>{o[y]={...u,inUSDC:l}}).catch(l=>{console.log(`Swapping ${u.symbol} to USDC error.

`+l),o[y]=null})))}),await Promise.all(p),o});return r??[]},No=({paymentTokens:e,paymentToken:t,setPaymentToken:a})=>{const{isConnected:i,account:s}=Z(),r=Fo(e),o=()=>{const l=r.find(d=>d.symbol===t.symbol);l!==t.balance&&a({...t,balance:l})};h.useEffect(()=>{o()},[r,s]);const p=l=>i?l===null?se("Error"):te(l)||te(l.inUSDC)?n.jsx(he,{}):`$${V(l.inUSDC,0)}`:se(),u=e.map((l,d)=>{const c=r[d],m=p(c);return{label:n.jsxs("div",{className:"PaymentTokenSelector__item",children:[n.jsx("div",{className:"PaymentTokenSelector__item-name",children:n.jsx(ae,{symbol:l.symbol,isHlight:!0,children:l.symbol})}),n.jsx("div",{className:"PaymentTokenSelector__item-value",children:m})]}),value:l.symbol,balance:c}}),y=[{label:n.jsxs("div",{className:"PaymentTokenSelector__item",children:[n.jsx("div",{children:"Asset"}),n.jsx("div",{children:"Balance, $"})]}),options:u}];return n.jsx(Oo,{className:"PaymentTokenSelector",options:y,defaultValue:t.symbol,onChange:l=>{a({symbol:l.value,balance:l.balance})}},s)},Lo=({paymentToken:e,setPaymentToken:t,youPayState:a,confirmButtonNode:i})=>{const{isConnected:s}=Z(),r=K(),o=ki(r),p=()=>{if(!s)return se();if(e.balance===null)return se("Error");if(te(e.balance))return n.jsx(he,{});const u=e.balance.value===0n?0:void 0;return n.jsx(ae,{symbol:e.symbol,isHlight:!0,children:Pe(e.balance.inDefaultDecimals,e.isStable,u)})};return n.jsxs("div",{className:"BuilderSwap",children:[n.jsxs("div",{className:"BuilderCalculations__items",children:[n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"Select Payment method"}),n.jsx("div",{className:"BuilderCalculations__item-value",children:n.jsx(No,{paymentTokens:o,paymentToken:e,setPaymentToken:t})})]}),n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"You pay"}),n.jsx("div",{className:"BuilderCalculations__item-value",children:n.jsx(Io,{youPayState:a,paymentToken:e})})]}),n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"Balance"}),n.jsx("div",{className:"BuilderCalculations__item-value",children:p()})]})]}),i]})},Ro=(e,t,a,i,s,r,o)=>{const{isConnected:p}=Z(),{connectWallet:u}=Cn(),y=Ft(t),l=a.length!==t.length||!a.every(b=>b),d=!!i.find(b=>b&&b.inMarketToken===0n),c=a.find(b=>b.isComingSoon),m=()=>{if(!e)return"Enter Amount";if(l)return"Fill out the Strike fields";if(y&&d)return"Fill out the Collateral fields";if(!s)return"Please, wait...";if(s>r)return"Insufficient balance"},x=()=>!p||c?!0:!m(),f=()=>{const b="Buy Strategy";return p?c?`Visit ${c.market} app`:m()??b:"Connect wallet"},T=()=>p?(c&&window.open(c.marketLink),o):u;return n.jsx(fe,{className:"BuilderForm__button",onClick:T,isDisabled:!x(),children:f()})},Uo=({strategy:e,amountStr:t,youPayState:a,chosenStrikesState:i,collateralDataArrState:s,openBuyModal:r,swapSlippageState:o})=>{var g;const p=K(),[u,y]=Ct("builder-payment-token","ETH"),[l,d]=h.useState({symbol:u});h.useEffect(()=>{if(y(l.symbol),!l.address){const b=pe(p,l.symbol);d({...l,...b})}},[l]);const[c]=i,[m]=s,[x]=a,f=re[e].structure,T=Ro(t,f,c,m,x==null?void 0:x.inPaymentToken,(g=l.balance)==null?void 0:g.inDefaultDecimals,r);return n.jsxs("div",{className:"BuilderCalculations",children:[n.jsx(Eo,{chosenStrikes:c}),n.jsx(Do,{strategy:e,amountStr:t,chosenStrikesState:i,collateralDataArrState:s,youPayState:a,swapSlippageState:o}),n.jsx(Lo,{youPayState:a,paymentToken:l,setPaymentToken:d,confirmButtonNode:T})]})};const Ho=({stagesArr:e})=>n.jsx("div",{className:"Stages",children:e.map(t=>n.jsx("div",{className:E("Stages__item",t.isActive&&"active"),children:t.name},t.name))}),qn=(e,t,a,i=s=>{})=>{const{account:s}=Z(),r=K(),o=pe(r,e);return{check:async()=>o.isETH?new Promise(u=>u(!0)).then(i):ks(r,o,s,t,a).then(i),approve:async(u,y)=>{if(o.isETH)throw new Error("Trying to approve ETH");return vs(r,o,t,a,u,y)}}},$o=(e,t,a,i,s,r={setIsLoading:()=>{},closeModal:()=>{},addPendingPosition:()=>{}})=>{const o=K(),p=re[e],{setIsLoading:u,closeModal:y,addPendingPosition:l}=r,{paymentToken:d,decomposition:c}=i,m=d.isETH,[x,f]=h.useState({moduleArr:[],parametersArr:[],swapDataArr:[],productType:p.key}),[T,g]=h.useState([]),b=()=>T.reduce((j,w)=>j+w,0n),k=new q(...W(o,"TxBuilder"),_e()),B=(L,j)=>{const w=bs[L.protocolName];return k.module(w).then(N=>{x.moduleArr[j]=N})},D=(L,j)=>{const w=a[j],N={setToCollateral:w&&X.from(w.inMarketToken),isBaseCollateral:w==null?void 0:w.isBase,premiumInMarketToken:L.premiumData.inMarketToken};return L.utils.getBuilderParams(L.amount,N,d.decimals).then(C=>{x.parametersArr[j]=C})},I=(L,j)=>{const w=c[j],N=new q(...W(o,"Exchanger"),G(o)),C=w.marketToken,A=Js(d.address,C.address),_=w.inMarketToken,S=An(d,C);return Lt(o,C.address,d.address,_).then(v=>Rt(v,s)).then(v=>{const P=xe(v,d.decimals),M=xe(_,C.decimals);return m&&(T.push(P),g([...T])),N.encodeFromExchange({path:A,tokenIn:d.address,tokenOut:C.address,amountIn:P,amountOutMinimum:M,isETH:m,swap:S}).then(F=>{x.swapDataArr[j]=F})})},R=()=>{const L=[];return t.forEach((j,w)=>{L.push(B(j,w),D(j,w),I(j,w))}),Promise.all(L).then(()=>{f({...x})}).catch(()=>u(!1))};return()=>{u(!0);const{amount:L,asset:j}=t[0];return R().then(()=>{const w=H(L),N=w!==1,C=p.plural??`${e}s`;return ot(o,k.consolidationOfTransactions,[x.moduleArr,x.parametersArr,x.swapDataArr,x.productType,T.length?{value:b()}:{}],`${w} ${N?C:e} opened.`,u,y)}).then(()=>{g([])})}},Wn=()=>({opening:[],closing:[]}),De=h.createContext(Wn()),Xt=(e,t)=>{const[a,i]=e;for(const s in a){const r=a[s];if(r.length){const o=r.filter(p=>p.market!==t);a[s]=o,i({...a})}}},qo=({isOpen:e,setIsOpen:t,asset:a,strategy:i,amountStr:s,chosenStrikes:r,collateralDataArr:o,youPay:p,swapSlippage:u})=>{const y=K(),l=re[i],[d,c]=h.useState(!1),[m,x]=h.useState(null),[f,T]=h.useContext(De),g=$o(i,r,o,p,u,{setIsLoading:c,closeModal:()=>t(!1),addPendingPosition:P=>{P.isOpening=!0,f.opening.push(P),T({...f})}}),b=Nt(p),B=["Approve","Buy"].map(P=>({name:P,isActive:m===P})),{paymentToken:D,inPaymentToken:I}=p,R=Rt(I,b?zt+u:zt),O=Pe(R,D.isStable),L=D.symbol,j=`${O} ${L}`,w={Approve:`Approve ${j}`,Buy:`Pay ${j}`},N=new q(...W(y,"Exchanger"),_e()),C=qn(L,N.address,R,P=>{x(P?"Buy":"Approve")}),A=()=>{x(null),C.check()};h.useEffect(()=>{e&&A()},[e,p]);const _=()=>{if(!m)return"Please, wait...";if(d){if(m==="Approve")return`Approving ${L}...`;if(m==="Buy")return`Buying ${i}...`}},S={approve:()=>{C.approve(c,A)},buy:g},v={getBtnText:()=>_()??w[m],getIsBtnEnabled:()=>!_(),getBtnOnClick:()=>{switch(m){case"Approve":return S.approve;case"Buy":return S.buy}}};return n.jsxs(nt,{className:"BuyBuildModal",isOpen:e,setIsOpen:t,children:[n.jsx(Ho,{stagesArr:B}),n.jsx("h1",{className:"BuyBuildModal__title",children:m??n.jsx(he,{})}),n.jsxs("div",{className:"BuyBuildModal__strategy",children:["Strategy",n.jsxs("div",{className:"BuyBuildModal__strategy-info",children:[n.jsx("span",{className:"BuyBuildModal__strategy-name",style:{color:l.color},children:i}),n.jsx(je,{isVertical:!0}),n.jsx(ae,{className:"BuyBuildModal__strategy-amount",symbol:a,isHlight:!0,children:s})]})]}),b&&n.jsx("div",{className:"BuyBuildModal__footer",children:n.jsxs("p",{className:"BuyBuildModal__hint",children:["Sharwa.Finance will auto-convert your ",j," into tokens compatible with the options protocols where your positions are to be opened, using Uniswap v3."]})}),n.jsx(fe,{className:"BuyBuildModal__button",isDisabled:!v.getIsBtnEnabled(),onClick:v.getBtnOnClick(),children:v.getBtnText()})]})},Wo=e=>!(typeof e!="number"||e>1||e<0),Vo=({assetState:e,strategyState:t,amountStrState:a,dateListState:i,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p})=>{const u=h.useState(null),[y]=u,[l,d]=h.useState(!1),c=Ct("Builder-swap-slippage",ht),[m,x]=c;Wo(m)||x(ht);const[f]=e,[T]=t,[g]=a,[b]=o,[k]=p,B=()=>{d(!0)};return n.jsxs("div",{className:"BuilderForm App-box",children:[n.jsx(lo,{assetState:e,strategyState:t,amountStrState:a,dateListState:i,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p}),n.jsx(Uo,{strategy:T,amountStr:g,youPayState:u,chosenStrikesState:o,collateralDataArrState:p,openBuyModal:B,swapSlippageState:c}),(y==null?void 0:y.inPaymentToken)&&n.jsx(qo,{isOpen:l,setIsOpen:d,asset:f,strategy:T,amountStr:g,chosenStrikes:b,collateralDataArr:k,youPay:y,swapSlippage:m}),n.jsx(xo,{strategy:T})]})};const Go=({asset:e,strategy:t,amountStr:a,chosenStrikes:i,collateralDataArr:s})=>{var A;const r=re[t].structure,o=h.useRef(null),p=de(a),u={amount:p,strikes:i.map(_=>_==null?void 0:_.strike),premiums:i.map(_=>{const S=_==null?void 0:_.premiumData.inUSDC;return S&&H(S)}),strategies:r,collaterals:s,isReady:p&&i.length===r.length&&i.every(_=>_)},y=e==="ETH",l=y?.3:.2,d=y?5:10,c=100,m=Ht(e),x=H(m),f=x&&Math.round(x/d)*d,T=(_,S)=>{const v=u.strategies[_],P=u.premiums[_],M=u.strikes[_],F=u.amount,U=u.collaterals[_],Y=(U==null?void 0:U.liquidationPrice)&&H(U.liquidationPrice),ce=U&&H(U.inMarketToken),Ce=U==null?void 0:U.isBase;let z;if(P){switch(v){case 1:S<M?z=-P:z=(S-M)*F-P;break;case 2:S>M?z=-P:z=(M-S)*F-P;break;case-1:if(Y&&S>Y)Ce?z=-(ce*Y)+P:z=-ce+P;else if(Ce){const Zn=(M-x)*F+P;S>M?z=Zn:z=(S-x)*F+P}else S<M?z=P:z=(M-S)*F+P;break;case-2:Y&&S<Y?Ce?z=-(ce*Y)+P:z=-ce+P:S>M?z=P:z=(S-M)*F+P;break}if(z)return Number(z)}},b=(()=>{if(!u)return;const _=u.strikes.reduce((U,Y)=>(U+Y)/2,u.strikes[0]),S=window.innerWidth>480?l:l-.05,v=Math.round(_*(1-S)/100)*100,P=Math.round(_*(1+S)/100)*100,M=[];for(let U=0;U<(P-v)/d;U++){const Y=v+U*d;M.push(Y)}const F=[];return u.strategies.forEach((U,Y)=>{M.forEach((ce,Ce)=>{const z=T(Y,ce);Y===0?F.push({closePrice:ce,pnl:z}):F[Ce].pnl=F[Ce].pnl+z})}),F})(),k=(A=b.reduce((_,S)=>S.pnl>_.pnl?S:_,b[0]))==null?void 0:A.pnl,B=k&&ie(k.toFixed(0)),I=(()=>{if(!b)return;const _=Math.max(...b.map(P=>P.pnl)),S=Math.min(...b.map(P=>P.pnl));if(_<=0)return 0;if(S>=0)return 1;const v=_/(_-S);return isNaN(v)?0:v})(),R=({value:_,cx:S,cy:v})=>{const P=_[1];let M;return P<0?M=ee:P>0?M=ge:M=Ue,n.jsx("circle",{cx:S,cy:v,r:5,style:{opacity:"0.9"},fill:M})},O=_=>{const{active:S,payload:v,label:P}=_,M=S&&v&&v.length&&Number(v[0].value.toFixed(2));return S&&v&&v.length?n.jsxs("div",{className:"react-tooltip",children:[n.jsx(ae,{currencyName:e,isHlight:!0,isSmall:!0,children:ie(P)}),n.jsxs("p",{children:["PnL ",n.jsx("span",{className:E({positive:M>0,negative:M<0}),children:`${M!==0?M>0?"+":"-":""}$${ie(Math.abs(M))}`})]})]}):null},L=_=>ie(_),j={fill:Ue,fontSize:13},w=ct,[N,C]=h.useState(null);return h.useEffect(()=>{if(o.current&&b){let _;const S=Math.round(c/(o.current.clientWidth/b.length));S<20?_=19:_=Math.floor(S/20)*20-1,C(_)}},[o.current,b,window.innerWidth]),n.jsx("div",{className:"BuilderPositionChart App-box",ref:o,children:u.isReady?n.jsx(Oa,{children:n.jsxs(ja,{data:b,margin:{left:(B==null?void 0:B.length)*7.5-40,right:15,top:15},children:[n.jsx(Fa,{dataKey:"closePrice",interval:N,tickFormatter:L,tick:j,stroke:w}),n.jsx(Na,{dataKey:"pnl",tickFormatter:L,tick:j,stroke:w,padding:{bottom:15}}),n.jsx(La,{cursor:{stroke:Ue},content:n.jsx(O,{})}),n.jsx(Ra,{type:"monotone",dot:!1,dataKey:"pnl",stroke:"url(#splitColor)",activeDot:n.jsx(R,{}),fill:"url(#splitColorTransparent)"}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"splitColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:I,stopColor:ge,stopOpacity:1}),n.jsx("stop",{offset:I,stopColor:ee,stopOpacity:1})]}),n.jsxs("linearGradient",{id:"splitColorTransparent",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:I,stopColor:ge,stopOpacity:.3}),n.jsx("stop",{offset:I,stopColor:ee,stopOpacity:.3})]})]}),n.jsx($t,{x:f,stroke:ct,strokeDasharray:"3 3",label:{value:"Current Price",fill:ct,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}}),u.collaterals.length&&u.collaterals.map(_=>{if(!_||!_.liquidationPrice)return;const S=H(_.liquidationPrice),v=Math.round(S/d)*d;return n.jsx($t,{x:v,stroke:ee,strokeDasharray:"3 3",label:{value:"Liq. Price",fill:ee,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}},S)}),n.jsx(Ua,{stroke:"rgba(58, 68, 102, 0.15)"})]})}):n.jsx(Fe,{children:"Fill out the Strike fields to view position chart"})})},Ko=e=>{const{assetState:t}=e,a=h.useState("Long Call"),i=h.useState("1"),s=h.useState([]),r=h.useState(null),o=h.useState([]),p=h.useState([]),u=h.useState([]),[y]=t,[l]=a,[d]=i,[c]=p,[m]=u;return n.jsxs("div",{className:"BuilderDashboard",children:[n.jsx(Vo,{assetState:t,strategyState:a,amountStrState:i,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}),n.jsx(Go,{asset:y,strategy:l,amountStr:d,chosenStrikes:c,collateralDataArr:m})]})},Vn=async(e,t,a,i)=>{const s=a%t;if(i+1>a-s&&(t=s),e.length>=t){await Promise.all(e),Cs(e);return}},zo=13,Gn=e=>{const{isConnected:t,account:a}=Z(),i=K(),s=Le(),[r,o]=h.useState(void 0),p=()=>{r&&o(void 0)},u=new q(...W(i,"Hegic_PositionManager"),G(i)),{error:y,mutate:l}=Ne(t&&s&&[a,"useHegicPositions"],async()=>{const d=[],c=Bi(i),m=Yo(u,a),f=(await u.queryFilter(m)).map(T=>T.args.tokenId);if(f.length){const T=[];for(let g=0;g<c.length;g++){const b=c[g],k=ln(i,b),B=Zo(b,f),D=k.queryFilter(B).then(I=>Promise.all(I.map(R=>Xo(i,R,a,s).then(O=>{O&&d.push(O)}))));T.push(D),await Vn(T,zo,c.length,g)}}return o(d??[]),e&&e(),d},{refreshInterval:En});if(h.useEffect(()=>{p(),a&&l().then(o)},[a,t]),y){console.log(`Fetching Hegic positions error:
`,y);return}return r},Yo=(e,t)=>({address:e.address,topics:[Qt("Transfer(address,address,uint256)"),null,Jt(t,32)]}),Zo=(e,t)=>{const a=[Qt("Acquired(uint256,(uint128,uint128),uint256,uint256,uint256,bytes[])"),t.map(s=>Jt(s,32))];return{address:e,topics:a}},Xo=async(e,t,a,i)=>{const s=t.address,r=Te(t.decode(t.data,t.topics));r.data=Te(r.data);const o=new q(...W(e,"Hegic_OperationalTreasury"),G(e)),p=await o.lockedLiquidity(r.id);if(!(p.state!==0))return;const{asset:y,isCall:l,isSpread:d,strikeScale:c}=Qo(e,s);Object.assign(r,{asset:y,isCall:l,isSpread:d});const m=Ss(r.data.amount,y),x=i[y],f=Jo(r,c);Object.assign(r,{strike:f});const{premium:T,pnl:g}=await ep(e,r,s),b=g.inPercentage===$(-100),k=p.expiration*ne,B=tp(r,x);return{id:Number(r.id),market:"Hegic",asset:y,amount:m,strike:f,isCall:l,isSpread:d,isBuy:!0,premium:T,pnl:g,expiry:k,greeks:B,utils:{calcPnl:async()=>new Promise(I=>{I(g)})},actions:{close:async()=>{const I=_e();return o.connect(I).payOff(r.id,a)},isClosingDisabled:b}}},Qo=(e,t)=>{const a=Di(e),i=Object.keys(a).find(y=>a[y]===t),[s,r,o]=i.split("_"),p=s.includes("CALL"),u=s.includes("SPREAD");return{asset:o,isCall:p,isSpread:u,strikeScale:r}},Jo=(e,t)=>{const a=ye(e.data.strike,Fi);let i=a/100n*BigInt(t);return e.isSpread&&(i=a),i},ep=async(e,t,a)=>{const i=ln(e,a),s=Tt(ye(t.positivepnl,mt)),r=ye(BigInt(await i.payOffAmount(t.id)),mt),p={inUSDC:r+s,inPercentage:lt(r,s)};return{premium:s,pnl:p}},tp=(e,t)=>{const a={strike:e.strike,isCall:e.isCall,amount:e.data.amount};return{delta:tr(a,t),vega:0,gamma:0,theta:0,rho:0}},Kn=e=>{const{account:t,isConnected:a}=Z(),[i,s]=h.useState(void 0),r=()=>{i&&s(void 0)},o=K(),p=sn(o),{error:u,mutate:y}=Ne(a&&[t,"useLyraPositions"],async()=>{const l=await p.positions(t);if(!l){s([]);return}const d=l.filter(ip),c=[];for(let m=0;m<d.length;m++){const x=d[m];c.push(await np(o,x))}return s(c),e&&e(),c},{refreshInterval:En});return h.useEffect(()=>{r(),t&&y().then(s)},[t,a]),u?(console.log(`Fetching Lyra positions error:
`,u),null):i},np=async(e,t)=>{const{id:a,strikePrice:i,isCall:s,isLong:r,size:o,expiryTimestamp:p}=Te(t),u=p*ne,{asset:y,premium:l,pnl:d,greeks:c,collateral:m}=await ap(e,t);return{id:a,market:"Lyra",asset:y,amount:o,strike:i,isCall:s,isBuy:r,premium:l,collateral:m,pnl:d,expiry:u,greeks:c,utils:{calcPnl:async(f=t.size)=>t.trade(!t.isLong,X.from(f),He).then(T=>{const g=BigInt(T.pnl()),b=lt(g-l,l);return{inUSDC:g,inPercentage:b}})},actions:{close:async f=>{const T=X.from(f),g={referrer:kn};return t.close(T,He,g).then(b=>{if(b.isDisabled){we(new Error(b.disabledReason));return}return _e().sendTransaction(b.tx)})},addToCollateral:async f=>{const T=m.inMarketToken+f;return t.trade(r,X.from(0),He,{position:t,setToCollateral:X.from(T)}).then(g=>(g.isDisabled&&we(new Error(g.disabledReason)),_e().sendTransaction(g.tx)))},isAddingToCollateralDisabled:!(m!=null&&m.liquidationPrice)}}},ap=async(e,t)=>{const a=()=>t.marketName.split("-USDC")[0],i=()=>t.trades().reduce((y,l)=>(l=Te(l),l.isBuy?y-l.premium:y+l.premium),0n),s=()=>{const{unrealizedPnl:p,unrealizedPnlPercentage:u}=Te(t.pnl());return{inUSDC:p,inPercentage:u*100n}},r=()=>{const{delta:p,theta:u,rho:y}=t.liveOption(),{vega:l,gamma:d}=t.liveStrike(),c={delta:p,vega:l,gamma:d,theta:u,rho:y};for(const m in c){const x=c[m];c[m]=H(x.toBigInt(),J,3)}return c},o=async()=>{const p=t.collateral&&Te(t.collateral);if(p)return jn(e,p,a())};return{asset:a(),premium:i(),pnl:s(),greeks:r(),collateral:await o()}},ip=e=>{const{size:t,expiryTimestamp:a}=Te(e),i=t===0n,s=a*ne<Date.now();return!(i||s)},sp=6,rp=()=>{const{isConnected:e,account:t}=Z(),a=K(),i=new q(...W(a,"TxBuilder"),G(a)),{data:s,error:r}=Ne(e&&[t,"useBuilderPositionsStructure"],async()=>{const o=[],p=await pp(i,t),u=[];for(let y=0;y<p.length;y++){const l=p[y],{buildID:d,productType:c}=l.args,x={strategy:wn.find(b=>re[b].key===c.toNumber()),buildId:d.toNumber(),childPositionsStructure:[]},f=op(a,d),T=[];for(const b in f)f[b].forEach(B=>{B.then(D=>{lp(D,b,x.childPositionsStructure)}),T.push(B)});const g=Promise.all(T).then(()=>{o.push(x)});u.push(g),await Vn(u,sp,p.length,y)}return o},{refreshInterval:2e4});if(r){console.log(`Builder Positions error:
`,r);return}return s},op=(e,t)=>{const{Hegic:a,Lyra_ETH:i,Lyra_BTC:s}=Is(e),{OpenPositionByHegic:r}=a.filters,{OpenPositionByLyra:o}=i.filters,{OpenPositionByLyra:p}=s.filters,u=[a.queryFilter(r(t))],y=[i.queryFilter(o(t)),s.queryFilter(p(t))];return{Hegic:u,Lyra:y}},pp=(e,t)=>{const{CreateBuild:a}=e.filters;return e.queryFilter(a(null,t)).then(s=>{const r=s.map(o=>up(o,e.provider));return Promise.all(r).then(o=>s.filter((u,y)=>{if(o[y])return!0}).reverse())})},up=(e,t)=>t.getBlock(e.blockNumber).then(a=>{const i=Ke[Ke.length-1],s=Date.now()-i-an(1);if(a.timestamp*ne>s)return!0}),lp=(e,t,a)=>{e.forEach(i=>{const s=i.args.tokenID;a.push({market:t,id:s.toNumber()})})},{PARENT_COMPLEX:yp,PARENT_SIMPLE:dp,CHILD:zn}=Pn,cp=e=>{const t=h.useContext(De),a={Lyra:()=>{Xt(t,"Lyra")},Hegic:()=>{Xt(t,"Hegic")}},i={Lyra:Kn(a.Lyra),Hegic:Gn(a.Hegic)},s=Object.values(i),r=s.every(d=>te(d)),o=s.every(d=>!te(d)),p=rp();if(!p||r)return;const y=p.map(d=>{const{childPositionsStructure:c}=d,m=[],x=c.length===1;for(let f=0;f<c.length;f++){const{id:T,market:g}=c[f],b=i[g];if(!b)return;const k=b.findIndex(D=>D.id===T),B=b[k];B&&(m.push(B),b[k].role=zn)}if(m.length)if(x){const f={...m[0]};return{...d,...f,role:dp}}else{const f=fp(m),T=m[0].asset;return{...d,childPositions:m,asset:T,...f,role:yp}}}).filter(d=>!te(d));return o&&e&&e(),Tp(y,i)},mp=e=>{if(!e.length)return null;const t={premium:0n,collateral:{inUSDC:0n},pnl:{inUSDC:0n},greeks:{},isTotal:!0},a=e.reduce((i,s)=>{var o;const r=ut(i,s,["premium","pnl.inUSDC"]);return r.greeks=Fn(i.greeks,s.greeks),(o=s.collateral)!=null&&o.inUSDC&&(r.collateral.inUSDC+=s.collateral.inUSDC),r},t);return a.pnl.inPercentage=lt(a.pnl.inUSDC-a.premium,a.premium),a},Tp=(e,t)=>{const a=[],i=[];Object.values(t).forEach(p=>{p&&i.push(...p)});const r=i.filter(p=>p.role!==zn).map(p=>{const{isCall:u,isSpread:y,isBuy:l}=p;return{strategy:`${y?u?"Bull":"Bear":l?"Long":"Short"} ${u?"Call":"Put"} ${y?"Spread":""}`.trim(),...p}});a.push(...e,...r);const o=mp(i);return o&&a.push(o),a},fp=e=>{const t=e.reduce((a,i)=>{const s=ut(a,i,["amount","premium","pnl.inUSDC"]);return s.greeks=Fn(a.greeks,i.greeks),s.collaterals=i.collateral?[...a.collaterals,i.collateral]:a.collaterals,s},{amount:0n,premium:0n,collaterals:[],pnl:{inUSDC:0n},greeks:{delta:0,vega:0,gamma:0,theta:0,rho:0}});return t.pnl.inPercentage=lt(t.pnl.inUSDC-t.premium,t.premium),t.expiry=e[0].expiry,t};const bp=({position:e,openCloseModal:t})=>{const[a]=h.useContext(De);if(!e.actions)return null;const{isClosingDisabled:i}=e.actions,s=a.closing.find(o=>o.id===e.id),r=()=>{t(e)};return n.jsx("div",{className:"BuilderPositionCloseBtn",children:It(n.jsx(fe,{className:"close-btn",type:"micro",isDisabled:i,onClick:r,children:"Close"}),s)})},hp=({handleClick:e})=>n.jsx("button",{onClick:e,className:"shrink-0",children:n.jsx("img",{src:$n,alt:"Update Collateral"})}),{PARENT_COMPLEX:xp,CHILD:gp}=Pn,_p={strategy:"Strategy",amount:"Amount",strike:"Strike",premium:n.jsx("span",{"data-tooltip-id":"Builder_PremiumTooltip",className:"tip",children:"Premium"}),collateral:n.jsx("span",{"data-tooltip-id":"BuilderForm_CollateralTooltip",className:"tip",children:"Collateral"}),pnl:"PnL",liqPrice:"Liq. Price",delta:"Delta",vega:"Vega",gamma:"Gamma",theta:"Theta",rho:"Rho",expiry:"Expiration Date",closeBtn:""},Cp=({positions:e,openCollateralModal:t,openCloseModal:a,isLoadingComplete:i})=>{const{isConnected:s}=Z(),r=d=>{const{role:c,isOpening:m,isTotal:x}=d,f=c===xp,T=c===gp,g=()=>{if(T)return"";if(x)return se("Total",!1,!0);const{strategy:C}=d,A=re[C],_=A==null?void 0:A.color,S=n.jsx("svg",{className:"icon-dropdown",xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",children:n.jsx("path",{d:"M2 5L6.5 9L11 5",stroke:_,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});return n.jsxs("span",{className:"flex items-center gap-x-4",style:{color:_},children:[m&&n.jsx(he,{}),C,f&&S]})},b=()=>{const{asset:C,amount:A}=d;if(A)return n.jsx(ae,{symbol:C,children:H(A)})},k=()=>{const{market:C,isCall:A,isBuy:_,strike:S}=d;if(f)return n.jsx("div",{className:"BuilderPositionsTable__strike-msg",children:se("Click to see strikes")});if(S)return n.jsx(yt,{strikeData:{market:C,isCall:A,isBuy:_},priceNode:V(S,0)})},B=()=>{const{premium:C}=d,A=C<0n,_=V(Se(C)),S=`${A?"–":"+"}$${_}`;return n.jsx("span",{className:E({positive:!A,negative:A}),children:S})},D=()=>{const{collateral:C,collaterals:A,actions:_}=d;if(!C&&(!A||!A.length))return;const S=v=>x?n.jsxs("span",{children:["$",V(v.inUSDC)]}):n.jsx(ae,{symbol:v.marketToken.symbol,children:Pe(v.inMarketToken,v.marketToken.isStable)},v.isBase);return f?I(A,S):_&&!_.isAddingToCollateralDisabled?n.jsxs("div",{className:"flex items-center gap-x-3",children:[S(C),n.jsx(hp,{handleClick:()=>t(d)})]}):S(C)},I=(C,A)=>{const _={base:{},stable:{}},S=P=>{const{isBase:M}=P,F=M?"base":"stable";_[F]={...ut(_[F],P,["inMarketToken","inUSDC"]),isBase:M}};C.forEach(S);const v=Object.values(_).map(A);return n.jsx("div",{className:"flex flex-col gap-y-5",children:v})},R=()=>{if(!d.pnl)return;const{inUSDC:C,inPercentage:A}=d.pnl,_=C<0?"–":"",S=V(Se(C)),v=Se(A),P=H(v)<1?1:0,M=fn(v,P);return n.jsxs("div",{className:E({positive:C>0n,negative:C<0n,muted:C===0n}),children:[n.jsxs("span",{style:{color:Ue,marginRight:5},children:[_,"$",S]}),`(${_}${M}%)`]})},O=()=>{const{collateral:C}=d;if(!(!C||!C.liquidationPrice))return`$${V(C.liquidationPrice)}`},L=()=>{const{greeks:C}=d;return C},j=()=>{const{expiry:C}=d;return C?en(C,"dd/MM/yy, hh a"):void 0},w=()=>f?d.childPositions.map(r):void 0,N=()=>m?"":n.jsx(bp,{openCloseModal:a,position:d});return{id:`${d.buildId}_${d.id}`,strategy:g(),amount:b(),strike:k(),premium:B(),collateral:D(),pnl:R(),liqPrice:O(),...L(),expiry:j(),children:w(),closeBtn:N(),omittedKeys:(f||x)&&["strike","closeBtn"]}},o=_p,p=e==null?void 0:e.map(r),u={titleData:o,itemsData:p},y=[{name:"Active",isActive:!0}],l=()=>{let d;return s?!e||!i?d="Loading...":e.length||(d="No open positions"):d="No wallet connected",n.jsx("div",{className:"App-box BuilderPositionsTable__message",style:i?{}:{marginBottom:10},children:se(d)})};return n.jsxs("div",{className:"BuilderPositionsTable",children:[n.jsxs("div",{className:"BuilderPositionsTable__header",children:[n.jsx(St,{links:y,type:"border"}),se("*The table displays estimated PnL values. To view the actual PnL, click on the «Close» button",!0)]}),e!=null&&e.length?n.jsxs(n.Fragment,{children:[!i&&l(),n.jsx(Rn,{structureData:u})]}):l()]})};const Yn=e=>{const{value:t,setValue:a,maxValue:i,placeholder:s,isDisabled:r,isFocused:o,hasError:p,formatInputStringFns:u=[Oe,de],title:y,presentedValue:l,presentedValueTitle:d,iconData:c,unitStr:m}=e,x=it([t,a],{maxValue:i,placeholder:s,isDisabled:r,isFocused:o},u),f=E(e.className,x.hasFocus&&"hlight",p&&"error",r&&"disabled"),T=u[0];return n.jsxs("div",{className:E("InputFamily InputComplexNumeric",f),onClick:()=>{x.ref.current.focus()},children:[n.jsxs("div",{className:"InputComplexNumeric__header",children:[n.jsx("div",{className:"InputComplexNumeric__title",children:y}),l&&n.jsxs("button",{className:"InputComplexNumeric__presented-value",onClick:g=>{g.stopPropagation(),a(T(l))},children:[n.jsxs("span",{className:"InputComplexNumeric__presented-value-title",children:[d,":"]}),T(l)]}),c&&n.jsx("div",{className:"InputComplexNumeric__icon",children:n.jsx("img",{src:c.src,alt:c.alt??"icon"})})]}),n.jsxs("div",{className:"InputComplexNumeric__body",children:[n.jsx("div",{className:"InputComplexNumeric__input-wrapper",children:x.node}),n.jsxs("div",{className:"InputComplexNumeric__helper",children:[i&&n.jsx("button",{className:"InputComplexNumeric__max-btn",disabled:r,onClick:g=>{g.stopPropagation(),a(Oe(i))},children:"Max"}),m&&n.jsx("div",{className:"InputComplexNumeric__unit",children:m})]})]})]})},vp=({position:e,isOpen:t,setIsOpen:a})=>{var b;const i=K(),[s,r]=h.useState(""),[o,p]=h.useState(!1),[u,y]=h.useState(null),l=((b=e==null?void 0:e.collateral)==null?void 0:b.marketToken)??{symbol:"ETH"},d=on(l.symbol),c=qn(l==null?void 0:l.symbol,wi(i,"Lyra_Quoter"),Ge(s),y),m=()=>{y(null),c.check()};if(h.useEffect(()=>{y(null)},[s]),Ye(()=>{s&&m()},at,[s]),!e||!e.collateral)return null;const x=()=>{if(!s)return"Enter Amount";if(u===null)return"Please, wait...";if(o)return u?"Updating Collateral...":`Approving ${l.symbol}...`},f=()=>!x(),T=()=>{const k=u?"Add Collateral":`Approve ${s} ${l.symbol}`;return x()??k},g=()=>{if(!u){c.approve(p,m);return}const k=Ge(s);ot(i,e.actions.addToCollateral,[k],{text:`${s} ${l.symbol} added.`,node:n.jsxs(ae,{symbol:l.symbol,children:[s," added to collateral."]})},p,()=>a(!1))};return n.jsxs(nt,{className:"PositionCollateralModal",isOpen:t,setIsOpen:a,reset:()=>{r(""),y(null)},children:[n.jsx("h1",{children:"Edit Collateral"}),n.jsx(Yn,{value:s,setValue:r,title:"Add Amount",iconData:{src:d},isFocused:!0}),n.jsx(fe,{isDisabled:!f(),onClick:g,children:T()})]})};const kp=(e,t,a)=>{const i=H(e,a);return Sp(i,t)},Sp=(e,t=2)=>{const a=e<0?"–":e>0?"+":"";return e=Math.abs(e),e=et(e,t),e=mn(e,t),`${a}$${ie(e)}`},wp=({position:e,isOpen:t,setIsOpen:a})=>{const i=K(),[s,r]=h.useState(""),[o,p]=h.useState(void 0),[u,y]=h.useState(!1),[l,d]=h.useContext(De),c=()=>{const S=Gi(e.amount);r(S)},m=S=>{p(void 0),e.utils.calcPnl(S).then(p)};if(h.useEffect(()=>{t&&e&&(c(),m())},[t]),Ye(()=>{e&&s&&m(Ge(s))},at,[s]),!e||!e.actions)return null;const x=S=>{if(S)l.closing.push({id:e.id,market:e.market});else{const v=l.closing.findIndex(P=>P.id===e.id);v!==-1&&l.closing.splice(v,1)}d({...l})},{close:f}=e.actions,{asset:T,amount:g,strategy:b,isCall:k,isBuy:B}=e,D=b??`${B?"Long":"Short"} ${k?"Call":"Put"}`,I=n.jsxs(ae,{symbol:T,children:[s," ",D," closed."]}),O={text:`${s} ${T} ${D} closed.`,node:I},L=Ge(s),j=o==null?void 0:o.inUSDC,w=()=>{ot(i,f,[L],O,y,()=>{x(!0),a(!1)})},N=()=>{if(!s)return"Enter Amount";if(u)return"Closing Strategy..."},C=()=>N()??"Close Strategy",A=()=>!N(),_=on(T);return n.jsxs(nt,{className:"ClosePositionModal",isOpen:t,setIsOpen:a,reset:()=>{r(""),p(void 0)},children:[n.jsxs("div",{className:"ClosePositionModal__body",children:[n.jsx("h1",{children:"Close Strategy"}),n.jsxs("div",{className:"info-row",children:[n.jsx("div",{className:"info-row__title",children:"Strike"}),n.jsx("div",{className:"info-row__value",children:n.jsx(yt,{strikeData:e,priceNode:V(e.strike,0)})})]}),e.market!=="Hegic"&&n.jsx(Yn,{value:s,setValue:r,title:"Amount",iconData:{src:_},isFocused:!0,maxValue:H(g)})]}),n.jsxs("div",{className:"ClosePositionModal__footer",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("div",{className:"info-row__title",children:"PnL"}),n.jsx("div",{className:E("info-row__value",{positive:j>0n,negative:j<0n}),children:st(()=>kp(j),te(j))})]}),n.jsx(fe,{isDisabled:!A(),onClick:w,children:C()})]})]})},Pp=()=>{const{account:e}=Z(),[t,a]=h.useState(!1),i=()=>{t||a(!0)};h.useEffect(()=>{a(!1)},[e]);const s=cp(i),r=s==null?void 0:s.sort((f,T)=>T.isTotal?-1:f.isTotal?1:In(f,T,"premium",-1)),[o,p]=h.useState(null),[u,y]=h.useState(!1),[l,d]=h.useState(!1),c=f=>{p(f),y(!0)},m=f=>{p(f),d(!0)},[x]=h.useContext(De);return x.opening&&r&&[...x.opening,...r],n.jsxs("div",{className:"BuilderPositions",children:[n.jsx("h1",{className:"BuilderPositions__title",children:"My Positions"}),n.jsx(Cp,{positions:r,isLoadingComplete:t,openCollateralModal:c,openCloseModal:m}),n.jsx(vp,{isOpen:u,setIsOpen:y,position:o}),n.jsx(wp,{isOpen:l,setIsOpen:d,position:o})]})},Mp=()=>{const e=Ct("asset","ETH"),[t,a]=h.useState({});return h.useEffect(()=>{a(Wn())},[]),n.jsx(De.Provider,{value:[t,a],children:n.jsxs("div",{className:"Builder",children:[n.jsx(Ko,{assetState:e}),n.jsx(Pp,{})]})})};const Ap=()=>{const e=Gn(),t=Kn(),{ETH:a,BTC:i}=Le()??{};return console.log(a,i),h.useEffect(()=>{e&&console.log(e),t&&console.log(t)},[e,t]),$(1),$(1,8),bn($(1),2),Se($(-1)),Tt($(1)),Tt($(-1)),Et($(1,10),10,8),xe($(1),8),ye($(1,8),8),H(1000000000000000000n),H(1000n,3),V($(1e3)),V($(1e3),0),V($(1e3),5),V($(1e3,8),2,8),n.jsxs("div",{className:"Sandbox",children:[n.jsx("h3",{className:"text-center",children:"Page for calculations testing"}),n.jsxs("p",{children:["Default Decimals: ",n.jsx("span",{style:{color:"white"},children:J})]}),n.jsx("div",{style:{margin:"10px 0"},children:t==null?void 0:t.map(s=>{const r=s.premium,o=V(r);return n.jsxs("div",{children:[o," ",n.jsxs("span",{className:"muted",children:["(",s.asset,")"]})]},s.id)})})]})};const Dp=()=>{K();const{account:e,isConnected:t}=Z(),a=Le();return h.useEffect(()=>{},[e]),h.useEffect(()=>{},[a]),h.useEffect(()=>{},[]),n.jsxs("div",{className:"RyskSandbox",children:[n.jsx("h1",{children:"Rysk.Finance SDK"}),n.jsx("div",{className:"text-center muted_light",children:"Uncomment needed functions and watch console"})]})},Bp=()=>{const e=ze(),t=va();return h.useEffect(()=>{e.pathname.endsWith("terminal")&&t("/terminal/builder")},[e.pathname]),n.jsxs(ka,{children:[n.jsxs(ve,{path:"/terminal",element:n.jsx(ds,{}),children:[n.jsx(ve,{path:"builder",element:n.jsx(Mp,{})}),n.jsx(ve,{path:"margin-trading",element:n.jsx("div",{children:"Margin Trading"})})]}),n.jsx(ve,{path:"/sandbox",element:n.jsx(Ap,{})}),n.jsx(ve,{path:"/rysk-sandbox",element:n.jsx(Dp,{})}),n.jsx(ve,{path:"*",element:n.jsx(Sa,{to:us,replace:!0})})]})},Ep=()=>n.jsxs("div",{className:"Tooltips",children:[n.jsx(ue,{id:"Tooltip_default"}),n.jsx(ue,{place:"bottom-end",id:"Tooltip_bottom-end"})]});const Ip="/sf_draft/assets/Discord-f7d998b5.svg",Op="/sf_draft/assets/Gitbook-c728118d.svg",jp="/sf_draft/assets/Github-d50e83d6.svg",Fp="/sf_draft/assets/Mirror-095740c8.svg",Np="/sf_draft/assets/Dune-cc12c29c.svg",Lp="/sf_draft/assets/Twitter-5cfdd2f4.svg",Rp=()=>{const e=[{name:"Discord",icon:Ip,url:"https://discord.gg/5DGZ7rzSfS"},{name:"Gitbook",icon:Op,url:"https://docs.sharwa.finance/"},{name:"Github",icon:jp,url:"https://github.com/SharwaFinance"},{name:"Mirror",icon:Fp,url:"https://mirror.xyz/sharwa-finance.eth"},{name:"Dune",icon:Np,url:"https://dune.com/sharwa_finance/aggregator"},{name:"Twitter",icon:Lp,url:"https://twitter.com/SharwaFinance"}];return n.jsx("footer",{className:"Footer",children:n.jsxs("div",{className:"Footer__content _container",children:[n.jsx(tn,{}),n.jsx("div",{className:"Footer__smedia-items",children:e.map(t=>n.jsx("a",{className:"Footer__smedia-item",target:"_blank",rel:"noreferrer",href:t.url,children:n.jsx("img",{src:t.icon,alt:`${t.name} logo`})},t.name))})]})})};const Up=({children:e})=>n.jsx("div",{className:"GlobalStickyMessage",children:e}),Hp=()=>{const e=K(),{data:t,error:a}=Ne("useTokenPricesConfig",{fetcher:async()=>{const i={},s=[];return Dt.forEach(r=>{s.push(zi(e,r).then(o=>{i[r]=o}))}),await Promise.all(s),i},refreshInterval:60*1e3,refreshWhenHidden:!0,revalidateOnFocus:!1});return a?(console.log(a),null):t},$p=({children:e})=>{const t=Hp();return n.jsx(Sn.Provider,{value:t,children:e})};function qp(){const{chain:e}=oa(),t=()=>n.jsxs(n.Fragment,{children:[n.jsx(ts,{}),n.jsx("main",{className:"_container",children:n.jsx(Bp,{})}),n.jsx(Rp,{}),n.jsx(Up,{children:"Sharwa.Finance is in alpha. Use at your own risk"})]}),a=()=>n.jsx(ss,{chainId:e.id});return e!=null&&e.unsupported?a():t()}function Wp(){return n.jsx(wa,{fallbackRender:null,children:n.jsxs(n.Fragment,{children:[n.jsx(ns,{}),n.jsx(Ep,{}),n.jsx(ra,{config:Ki(),children:n.jsx(Jn,{children:n.jsx(ps,{children:n.jsx($p,{children:n.jsx(qp,{})})})})})]})})}Xn.createRoot(document.getElementById("root")).render(n.jsx(Ie.StrictMode,{children:n.jsx(Wp,{})}));
