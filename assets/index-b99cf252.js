import{j as t,r as T,a as Ge}from"./node_modules/react-0beb1837.js";import{c as _t}from"./node_modules/react-dom-f51d7a2d.js";import{L as gt,H as kt}from"./node_modules/react-router-dom-1eb4decd.js";import{c as g}from"./node_modules/classnames-e401d0a3.js";import{c as vt,u as St,a as At,b as wt,d as R,e as Pt,f as Bt,W as Dt,g as Mt}from"./node_modules/wagmi-46f5b6ed.js";import{p as Et,I as It,q as Ot,r as Ft,t as Lt}from"./node_modules/@wagmi-607ba13b.js";import{U as jt}from"./node_modules/@uniswap-19584686.js";import{L as Nt}from"./node_modules/@lyrafinance-ef6a9e5c.js";import"./node_modules/cross-fetch-9ac157bd.js";import{G as Rt,W as Ut,C as J,B as X}from"./node_modules/@ethersproject-21b0065b.js";import{Q as Ve,k as Ht,h as Wt}from"./node_modules/react-toastify-e7feefbe.js";import{b as Te,O as $t,a as qt,d as Gt,e as ue,f as Vt}from"./node_modules/react-router-f49d1790.js";import{u as Kt,a as Yt,b as Ke}from"./node_modules/react-use-e60a89c2.js";import{R as De}from"./node_modules/react-modal-d66169f9.js";import{u as Ye,i as Me}from"./node_modules/swr-8e41e7a7.js";import{S as zt,c as Xt}from"./node_modules/react-select-83f54f62.js";import{I as Zt}from"./node_modules/react-icons-314c56b9.js";import{f as Ne}from"./node_modules/date-fns-8fa817a4.js";import{r as Qt}from"./node_modules/swiper-4105a6d8.js";import{u as ze}from"./node_modules/ethers-0817d50b.js";import{S as Jt}from"./node_modules/rc-slider-d30c4979.js";import{W as en}from"./node_modules/react-tooltip-07244895.js";import"./node_modules/scheduler-765c72db.js";import"./node_modules/@remix-run-06a34d2a.js";import"./node_modules/@tanstack-bdb8aa03.js";import"./node_modules/use-sync-external-store-357101f6.js";import"./node_modules/@noble-c8e7831c.js";import"./node_modules/eventemitter3-50fd48f0.js";import"./node_modules/zustand-bfa6df6a.js";import"./node_modules/graphql-tag-9568edd7.js";import"./node_modules/graphql-6a9502bd.js";import"./node_modules/@apollo-b7627a8e.js";import"./node_modules/optimism-96b4f7fa.js";import"./node_modules/@wry-af370e25.js";import"./node_modules/ts-invariant-d603e89e.js";import"./node_modules/zen-observable-ts-47d5f8bb.js";import"./node_modules/symbol-observable-f2ed883d.js";import"./node_modules/bech32-d582637e.js";import"./node_modules/js-sha3-dbfebf46.js";import"./node_modules/bn.js-c7c4c633.js";import"./node_modules/hash.js-b2e4d6cd.js";import"./node_modules/minimalistic-assert-7cc78341.js";import"./node_modules/inherits-2c87d58f.js";import"./node_modules/aes-js-5c71d223.js";import"./node_modules/scrypt-js-1f67d6a9.js";import"./node_modules/clsx-1229b3e0.js";import"./node_modules/@xobotyi-c2000ea3.js";import"./node_modules/prop-types-387d7a00.js";import"./node_modules/warning-883c7a3c.js";import"./node_modules/exenv-9baed461.js";import"./node_modules/react-lifecycles-compat-47a97bfa.js";import"./node_modules/@babel-9a9b6246.js";import"./node_modules/@emotion-3832f1f0.js";import"./node_modules/hoist-non-react-statics-23d96a9a.js";import"./node_modules/react-is-e8e5dbb3.js";import"./node_modules/stylis-79144faa.js";import"./node_modules/@floating-ui-1f2e0c5a.js";import"./node_modules/use-isomorphic-layout-effect-43379cc7.js";import"./node_modules/memoize-one-297ddbcb.js";import"./node_modules/rc-util-eaebf3dd.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();const tn="/sf_draft/assets/Logo-258738bb.svg",nn=({className:e})=>t.jsx("div",{className:g("Logo",e),children:t.jsx("a",{className:"Logo__link",href:"/index.html",children:t.jsx("img",{src:tn,alt:"Sharwa.Finance"})})});const Xe=e=>{const{className:n,links:a,type:i}=e,s=g(n,`Links_${i}`);return t.jsx("div",{className:g("Links",s),children:a.map(r=>{const o=g("Links__item",r.isActive&&"active");return t.jsx(gt,{to:r.to,className:o,disabled:r.isDisabled,onClick:r.isDisabled&&(u=>u.preventDefault()),children:r.name},r.to)})})};const Ze=e=>{const[n,a]=T.useState(!1),i=T.useCallback(()=>{document.removeEventListener("click",i),a(!1),e&&e()},[]);return{isOpen:n,openPopup:()=>{n||(a(!0),setTimeout(()=>{document.addEventListener("click",i)},10))},closePopup:i}},an="/sf_draft/assets/wallet-fce3adf9.svg",sn="/sf_draft/assets/link-c9833cec.svg",rn="/sf_draft/assets/cross_white-42eb5050.svg",on="/sf_draft/assets/Arbitrum-299bccbf.svg",pn="/sf_draft/assets/Arbitrum-299bccbf.svg",G=42161,ae=10,Qe=[G],Je={[G]:{name:"Arbitrum",icon:on},[ae]:{name:"Optimism",icon:pn,isDisabled:!0}},un=[{inputs:[{internalType:"address",name:"_lyra_eth",type:"address"},{internalType:"address",name:"_lyra_btc",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"},{internalType:"address",name:"_lyra_ethErc721",type:"address"},{internalType:"address",name:"_lyra_btcErc721",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premuim",type:"uint256"}],name:"OpenPositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum BaseOptionBuilder.ProtocolType[]",name:"protocolsArrays",type:"uint8[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct ILyra.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct ILyra.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_btc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_btcErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_eth",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_ethErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextBuildID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],ln=[{inputs:[{internalType:"address",name:"_lyra_eth",type:"address"},{internalType:"address",name:"_lyra_btc",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"},{internalType:"address",name:"_lyra_ethErc721",type:"address"},{internalType:"address",name:"_lyra_btcErc721",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"ClosePositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"}],name:"ClosePositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum BaseOptionBuilder.ProtocolType[]",name:"protocolsArrays",type:"uint8[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"positionID",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct ILyra.TradeInputParameters",name:"params",type:"tuple"},{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"positionID",type:"uint256"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct ILyra.TradeInputParameters",name:"params",type:"tuple"},{internalType:"uint256",name:"premium",type:"uint256"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_btc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_btcErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_eth",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_ethErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextBuildID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],yn=[{inputs:[{internalType:"address",name:"_erc721Address",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"TakeProfitSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"TakeProfitUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkTakeProfit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc721Contract",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveTakeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getExpirationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPayOffAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveTakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveTakes",type:"uint256"}],name:"setMaxActiveTakes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"setTakeProfit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"updateTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],dn=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],cn=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],mn=[{inputs:[{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"contract IPositionsManager",name:"_manager",type:"address"},{internalType:"uint256",name:"_maxLockupPeriod",type:"uint256"},{internalType:"contract ICoverPool",name:"_coverPool",type:"address"},{internalType:"uint256",name:"_benchmark",type:"uint256"},{internalType:"contract IHegicStrategy[]",name:"initialStrategies",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Expired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Paid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Replenished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"acceptedStrategy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"addStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"benchmark",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"connectStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"coverPool",outputs:[{internalType:"contract ICoverPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"lockedByStrategy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lockedLiquidity",outputs:[{internalType:"enum IOperationalTreasury.LockedLiquidityState",name:"state",type:"uint8"},{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"},{internalType:"uint32",name:"expiration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedPremium",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"contract IPositionsManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLockupPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"mayBeAcceptedAtEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"account",type:"address"}],name:"payOff",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"replenish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setBenchmark",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalLocked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lockedLiquidityID",type:"uint256"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],Tn=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"HEGIC_POOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"}],name:"createOptionFor",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721Metadata",name:"_uriBuilder",type:"address"}],name:"setURIBuilder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uriBuilder",outputs:[{internalType:"contract IERC721Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"}],fn=[{inputs:[{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"contract IPremiumCalculator",name:"_pricer",type:"address"},{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint8",name:"_spotDecimals",type:"uint8"},{internalType:"uint16",name:"_priceScale",type:"uint16"},{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"},{internalType:"uint48",name:"_exerciseWindowDuration",type:"uint48"},{internalType:"contract LimitController",name:"_limitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],indexed:!1,internalType:"struct IHegicStrategy.StrategyData",name:"data",type:"tuple"},{indexed:!1,internalType:"uint256",name:"negativepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positivepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"Acquired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"limit",type:"uint256"}],name:"SetLimit",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"",type:"bytes[]"}],name:"calculateNegativepnlAndPositivepnl",outputs:[{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"connect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"create",outputs:[{internalType:"uint32",name:"expiration",type:"uint32"},{internalType:"uint256",name:"negativePNL",type:"uint256"},{internalType:"uint256",name:"positivePNL",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exerciseWindowDuration",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"period",type:"uint32"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"getAvailableContracts",outputs:[{internalType:"uint256",name:"available",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLockedByStrategy",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isPayoffAvailable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"k",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"limitController",outputs:[{internalType:"contract LimitController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"optionID",type:"uint256"}],name:"payOffAmount",outputs:[{internalType:"uint256",name:"profit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positionExpiration",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IPremiumCalculator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48",name:"value",type:"uint48"}],name:"setK",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract LimitController",name:"value",type:"address"}],name:"setLimitController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IPremiumCalculator",name:"value",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"strategyData",outputs:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],bn=[{inputs:[{internalType:"int256[5]",name:"initialCoefficients",type:"int256[5]"},{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"uint256",name:"_tokenDecimals",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[3]",name:"values",type:"uint256[3]"}],name:"SetBorders",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetCoefficients",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountCall",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountPut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"values",type:"uint8"}],name:"SetDiscountSpread",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetImpliedVolRate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[4]",name:"values",type:"uint256[4]"}],name:"SetImpliedVolRates",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"min",type:"uint256"},{indexed:!1,internalType:"uint256",name:"max",type:"uint256"}],name:"SetPeriodLimits",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetSettlementFeeShare",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetStrikePercentage",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"strike",type:"uint256"}],name:"calculatePremium",outputs:[{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"coefficients",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"setCoefficients",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Cn=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],hn=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],xn=[{inputs:[{internalType:"address",name:"_lyraRegister",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardAlreadySettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"BoardExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardIsFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum IOptionMarket.NonZeroValues",name:"valueType",type:"uint8"}],name:"ExpectedNonZeroValue",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"InvalidStrikeId",type:"error"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"fullQuotes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"}],ge=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Re=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ee=1e3,_n=60,gn=60,kn=24,vn=e=>Math.floor(e/Ee/_n/gn/kn),fe=e=>Math.floor(e/Ee),Sn={[G]:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",[ae]:""},ie=e=>{const n=Sn[e];if(!n)throw new Error(`No Alchemy api keys found for chainId ${e}`);return new Rt(e,n)},An=e=>new Nt({provider:ie(e)}),et=()=>{if(!window.ethereum)throw new Error("No Ethereum provider found");return new Ut(window.ethereum).getSigner()},Ue={[G]:{TxBuilderOpen:{address:"0x7F39AC5386E5F328b7C5691145BaDB42F43E0713",abi:un},TxBuilderClose:{address:"0xe5EaFFd06db43E73C5D3a7608F6901680BDB93a2",abi:ln},StopOrder_Hegic:{address:"0x83ca705E8eEE363b16935D5FCbC3514530d41C74",abi:yn},StopOrder_Lyra_BTC:{address:"0xDE51a10A711412353e825623F58F56d9D0EA98cF",abi:dn},StopOrder_Lyra_ETH:{address:"0x06a6815b91c88BDa19832Ada861077e123C34FFb",abi:cn},Hegic_OperationalTreasury:{address:"0xec096ea6eB9aa5ea689b0CF00882366E92377371",abi:mn},Hegic_PositionManager:{address:"0x5fe380d68fee022d8acd42dc4d36fbfb249a76d5",abi:Tn},Hegic_Strategy:{abi:fn},Hegic_PriceCalculator:{abi:bn},Lyra_OptionToken_BTC:{address:"0x0e97498F3d91756Ec7F2d244aC97F6Ea9f4eBbC3",abi:Cn},Lyra_OptionToken_ETH:{address:"0xe485155ce647157624C5E2A41db45A9CC88098c3",abi:hn},Lyra_Quoter:{address:"0x23236b4c7772636b5224df56Be8168A2f42df31C",abi:xn},USDC:{address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",abi:ge},WBTC:{address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",abi:ge},WETH:{address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",abi:ge},Chainlink_BTC:{address:"0x6ce185860a4963106506C203335A2910413708e9",abi:Re},Chainlink_ETH:{address:"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612",abi:Re},Uniswap_Quoter:{address:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",abi:jt.abi}},[ae]:{}},ee=(e,n)=>{if(!Ue[e])throw new Error(`Unknown chainId ${e}`);const a=Ue[e][n];if(!a)throw new Error(`Unknown contract "${n}" for chainId ${e}`);return[a.address,a.abi]},wn=(e,n)=>ee(e,n)[1],Pn={[G]:{short:{CALL_100_BTC:"0x527d1086C3DD22FcdB338F69D47A1e4bFE11E539",CALL_100_ETH:"0x09a4B65b3144733f1bFBa6aEaBEDFb027a38Fb60",CALL_110_BTC:"0x377191F680b52ce3d0060388fEF01be7ef68e3d5",CALL_110_ETH:"0xF48f571DdD77dba9Ae10fefF6df04484685091D9",CALL_120_BTC:"0x8Fb8529695237D4004cffb21499e7E49E982786a",CALL_120_ETH:"0x96416b82C9DFA7649570c784Eb0D0FFcDE361cFE",CALL_130_BTC:"0x32563D6151891c0A8d56eD644AcDEa6FE5f4E4eB",CALL_130_ETH:"0xf8b8b54bE1Eb37E76873670Ac9DE3C28b507142C",PUT_100_BTC:"0xA8DF600289bEc25602741756f55f27ffFDAB69a6",PUT_100_ETH:"0xaA0DfBFb8dA7f45BB41c0fB68B71FAEB959B22aa",PUT_70_BTC:"0x7066286C1AA0FeBE0f63eF8a44F6Fea9F05FFBE0",PUT_70_ETH:"0x35EF16F3c329a54050Ca120145340dfC2b4F9541",PUT_80_BTC:"0x06c3Ba025bEd24Ea38c2BdDA4bcD2A7F9f5C30e1",PUT_80_ETH:"0x77C8d12d9E2D21f6eE02E8ccA332fDe4BE5C2465",PUT_90_BTC:"0xe115beD3b0752BBbbEF5C423021b464bBF93dC2c",PUT_90_ETH:"0x6B7e5906F53d8bB365f4A6fA776Fd0f0caf57881","CALL-SPREAD_10_BTC":"0x5D0bc0d08e8A7C09d10df9BB2498f1d4aB986e6A","CALL-SPREAD_10_ETH":"0x5c59f7ec23C0Bace3B1959C99A43FFd30078E5bE","CALL-SPREAD_20_BTC":"0x597cdD5D4CEC7FA2851Cc0cfd93d6915c926a107","CALL-SPREAD_20_ETH":"0x4490ad3c0c1A61061E88a3eaD661bFe16225A370","CALL-SPREAD_30_BTC":"0xc822F483dAE467721123eA60D3D233e7ac68802f","CALL-SPREAD_30_ETH":"0x610D7feB49DD18BBC20E4dbe600c53E1cDf6d9F1","PUT-SPREAD_10_BTC":"0x45b9D63F1998ca31151981792849a64342C88631","PUT-SPREAD_10_ETH":"0xc4C3b5050D574CBF3eE0b613104cF5C4E47625d4","PUT-SPREAD_20_BTC":"0x606e34C7008f1425C3a69446de4cAd3D7c6fd96D","PUT-SPREAD_20_ETH":"0xa1c290D16E2290EA536a13Ba7cc3Df0000A0f1A6","PUT-SPREAD_30_BTC":"0x71D89f44C71252f319Cd9652f7886c3834685A58","PUT-SPREAD_30_ETH":"0x8F11Ed84e9Dc76db4392b428A0eAF98Ce72c3752"},medShort:{CALL_100_BTC:"0x20ee3e61e8f1eB8ae959abf5F78bA8731d010Ac3",CALL_100_ETH:"0x6418C3514923a6464A26A2ffA5f17bF1efC96a21",CALL_110_BTC:"0xaFA483B18FE66251C8306C7018028f674F653012",CALL_110_ETH:"0xaF38a4d9153B149F05FA85C2cCFAaA677c99040E",CALL_120_BTC:"0xFe35F1AB7e18930d4316B86fCefBCF053bf44A45",CALL_120_ETH:"0x1060e80c1156060a1E8DdB9C64Afe74564865Ee2",CALL_130_BTC:"0xe4DB400BFC4D627559D592db4ca2839cb87Fbbfc",CALL_130_ETH:"0xc00103524932d86770d4F671107b0E170BD0fe6c",PUT_100_BTC:"0xE0f083fd87ebAEBFCfa8236098048105d32639E4",PUT_100_ETH:"0x2739A4C003080A5B3Ade22b92c3321EDa2Da3A9e",PUT_70_BTC:"0x52442a8C632D4c998A8BDBf44A70481AA5599b0e",PUT_70_ETH:"0x48EcF46Aa51992a064aB172439ABFE182F39b478",PUT_80_BTC:"0xb02343D33d2447870E38b3452Ef59d0De7b3289d",PUT_80_ETH:"0xb58ccd922B57422d0497904B7D9fccB922b8aaDf",PUT_90_BTC:"0x7d0c3FDF0e8A6f475Ed1834ae05fDa1E519fd227",PUT_90_ETH:"0x3e2a0fE32Cc000d87D9e5D6ed8b3D64e9c74C752","CALL-SPREAD_10_BTC":"0x6FF946F2BB609B63910a774E193F29CdE7E8fD5f","CALL-SPREAD_10_ETH":"0x0ac1995C43B5566760AD1D88B812f3e51e12eCc6","CALL-SPREAD_20_BTC":"0x7E8e5eaD9A1b8F0533F614a736214a95835c79d7","CALL-SPREAD_20_ETH":"0x1068daF4CD8fDe2000B6FbE8Ec94F106dc08a40E","CALL-SPREAD_30_BTC":"0x3b4900D5a20dbEbCE44eDF8f6B68Dae32E990Ed0","CALL-SPREAD_30_ETH":"0x24db3145F45aAF2c54f586C66b801c42c8658671","PUT-SPREAD_10_BTC":"0x88386f02c46d8D7b2C9E4aEf3b4246A438F72693","PUT-SPREAD_10_ETH":"0x31e6Cd148fe51830E7a97262eE9cf52Fe5256B08","PUT-SPREAD_20_BTC":"0x72Ac8A96b8E79466AdcE711EcBD1Ec5968b371C8","PUT-SPREAD_20_ETH":"0x9e1072E5119C9345d9543a5Ba1EFeDBAE9bEF2AD","PUT-SPREAD_30_BTC":"0x01381e0EDdB57678257179d2cB472C3e8e54202c","PUT-SPREAD_30_ETH":"0xE8dD9Cc3A4Bd078f3D36043f259381d5B50D4B45"},medLong:{CALL_100_BTC:"0x21a4b4441AA957735902507A72A58A3a1Caaa0dC",CALL_100_ETH:"0xE377A1a97237b3B89a96d8B731A2ab10d5DaC16C",CALL_110_BTC:"0x6c46e2531a42F618F2ae452971DC9a7c6AD48D15",CALL_110_ETH:"0x05458B7d9531EaD242290De60bEaa3cC10C87560",CALL_120_BTC:"0xe259410Bbfb45CE89FDA81ec0A97d36Da8Db4374",CALL_120_ETH:"0x79F87E88088293FE34dEf4eBe71fBFa5367220B4",CALL_130_BTC:"0x27806482457FC98F9C2e724b5E604C66BB5ba121",CALL_130_ETH:"0xae2F4e15564995af79b7dd2378B2680f7Facc342",PUT_100_BTC:"0x035b965c5B7bC20E00358ACF1794d2248eA1932A",PUT_100_ETH:"0xf711D0BC60F37cA28845BA623ccd9C635E5073A1",PUT_70_BTC:"0x55c4532e1790592120b7b27436842caD203E7CD3",PUT_70_ETH:"0xF55F6d98e2F48F8D46757D5A6e225bf0ADC9651C",PUT_80_BTC:"0x8dD239e0e51BCAAd503b06D818ce811e7D99c1Af",PUT_80_ETH:"0xdF30cdb7abb3Ca707b82359A349D3b0C94d4a421",PUT_90_BTC:"0xE56BEAfAe4731A21eF83fe81F63b95055e81E374",PUT_90_ETH:"0x33a4B4403B8C6349371CbDf539138D78ec0Aab66","CALL-SPREAD_10_BTC":"0x8e3063D5dCbe66E58053C3Bc8E0BC8dDFe43D585","CALL-SPREAD_10_ETH":"0xBB318170Ce1c2dc79B564f33F92BacaadaBd22de","CALL-SPREAD_20_BTC":"0x324be893029D982c187F0333E7aa1d44365d2676","CALL-SPREAD_20_ETH":"0xb89d7eB2bc675347BEb685ff1bE1557E983beFe1","CALL-SPREAD_30_BTC":"0x530289340C6d2Ef02140054Ae7F91C293fd586CF","CALL-SPREAD_30_ETH":"0x929d20D9e1A6A90bf057857C8BA09271f1BaadA2","PUT-SPREAD_10_BTC":"0x7267091cFc9825a4A1dF36C26d412FeFD788d935","PUT-SPREAD_10_ETH":"0x2B93645f310E016c1a6d1738DCec0f18621F71d0","PUT-SPREAD_20_BTC":"0x9ab2f8530150799CDdAC35799d18Ad2fe05Bf8c3","PUT-SPREAD_20_ETH":"0x4EE21aB8bc165Cd3e6C45676F9f64426Ffc2d67b","PUT-SPREAD_30_BTC":"0xBa883223A1757eEB781d02C383926c308d4843f4","PUT-SPREAD_30_ETH":"0xf87C8C7587055FA62082E8ed447fe68D98805fF2"},long:{CALL_100_BTC:"0xc07fBf677f417bb9FfDD8248A74c7FBcCFaDAe9e",CALL_100_ETH:"0x2727B807D22fCAeB7F900F49894054Ed92b9125B",CALL_110_BTC:"0x14d25367102A931E2E2F587F4ED94087dc585fd0",CALL_110_ETH:"0xE53a20c824cEAB8151AF8Fc92E7Eb689cFbD1231",CALL_120_BTC:"0xBAbccB37338488AFBaBECAE2C3D21b9a71289A73",CALL_120_ETH:"0xB7b36483B256290435a060805bdF15B3f2b122eb",CALL_130_BTC:"0x9fA4DFfBE3B129988e0d09536b0E2D74F6bF7D91",CALL_130_ETH:"0x4dC39763ccC861dB1c8e80c34C0079c9A12f03E4",PUT_100_BTC:"0xEd46f602212d1CbaCd699C876b4A49761421bf97",PUT_100_ETH:"0x015FAA9aF7599e6cea597EBC7e7e04A149a3E992",PUT_70_BTC:"0xa26541ccE18CcC6E21360562d34044ceb3B5A40e",PUT_70_ETH:"0x5BBe6C4A66D4a48442dc0837a0eA859a11D7766C",PUT_80_BTC:"0xFD203c73851986ad7e7B99457AeafF3d98e76228",PUT_80_ETH:"0x7FD5E8B2Ef25A105bf6B1c45f62d8925Eaa068Bc",PUT_90_BTC:"0x02d730e3dEb3B5876fE2Cba59423ef1Db8211DA1",PUT_90_ETH:"0x3031EA515c2274024D93A8D3BfA91ce920E1192E","CALL-SPREAD_10_BTC":"0x0c1C4D9dFd51093bE1e4Bab1b565113B339835F6","CALL-SPREAD_10_ETH":"0xCe5e136688A1553C67b3B39Ff5366595dD0F771E","CALL-SPREAD_20_BTC":"0x7b92a9f268bab14F0FAee4337B01D563AE132Bc3","CALL-SPREAD_20_ETH":"0xe3F646CB987a9d16eb71B8d0883744e55c95862a","CALL-SPREAD_30_BTC":"0x223b806Bab0CA844a91b247fE0Ba179E11EAA728","CALL-SPREAD_30_ETH":"0x199DB958f00F150438E5b9276ff30617D3f83ebF","PUT-SPREAD_10_BTC":"0x66F54921b32cCA36767D2C272Dda64D5152B92C4","PUT-SPREAD_10_ETH":"0xfcd40dDe82b699D455B3D073196d580227C2Fba6","PUT-SPREAD_20_BTC":"0x8c77f5427B40ab2414dC9bca48c74928BFe17Dd1","PUT-SPREAD_20_ETH":"0xbAe8114E3A2EA5aF5e2b3c8F6FF37714f6D4afFB","PUT-SPREAD_30_BTC":"0x6D79b82701e4017887d499Ba131FD336ceA6A4CC","PUT-SPREAD_30_ETH":"0x9945Eb8ac1F4c524fe7Da710ff3068969A329fBA"}}},Bn={[G]:{PUT_100_BTC:"0x4567600c2c813322F0CBb358a8d083296A7eEA37",PUT_100_ETH:"0xB72FC913e45522cD721252476fEfB7F50a65E23A",PUT_70_BTC:"0x3aFbaf00a6C42e6BE67f8a618b17fB3D441C1898",PUT_70_ETH:"0xf3625e26cb920f762dEC8DB4fE4845E9384313C0",PUT_80_BTC:"0x9C3BBe90191F8311939A34737c02A6B49e27caA5",PUT_80_ETH:"0x58051Cb78094551afC202C50085B13bF00BF624E",PUT_90_BTC:"0x56A2dC3fAc4bE0A1716c938295e141195e4A1cb3",PUT_90_ETH:"0x1AF37c8412bCdAa6C6dD4D2E2aDae2B8292603D4",CALL_100_BTC:"0xAA4483Da5c4D17830dE9a843d07C37b3eC028d9F",CALL_100_ETH:"0xC62a0b7e480a23BdCfe13EA08BDAceDc278a14C1",CALL_110_BTC:"0x04BFC83f6277cf50dFB032EFd348316aACbD7863",CALL_110_ETH:"0x6316BC5f5dF141ae88C436Fe6047D334f1B7e485",CALL_120_BTC:"0x965Ded687bc0Da3388c6925e0Eb330bD44629B77",CALL_120_ETH:"0x321F8A71e8268f50eBd2f748D524E7750AD70798",CALL_130_BTC:"0x4b350b7457b54C5A76828f81472f2719D801D0D5",CALL_130_ETH:"0xffdc9da896d3301DE596b16a389138B70b1CBAdb","CALL-SPREAD_10_BTC":"0xD3872581C3f7DE832Ecc9Aa51eb525AC9Ffc41d2","CALL-SPREAD_10_ETH":"0x3BC74C993e1E85ffB5e242402aEc3e90DCfa249f","CALL-SPREAD_20_BTC":"0x7f6a7d60c6f7ac50BD0efA677D397d9cd61fC3a9","CALL-SPREAD_20_ETH":"0x8C335E897B04B2Ca569Ec733f6242cDe33917094","CALL-SPREAD_30_BTC":"0x631c5EFb3e9D2536F9c9c9d7635e2B01363C51C5","CALL-SPREAD_30_ETH":"0xAe4897D4d3742F7f9C6A1eA01447EA3061bD6de2","PUT-SPREAD_10_BTC":"0xa4A32102a2c1d3Bf01A73B66571B440795835ff5","PUT-SPREAD_10_ETH":"0x5a4Dc7011CA0be61c42957cDC36D508d45010D8B","PUT-SPREAD_20_BTC":"0x0cC3559beCa7bB605348B1a7B4D90963672C880a","PUT-SPREAD_20_ETH":"0xeb38c2Ba3125733e9636eAB7C3c2e7a2C4A11534","PUT-SPREAD_30_BTC":"0x4CE72803543da3f563Ef76592945C57FBE7fce38","PUT-SPREAD_30_ETH":"0xDB044975100aE87d0eEDd804D9E6083a8406fdAe"}},Dn=(e,n)=>{const a=Pn[e];if(!a)throw new Error(`No Hegic strategies found for chainId ${e}`);const i=vn(n);if(i<7||i>90)throw new Error(`No Hegic strategies found for period ${i} days`);let s;return i<14?s=a.short:i<30?s=a.medShort:i<60?s=a.medLong:i<=90&&(s=a.long),s},Mn=(e,n)=>{const a=Bn[e];if(!a)throw new Error(`No Hegic Price Calculator address found for chainId ${e}`);const i=a[n];if(!i)throw new Error(`No Hegic Price Calculator address found for strategy key ${n}`);return i},En=(e,n,a)=>{const i=wn(e,`Hegic_${a}`);return new J(n,i,ie(e))},In=(e,n)=>{const a=Mn(e,n);return En(e,a,"PriceCalculator")},On=()=>{const e=[Ot];if(e.length!==Qe.length)throw new Error("Invalid number of wagmi chains.");const{chains:n,publicClient:a,webSocketPublicClient:i}=Et(e,[Ft()]);return vt({autoConnect:!0,publicClient:a,webSocketPublicClient:i,connectors:[new It({chains:n,options:{name:"Injected",shimDisconnect:!0}})]})},Fn=e=>{switch(e){case G:return"https://arbiscan.io";case ae:return"https://optimistic.etherscan.io";default:return"https://etherscan.io"}},Ln=async(e,n)=>{const a=ee(e,`Chainlink_${n}`),i=ie(e);return(await new J(...a,i).latestAnswer()).toBigInt()};const ye=T.forwardRef(function(n,a){const{children:i,className:s,style:r,isDisabled:o,onClick:p,type:u}=n,l=g(s,u&&`Button_${u}`),y=u==="complex";return t.jsx("button",{className:g("Button",l),ref:a,disabled:o,onClick:p,"data-text":i,style:r,children:y?t.jsx("span",{children:i.toString()}):i})}),tt=T.createContext(null),V=()=>{const e=T.useContext(tt),{address:n,isConnected:a}=St();return{account:e??n,isConnected:a}},jn=e=>{let n=e.reason??e.message;return n==="Internal JSON-RPC error."&&(n=e.data.message),n},Nn=e=>e.includes("User rejected the request")?"User rejected the request.":e.includes("Request of type 'wallet_switchEthereumChain' already pending")?"Switching network request is already pending.":e.includes("Connector already connected")?"Wallet is already connected.":e.includes("Already processing eth_requestAccounts")?"Please, log in to your wallet account.":e,te=e=>{if(typeof e!="bigint")throw new TypeError(`Invalid BigInt: ${e}`)},Rn=e=>{if(typeof e!="number"&&typeof e!="string")throw new TypeError(`Invalid entry: ${e}`)},Un=e=>{if(typeof e!="string")throw new TypeError(`Invalid String: ${e}`)},Hn=e=>{console.log(e),Ve.success(e)},nt=(e,n)=>{const a=jn(e),i=Nn(a);console.error(e),Ve.error(t.jsxs("div",{children:["Error: ",e.code,t.jsx("br",{}),i,t.jsx("br",{}),t.jsx("br",{}),"Check the console for details."]})),n&&n(!1)};function Wn(){const{connect:e,connectors:n}=At({onError:s=>{nt(s)}}),{disconnect:a}=wt(),i=n[0];return{connectWallet:()=>e({connector:i}),disconnectWallet:a}}const $n=()=>{const{isOpen:e,openPopup:n,closePopup:a}=Ze(),i=g(e&&"open"),s=R(),{account:r,isConnected:o}=V(),{connectWallet:p,disconnectWallet:u}=Wn(),l=f=>f.slice(0,9)+"..."+f.slice(-15),y=()=>t.jsx(ye,{type:"complex",onClick:p,children:"Connect Wallet"}),d=()=>t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"Wallet__header",onClick:n,children:t.jsxs("div",{className:"Wallet__address",children:[t.jsx("img",{src:an,alt:"Wallet icon"}),t.jsx("span",{children:l(r)})]})}),t.jsxs("div",{className:"Wallet__body",onClick:f=>f.stopPropagation(),children:[t.jsx("button",{className:"close-btn",onClick:a,children:t.jsx("img",{src:rn,alt:"x"})}),t.jsxs("a",{className:"Wallet__link",href:`${Fn(s)}/address/${r}`,rel:"noreferrer",target:"_blank",children:[t.jsx("img",{src:sn,alt:"external link"}),t.jsx("span",{children:"View on explorer"})]}),t.jsx("div",{className:"Wallet__inner-address",children:"("+l(r)+")"}),t.jsx(ye,{className:"Wallet__button",onClick:u,children:"Disconnect wallet"})]})]});return t.jsx("div",{className:g("Wallet",i),children:o?d():y()})},qn=()=>t.jsx("div",{className:"CryptoGateway",children:t.jsx($n,{})}),Gn=()=>{const e=Te(),n=[{name:"Trading Terminal",to:"/terminal"}];return n.forEach(a=>{e.pathname.startsWith(a.to)&&(a.isActive=!0)}),t.jsxs("header",{className:"Header _container",children:[t.jsx(nn,{}),t.jsx(Xe,{links:n}),t.jsx(qn,{})]})};const Vn=()=>{const e=Wt({enter:"jellyIn",exit:"jellyOut"});return t.jsx(Ht,{limit:2,transition:e,position:"bottom-right",hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,draggable:!1})};const Kn=300,Yn=e=>{const n=Kt();T.useEffect(()=>{const a=window.innerWidth>1025?n:0;e?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${a}px`):setTimeout(()=>{document.body.style.overflow="unset",document.body.style.paddingRight=0},Kn)},[e,n])};De.setAppElement("#root");De.defaultStyles={};const zn=e=>{const{children:n,className:a,isOpen:i,setIsOpen:s,isObligatory:r}=e;return Yn(i),t.jsx(De,{className:g(a,"App-box"),isOpen:i,onRequestClose:()=>{r||s(!1)},overlayElement:(o,p)=>t.jsxs("div",{...o,children:[p,!r&&t.jsx("button",{className:"ReactModal__Close-btn"})]}),closeTimeoutMS:300,children:n})},Xn=()=>{const{switchNetworkAsync:e}=Pt();return n=>{if(typeof n!="number"&&typeof n!="string")throw new TypeError(`Invalid chainId type: ${n} (${typeof n})`);const a=Je[n].name;e(n).then(()=>{Hn(`Network switched to ${a} (${n})`)},i=>{nt(i)})}},Zn=e=>{const{chainId:n}=e,[a]=T.useState(!0),i=Xn();return t.jsxs(zn,{className:"UnsupportedChainErrorModal",isOpen:a,isObligatory:!0,children:[t.jsxs("div",{className:"UnsupportedChainErrorModal__text text-inline",children:["Chain ",n," is not supported."]}),t.jsx("div",{className:"UnsupportedChainErrorModal__switch-btns",children:Qe.map(s=>{const r=Je[s],{name:o,icon:p,isDisabled:u}=r;return t.jsxs(ye,{isDisabled:u,type:"stroke",onClick:()=>{i(s)},children:[t.jsx("img",{src:p,alt:`${o} icon`}),"Switch to ",o]},s)})})]})},Qn="AEZAKMI=",Jn=()=>{const[e,n]=T.useState(),a=Te(),i=r=>{n(r),console.log("GOD EYE MODE ENABLED:",r)},s=r=>{n(null),console.log(`GOD EYE MODE DISABLED${r?` (${r})`:""}`)};return T.useEffect(()=>{const r=a.pathname.split("/"),o=r[r.length-1];if(o.startsWith(Qn)){const p=o.split("=")[1];Lt(p)?i(p):s("Invalid wallet address")}},[a.pathname]),{godEyeAddress:e}},ea=({children:e})=>{const{godEyeAddress:n}=Jn();return t.jsx(tt.Provider,{value:n,children:e})},ta="/terminal/builder",na="0x683Ad8b899Cd14d8e077c9A623E8B3fEd65a8c09";const aa="/sf_draft/assets/ETH-fe35d2b1.svg",ia="/sf_draft/assets/BTC-03fbacc9.svg",sa="/sf_draft/assets/WETH-2ba67e25.svg",ra="/sf_draft/assets/WBTC-f0287338.svg",He="/sf_draft/assets/USDC-5a7f3d86.svg",oa="/sf_draft/assets/USDT-2e53b5e9.svg",pa="/sf_draft/assets/DAI-b460716b.svg",Ie={42161:[{name:"Ethereum",symbol:"ETH",decimals:18,getAddress:e=>e?null:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:aa,isSwappable:!0},{name:"Bitcoin",symbol:"BTC",decimals:8,getAddress:()=>"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:ia},{name:"Wrapped Ethereum",symbol:"WETH",decimals:18,getAddress:()=>"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:sa,isSwappable:!0},{name:"Wrapped Bitcoin",symbol:"WBTC",decimals:8,getAddress:()=>"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:ra,isSwappable:!0},{name:"Dai",symbol:"DAI",decimals:18,getAddress:()=>"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",icon:pa,isSwappable:!0,isStable:!0},{name:"USD Coin",symbol:"USDC",decimals:6,getAddress:()=>"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",icon:He,isSwappable:!0,isStable:!0},{name:"USDC.e",symbol:"USDC.e",decimals:6,getAddress:()=>"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",icon:He,isSwappable:!0,isStable:!0},{name:"Tether",symbol:"USDT",decimals:6,getAddress:()=>"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",icon:oa,isSwappable:!0,isStable:!0}]},de={},ce={},We=Object.keys(Ie);for(let e=0;e<We.length;e++){const n=We[e];de[n]={},ce[n]={};let a=Ie[n];for(let i=0;i<a.length;i++){const s=a[i];de[n][s.symbol]=s,ce[n][s.getAddress()]=s}}const Z=(e,n)=>{if(!de[e])throw new Error(`No tokens found for chainId ${e}`);const i=de[e][n];if(!i)throw new Error(`Incorrect symbol "${n}" for chainId ${e}`);return i},$e=(e,n)=>{if(!ce[e])throw new Error(`No tokens found for chainId ${e}`);const i=ce[e][n];if(!i)throw new Error(`Incorrect address "${n}" for chainId ${e}`);return i},ua=e=>{const n=Ie[e];if(!n)throw new Error(`No tokens found for chainId ${e}`);return n.filter(i=>i.isSwappable)},at=e=>Z(e,"USDC.e").getAddress(),it=["ETH","BTC"],N=18,la=18,ya=8,da=6,ca={ETH:la,BTC:ya},st=30,le=6,ma="/sf_draft/assets/graph-b6757e0e.svg";const Y=({className:e,children:n,isSmall:a=!0,symbol:i="USDC",isHlight:s})=>{const r=R(),o=Z(r,i).icon,p=n,u=g(s&&"hlight",e);return t.jsxs("div",{className:g("Currency",u),children:[t.jsx("img",{src:o,alt:`${i} icon`,width:a?15:"auto"}),t.jsx("span",{children:p})]})},be=(e,n=",")=>{Rn(e);const a=e.toString().split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,n),a.join(".")},Oe=(e,n)=>{let a=e.toString();if(n===void 0)return a;if(n===0)return a.split(".")[0];const i=a.indexOf(".");if(i!==-1){let r=a.length-i-1;r>n&&(a=a.substr(0,a.length-(r-n)))}return a},Ta=(e,n)=>{let a=e.toString();const i=a.indexOf("."),s=i!==-1,r=s?a.length-i-1:0;return r<n&&(a+=+s?"":".",a+="0".repeat(n-r)),a},fa=e=>{const n=e.toString();return n.indexOf(".")!==-1?parseFloat(n):e},ba=(e,n)=>{var s;let a=e.toString().replace(/^\./g,"").replace(/[^0-9.]/g,"").replace(/^0\d/,"");return((s=a.match(/\./g))==null?void 0:s.length)>1&&(a=(o=>o.replace(/\.$/,""))(a)),a=Oe(a,n?0:le),a},rt=(e,n,a)=>be(ba(e,a),n),Ce=(e,n=",")=>(Un(e),Number(e.split(n).join(""))),$=(e,n=N,a)=>{te(e);let i=Number(e)/10**n;return typeof a<"u"&&(i=Math.floor(i*10**a)/10**a),i},Fe=(e,n)=>(te(e),e*BigInt(10**n)),Ca=(e,n)=>(te(e),e/BigInt(10**n)),he=(e,n=N)=>{if(n<le)throw new Error("Converting float to BigInt without expanding decimals is not safe.");const a=Math.floor(Number(e)*10**le);return Fe(BigInt(a),n-le)},j=(e,n=2,a=N,i=!0)=>{te(e);let s=$(e,a);return s=Oe(s,n),s=Ta(s,n),i&&(s=be(s)),String(s)},ot=(e,n=3,a=N)=>{te(e);let i=$(e,a);return i=Oe(i,n),i=fa(i),String(i)},pt=(e,n,a)=>{te(e);const i=a-n;return(i<0?Ca:Fe)(e,Math.abs(i))},ut=(e,n)=>pt(e,n,N),ha=e=>fetch(e).then(n=>n.json()),xa=e=>{switch(e){case G:return"https://gmx-server-mainnet.uw.r.appspot.com/prices";case ae:throw new Error("No url for Optimism");default:throw new Error(`Unknown chainId ${e}`)}},lt=()=>{const e=R(),n=xa(e),{data:a,error:i}=Ye([n],{fetcher:ha,refreshInterval:1e3,shouldRetryOnError:!1});return i&&console.log(i),a},_a=e=>{switch(e){case"ETH":return 70;case"BTC":return 85}},ga=()=>{const e=R(),n=it.map(i=>Z(e,i)),a=lt();return t.jsxs("div",{className:"TokenPricesPanel",children:[t.jsx("div",{className:"TokenPricesPanel__icon",children:t.jsx("img",{src:ma,alt:"Graph icon"})}),t.jsx("div",{className:"TokenPricesPanel__items",children:n.map(i=>{if(!a)return null;let{getAddress:s,symbol:r}=i;const o=BigInt(a[s()]),p=j(o,2,st);return t.jsx("div",{className:"TokenPricesPanel__item",children:t.jsx(Y,{isHlight:!0,symbol:r,children:t.jsxs("span",{style:{display:"block",width:_a(r)},children:["$",p]})})},r)})})]})},ka=()=>{const e=Te(),n=[{name:"Option Strategies",to:"/terminal/builder"}];return n.forEach(a=>{e.pathname.endsWith(a.to)&&(a.isActive=!0)}),t.jsxs("div",{className:"Terminal",children:[t.jsx(ga,{}),t.jsx(Xe,{links:n,type:"border"}),t.jsx($t,{})]})};function yt(e,n={maxValue:void 0,placeholder:"",isDisabled:!1},a=[rt,Ce]){const[i,s]=e,{maxValue:r,placeholder:o,isDisabled:p}=n,[u,l]=a,[y,d]=T.useState(!1),f=T.useRef(null);return{node:t.jsx("input",{type:"text",ref:f,value:i,disabled:p,placeholder:o,onChange:b=>{r&&l(b.target.value)>r?s(u(r)):s(u(b.target.value))},onFocus:()=>{d(!0)},onBlur:()=>{d(!1)}}),hasFocus:y,ref:f}}const va=e=>{const{value:n,setValue:a,maxValue:i,formatInputStringFns:s,hasError:r,isDisabled:o,unitStr:p,placeholder:u}=e,l=yt([n,a],{maxValue:i,placeholder:u,isDisabled:o},s),y=g(e.className,l.hasFocus&&"hlight",r&&"error",o&&"disabled");return t.jsxs("div",{className:g("InputFamily Input",y),onClick:()=>{l.ref.current.focus()},children:[l.node,t.jsx("div",{className:"Input__unit",children:p})]})},ke="#46956A",W="#C75E4B",qe="#D99445",ve="#6988FF",Sa="≈",O="Limited",L="Unlimited",z="Bullish",Se="Bearish",U="Neutral",se={"Long Call":{stats:{outlooks:[z],profit:L,loss:O,description:"When you believe that the price of the underlying asset will rise."},structure:[1],key:1,color:ke},"Short Call":{stats:{outlooks:[Se],profit:O,loss:L,description:"When you believe that the price of the underlying asset will fall."},structure:[-1],key:101,color:W},"Covered Call":{stats:{outlooks:[z],profit:O,loss:L,description:"When you believe that the price of the underlying asset will rise."},structure:[-1],key:201,color:W},"Long Put":{stats:{outlooks:[Se],profit:L,loss:O,description:"When you believe that the price of the underlying asset fall."},structure:[2],key:2,color:ke},"Short Put":{stats:{outlooks:[z],profit:O,loss:L,description:"When you believe that the price of the underlying asset will rise."},structure:[-2],key:102,color:W},"Long Strangle":{stats:{outlooks:[U],profit:L,loss:O,description:"When you believe that the price of the underlying asset will rise or fall."},structure:[1,2],key:3,color:qe},"Short Strangle":{stats:{outlooks:[U],profit:O,loss:L,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:103,color:W},"Covered Strangle":{stats:{outlooks:[U,z],profit:O,loss:L,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:203,color:W},"Long Straddle":{stats:{outlooks:[U],profit:L,loss:O,description:"When you believe that the price of the underlying asset changes when the direction of the change could be either up or down."},structure:[1,2],key:4,color:qe},"Short Straddle":{stats:{outlooks:[U],profit:O,loss:L,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:104,color:W},"Covered Straddle":{stats:{outlooks:[U,z],profit:O,loss:L,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:204,color:W},"Iron Butterfly":{stats:{outlooks:[U],profit:O,loss:O,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:5,color:ve,plural:"Iron Butterflies"},"Iron Condor":{stats:{outlooks:[U],profit:O,loss:O,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:6,color:ve}},Aa={[z]:ke,[U]:ve,[Se]:W},wa=Object.keys(se),Pa=e=>{const{amountStrState:n,strategy:a}=e,[i,s]=n,r=se[a].plural??`${a}s`;return t.jsxs("div",{className:"BuilderForm__field BuilderForm__field_amount",children:[t.jsx("div",{className:"BuilderForm__field-header",children:"Enter Amount"}),t.jsx("div",{className:"BuilderForm__field-body",children:t.jsx(va,{value:i,setValue:s,unitStr:r})})]})};const Ba="/sf_draft/assets/dropdown-fc81e803.svg",re=({className:e,options:n,defaultValue:a,defaultOption:i,onChange:s,iconNode:r,iconTextNode:o,...p})=>{const u=r||o,l=({children:f,...b})=>t.jsxs(Xt.Control,{...b,children:[r&&t.jsx("div",{className:"Selector__icon",children:r}),o&&t.jsx("div",{className:"Selector__icon Selector__icon_text",children:o}),f]}),y=f=>{const b=c=>c.value===f,x=n.find(c=>c.options);let w;return x?n.forEach(c=>{if(w)return;w=(c.options??[c]).find(b)}):w=n.find(b),w},d=g(e,u&&"Selector_with-icon");return t.jsx(zt,{...p,options:n,defaultValue:i??y(a),onChange:s,className:g("Selector",d),classNamePrefix:"Selector",isClearable:!1,isSearchable:!1,components:{DropdownIndicator:({innerRef:f,innerProps:b})=>t.jsx("div",{ref:f,...b,className:"Selector__indicator Selector__dropdown-indicator",children:t.jsx("img",{src:Ba,alt:"dropdown icon"})}),Control:l}})},Da=e=>{const{assetState:n,isDisabled:a}=e,[i,s]=n,r=it.map(o=>({value:o,label:t.jsx(Y,{symbol:o,isHlight:!0,children:o})}));return t.jsxs("div",{className:"BuilderForm__field BuilderForm__field_asset",children:[t.jsx("div",{className:"BuilderForm__field-header",children:"Asset"}),t.jsx("div",{className:"BuilderForm__field-body",children:t.jsx(re,{options:r,defaultValue:i,isDisabled:a,onChange:o=>{s(o.value)}})})]})},Ma="/sf_draft/assets/strategy-selector-icon-1e15875d.svg",Ea=e=>{const{strategyState:n,isDisabled:a}=e,[i,s]=n,r=wa.map(o=>({value:o,label:o}));return t.jsxs("div",{className:"BuilderForm__field BuilderForm__field_strategy",children:[t.jsxs("div",{className:"BuilderForm__field-header",children:["Strategy",t.jsx("div",{className:"BuilderForm__field-tip tip","data-tooltip-id":"BuilderForm_WhenPurchaseTooltip",children:"When purchase"})]}),t.jsx("div",{className:"BuilderForm__field-body",children:t.jsx(re,{options:r,defaultValue:i,onChange:o=>{s(o.value)},iconNode:t.jsx("img",{src:Ma,alt:"Strategy selector icon"}),className:"Selector_thin-options",isDisabled:a})})]})};const ne=e=>{const{style:n,hasLeftMargin:a}=e;return t.jsx("div",{className:"Spinner",children:t.jsx(Zt,{className:"Spinner__icon",style:{marginLeft:a?7:0,...n}})})},Le=(e,n,a=t.jsx(ne,{}))=>n?a:e,je=(e,n,a=t.jsx(ne,{}))=>n?a:e(),Q=(e="—")=>t.jsx("span",{className:"muted",children:e}),dt=(e,n)=>{const a=Number(e),i=Number(n);if(a>i)return 1;if(a==i)return 0;if(a<i)return-1},Ia=(e,n,a)=>{const i=e[a],s=n[a];return dt(i,s)},ct=e=>e.filter((a,i)=>e.indexOf(a)===i),Ae=()=>window.innerWidth<768,we=e=>typeof e>"u",xe=e=>Math.abs(e)===1,oe=e=>e>0,mt=e=>!!e.find(n=>!oe(n)),Oa=e=>!!e.find(n=>oe(n)),Fa=e=>{const[,n]=e.split("_");return Number(n)},La=(e,n,a)=>{let i;const s=`W${a}`,r=n.split(" ")[0];return!xe(e)||r==="Short"?i=["USDC.e"]:r==="Covered"?i=[s]:r==="Iron"&&(i=["USDC.e",s]),i},ja=e=>{const n=e.includes("Straddle"),a=e==="Iron Butterfly";if(n)return[0,1];if(a)return[1,2]},Na=(e,n)=>{if(!e)return;if(e.length>1){const i=e.find(s=>s.market===n);if(i)return i}return e[0]},Ra=e=>{const{strategyStructure:n,dateListState:a,chosenDateState:i,lyraMarket:s,updateTriggers:r,resetTriggers:o,isDisabled:p,updateUnstableField:u}=e,[l,y]=a,[d,f]=T.useState(!1),[b,x]=i,{account:w}=V(),c=()=>{if(f(!0),s){const D=s.liveBoards().map(A=>A.expiryTimestamp*Ee);y(D),f(!1)}},C=()=>{x(null)};T.useEffect(()=>{c()},r),T.useEffect(()=>{C()},o);const _=l.map(D=>({value:D,label:Ne(D,"d MMM")})),M=b&&_.find(D=>D.value===b);return t.jsxs("div",{className:"BuilderForm__field BuilderForm__field_date",children:[t.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),t.jsx("div",{className:"BuilderForm__field-body",children:n.map((D,A)=>{const I=oe(D),E=xe(D),S=Le(t.jsx(re,{className:"Selector_thin-options",placeholder:"Choose Date",isDisabled:p||!w,options:_,value:M,formatOptionLabel:({value:P},{selectValue:v})=>{var h;const B=((h=v[0])==null?void 0:h.value)===P?"d MMM hh a":"d MMM";return Ne(P,B)},onChange:P=>{x(P.value)},iconTextNode:t.jsxs("span",{className:g({positive:I,negative:!I},"block"),style:{width:25},children:[I?"Buy":"Sell",t.jsx("br",{}),E?"Call":"Put"]})},A),d,t.jsx(ne,{},A));return u(A,S),S})})]})};const Ua=e=>{const n=R(),i=Z(n,e).getAddress(),s=lt();return s?s[i]:0},Ha=(e,n,a)=>e?a>n:a<n,Wa=(e,n,a=3)=>Math.abs(e-n)<a;const $a="/sf_draft/assets/Hegic-a7e6545a.svg",qa="/sf_draft/assets/Hegic_circled-26df614a.svg",Ga="/sf_draft/assets/Hegic_circled-light-9256df54.svg",Va="/sf_draft/assets/Lyra-0ebc1db3.svg",Ka="/sf_draft/assets/Lyra_circled-1da5fd25.svg",Ya="/sf_draft/assets/Lyra_circled-light-a90bfa71.svg",Tt={Hegic:{common:$a,circled:qa,circledLight:Ga},Lyra:{common:Va,circled:Ka,circledLight:Ya}},za=.0015,Xa=e=>{const{market:n,isCall:a,isBuy:i,priceStr:s,isPriceHlight:r}=e,o=Tt[n].circled;return t.jsxs("div",{className:"StrikeBrief",children:[t.jsx("div",{className:"StrikeBrief__icon",children:t.jsx("img",{src:o,alt:`${n}`})}),t.jsxs("div",{className:g("StrikeBrief__info-card",{positive:i,negative:!i}),children:[i?"Buy":"Sell"," ",a?"Call":"Put"]}),t.jsx("div",{className:g("StrikeBrief__price",r&&"hlight"),children:s})]})};const Za=e=>{const{children:n,className:a}=e;return t.jsx("table",{...e,className:g("Table",a),children:n})};const Qa=e=>{const{id:n,amountStr:a,strikeMarketsDataArr:i,chosenStrikeData:s,setChosenStrikeData:r,isOpen:o,close:p}=e,[u,l]=T.useState([]),y=()=>{i.forEach((c,C)=>{const _=he(a);c.utils.calcPremium(_).then(M=>{u[C]=M.inUSDC,l([...u])})})};if(T.useEffect(()=>{l([]),i&&y()},[i,a]),!i)return null;const d=23,b=80-d,w=180-d;return t.jsx("div",{className:g("StrikeInfoBox",o&&"open"),style:{zIndex:9-n*2},children:t.jsxs(Za,{onClick:c=>c.stopPropagation(),children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:t.jsx("div",{style:{width:w},children:"Market"})}),t.jsx("th",{children:t.jsx("div",{style:{width:b},children:"Source"})}),t.jsx("th",{children:t.jsx("div",{style:{width:b},children:"Delta"})}),t.jsx("th",{children:t.jsx("div",{style:{width:b},children:"Vega"})}),t.jsx("th",{children:t.jsx("div",{style:{width:b},children:"Gamma"})}),t.jsx("th",{children:t.jsx("div",{style:{width:b},children:"Theta"})}),t.jsx("th",{children:t.jsx("div",{style:{width:b},children:"Rho"})})]})}),t.jsx("tbody",{children:i.map((c,C)=>{const{market:_,isCall:M,isBuy:D,greeks:A}=c,I=c===s;return t.jsxs("tr",{className:g("StrikeInfoBox__strike-option",I&&"chosen"),children:[t.jsxs("td",{children:[t.jsx("button",{className:"StrikeInfoBox__strike-option-overlay-btn",onClick:()=>{r(c),p()}}),t.jsx(Xa,{market:_,isCall:M,isBuy:D,priceStr:je(()=>`$${j(u[C])}`,!u[C]),isPriceHlight:!0})]}),t.jsx("td",{children:"AMM"}),t.jsx("td",{children:A.delta}),t.jsx("td",{children:A.vega}),t.jsx("td",{children:A.gamma}),t.jsx("td",{children:A.theta}),t.jsx("td",{children:A.rho})]},c.market)})})]})})};const ft=e=>{const{children:n}=e;return t.jsx("div",{className:"InnerWarning",children:n})};Qt();const Ja=e=>{const{id:n,className:a,isUnited:i,spaceBetween:s,isDraggable:r,breakpoints:o,handleInit:p,slideClassName:u,children:l}=e,y=T.useRef(null),d=`${i?`.${a}`:`#${n}`}`,f={spaceBetween:s,allowTouchMove:r,breakpoints:o,navigation:{enabled:!0,prevEl:`${d} .Carousel__nav-btn_prev`,nextEl:`${d} .Carousel__nav-btn_next`},on:{init:b=>{b.el.style.overflow="clip visible",p&&p(b)}}};return T.useEffect(()=>{const b=y.current;b&&(Object.assign(b,f),b.initialize())},[y,f]),t.jsxs("div",{className:g("Carousel",a),id:n,children:[t.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_prev"}),t.jsx("swiper-container",{init:!1,ref:y,children:l==null?void 0:l.map((b,x)=>t.jsx("swiper-slide",{class:u,children:b},x))}),t.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_next"})]})};const ei=e=>{const{asset:n}=e;return t.jsx(Ja,{slidesPerView:"auto",breakpoints:{768:{slidesPerView:"auto"},576:{slidesPerView:7,grid:{fill:"row",rows:2}},520:{slidesPerView:6,grid:{fill:"row",rows:2}},380:{slidesPerView:5,grid:{fill:"row",rows:2}},0:{slidesPerView:4,spaceBetween:4,grid:{fill:"row",rows:2}}},spaceBetween:5,className:"StrikeCarousel",isDraggable:!1,isUnited:!0,slideClassName:`StrikeCarousel__slide_${n}`,children:e.children})},me=e=>Object.keys(e).map(Number),ti=e=>{const n={},a=Object.keys(e).map(Fa),i=ct(a),s=Object.values(e);return i.forEach(r=>{const o=s.filter(p=>p.strike===r);n[r]=o}),n},ni=e=>e.map(ti),ai=e=>{const n=[];return e.forEach(i=>{const s=me(i);n.push(...s)}),ct(n)},ii=e=>{const n=ai(e);return e.map(i=>{const s=me(i),r={...i};return n.forEach(o=>{s.indexOf(o)===-1&&(r[o]=[{strike:o,isAbsent:!0}])}),r})};const si=e=>{const{currentPrice:n,isFirst:a}=e;return t.jsx("div",{className:g("StrikeCurrentPriceItem","StrikeChooser__item",a&&"StrikeCurrentPriceItem_first"),children:t.jsxs("span",{children:["$",be(n)]})})};const ri="/sf_draft/assets/cross_grey-42dbd9c5.svg",oi=e=>{const{isITM:n}=e;return t.jsx("div",{className:g("StrikeAbsentItem","StrikeChooser__item",n&&"StrikeChooser__item_ITM"),children:t.jsx("img",{src:ri,alt:"Absent"})})},pi=e=>{const{className:n,id:a,structureKey:i,asset:s,amountStr:r,strikesData:o,chosenStrikeData:p,setChosenStrikeData:u}=e,{isConnected:l}=V(),y=BigInt(Ua(s)),d=$(y,st),f=a===0,b=Ae(),[x,w]=T.useState(null),c=S=>{const P={...S};for(const v in S)S[v][0].isCurrentPrice&&(P[v][0].isCurrentPrice=!1);return P},C=()=>{const S=c(o),v=me(S).find(m=>Wa(m,d));if(v){const m=S[v][0];m.isCurrentPrice=!0}else{const m=Math.floor(d);S[m]=[{strike:m,isCurrentPrice:!0}]}return S},_=()=>{if(o){let S=C();const P=me(S).sort(dt),v=Object.values(S).sort((m,B)=>{const h=m[0],k=B[0];return Ia(h,k,"strike")});return{strikes:P,dataArr:v}}return{}},{strikes:M,dataArr:D}=_(),{openPopup:A,closePopup:I,isOpen:E}=Ze(()=>w(null));return t.jsxs("div",{className:g("StrikeChooser",n,b&&!o&&"hidden"),children:[o?t.jsx("div",{className:"StrikeChooser__items",style:{zIndex:10-a*2},children:t.jsx(ei,{asset:s,children:M.map((S,P)=>{const v=D[P],m=v[0],{isCurrentPrice:B,isAbsent:h,market:k}=m;if(B&&!k)return t.jsx(si,{currentPrice:S,isFirst:f},"current_price");const F=xe(i),H=Ha(F,S,d);if(h)return t.jsx(oi,{isITM:H},P);const pe=p&&p.strike===S,K=pe&&p.market,_e=x===v;return t.jsxs(ye,{className:g("StrikeChooser__item",H&&"StrikeChooser__item_ITM",pe&&"chosen",_e&&"open",B&&g("StrikeCurrentPriceItem",f&&"StrikeCurrentPriceItem_first")),style:{cursor:"pointer"},type:"stroke",onClick:xt=>{E&&xt.stopPropagation(),w(v),A()},children:[pe&&t.jsx("div",{className:"StrikeChooser__item-market",children:t.jsx("img",{src:Tt[K].circledLight,alt:`${K} icon`})}),t.jsxs("span",{children:["$",be(S)]})]},S)})})}):t.jsxs(ft,{children:[l?"C":"Connect wallet and c","hoose expiration date to view strikes"]}),t.jsx(Qa,{id:a,amountStr:r,strikeMarketsDataArr:x,chosenStrikeData:p,setChosenStrikeData:u,isOpen:E,close:I})]})},bt=(e,n)=>{const a=ca[n];return BigInt(e*10**a)},ui=e=>e.startsWith("W"),Ct="Hegic_",li=(e,n)=>{let a;try{a=Dn(e,n)}catch(i){console.log(i)}return a},yi=async(e,n)=>{const a=await Ln(e,n);return $(a,8)},di=(e,n,a)=>{const[i,,s]=e.split("_");return!(i.includes("SPREAD")||a!==(i==="CALL")||s!==n)},ci=async(e,n,a)=>{let i;const s=new J(n,ee(e,"Hegic_Strategy")[1],ie(e)),r=fe(a);try{i=!(await s.getAvailableContracts(r,[])).eq(0)}catch{}return i},mi=async(e,n,a,i)=>{const{period:s}=a,r=In(e,n),o=fe(s);return r.calculatePremium(o,i,0).then(p=>Fe(p.toBigInt(),N-da))},Ti=(e,n)=>Math.floor(n/100*e),fi=(e,n,a,i)=>{const{isCall:s}=a,{strategyKey:r}=n,[,o]=r.split("_"),p=Ti(o,i),u=Ci(e,n,a);return{market:"Hegic",strike:p,isCall:s,isBuy:!0,greeks:{delta:s?1:-1,vega:0,gamma:0,theta:0,rho:0},utils:u}},bi=(e,n)=>{const a=bt(1,e);return n.utils.calcPremium(a)},Ci=(e,n,a)=>{const{strategyKey:i,strategyAddress:s}=n,{period:r}=a;return{calcPremium:u=>mi(e,i,a,u),getBuilderParams:u=>{const l=new J(...ee(e,"TxBuilderOpen"),et());return new Promise(y=>{y(l.encodeFromHegic(s,l.address,u,fe(r),[]))})}}},hi=async(e,n,a)=>{const{asset:i,isCall:s,period:r}=a,o={},p={},u=await yi(e,i),l=Object.keys(n);for(let y=0;y<l.length;y++){const d=l[y],f=n[d],b={strategyKey:d,strategyAddress:f};if(!di(d,i,s)||!await ci(e,f,r))continue;const x=fi(e,b,a,u),w=bi(i,x),{strike:c}=x;p[c]=w,o[`${Ct}${c}`]={...x}}return{strikesData:o,premiumPromisesData:p}},xi=async(e,n)=>{const a=Object.keys(n),i=Object.values(n);await Promise.all(i).then(s=>{s.forEach((r,o)=>{if(r){const p=a[o];e[`${Ct}${p}`].premium=r}})})},_i=e=>{const n={};for(const a in e){const i=e[a];i.premium&&(n[a]=i)}return n},gi=async(e,n,a)=>{const{strikesData:i,premiumPromisesData:s}=await hi(e,n,a);return await xi(i,s),i},ki=async(e,n)=>{const{period:a}=n,i=li(e,a);return i?_i(await gi(e,i,n)):{}},vi=.05*10**4,ht=(e,n,a,i)=>{const s=$e(e,n),r=$e(e,a),o=pt(i,N,s.decimals);if(n===a||o===0n||s.isStable&&r.isStable)return new Promise(y=>{y(i)});const p=X.from(o);return new J(...ee(e,"Uniswap_Quoter"),et()).callStatic.quoteExactInput(ze.solidityPack(["address","uint24","address"],[n,vi,a]),p).then(y=>{const d=y.toBigInt();return ut(d,r.decimals)}).catch(y=>{console.log(`Swapping ${s.symbol} to ${r.symbol} error!

`,y)})},Pe=(e,n,a)=>{const i=at(e);return ht(e,n,i,a)},Si=(e,n,a)=>{const i=at(e);return ht(e,i,n,a)},Be="Lyra_",Ai="USDC.e",wi=(e,n)=>{var s;const a=(s=e.liveBoards().find(r=>r.expiryTimestamp===fe(n)))==null?void 0:s.id;return a?e.liveBoardsMap[a]:void 0},Pi=(e,n)=>!(!e||n.disabledReason==="DeltaOutOfRange"),Bi=(e,n,a)=>{const i=(l,y=18)=>ze.parseUnits(l.toFixed(y).toString(),y),s=X.from(10).pow(18),r=2.5,o=a?e.strikePrice:e.strike().strikePrice,p=(e.newSize??e.size).mul(o).div(s).mul(i(r)).div(s);return n.max?n.max:p.gt(n.min)?p:n.min},Di=(e,n,a,i,s)=>{const{isCall:r,isBuy:o}=i,p=Z(e,Ai),u=(x,w)=>n.trade(s,a,r,o,x,za,w),l=(x,w)=>{const c=X.from(x);return u(c).then(C=>{const _=o?"maxTotalCost":"minTotalCost",M=C.params[0][_].toBigInt();return Pi(M,C)?Pe(e,p.getAddress(),M).then(D=>{const A={inPaymentToken:M,inUSDC:D,defaultToken:p};return w?A:{premiumData:A,greeks:C.greeks}}):null})},y=x=>l(x,!0),d=(x,w)=>{const c=X.from(x);return u(c,w).then(C=>{const{collateral:_}=C;_.max||(C.collateral.max=Bi(C,C.collateral));const M=`W${C.marketName.split("-")[0]}`,D=_.isBase?Z(e,M):p;return Pe(e,D.getAddress(),_.amount.toBigInt()).then(A=>(C.collateral.amount=C.collateral.amount.toBigInt(),C.collateral.amountInUSDC=A,C.collateral.token=D,C.collateral))})},f=new J(...ee(e,"TxBuilderOpen"),ie(e));return{calcPremium:y,calcPremiumWithGreeks:l,getCollateralData:d,getBuilderParams:(x,w)=>{const c=X.from(x);return u(c,w).then(C=>{const _=C.params[0];return f.encodeFromLyra([_.strikeId,_.positionId,_.iterations,_.optionType,_.amount,_.setCollateralTo,_.minTotalCost,_.maxTotalCost,na])})}}},Mi=(e,n,a,i,s)=>{const{isCall:r,isBuy:o}=i,{strikeId:p,strikePrice:u}=a,l=p.toNumber(),y=$(u.toBigInt()),d=Di(e,n,l,i,s);return{market:"Lyra",strike:y,strikeId:l,isCall:r,isBuy:o,utils:d}},Ei=(e,n)=>{const a=bt(1,e);return n.utils.calcPremiumWithGreeks(a)},Ii=(e,n,a,i,s)=>{const{asset:r}=a,o={},p={};return i.strikes.forEach(u=>{const l=Mi(e,n,u,a,s),y=Ei(r,l),{strike:d}=l;p[d]=y,o[`${Be}${d}`]=l}),{strikesData:o,premiumWithGreeksPromisesData:p}},Oi=async(e,n)=>{const a=Object.keys(n),i=Object.values(n);await Promise.all(i).then(s=>{s.forEach((r,o)=>{if(r){const{premiumData:p,greeks:u}=r;for(const y in u){const d=u[y];u[y]=$(d.toBigInt(),N,3)}const l=a[o];e[`${Be}${l}`].premiumData=p,e[`${Be}${l}`].greeks=u}})})},Fi=e=>{const n={};for(const a in e){const i=e[a];i.premiumData&&(n[a]=i)}return n},Li=async(e,n,a,i)=>{const{expiryDate:s}=a,r=wi(n,s),{strikesData:o,premiumWithGreeksPromisesData:p}=Ii(e,n,a,r,i);return await Oi(o,p),Fi(o)},ji=e=>{const{asset:n,strategy:a,amountStr:i,chosenDate:s,strategyStructure:r,hasSell:o,strikesDataArrState:p,chosenStrikesState:u,areStrikesLoadingState:l,lyraMarket:y,updateTriggers:d,resetTriggers:f,updateUnstableField:b}=e,x=R(),{account:w}=V(),[c,C]=p,[_,M]=u,[D,A]=l,I=()=>{A(!0);const P=[];r.forEach((v,m)=>{const B={asset:n,expiryDate:s,period:s-Date.now(),isCall:xe(v),isBuy:oe(v)};c[m]={};const h=k=>{c[m]={...c[m],...k}};B.isBuy&&P.push(ki(x,B).then(h)),P.push(Li(x,y,B,w).then(h))}),Promise.all(P).then(()=>{const v=ni(c),m=ii(v);C([...m]),A(!1)})},E=()=>{const P=_.map(()=>{});M(P)},S=()=>{C([])};return T.useEffect(()=>{E(),S()},f),T.useEffect(()=>{s&&I()},d),t.jsxs("div",{className:g("BuilderForm__field","BuilderForm__field_strike",!o&&"col-span-2"),children:[t.jsx("div",{className:"BuilderForm__field-header",children:t.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_StrikeTooltip",children:"Strike"})}),t.jsx("div",{className:"BuilderForm__field-body",children:r.map((P,v)=>{const m=ja(a),B=m&&m.indexOf(v)!==-1,h=Le(t.jsx(pi,{id:v,structureKey:P,asset:n,amountStr:i,strikesData:c[v],chosenStrikeData:_[v],setChosenStrikeData:k=>{if(_[v]=k,B){const F=k.strike,H=k.market;m.filter(K=>K!==v).forEach(K=>{const _e=Na(c[K][F],H);_[K]=_e})}M([..._])}},v),D,t.jsx(ne,{},v));return b(v,h),h})})]})};const Ni=e=>{const{liqPrice:n,isLiqPriceLoading:a,isInLastHalf:i}=e,s=t.jsx("span",{className:"muted_light",children:"..."}),r=t.jsx("span",{className:"muted_light",children:"—"}),o=()=>`$${j(n.toBigInt())}`;return t.jsxs("div",{className:g("CollateralLiqPrice",i&&"CollateralLiqPrice_down"),children:["Liq. Price:",t.jsxs("span",{className:"CollateralLiqPrice__val",children:[a&&s,!a&&(n?o():r)]})]})};const Ri=({min:e,max:n,collateralData:a,handleClick:i})=>t.jsx("div",{className:"CollateralRangeBtns",children:[e,n].map((s,r)=>{const o=a.isBase,p=s.toBigInt(),l=(o?ot:j)(p,o?3:0),y=r===0;return t.jsxs(Ge.Fragment,{children:[t.jsxs("button",{onClick:()=>i(l),children:[o?"":"$",l]},r),y?"—":""]},r)})});const Ui=({collateralData:e,collateralAmountStr:n,onChange:a})=>{const{isBase:i}=e,s=i?1:0,r=$(e.min.toBigInt(),N,s),o=$(e.max.toBigInt(),N,s),p=Ce(n),u=i?.1:1;return t.jsx("div",{className:"CollateralSlider",children:t.jsx(Jt,{defaultValue:0,value:p,min:r,max:o,step:u,onChange:a})})},Hi=e=>{const{isInLastHalf:n,getCollateralData:a,collateralData:i,setCollateralData:s,collateralTokens:r,chosenStrike:o,updateTriggers:p,resetTriggers:u}=e,[l,y]=T.useState(""),[d,f]=T.useState(r[0]),[b,x]=T.useState(!1),[w,c]=T.useState(!1),C=()=>{y(""),f(r[0]),s(null)},_=()=>{y(""),s(null)};T.useEffect(()=>{C()},u),T.useEffect(()=>{o&&(x(!0),_(),M(!0))},[o,d]);const M=E=>{let S;if(!E&&l){const P=Ce(l);S=he(P)}a(d,S).then(P=>{s(P),x(!1),c(!1)})};Yt(()=>{b||(c(!0),M())},800,[l,...p]);const D=yt([l,y],{placeholder:"0"}),A=r.map(E=>({value:E,label:t.jsx(Y,{symbol:E,isHlight:!0,children:E})})),I=g(D.hasFocus&&"hlight");return t.jsx("div",{className:g("CollateralChooser",I),children:o?t.jsxs(t.Fragment,{children:[i&&t.jsx(Ni,{liqPrice:i.liquidationPrice,isLiqPriceLoading:w,isInLastHalf:n}),Le(t.jsxs("div",{className:"CollateralChooser__input-container",children:[t.jsx("div",{className:"CollateralChooser__input",children:D.node}),i&&t.jsx(Ri,{min:i.min,max:i.max,collateralData:i,handleClick:E=>{y(E)}}),i&&t.jsx(Ui,{collateralData:i,collateralAmountStr:l,onChange:E=>{const S=rt(E);y(S)}})]}),b),t.jsx("div",{className:"CollateralChooser__token-selector",children:t.jsx(re,{options:A,defaultValue:d,isDisabled:A.length===1,onChange:E=>{f(E.value)}},`CollateralChooser__token-selector_${d}`)})]}):t.jsx(ft,{children:"Strike required"})})},Wi=e=>{const{asset:n,amountStr:a,strategy:i,strategyStructure:s,hasSell:r,chosenStrikes:o,collateralDataArrState:p,updateTriggers:u,resetTriggers:l,updateUnstableField:y}=e,[d,f]=p,b=()=>{f([])};T.useEffect(()=>{b()},l);const x=(c,C)=>{d[c]=C,f([...d])},w=(c,C,_)=>{const M=o[c];if(!M)return new Promise(()=>{});const D=he(Ce(a)),A=ui(C),I=X.from(_??0);return M.utils.getCollateralData(D,{isBaseCollateral:A,setToCollateral:I})};return r?t.jsxs("div",{className:"BuilderForm__field BuilderForm__field_collateral",children:[t.jsx("div",{className:"BuilderForm__field-header",children:t.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),t.jsx("div",{className:"BuilderForm__field-body",children:s.map((c,C)=>{if(oe(c))return t.jsx("div",{className:"BuilderForm__field-empty-row muted",children:"—"},C);const M=o[C],D=La(c,i,n),A=C>(s.length-1)/2,I=t.jsx(Hi,{isInLastHalf:A,collateralTokens:D,collateralData:d[C],setCollateralData:E=>x(C,E),getCollateralData:(E,S)=>w(C,E,S),chosenStrike:M,updateTriggers:u,resetTriggers:l},C);return y(C,I),I})})]}):null};const $i=e=>{const{strategyStructure:n,unstableFields:a,chosenStrikes:i,strikesDataArr:s,areStrikesLoading:r}=e,[o,p]=T.useState(Ae());return window.onresize=()=>{p(Ae())},o?t.jsxs("div",{className:"BuilderMobileContainer BuilderForm__field",children:[t.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),t.jsx("div",{className:"BuilderForm__field-body",children:n.map((u,l)=>{const y=r||!!s[l],d=!!i[l],f=!!a.collateral[l],b=l===n.length-1;return t.jsxs("div",{className:"BuilderMobileContainer__item",children:[t.jsx("div",{className:g("BuilderMobileContainer__item-date",y&&"mb-7"),children:a.date[l]}),t.jsx("div",{className:"BuilderMobileContainer__item-strike",children:a.strike[l]}),f&&d&&t.jsxs("div",{className:g("BuilderMobileContainer__item-collateral"),children:[t.jsx("div",{className:"BuilderMobileContainer__item-title",children:t.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),a.collateral[l]]}),y&&!b&&t.jsx("div",{className:"divider"})]},l)})})]}):null},qi=e=>{const{assetState:n,strategyState:a,amountStrState:i,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}=e,[l]=n,[y]=a,[d]=i,[f]=r,b=se[y].structure,x=mt(b),w=T.useState(!1),[c]=w,[C]=p,[_]=o,M=R(),D=An(M),[A,I]=T.useState(null),E=()=>{I(null);const h=`W${l}`;D.markets().then(k=>{const F=k.find(H=>H.baseToken.symbol===h);I(F)})};T.useEffect(()=>{E()},[l]);const S={date:[l,A],strike:[f],collateral:[d]},P={date:[l,y],strike:[l,y,f],collateral:[l,y,f],unstableFields:[y]},[v,m]=T.useState({date:[],strike:[],collateral:[]}),B=(h,k,F)=>{v[h][k]=F};return T.useEffect(()=>{m({date:[],strike:[],collateral:[]})},P.unstableFields),t.jsxs("div",{className:"BuilderForm__fields",children:[t.jsx(Da,{assetState:n,isDisabled:c}),t.jsx(Ea,{strategyState:a,isDisabled:c}),t.jsx(Pa,{amountStrState:i,strategy:y}),t.jsx(Ra,{strategyStructure:b,dateListState:s,chosenDateState:r,lyraMarket:A,updateTriggers:S.date,resetTriggers:P.date,isDisabled:c,updateUnstableField:(h,k)=>{B("date",h,k)}}),t.jsx(ji,{asset:l,strategy:y,amountStr:d,chosenDate:f,strategyStructure:b,hasSell:x,strikesDataArrState:o,chosenStrikesState:p,areStrikesLoadingState:w,lyraMarket:A,updateTriggers:S.strike,resetTriggers:P.strike,updateUnstableField:(h,k)=>{B("strike",h,k)}}),t.jsx(Wi,{asset:l,strategy:y,amountStr:d,strategyStructure:b,hasSell:x,chosenStrikes:C,collateralDataArrState:u,updateTriggers:S.collateral,resetTriggers:P.collateral,updateUnstableField:(h,k)=>{B("collateral",h,k)}}),t.jsx($i,{strategyStructure:b,unstableFields:v,chosenStrikes:C,strikesDataArr:_,areStrikesLoading:c})]})};const q=e=>{const{children:n,translateX:a,hasDelay:i=!0}=e;return t.jsx(en,{place:"bottom-start",style:{transform:Me(a)?"":`translateX(${a}px)`},delayShow:i?150:0,delayHide:i?150:0,...e,children:n})},Gi=()=>t.jsxs(q,{id:"BuilderForm_StrikeTooltip",translateX:-3,children:[t.jsx("h6",{children:"Hegic Options (American options)"}),t.jsxs("p",{className:"my-5",children:["They require manual exercise before ",t.jsx("br",{}),"the expiration date. ",t.jsx("br",{}),"There are no secondary markets; out-",t.jsx("br",{}),"of-the-money options can't be sold."]}),t.jsx("h6",{children:"Lyra (European options)"}),t.jsxs("p",{className:"my-5",children:["They are only exercised automatically ",t.jsx("br",{}),"at the expiration date. ",t.jsx("br",{}),"Secondary markets are available; out-",t.jsx("br",{}),"of-the-money options can be sold."]})]});const Vi=({strategy:e})=>{const n=se[e],{outlooks:a,profit:i,loss:s,description:r}=n.stats;return t.jsxs(q,{className:"WhenPurchaseTooltip",id:"BuilderForm_WhenPurchaseTooltip",place:"bottom-end",children:[t.jsxs("div",{className:"WhenPurchaseTooltip__header",children:[t.jsx("h2",{className:"WhenPurchaseTooltip__title",children:e}),t.jsx("div",{className:"WhenPurchaseTooltip__outlooks",children:a.map(o=>{const p=Aa[o];return t.jsx("div",{className:"WhenPurchaseTooltip__outlook",style:{color:p},children:o},o)})})]}),t.jsxs("div",{className:"WhenPurchaseTooltip__body",children:[t.jsx("h3",{className:"WhenPurchaseTooltip__subtitle",children:"When purchase"}),t.jsx("p",{className:"WhenPurchaseTooltip__description",children:r}),t.jsx("div",{className:"WhenPurchaseTooltip__stats",children:[i,s].map((o,p)=>{const u=p===0?"Profit":"Loss";return t.jsxs("div",{className:"WhenPurchaseTooltip__stats-item",children:[t.jsx("div",{className:"WhenPurchaseTooltip__stats-item-name",children:u}),t.jsx("div",{className:"WhenPurchaseTooltip__stats-item-value",children:o})]},o)})})]})]})},Ki=()=>t.jsxs(q,{id:"BuilderForm_CollateralTooltip",children:["This refers to the amount ",t.jsx("br",{}),"you’re setting aside ",t.jsx("br",{}),"as collateral for selling options"]}),Yi=()=>t.jsxs(q,{id:"BuilderForm_MaxCostTooltip",children:["This is the highest amount ",t.jsx("br",{}),"you’ll pay for buying options. ",t.jsx("br",{}),"If the option price rises ",t.jsx("br",{}),"beyond this, your transaction ",t.jsx("br",{}),"will be reverted."]}),zi=()=>t.jsxs(q,{id:"BuilderForm_MinReceivedTooltip",children:["This is the least amount you’re ",t.jsx("br",{}),"assured to receive when ",t.jsx("br",{}),"selling options. If the option ",t.jsx("br",{}),"price drops beyond this point, ",t.jsx("br",{}),"your transaction will ",t.jsx("br",{}),"be reverted."]}),Xi=()=>t.jsxs(q,{id:"BuilderForm_YouPayWarningTooltip",translateX:-5,children:["Apparently, the collateral you've set ",t.jsx("br",{}),"is too small. This may result in instant ",t.jsx("br",{}),"liquidation of the position."]}),Zi=({strategy:e})=>t.jsxs("div",{className:"BuilderTooltips",children:[t.jsx(Gi,{}),t.jsx(Vi,{strategy:e}),t.jsx(Ki,{}),t.jsx(Yi,{}),t.jsx(zi,{}),t.jsx(Xi,{})]});const Qi=({amountStr:e,chosenStrikes:n,collateralDataArr:a,setYouPay:i,hasSell:s,hasBuy:r})=>{const[o,p]=T.useState(null),[u,l]=T.useState(null),[y,d]=T.useState(null),[f,b]=T.useState(null),x=n.find(m=>m),w=a.find(m=>m),c=m=>m.reduce((h,k,F)=>F===0?k:{inPaymentToken:h.inPaymentToken+k.inPaymentToken,inUSDC:h.inUSDC+k.inUSDC,token:k.token},m[0]),C=()=>{if(!w)return;const m=a.filter(h=>h).map(h=>{if(h){const{amount:k,amountInUSDC:F,token:H}=h;return{inPaymentToken:k,inUSDC:F,defaultToken:H}}});return c(m)},_=m=>{const B=[],h=[];return m.forEach(k=>{k.isBuy?B.push(k):h.push(k)}),{buyCosts:B,sellCosts:h}},M=()=>{const m=[],B=he(e);return n.forEach(h=>{h&&m.push(h.utils.calcPremium(B).then(k=>(k.isBuy=h.isBuy,k)))}),Promise.all(m).then(h=>{const{buyCosts:k,sellCosts:F}=_(h);return{maxCost:c(k),minReceived:c(F)}})},D=()=>{p(null),l(null),d(null)},A=()=>{D(),x&&M().then(m=>{const{maxCost:B,minReceived:h}=m;p(B),l(h);const k={inUSDC:((h==null?void 0:h.inUSDC)??0n)-((B==null?void 0:B.inUSDC)??0n)};d(k)})};T.useEffect(()=>{A()},[n,e]);const I=()=>{b(null)},E=()=>{I();const m=C();b(m)};T.useEffect(()=>{E()},[a]);const S=()=>{P(),y&&(s?f!=null&&f.inUSDC&&i({inUSDC:f.inUSDC-y.inUSDC}):i({inUSDC:-y.inUSDC}))},P=()=>{i(null)};T.useEffect(()=>{S()},[y,f]);const v=(m,B)=>x?Me(m)||(m==null?void 0:m.inUSDC)===0n?"$0":je(()=>`${B??""}$${j(m.inUSDC<0?-m.inUSDC:m.inUSDC)}`,!m):Q();return t.jsx("div",{className:"BuilderCost",children:t.jsxs("div",{className:"BuilderCalculations__items",children:[t.jsxs("div",{className:"BuilderCalculations__item",children:[r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MaxCostTooltip",children:"Max. Cost"}),t.jsx("div",{className:g("BuilderCalculations__item-value",o&&"tip"),children:v(o,"-")})]}),s&&(()=>{const m=(y==null?void 0:y.inUSDC)<0?"negative":(y==null?void 0:y.inUSDC)>0?"positive":"neutral",h={positive:"+",negative:"-",neutral:""}[m];return t.jsxs(t.Fragment,{children:[s&&r&&t.jsx("span",{className:"mx-10 muted_light",style:{fontSize:18},children:"+"}),t.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MinReceivedTooltip",children:"Min. Received"}),t.jsx("div",{className:g("BuilderCalculations__item-value",u&&"tip"),children:v(u,"+")}),s&&r&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"mx-10 muted_light",style:{fontSize:17},children:"="}),t.jsx("div",{className:"BuilderCalculations__item-name",children:"Net. Cost"}),t.jsx("div",{className:g("BuilderCalculations__item-value",m),children:v(y,h)})]})]})})()]}),s&&t.jsxs("div",{className:"BuilderCalculations__item",children:[t.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"}),t.jsx("div",{className:g("BuilderCalculations__item-value",f&&f.inUSDC!==0n&&"tip"),children:v(f)})]})]})})};const Ji=({})=>t.jsx("div",{className:"BuilderGreeks"});const es=({className:e,options:n,defaultOption:a,defaultValue:i,onChange:s,...r})=>t.jsx(re,{className:g("SelectorInline",e),options:n,defaultOption:a,defaultValue:i,onChange:s,...r}),ts=e=>{const{account:n}=V();return e.map(i=>{const s=i.getAddress(!0),r=i.getAddress();let{data:o}=Bt({address:n,token:s});return o||(o={value:0n}),{...o,address:r,isETH:i.symbol==="ETH"}})},ns=e=>{const{isConnected:n}=V(),a=R(),i=ts(e),{data:s}=Ye(n&&["useTokenBalancesUSDC",i],async()=>{const r=[],o=[];return i.forEach((p,u)=>{p&&(p.value_defaultDecimals=ut(p.value,p.decimals),o.push(Pe(a,p.address,p.value_defaultDecimals).then(l=>{r[u]={...p,value_USDC:l}}).catch(l=>{console.log(`Swapping ${p.symbol} to USDC error.

`+l),r[u]=null})))}),await Promise.all(o),r});return s??[]},as=({paymentMethods:e,tokenBalance:n,setTokenBalance:a})=>{const{isConnected:i}=V(),s=ns(e);T.useEffect(()=>{!n&&s.length&&a(s[0])},[s]);const r=u=>i?u===null?Q("Error"):Me(u)?t.jsx(ne,{}):`$${j(u.value_USDC,0)}`:Q(),o=e.map((u,l)=>{const y=s[l],d=r(y);return{label:t.jsxs("div",{className:"PaymentMethodSelector__item",children:[t.jsx("div",{className:"PaymentMethodSelector__item-name",children:t.jsx(Y,{symbol:u.symbol,isHlight:!0,children:u.symbol})}),t.jsx("div",{className:"PaymentMethodSelector__item-value",children:d})]}),value:u.symbol,balance:y}}),p=[{label:t.jsxs("div",{className:"PaymentMethodSelector__item",children:[t.jsx("div",{children:"Asset"}),t.jsx("div",{children:"Balance, $"})]}),options:o}];return t.jsx(es,{className:"PaymentMethodSelector",options:p,defaultValue:"ETH",onChange:u=>a(u.balance)})},is=({youPay:e,setYouPay:n,paymentToken:a})=>{const i=R(),s=()=>e.inUSDC<0?new Promise(p=>{p(null)}):Si(i,a.address,e.inUSDC),r=()=>{s().then(p=>{setTimeout(()=>{e.inPaymentToken=p,n({...e})},1e3)})};return T.useEffect(()=>{e&&a&&we(e.inPaymentToken)&&r()},[e]),T.useEffect(()=>{e&&(e.inPaymentToken=void 0,n({...e}))},[a]),(()=>{if(!e||!a)return Q();if(e.inPaymentToken===null)return t.jsx(Y,{children:t.jsx("span",{className:"negative tip","data-tooltip-id":"BuilderForm_YouPayWarningTooltip",children:j(e.inUSDC,0)})});if(we(e.inPaymentToken))return t.jsx(ne,{});const p=a.symbol.includes("BTC"),u=p?3:2,l=p?ot:j;return t.jsxs(Y,{isHlight:!0,symbol:a.symbol,children:[l(e.inPaymentToken,u),t.jsx("span",{className:"muted_light mx-5",style:{fontSize:16},children:Sa}),`$${j(e.inUSDC,0)}`]})})()},ss=({youPay:e,setYouPay:n})=>{const{isConnected:a}=V(),i=R(),s=ua(i),[r,o]=T.useState(null),p=()=>{if(!a)return Q();if(r===null)return Q("Error");const u=r.value===0n?0:2;return je(()=>t.jsx(Y,{symbol:r.symbol,isHlight:!0,children:j(r.value,u,r.decimals)}),we(r))};return t.jsx("div",{className:"BuilderSwap",children:t.jsxs("div",{className:"BuilderCalculations__items",children:[t.jsxs("div",{className:"BuilderCalculations__item",children:[t.jsx("div",{className:"BuilderCalculations__item-name",children:"Select Payment method"}),t.jsx("div",{className:"BuilderCalculations__item-value",children:t.jsx(as,{paymentMethods:s,tokenBalance:r,setTokenBalance:o})})]}),t.jsxs("div",{className:"BuilderCalculations__item",children:[t.jsx("div",{className:"BuilderCalculations__item-name",children:"You pay"}),t.jsx("div",{className:"BuilderCalculations__item-value",children:t.jsx(is,{youPay:e,setYouPay:n,paymentToken:r})})]}),t.jsxs("div",{className:"BuilderCalculations__item",children:[t.jsx("div",{className:"BuilderCalculations__item-name",children:"Balance"}),t.jsx("div",{className:"BuilderCalculations__item-value",children:p()})]})]})})},rs=({strategy:e,amountStr:n,chosenStrikes:a,collateralDataArr:i})=>{const[s,r]=T.useState(null),o=se[e].structure,p=mt(o),u=Oa(o);return t.jsxs("div",{className:"BuilderCalculations",children:[t.jsx(Ji,{}),t.jsx(Qi,{amountStr:n,chosenStrikes:a,collateralDataArr:i,setYouPay:r,hasSell:p,hasBuy:u}),t.jsx(ss,{youPay:s,setYouPay:r})]})},os=({assetState:e,strategyState:n,amountStrState:a,dateListState:i,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p})=>{const[u]=n,[l]=o,[y]=a,[d]=p;return t.jsxs("div",{className:"BuilderForm App-box",children:[t.jsx(qi,{assetState:e,strategyState:n,amountStrState:a,dateListState:i,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p}),t.jsx(rs,{strategy:u,amountStr:y,chosenStrikes:l,collateralDataArr:d}),t.jsx(Zi,{strategy:u})]})};const ps=e=>t.jsx("div",{className:"BuilderPositionChart App-box"}),us=e=>{const{assetState:n}=e,a=Ke("builder-strategy","Long Call"),i=T.useState("1"),s=T.useState([]),r=T.useState(null),o=T.useState([]),p=T.useState([]),u=T.useState([]);return t.jsxs("div",{className:"BuilderDashboard",children:[t.jsx(os,{assetState:n,strategyState:a,amountStrState:i,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}),t.jsx(ps,{})]})},ls=()=>{const e=Ke("asset","ETH");return t.jsx("div",{className:"Builder",children:t.jsx(us,{assetState:e})})},ys=()=>{const e=Te(),n=qt();return T.useEffect(()=>{e.pathname.endsWith("terminal")&&n("/terminal/builder")},[e.pathname]),t.jsxs(Gt,{children:[t.jsxs(ue,{path:"/terminal",element:t.jsx(ka,{}),children:[t.jsx(ue,{path:"builder",element:t.jsx(ls,{})}),t.jsx(ue,{path:"margin-trading",element:t.jsx("div",{children:"Margin Trading"})})]}),t.jsx(ue,{path:"*",element:t.jsx(Vt,{to:ta,replace:!0})})]})},ds=()=>t.jsxs("div",{className:"Tooltips",children:[t.jsx(q,{id:"Tooltip_default"}),t.jsx(q,{place:"bottom-end",id:"Tooltip_bottom-end"})]});function cs(){const{chain:e}=Mt(),n=()=>t.jsxs(t.Fragment,{children:[t.jsx(Gn,{}),t.jsx("main",{className:"_container",children:t.jsx(ys,{})})]}),a=()=>t.jsx(Zn,{chainId:e.id});return e!=null&&e.unsupported?a():n()}function ms(){return t.jsxs(t.Fragment,{children:[t.jsx(Vn,{}),t.jsx(ds,{}),t.jsx(Dt,{config:On(),children:t.jsx(kt,{children:t.jsx(ea,{children:t.jsx(cs,{})})})})]})}_t.createRoot(document.getElementById("root")).render(t.jsx(Ge.StrictMode,{children:t.jsx(ms,{})}));
