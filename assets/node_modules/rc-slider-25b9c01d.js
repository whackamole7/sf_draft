import{r as o}from"./react-b979d401.js";import{c as xe}from"./classnames-2be43c3e.js";import{K as ee,u as bt,i as yt}from"./rc-util-3fdedbc0.js";function ge(e){"@babel/helpers - typeof";return ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ge(e)}function ht(e,r){if(ge(e)!=="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(ge(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function St(e){var r=ht(e,"string");return ge(r)==="symbol"?r:String(r)}function Y(e,r,t){return r=St(r),r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Le(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ct(e){if(Array.isArray(e))return Le(e)}function Mt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ze(e,r){if(e){if(typeof e=="string")return Le(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Le(e,r)}}function kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function te(e){return Ct(e)||Mt(e)||Ze(e)||kt()}function Et(e){if(Array.isArray(e))return e}function xt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,u,i,f,b=[],m=!0,E=!1;try{if(i=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;m=!1}else for(;!(m=(n=i.call(t)).done)&&(b.push(n.value),b.length!==r);m=!0);}catch(C){E=!0,u=C}finally{try{if(!m&&t.return!=null&&(f=t.return(),Object(f)!==f))return}finally{if(E)throw u}}return b}}function Ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(e,r){return Et(e)||xt(e,r)||Ze(e,r)||Ot()}function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},$e.apply(this,arguments)}function Rt(e,r){if(e==null)return{};var t={},n=Object.keys(e),u,i;for(i=0;i<n.length;i++)u=n[i],!(r.indexOf(u)>=0)&&(t[u]=e[u]);return t}function et(e,r){if(e==null)return{};var t=Rt(e,r),n,u;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(u=0;u<i.length;u++)n=i[u],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function Qe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable})),t.push.apply(t,n)}return t}function q(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Qe(Object(t),!0).forEach(function(n){Y(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var le=o.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0});function Te(e,r,t){return(e-r)/(t-r)}function He(e,r,t,n){var u=Te(r,t,n),i={};switch(e){case"rtl":i.right="".concat(u*100,"%"),i.transform="translateX(50%)";break;case"btt":i.bottom="".concat(u*100,"%"),i.transform="translateY(50%)";break;case"ttb":i.top="".concat(u*100,"%"),i.transform="translateY(-50%)";break;default:i.left="".concat(u*100,"%"),i.transform="translateX(-50%)";break}return i}function me(e,r){return Array.isArray(e)?e[r]:e}var wt=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Pt=o.forwardRef(function(e,r){var t,n,u=e.prefixCls,i=e.value,f=e.valueIndex,b=e.onStartMove,m=e.style,E=e.render,C=e.dragging,y=e.onOffsetChange,g=et(e,wt),c=o.useContext(le),s=c.min,v=c.max,l=c.direction,M=c.disabled,a=c.keyboard,h=c.range,N=c.tabIndex,_=c.ariaLabelForHandle,O=c.ariaLabelledByForHandle,j=c.ariaValueTextFormatterForHandle,p="".concat(u,"-handle"),x=function(L){M||b(L,f)},S=function(L){if(!M&&a){var R=null;switch(L.which||L.keyCode){case ee.LEFT:R=l==="ltr"||l==="btt"?-1:1;break;case ee.RIGHT:R=l==="ltr"||l==="btt"?1:-1;break;case ee.UP:R=l!=="ttb"?1:-1;break;case ee.DOWN:R=l!=="ttb"?-1:1;break;case ee.HOME:R="min";break;case ee.END:R="max";break;case ee.PAGE_UP:R=2;break;case ee.PAGE_DOWN:R=-2;break}R!==null&&(L.preventDefault(),y(R,f))}},I=He(l,i,s,v),H=o.createElement("div",$e({ref:r,className:xe(p,(t={},Y(t,"".concat(p,"-").concat(f+1),h),Y(t,"".concat(p,"-dragging"),C),t)),style:q(q({},I),m),onMouseDown:x,onTouchStart:x,onKeyDown:S,tabIndex:M?null:me(N,f),role:"slider","aria-valuemin":s,"aria-valuemax":v,"aria-valuenow":i,"aria-disabled":M,"aria-label":me(_,f),"aria-labelledby":me(O,f),"aria-valuetext":(n=me(j,f))===null||n===void 0?void 0:n(i),"aria-orientation":l==="ltr"||l==="rtl"?"horizontal":"vertical"},g));return E&&(H=E(H,{index:f,prefixCls:u,value:i,dragging:C})),H}),_t=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],$t=o.forwardRef(function(e,r){var t=e.prefixCls,n=e.style,u=e.onStartMove,i=e.onOffsetChange,f=e.values,b=e.handleRender,m=e.draggingIndex,E=et(e,_t),C=o.useRef({});return o.useImperativeHandle(r,function(){return{focus:function(g){var c;(c=C.current[g])===null||c===void 0||c.focus()}}}),o.createElement(o.Fragment,null,f.map(function(y,g){return o.createElement(Pt,$e({ref:function(s){s?C.current[g]=s:delete C.current[g]},dragging:m===g,prefixCls:t,style:me(n,g),key:g,value:y,valueIndex:g,onStartMove:u,onOffsetChange:i,render:b},E))}))});function Ve(e){var r="touches"in e?e.touches[0]:e;return{pageX:r.pageX,pageY:r.pageY}}function jt(e,r,t,n,u,i,f,b,m){var E=o.useState(null),C=z(E,2),y=C[0],g=C[1],c=o.useState(-1),s=z(c,2),v=s[0],l=s[1],M=o.useState(t),a=z(M,2),h=a[0],N=a[1],_=o.useState(t),O=z(_,2),j=O[0],p=O[1],x=o.useRef(null),S=o.useRef(null);o.useEffect(function(){v===-1&&N(t)},[t,v]),o.useEffect(function(){return function(){document.removeEventListener("mousemove",x.current),document.removeEventListener("mouseup",S.current),document.removeEventListener("touchmove",x.current),document.removeEventListener("touchend",S.current)}},[]);var I=function(P,F){h.some(function(T,J){return T!==P[J]})&&(F!==void 0&&g(F),N(P),f(P))},H=function(P,F){if(P===-1){var T=j[0],J=j[j.length-1],be=n-T,ye=u-J,A=F*(u-n);A=Math.max(A,be),A=Math.min(A,ye);var re=i(T+A);A=re-T;var ne=j.map(function(se){return se+A});I(ne)}else{var U=(u-n)*F,ae=te(h);ae[P]=j[P];var ce=m(ae,U,P,"dist");I(ce.values,ce.value)}},K=o.useRef(H);K.current=H;var L=function(P,F){P.stopPropagation();var T=t[F];l(F),g(T),p(t);var J=Ve(P),be=J.pageX,ye=J.pageY,A=function(U){U.preventDefault();var ae=Ve(U),ce=ae.pageX,se=ae.pageY,he=ce-be,Se=se-ye,Ce=e.current.getBoundingClientRect(),Me=Ce.width,Q=Ce.height,W;switch(r){case"btt":W=-Se/Q;break;case"ttb":W=Se/Q;break;case"rtl":W=-he/Me;break;default:W=he/Me}K.current(F,W)},re=function ne(U){U.preventDefault(),document.removeEventListener("mouseup",ne),document.removeEventListener("mousemove",A),document.removeEventListener("touchend",ne),document.removeEventListener("touchmove",A),x.current=null,S.current=null,l(-1),b()};document.addEventListener("mouseup",re),document.addEventListener("mousemove",A),document.addEventListener("touchend",re),document.addEventListener("touchmove",A),x.current=A,S.current=re},R=o.useMemo(function(){var X=te(t).sort(function(F,T){return F-T}),P=te(h).sort(function(F,T){return F-T});return X.every(function(F,T){return F===P[T]})?h:t},[t,h]);return[v,y,R,L]}function Ft(e){var r,t=e.prefixCls,n=e.style,u=e.start,i=e.end,f=e.index,b=e.onStartMove,m=o.useContext(le),E=m.direction,C=m.min,y=m.max,g=m.disabled,c=m.range,s="".concat(t,"-track"),v=Te(u,C,y),l=Te(i,C,y),M=function(N){!g&&b&&b(N,-1)},a={};switch(E){case"rtl":a.right="".concat(v*100,"%"),a.width="".concat(l*100-v*100,"%");break;case"btt":a.bottom="".concat(v*100,"%"),a.height="".concat(l*100-v*100,"%");break;case"ttb":a.top="".concat(v*100,"%"),a.height="".concat(l*100-v*100,"%");break;default:a.left="".concat(v*100,"%"),a.width="".concat(l*100-v*100,"%")}return o.createElement("div",{className:xe(s,(r={},Y(r,"".concat(s,"-").concat(f+1),c),Y(r,"".concat(t,"-track-draggable"),b),r)),style:q(q({},a),n),onMouseDown:M,onTouchStart:M})}function Dt(e){var r=e.prefixCls,t=e.style,n=e.values,u=e.startPoint,i=e.onStartMove,f=o.useContext(le),b=f.included,m=f.range,E=f.min,C=o.useMemo(function(){if(!m){if(n.length===0)return[];var y=u??E,g=n[0];return[{start:Math.min(y,g),end:Math.max(y,g)}]}for(var c=[],s=0;s<n.length-1;s+=1)c.push({start:n[s],end:n[s+1]});return c},[n,m,u,E]);return b?C.map(function(y,g){var c=y.start,s=y.end;return o.createElement(Ft,{index:g,prefixCls:r,style:me(t,g),start:c,end:s,key:g,onStartMove:i})}):null}function Lt(e){var r=e.prefixCls,t=e.style,n=e.children,u=e.value,i=e.onClick,f=o.useContext(le),b=f.min,m=f.max,E=f.direction,C=f.includedStart,y=f.includedEnd,g=f.included,c="".concat(r,"-text"),s=He(E,u,b,m);return o.createElement("span",{className:xe(c,Y({},"".concat(c,"-active"),g&&C<=u&&u<=y)),style:q(q({},s),t),onMouseDown:function(l){l.stopPropagation()},onClick:function(){i(u)}},n)}function Tt(e){var r=e.prefixCls,t=e.marks,n=e.onClick,u="".concat(r,"-mark");return t.length?o.createElement("div",{className:u},t.map(function(i){var f=i.value,b=i.style,m=i.label;return o.createElement(Lt,{key:f,prefixCls:u,style:b,value:f,onClick:n},m)})):null}function Ht(e){var r=e.prefixCls,t=e.value,n=e.style,u=e.activeStyle,i=o.useContext(le),f=i.min,b=i.max,m=i.direction,E=i.included,C=i.includedStart,y=i.includedEnd,g="".concat(r,"-dot"),c=E&&C<=t&&t<=y,s=q(q({},He(m,t,f,b)),typeof n=="function"?n(t):n);return c&&(s=q(q({},s),typeof u=="function"?u(t):u)),o.createElement("span",{className:xe(g,Y({},"".concat(g,"-active"),c)),style:s})}function At(e){var r=e.prefixCls,t=e.marks,n=e.dots,u=e.style,i=e.activeStyle,f=o.useContext(le),b=f.min,m=f.max,E=f.step,C=o.useMemo(function(){var y=new Set;if(t.forEach(function(c){y.add(c.value)}),n&&E!==null)for(var g=b;g<=m;)y.add(g),g+=E;return Array.from(y)},[b,m,E,n,t]);return o.createElement("div",{className:"".concat(r,"-step")},C.map(function(y){return o.createElement(Ht,{prefixCls:r,key:y,value:y,style:u,activeStyle:i})}))}function pt(e,r,t,n,u,i){var f=o.useCallback(function(c){var s=isFinite(c)?c:e;return s=Math.min(r,c),s=Math.max(e,s),s},[e,r]),b=o.useCallback(function(c){if(t!==null){var s=e+Math.round((f(c)-e)/t)*t,v=function(h){return(String(h).split(".")[1]||"").length},l=Math.max(v(t),v(r),v(e)),M=Number(s.toFixed(l));return e<=M&&M<=r?M:null}return null},[t,e,r,f]),m=o.useCallback(function(c){var s=f(c),v=n.map(function(a){return a.value});t!==null&&v.push(b(c)),v.push(e,r);var l=v[0],M=r-e;return v.forEach(function(a){var h=Math.abs(s-a);h<=M&&(l=a,M=h)}),l},[e,r,n,t,f,b]),E=function c(s,v,l){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof v=="number"){var a,h=s[l],N=h+v,_=[];n.forEach(function(S){_.push(S.value)}),_.push(e,r),_.push(b(h));var O=v>0?1:-1;M==="unit"?_.push(b(h+O*t)):_.push(b(N)),_=_.filter(function(S){return S!==null}).filter(function(S){return v<0?S<=h:S>=h}),M==="unit"&&(_=_.filter(function(S){return S!==h}));var j=M==="unit"?h:N;a=_[0];var p=Math.abs(a-j);if(_.forEach(function(S){var I=Math.abs(S-j);I<p&&(a=S,p=I)}),a===void 0)return v<0?e:r;if(M==="dist")return a;if(Math.abs(v)>1){var x=te(s);return x[l]=a,c(x,v-O,l,M)}return a}else{if(v==="min")return e;if(v==="max")return r}},C=function(s,v,l){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",a=s[l],h=E(s,v,l,M);return{value:h,changed:h!==a}},y=function(s){return i===null&&s===0||typeof i=="number"&&s<i},g=function(s,v,l){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",a=s.map(m),h=a[l],N=E(a,v,l,M);if(a[l]=N,u===!1){var _=i||0;l>0&&a[l-1]!==h&&(a[l]=Math.max(a[l],a[l-1]+_)),l<a.length-1&&a[l+1]!==h&&(a[l]=Math.min(a[l],a[l+1]-_))}else if(typeof i=="number"||i===null){for(var O=l+1;O<a.length;O+=1)for(var j=!0;y(a[O]-a[O-1])&&j;){var p=C(a,1,O);a[O]=p.value,j=p.changed}for(var x=l;x>0;x-=1)for(var S=!0;y(a[x]-a[x-1])&&S;){var I=C(a,-1,x-1);a[x-1]=I.value,S=I.changed}for(var H=a.length-1;H>0;H-=1)for(var K=!0;y(a[H]-a[H-1])&&K;){var L=C(a,-1,H-1);a[H-1]=L.value,K=L.changed}for(var R=0;R<a.length-1;R+=1)for(var X=!0;y(a[R+1]-a[R])&&X;){var P=C(a,1,R+1);a[R+1]=P.value,X=P.changed}}return{value:a[l],values:a}};return[m,g]}var Xt=o.forwardRef(function(e,r){var t,n=e.prefixCls,u=n===void 0?"rc-slider":n,i=e.className,f=e.style,b=e.disabled,m=b===void 0?!1:b,E=e.keyboard,C=E===void 0?!0:E,y=e.autoFocus,g=e.onFocus,c=e.onBlur,s=e.min,v=s===void 0?0:s,l=e.max,M=l===void 0?100:l,a=e.step,h=a===void 0?1:a,N=e.value,_=e.defaultValue,O=e.range,j=e.count,p=e.onChange,x=e.onBeforeChange,S=e.onAfterChange,I=e.allowCross,H=I===void 0?!0:I,K=e.pushable,L=K===void 0?!1:K,R=e.draggableTrack,X=e.reverse,P=e.vertical,F=e.included,T=F===void 0?!0:F,J=e.startPoint,be=e.trackStyle,ye=e.handleStyle,A=e.railStyle,re=e.dotStyle,ne=e.activeDotStyle,U=e.marks,ae=e.dots,ce=e.handleRender,se=e.tabIndex,he=se===void 0?0:se,Se=e.ariaLabelForHandle,Ce=e.ariaLabelledByForHandle,Me=e.ariaValueTextFormatterForHandle,Q=o.useRef(),W=o.useRef(),Oe=o.useMemo(function(){return P?X?"ttb":"btt":X?"rtl":"ltr"},[X,P]),B=o.useMemo(function(){return isFinite(v)?v:0},[v]),fe=o.useMemo(function(){return isFinite(M)?M:100},[M]),oe=o.useMemo(function(){return h!==null&&h<=0?1:h},[h]),tt=o.useMemo(function(){return typeof L=="boolean"?L?oe:!1:L>=0?L:!1},[L,oe]),Re=o.useMemo(function(){var $=Object.keys(U||{});return $.map(function(k){var d=U[k],D={value:Number(k)};return d&&ge(d)==="object"&&!o.isValidElement(d)&&("label"in d||"style"in d)?(D.style=d.style,D.label=d.label):D.label=d,D}).filter(function(k){var d=k.label;return d||typeof d=="number"}).sort(function(k,d){return k.value-d.value})},[U]),rt=pt(B,fe,oe,Re,H,tt),Ae=z(rt,2),we=Ae[0],pe=Ae[1],nt=bt(_,{value:N}),Ne=z(nt,2),V=Ne[0],at=Ne[1],G=o.useMemo(function(){var $=V==null?[]:Array.isArray(V)?V:[V],k=z($,1),d=k[0],D=d===void 0?B:d,w=V===null?[]:[D];if(O){if(w=te($),j||V===void 0){var de=j>=0?j+1:2;for(w=w.slice(0,de);w.length<de;){var ie;w.push((ie=w[w.length-1])!==null&&ie!==void 0?ie:B)}}w.sort(function(Z,ke){return Z-ke})}return w.forEach(function(Z,ke){w[ke]=we(Z)}),w},[V,O,B,j,we]),Pe=o.useRef(G);Pe.current=G;var ue=function(k){return O?k:k[0]},je=function(k){var d=te(k).sort(function(D,w){return D-w});p&&!yt(d,Pe.current,!0)&&p(ue(d)),at(d)},Ie=function(k){if(!m){var d=0,D=fe-B;G.forEach(function(de,ie){var Z=Math.abs(k-de);Z<=D&&(D=Z,d=ie)});var w=te(G);w[d]=k,O&&!G.length&&j===void 0&&w.push(k),x==null||x(ue(w)),je(w),S==null||S(ue(w))}},ot=function(k){k.preventDefault();var d=W.current.getBoundingClientRect(),D=d.width,w=d.height,de=d.left,ie=d.top,Z=d.bottom,ke=d.right,qe=k.clientX,Je=k.clientY,Ee;switch(Oe){case"btt":Ee=(Z-Je)/w;break;case"ttb":Ee=(Je-ie)/w;break;case"rtl":Ee=(ke-qe)/D;break;default:Ee=(qe-de)/D}var gt=B+Ee*(fe-B);Ie(we(gt))},ut=o.useState(null),Be=z(ut,2),Fe=Be[0],Xe=Be[1],it=function(k,d){if(!m){var D=pe(G,k,d);x==null||x(ue(G)),je(D.values),S==null||S(ue(D.values)),Xe(D.value)}};o.useEffect(function(){if(Fe!==null){var $=G.indexOf(Fe);$>=0&&Q.current.focus($)}Xe(null)},[Fe]);var lt=o.useMemo(function(){return R&&oe===null?!1:R},[R,oe]),ct=function(){S==null||S(ue(Pe.current))},st=jt(W,Oe,G,B,fe,we,je,ct,pe),_e=z(st,4),Ye=_e[0],ft=_e[1],De=_e[2],vt=_e[3],Ke=function(k,d){vt(k,d),x==null||x(ue(Pe.current))},Ue=Ye!==-1;o.useEffect(function(){if(!Ue){var $=G.lastIndexOf(ft);Q.current.focus($)}},[Ue]);var ve=o.useMemo(function(){return te(De).sort(function($,k){return $-k})},[De]),dt=o.useMemo(function(){return O?[ve[0],ve[ve.length-1]]:[B,ve[0]]},[ve,O,B]),We=z(dt,2),Ge=We[0],ze=We[1];o.useImperativeHandle(r,function(){return{focus:function(){Q.current.focus(0)},blur:function(){var k=document,d=k.activeElement;W.current.contains(d)&&(d==null||d.blur())}}}),o.useEffect(function(){y&&Q.current.focus(0)},[]);var mt=o.useMemo(function(){return{min:B,max:fe,direction:Oe,disabled:m,keyboard:C,step:oe,included:T,includedStart:Ge,includedEnd:ze,range:O,tabIndex:he,ariaLabelForHandle:Se,ariaLabelledByForHandle:Ce,ariaValueTextFormatterForHandle:Me}},[B,fe,Oe,m,C,oe,T,Ge,ze,O,he,Se,Ce,Me]);return o.createElement(le.Provider,{value:mt},o.createElement("div",{ref:W,className:xe(u,i,(t={},Y(t,"".concat(u,"-disabled"),m),Y(t,"".concat(u,"-vertical"),P),Y(t,"".concat(u,"-horizontal"),!P),Y(t,"".concat(u,"-with-marks"),Re.length),t)),style:f,onMouseDown:ot},o.createElement("div",{className:"".concat(u,"-rail"),style:A}),o.createElement(Dt,{prefixCls:u,style:be,values:ve,startPoint:J,onStartMove:lt?Ke:null}),o.createElement(At,{prefixCls:u,marks:Re,dots:ae,style:re,activeStyle:ne}),o.createElement($t,{ref:Q,prefixCls:u,style:ye,values:De,draggingIndex:Ye,onStartMove:Ke,onOffsetChange:it,onFocus:g,onBlur:c,handleRender:ce}),o.createElement(Tt,{prefixCls:u,marks:Re,onClick:Ie})))});export{Xt as S};
