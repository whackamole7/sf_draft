import{E as K}from"./eventemitter3-50fd48f0.js";import{m as L,g as G,a as P,U as S,R as X,c as J,n as Q,S as Z,b as Y,d as N,f as M,h as V,w as tt,C as j,e as et,t as nt,i as O,j as it}from"./viem-203feea7.js";import{s as q,c as st,a as rt,p as at}from"./zustand-bfa6df6a.js";var Dt={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}},Ft={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},Rt={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}},ot=Object.defineProperty,ct=(t,e,n)=>e in t?ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m=(t,e,n)=>(ct(t,typeof e!="symbol"?e+"":e,n),n),z=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ut=(t,e,n)=>(z(t,e,"read from private field"),n?n.call(t):e.get(t)),lt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ht=(t,e,n,i)=>(z(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),ft=class extends K{constructor({chains:t=[L,G],options:e}){super(),m(this,"chains"),m(this,"options"),m(this,"storage"),this.chains=t,this.options=e}getBlockExplorerUrls(t){const{default:e,...n}=t.blockExplorers??{};if(e)return[e.url,...Object.values(n).map(i=>i.url)]}isChainUnsupported(t){return!this.chains.some(e=>e.id===t)}setStorage(t){this.storage=t}},dt=class extends Error{constructor({chainId:t,connectorId:e}){super(`Chain "${t}" not configured for connector "${e}".`),m(this,"name","ChainNotConfiguredForConnectorError")}},g=class extends Error{constructor(){super(...arguments),m(this,"name","ConnectorNotFoundError"),m(this,"message","Connector not found")}};function B(t){return typeof t=="string"?Number.parseInt(t,t.trim().substring(0,2)==="0x"?16:10):typeof t=="bigint"?Number(t):t}function pt(t){var n;if(!t)return"Injected";const e=i=>{if(i.isApexWallet)return"Apex Wallet";if(i.isAvalanche)return"Core Wallet";if(i.isBackpack)return"Backpack";if(i.isBifrost)return"Bifrost Wallet";if(i.isBitKeep)return"BitKeep";if(i.isBitski)return"Bitski";if(i.isBlockWallet)return"BlockWallet";if(i.isBraveWallet)return"Brave Wallet";if(i.isCoin98)return"Coin98 Wallet";if(i.isCoinbaseWallet)return"Coinbase Wallet";if(i.isDawn)return"Dawn Wallet";if(i.isDefiant)return"Defiant";if(i.isDesig)return"Desig Wallet";if(i.isEnkrypt)return"Enkrypt";if(i.isExodus)return"Exodus";if(i.isFordefi)return"Fordefi";if(i.isFrame)return"Frame";if(i.isFrontier)return"Frontier Wallet";if(i.isGamestop)return"GameStop Wallet";if(i.isHaqqWallet)return"HAQQ Wallet";if(i.isHyperPay)return"HyperPay Wallet";if(i.isImToken)return"ImToken";if(i.isHaloWallet)return"Halo Wallet";if(i.isKuCoinWallet)return"KuCoin Wallet";if(i.isMathWallet)return"MathWallet";if(i.isNovaWallet)return"Nova Wallet";if(i.isOkxWallet||i.isOKExWallet)return"OKX Wallet";if(i.isOneInchIOSWallet||i.isOneInchAndroidWallet)return"1inch Wallet";if(i.isOpera)return"Opera";if(i.isPhantom)return"Phantom";if(i.isPortal)return"Ripio Portal";if(i.isRabby)return"Rabby Wallet";if(i.isRainbow)return"Rainbow";if(i.isStatus)return"Status";if(i.isSubWallet)return"SubWallet";if(i.isTalisman)return"Talisman";if(i.isTally)return"Taho";if(i.isTokenPocket)return"TokenPocket";if(i.isTokenary)return"Tokenary";if(i.isTrust||i.isTrustWallet)return"Trust Wallet";if(i.isTTWallet)return"TTWallet";if(i.isXDEFI)return"XDEFI Wallet";if(i.isZerion)return"Zerion";if(i.isMetaMask)return"MetaMask"};if((n=t.providers)!=null&&n.length){const i=new Set;let s=1;for(const c of t.providers){let a=e(c);a||(a=`Unknown Wallet #${s}`,s+=1),i.add(a)}const r=[...i];return r.length?r:r[0]??"Injected"}return e(t)??"Injected"}var E,mt=class extends ft{constructor({chains:t,options:e}={}){const n={shimDisconnect:!0,getProvider(){if(typeof window>"u")return;const s=window.ethereum;return s!=null&&s.providers?s.providers[0]:s},...e};super({chains:t,options:n}),m(this,"id","injected"),m(this,"name"),m(this,"ready"),lt(this,E,void 0),m(this,"shimDisconnectKey",`${this.id}.shimDisconnect`),m(this,"onAccountsChanged",s=>{s.length===0?this.emit("disconnect"):this.emit("change",{account:P(s[0])})}),m(this,"onChainChanged",s=>{const r=B(s),c=this.isChainUnsupported(r);this.emit("change",{chain:{id:r,unsupported:c}})}),m(this,"onDisconnect",async s=>{var r;s.code===1013&&await this.getProvider()&&await this.getAccount()||(this.emit("disconnect"),this.options.shimDisconnect&&((r=this.storage)==null||r.removeItem(this.shimDisconnectKey)))});const i=n.getProvider();if(typeof n.name=="string")this.name=n.name;else if(i){const s=pt(i);n.name?this.name=n.name(s):typeof s=="string"?this.name=s:this.name=s[0]}else this.name="Injected";this.ready=!!i}async connect({chainId:t}={}){var e;try{const n=await this.getProvider();if(!n)throw new g;n.on&&(n.on("accountsChanged",this.onAccountsChanged),n.on("chainChanged",this.onChainChanged),n.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const i=await n.request({method:"eth_requestAccounts"}),s=P(i[0]);let r=await this.getChainId(),c=this.isChainUnsupported(r);return t&&r!==t&&(r=(await this.switchChain(t)).id,c=this.isChainUnsupported(r)),this.options.shimDisconnect&&((e=this.storage)==null||e.setItem(this.shimDisconnectKey,!0)),{account:s,chain:{id:r,unsupported:c}}}catch(n){throw this.isUserRejectedRequestError(n)?new S(n):n.code===-32002?new X(n):n}}async disconnect(){var e;const t=await this.getProvider();t!=null&&t.removeListener&&(t.removeListener("accountsChanged",this.onAccountsChanged),t.removeListener("chainChanged",this.onChainChanged),t.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&((e=this.storage)==null||e.removeItem(this.shimDisconnectKey)))}async getAccount(){const t=await this.getProvider();if(!t)throw new g;const e=await t.request({method:"eth_accounts"});return P(e[0])}async getChainId(){const t=await this.getProvider();if(!t)throw new g;return t.request({method:"eth_chainId"}).then(B)}async getProvider(){const t=this.options.getProvider();return t&&ht(this,E,t),ut(this,E)}async getWalletClient({chainId:t}={}){const[e,n]=await Promise.all([this.getProvider(),this.getAccount()]),i=this.chains.find(s=>s.id===t);if(!e)throw new Error("provider is required.");return J({account:n,chain:i,transport:Y(e)})}async isAuthorized(){var t;try{if(this.options.shimDisconnect&&!((t=this.storage)!=null&&t.getItem(this.shimDisconnectKey)))return!1;if(!await this.getProvider())throw new g;return!!await this.getAccount()}catch{return!1}}async switchChain(t){var i,s,r;const e=await this.getProvider();if(!e)throw new g;const n=Q(t);try{return await Promise.all([e.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),new Promise(c=>this.on("change",({chain:a})=>{(a==null?void 0:a.id)===t&&c()}))]),this.chains.find(c=>c.id===t)??{id:t,name:`Chain ${n}`,network:`${n}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(c){const a=this.chains.find(o=>o.id===t);if(!a)throw new dt({chainId:t,connectorId:this.id});if(c.code===4902||((s=(i=c==null?void 0:c.data)==null?void 0:i.originalError)==null?void 0:s.code)===4902)try{if(await e.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[((r=a.rpcUrls.public)==null?void 0:r.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(a)}]}),await this.getChainId()!==t)throw new S(new Error("User rejected switch after adding network."));return a}catch(o){throw new S(o)}throw this.isUserRejectedRequestError(c)?new S(c):new Z(c)}}async watchAsset({address:t,decimals:e=18,image:n,symbol:i}){const s=await this.getProvider();if(!s)throw new g;return s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:t,decimals:e,image:n,symbol:i}}})}isUserRejectedRequestError(t){return t.code===4001}};E=new WeakMap;var I=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},W=(t,e,n)=>(I(t,e,"read from private field"),n?n.call(t):e.get(t)),A=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},k=(t,e,n,i)=>(I(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),bt=(t,e,n)=>(I(t,e,"access private method"),n);function jt(t,e,{batch:n={multicall:{wait:32}},pollingInterval:i=4e3,rank:s,retryCount:r,retryDelay:c,stallTimeout:a}={}){if(!t.length)throw new Error("must have at least one chain");let o=[];const d={},h={};for(const u of t){let l=!1;for(const f of e){const p=f(u);p&&(l=!0,o.some(({id:y})=>y===u.id)||(o=[...o,p.chain]),d[u.id]=[...d[u.id]||[],...p.rpcUrls.http],p.rpcUrls.webSocket&&(h[u.id]=[...h[u.id]||[],...p.rpcUrls.webSocket]))}if(!l)throw new Error([`Could not find valid provider configuration for chain "${u.name}".
`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join(`
`))}return{chains:o,publicClient:({chainId:u})=>{const l=o.find(y=>y.id===u)??t[0],f=d[l.id];if(!f||!f[0])throw new Error(`No providers configured for chain "${l.id}"`);const p=N({batch:n,chain:l,transport:M(f.map(y=>V(y,{timeout:a})),{rank:s,retryCount:r,retryDelay:c}),pollingInterval:i});return Object.assign(p,{chains:o})},webSocketPublicClient:({chainId:u})=>{const l=o.find(y=>y.id===u)??t[0],f=h[l.id];if(!f||!f[0])return;const p=N({batch:n,chain:l,transport:M(f.map(y=>tt(y,{timeout:a})),{rank:s,retryCount:r,retryDelay:c}),pollingInterval:i});return Object.assign(p,{chains:o})}}}var yt=class extends Error{constructor({chainId:t,connectorId:e}){super(`Chain "${t}" not configured${e?` for connector "${e}"`:""}.`),this.name="ChainNotConfigured"}},gt=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},wt=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}},Ct=class extends Error{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}};function T(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let n,i;if(Array.isArray(t)&&Array.isArray(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!T(t[i],e[i]))return!1;return!0}if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t);if(n=s.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[i]))return!1;for(i=n;i--!==0;){const r=s[i];if(r&&!T(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}var x=(t,{find:e,replace:n})=>t&&e(t)?n(t):typeof t!="object"?t:Array.isArray(t)?t.map(i=>x(i,{find:e,replace:n})):t instanceof Object?Object.entries(t).reduce((i,[s,r])=>({...i,[s]:x(r,{find:e,replace:n})}),{}):t;function vt(t){const e=JSON.parse(t);return x(e,{find:i=>typeof i=="string"&&i.startsWith("#bigint."),replace:i=>BigInt(i.replace("#bigint.",""))})}function $(t){return typeof t=="number"?t:t==="wei"?0:Math.abs(it[t])}function D(t,e){return t.slice(0,e).join(".")||"."}function F(t,e){const{length:n}=t;for(let i=0;i<n;++i)if(t[i]===e)return i+1;return 0}function St(t,e){const n=typeof t=="function",i=typeof e=="function",s=[],r=[];return function(a,o){if(typeof o=="object")if(s.length){const d=F(s,this);d===0?s[s.length]=this:(s.splice(d),r.splice(d)),r[r.length]=a;const h=F(s,o);if(h!==0)return i?e.call(this,a,o,D(r,h)):`[ref=${D(r,h)}]`}else s[0]=o,r[0]=a;return n?t.call(this,a,o):o}}function kt(t,e,n,i){return JSON.stringify(t,St((s,r)=>{const c=typeof r=="bigint"?`#bigint.${r.toString()}`:r;return(e==null?void 0:e(s,c))||c},i),n??void 0)}var Et={getItem:t=>"",setItem:(t,e)=>null,removeItem:t=>null};function Pt({deserialize:t=vt,key:e="wagmi",serialize:n=kt,storage:i}){return{...i,getItem:(s,r=null)=>{const c=i.getItem(`${e}.${s}`);try{return c?t(c):r}catch(a){return console.warn(a),r}},setItem:(s,r)=>{if(r===null)i.removeItem(`${e}.${s}`);else try{i.setItem(`${e}.${s}`,n(r))}catch(c){console.error(c)}},removeItem:s=>i.removeItem(`${e}.${s}`)}}var R="store",w,v,U,H,Wt=class{constructor({autoConnect:t=!1,connectors:e=[new mt],publicClient:n,storage:i=Pt({storage:typeof window<"u"?window.localStorage:Et}),logger:s={warn:console.warn},webSocketPublicClient:r}){var d,h;A(this,U),this.publicClients=new Map,this.webSocketPublicClients=new Map,A(this,w,void 0),A(this,v,void 0),this.args={autoConnect:t,connectors:e,logger:s,publicClient:n,storage:i,webSocketPublicClient:r};let c="disconnected",a;if(t)try{const u=i.getItem(R),l=(d=u==null?void 0:u.state)==null?void 0:d.data;c=l!=null&&l.account?"reconnecting":"connecting",a=(h=l==null?void 0:l.chain)==null?void 0:h.id}catch{}const o=typeof e=="function"?e():e;o.forEach(u=>u.setStorage(i)),this.store=st(rt(at(()=>({connectors:o,publicClient:this.getPublicClient({chainId:a}),status:c,webSocketPublicClient:this.getWebSocketPublicClient({chainId:a})}),{name:R,storage:i,partialize:u=>{var l,f;return{...t&&{data:{account:(l=u==null?void 0:u.data)==null?void 0:l.account,chain:(f=u==null?void 0:u.data)==null?void 0:f.chain}},chains:u==null?void 0:u.chains}},version:2}))),this.storage=i,k(this,v,i==null?void 0:i.getItem("wallet")),bt(this,U,H).call(this),t&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var t,e;return(e=(t=this.data)==null?void 0:t.chain)==null?void 0:e.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(t){const e=typeof t=="function"?t(this.store.getState()):t;this.store.setState(e,!0)}clearState(){this.setState(t=>({...t,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var t,e;this.connector&&await((e=(t=this.connector).disconnect)==null?void 0:e.call(t)),k(this,w,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(W(this,w))return;k(this,w,!0),this.setState(n=>{var i;return{...n,status:(i=n.data)!=null&&i.account?"reconnecting":"connecting"}});const t=W(this,v)?[...this.connectors].sort(n=>n.id===W(this,v)?-1:1):this.connectors;let e=!1;for(const n of t){if(!n.ready||!n.isAuthorized||!await n.isAuthorized())continue;const s=await n.connect();this.setState(r=>({...r,connector:n,chains:n==null?void 0:n.chains,data:s,status:"connected"})),e=!0;break}return e||this.setState(n=>({...n,data:void 0,status:"disconnected"})),k(this,w,!1),this.data}setConnectors(t){this.args={...this.args,connectors:t};const e=typeof t=="function"?t():t;e.forEach(n=>n.setStorage(this.args.storage)),this.setState(n=>({...n,connectors:e}))}getPublicClient({chainId:t}={}){let e=this.publicClients.get(-1);if(e&&(e==null?void 0:e.chain.id)===t||(e=this.publicClients.get(t??-1),e))return e;const{publicClient:n}=this.args;return e=typeof n=="function"?n({chainId:t}):n,this.publicClients.set(t??-1,e),e}setPublicClient(t){var n,i;const e=(i=(n=this.data)==null?void 0:n.chain)==null?void 0:i.id;this.args={...this.args,publicClient:t},this.publicClients.clear(),this.setState(s=>({...s,publicClient:this.getPublicClient({chainId:e})}))}getWebSocketPublicClient({chainId:t}={}){let e=this.webSocketPublicClients.get(-1);if(e&&(e==null?void 0:e.chain.id)===t||(e=this.webSocketPublicClients.get(t??-1),e))return e;const{webSocketPublicClient:n}=this.args;return e=typeof n=="function"?n({chainId:t}):n,e&&this.webSocketPublicClients.set(t??-1,e),e}setWebSocketPublicClient(t){var n,i;const e=(i=(n=this.data)==null?void 0:n.chain)==null?void 0:i.id;this.args={...this.args,webSocketPublicClient:t},this.webSocketPublicClients.clear(),this.setState(s=>({...s,webSocketPublicClient:this.getWebSocketPublicClient({chainId:e})}))}setLastUsedConnector(t=null){var e;(e=this.storage)==null||e.setItem("wallet",t)}};w=new WeakMap;v=new WeakMap;U=new WeakSet;H=function(){const t=a=>{this.setState(o=>({...o,data:{...o.data,...a}}))},e=()=>{this.clearState()},n=a=>{this.setState(o=>({...o,error:a}))};this.store.subscribe(({connector:a})=>a,(a,o)=>{var d,h,u,l,f,p;(d=o==null?void 0:o.off)==null||d.call(o,"change",t),(h=o==null?void 0:o.off)==null||h.call(o,"disconnect",e),(u=o==null?void 0:o.off)==null||u.call(o,"error",n),a&&((l=a.on)==null||l.call(a,"change",t),(f=a.on)==null||f.call(a,"disconnect",e),(p=a.on)==null||p.call(a,"error",n))});const{publicClient:i,webSocketPublicClient:s}=this.args;(typeof i=="function"||typeof s=="function")&&this.store.subscribe(({data:a})=>{var o;return(o=a==null?void 0:a.chain)==null?void 0:o.id},a=>{this.setState(o=>({...o,publicClient:this.getPublicClient({chainId:a}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:a})}))})};var _;function qt(t){const e=new Wt(t);return _=e,e}function b(){if(!_)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return _}async function zt({chainId:t,connector:e}){const n=b(),i=n.connector;if(i&&e.id===i.id)throw new gt;try{n.setState(r=>({...r,status:"connecting"}));const s=await e.connect({chainId:t});return n.setLastUsedConnector(e.id),n.setState(r=>({...r,connector:e,chains:e==null?void 0:e.chains,data:s,status:"connected"})),n.storage.setItem("connected",!0),{...s,connector:e}}catch(s){throw n.setState(r=>({...r,status:r.connector?"connected":"disconnected"})),s}}async function Ht(){const t=b();t.connector&&await t.connector.disconnect(),t.clearState(),t.storage.removeItem("connected")}var At=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],xt=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function C({chainId:t}={}){const e=b();return t&&e.getPublicClient({chainId:t})||e.publicClient}function Ut({chainId:t}={}){const e=b();return t&&e.getWebSocketPublicClient({chainId:t})||e.webSocketPublicClient}function Kt(t,e){const n=b(),i=async()=>e(C(t));return n.subscribe(({publicClient:r})=>r,i)}function Lt(t,e){const n=b(),i=async()=>e(Ut(t));return n.subscribe(({webSocketPublicClient:r})=>r,i)}async function _t({chainId:t,contracts:e,blockNumber:n,blockTag:i,...s}){const r=C({chainId:t});if(!r.chains)throw new wt;if(t&&r.chain.id!==t)throw new yt({chainId:t});return r.multicall({allowFailure:s.allowFailure??!0,blockNumber:n,blockTag:i,contracts:e})}async function It({address:t,account:e,chainId:n,abi:i,args:s,functionName:r,blockNumber:c,blockTag:a}){return C({chainId:n}).readContract({abi:i,address:t,account:e,functionName:r,args:s,blockNumber:c,blockTag:a})}async function Nt({contracts:t,blockNumber:e,blockTag:n,...i}){const{allowFailure:s=!0}=i;try{const r=C(),c=t.reduce((h,u,l)=>{const f=u.chainId??r.chain.id;return{...h,[f]:[...h[f]||[],{contract:u,index:l}]}},{}),a=()=>Object.entries(c).map(([h,u])=>_t({allowFailure:s,chainId:parseInt(h),contracts:u.map(({contract:l})=>l),blockNumber:e,blockTag:n})),o=(await Promise.all(a())).flat(),d=Object.values(c).flatMap(h=>h.map(({index:u})=>u));return o.reduce((h,u,l)=>(h&&(h[d[l]]=u),h),[])}catch(r){if(r instanceof j)throw r;const c=()=>t.map(a=>It({...a,blockNumber:e,blockTag:n}));return s?(await Promise.allSettled(c())).map(a=>a.status==="fulfilled"?{result:a.value,status:"success"}:{error:a.reason,result:void 0,status:"failure"}):await Promise.all(c())}}async function Gt({address:t,chainId:e,formatUnits:n,token:i}){const s=b(),r=C({chainId:e});if(i){const d=async({abi:h})=>{const u={abi:h,address:i,chainId:e},[l,f,p]=await Nt({allowFailure:!1,contracts:[{...u,functionName:"balanceOf",args:[t]},{...u,functionName:"decimals"},{...u,functionName:"symbol"}]});return{decimals:f,formatted:O(l??"0",$(n??f)),symbol:p,value:l}};try{return await d({abi:At})}catch(h){if(h instanceof j){const{symbol:u,...l}=await d({abi:xt});return{symbol:et(nt(u,{dir:"right"})),...l}}throw h}}const c=[...s.publicClient.chains||[],...s.chains??[]],a=await r.getBalance({address:t}),o=c.find(d=>d.id===r.chain.id);return{decimals:(o==null?void 0:o.nativeCurrency.decimals)??18,formatted:O(a??"0",$(n??18)),symbol:(o==null?void 0:o.nativeCurrency.symbol)??"ETH",value:a}}function Mt(){const{data:t,connector:e,status:n}=b();switch(n){case"connected":return{address:t==null?void 0:t.account,connector:e,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:n};case"reconnecting":return{address:t==null?void 0:t.account,connector:e,isConnected:!!(t!=null&&t.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:n};case"connecting":return{address:t==null?void 0:t.account,connector:e,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:n};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:n}}}function Ot(){var s,r,c,a;const t=b(),e=(r=(s=t.data)==null?void 0:s.chain)==null?void 0:r.id,n=t.chains??[],i=[...((c=t.publicClient)==null?void 0:c.chains)||[],...n].find(o=>o.id===e)??{id:e,name:`Chain ${e}`,network:`${e}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:e?{...i,...(a=t.data)==null?void 0:a.chain,id:e}:void 0,chains:n}}async function Xt({chainId:t}){const{connector:e}=b();if(!e)throw new g;if(!e.switchChain)throw new Ct({connector:e});return e.switchChain(t)}function Jt(t,{selector:e=n=>n}={}){const n=b(),i=()=>t(Mt());return n.subscribe(({data:r,connector:c,status:a})=>e({address:r==null?void 0:r.account,connector:c,status:a}),i,{equalityFn:q})}function Qt(t,{selector:e=n=>n}={}){const n=b(),i=()=>t(Ot());return n.subscribe(({data:r,chains:c})=>{var a;return e({chainId:(a=r==null?void 0:r.chain)==null?void 0:a.id,chains:c})},i,{equalityFn:q})}async function Zt({chainId:t}={}){return await C({chainId:t}).getBlockNumber()}function Yt(){return function(t){return t.rpcUrls.public.http[0]?{chain:t,rpcUrls:t.rpcUrls.public}:null}}export{mt as I,Pt as a,Ot as b,qt as c,T as d,Jt as e,Mt as f,Ft as g,Kt as h,C as i,zt as j,Ht as k,Lt as l,Rt as m,Et as n,Ut as o,Zt as p,Gt as q,jt as r,Xt as s,Dt as t,Yt as u,Qt as w};
