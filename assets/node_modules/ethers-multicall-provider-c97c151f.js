var Ao=Object.defineProperty;var Eo=(e,i,n)=>i in e?Ao(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n;var z=(e,i,n)=>(Eo(e,typeof i!="symbol"?i+"":i,n),n),fn=(e,i,n)=>{if(!i.has(e))throw TypeError("Cannot "+n)};var y=(e,i,n)=>(fn(e,i,"read from private field"),n?n.call(e):i.get(e)),V=(e,i,n)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,n)},M=(e,i,n,r)=>(fn(e,i,"write to private field"),r?r.call(e,n):i.set(e,n),n);var St=(e,i,n,r)=>({set _(s){M(e,i,s,n)},get _(){return y(e,i,r)}}),ee=(e,i,n)=>(fn(e,i,"access private method"),n);import{g as No,c as pe,r as To}from"./@adraffy-3aaa55d6.js";import{d as Ro}from"./lodash-49c34793.js";import{r as So,a as jo,b as Co,c as Bo,d as Io,e as Fo,f as Uo,g as Mo}from"./@noble-a7a09cd7.js";var dn={},jt={},hn={},ms;function $a(){return ms||(ms=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.multicall2DeploymentBlockNumbers=e.multicall3DeploymentBlockNumbers=e.multicall3ChainAddress=e.multicallAddresses=e.multicall3ZkSyncAddress=e.multicall3Address=e.multicall2Address=void 0,e.multicall2Address="0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696",e.multicall3Address="0xcA11bde05977b3631167028862bE2a173976CA11",e.multicall3ZkSyncAddress="0xF9cda624FBC7e059355ce98a31693d299FACd963",e.multicallAddresses=new Set([e.multicall2Address.toLowerCase(),e.multicall3Address.toLowerCase(),e.multicall3ZkSyncAddress.toLowerCase()]),e.multicall3ChainAddress={280:e.multicall3ZkSyncAddress,324:e.multicall3ZkSyncAddress},e.multicall3DeploymentBlockNumbers={1:14353601,3:12063863,4:10299530,5:6507670,42:30285908,11155111:751532,10:4286263,420:49461,42161:7654707,42170:1746963,421613:88114,421611:88114,137:25770160,80001:25444704,100:21022491,43114:11907934,43113:7096959,250:33001987,4002:8328688,56:15921452,97:17422483,1284:609002,1285:1597904,1287:1850686,16666e5:24185753,25:1963112,122:16146628,14:3002461,280:5885690,324:3908235,1101:57746,1442:525686,8453:5022,84531:1376988},e.multicall2DeploymentBlockNumbers={1:12336033,3:9894101,4:8283206,5:4489716,42:24025820}}(hn)),hn}var Ze={},bn={},Bn=function(e,i){return Bn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Bn(e,i)};function Lo(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Bn(e,i);function n(){this.constructor=e}e.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}var In=function(){return In=Object.assign||function(i){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},In.apply(this,arguments)};function Do(e,i){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)i.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function $o(e,i,n,r){var s=arguments.length,a=s<3?i:r===null?r=Object.getOwnPropertyDescriptor(i,n):r,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,i,n,r);else for(var h=e.length-1;h>=0;h--)(f=e[h])&&(a=(s<3?f(a):s>3?f(i,n,a):f(i,n))||a);return s>3&&a&&Object.defineProperty(i,n,a),a}function Go(e,i){return function(n,r){i(n,r,e)}}function qo(e,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,i)}function Ho(e,i,n,r){function s(a){return a instanceof n?a:new n(function(f){f(a)})}return new(n||(n=Promise))(function(a,f){function h(o){try{t(r.next(o))}catch(u){f(u)}}function l(o){try{t(r.throw(o))}catch(u){f(u)}}function t(o){o.done?a(o.value):s(o.value).then(h,l)}t((r=r.apply(e,i||[])).next())})}function Ko(e,i){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,f;return f={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(t){return function(o){return l([t,o])}}function l(t){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(a=t[0]&2?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,a&&(t=[t[0]&2,a.value]),t[0]){case 0:case 1:a=t;break;case 4:return n.label++,{value:t[1],done:!1};case 5:n.label++,s=t[1],t=[0];continue;case 7:t=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!a||t[1]>a[0]&&t[1]<a[3])){n.label=t[1];break}if(t[0]===6&&n.label<a[1]){n.label=a[1],a=t;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(t);break}a[2]&&n.ops.pop(),n.trys.pop();continue}t=i.call(e,n)}catch(o){t=[6,o],s=0}finally{r=a=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}var ts=Object.create?function(e,i,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(i,n);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[n]}}),Object.defineProperty(e,r,s)}:function(e,i,n,r){r===void 0&&(r=n),e[r]=i[n]};function Jo(e,i){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(i,n)&&ts(i,e,n)}function Fn(e){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&e[i],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ga(e,i){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,a=[],f;try{for(;(i===void 0||i-- >0)&&!(s=r.next()).done;)a.push(s.value)}catch(h){f={error:h}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(f)throw f.error}}return a}function Wo(){for(var e=[],i=0;i<arguments.length;i++)e=e.concat(Ga(arguments[i]));return e}function zo(){for(var e=0,i=0,n=arguments.length;i<n;i++)e+=arguments[i].length;for(var r=Array(e),s=0,i=0;i<n;i++)for(var a=arguments[i],f=0,h=a.length;f<h;f++,s++)r[s]=a[f];return r}function Vo(e,i,n){if(n||arguments.length===2)for(var r=0,s=i.length,a;r<s;r++)(a||!(r in i))&&(a||(a=Array.prototype.slice.call(i,0,r)),a[r]=i[r]);return e.concat(a||Array.prototype.slice.call(i))}function zr(e){return this instanceof zr?(this.v=e,this):new zr(e)}function Zo(e,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,i||[]),s,a=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(c){r[c]&&(s[c]=function(b){return new Promise(function(d,x){a.push([c,b,d,x])>1||h(c,b)})})}function h(c,b){try{l(r[c](b))}catch(d){u(a[0][3],d)}}function l(c){c.value instanceof zr?Promise.resolve(c.value.v).then(t,o):u(a[0][2],c)}function t(c){h("next",c)}function o(c){h("throw",c)}function u(c,b){c(b),a.shift(),a.length&&h(a[0][0],a[0][1])}}function Xo(e){var i,n;return i={},r("next"),r("throw",function(s){throw s}),r("return"),i[Symbol.iterator]=function(){return this},i;function r(s,a){i[s]=e[s]?function(f){return(n=!n)?{value:zr(e[s](f)),done:s==="return"}:a?a(f):f}:a}}function Yo(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=e[Symbol.asyncIterator],n;return i?i.call(e):(e=typeof Fn=="function"?Fn(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(f){return new Promise(function(h,l){f=e[a](f),s(h,l,f.done,f.value)})}}function s(a,f,h,l){Promise.resolve(l).then(function(t){a({value:t,done:h})},f)}}function Qo(e,i){return Object.defineProperty?Object.defineProperty(e,"raw",{value:i}):e.raw=i,e}var ec=Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i};function tc(e){if(e&&e.__esModule)return e;var i={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ts(i,e,n);return ec(i,e),i}function rc(e){return e&&e.__esModule?e:{default:e}}function nc(e,i,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?e!==i||!r:!i.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:i.get(e)}function sc(e,i,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?e!==i||!s:!i.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:i.set(e,n),n}function ic(e,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?i===e:e.has(i)}const ac=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return In},__asyncDelegator:Xo,__asyncGenerator:Zo,__asyncValues:Yo,__await:zr,__awaiter:Ho,__classPrivateFieldGet:nc,__classPrivateFieldIn:ic,__classPrivateFieldSet:sc,__createBinding:ts,__decorate:$o,__exportStar:Jo,__extends:Lo,__generator:Ko,__importDefault:rc,__importStar:tc,__makeTemplateObject:Qo,__metadata:qo,__param:Go,__read:Ga,__rest:Do,__spread:Wo,__spreadArray:Vo,__spreadArrays:zo,__values:Fn},Symbol.toStringTag,{value:"Module"})),oc=No(ac);var gn={},Ft={},ps;function rs(){return ps||(ps=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.version=void 0,Ft.version="6.10.0"),Ft}var yn={},Ut={},mn={},at={},Pe={},ke={},ot={},xs;function Nt(){if(xs)return ot;xs=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.defineProperties=ot.resolveProperties=void 0;function e(r,s,a){const f=s.split("|").map(l=>l.trim());for(let l=0;l<f.length;l++)switch(s){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===s)return}const h=new Error(`invalid value for type ${s}`);throw h.code="INVALID_ARGUMENT",h.argument=`value.${a}`,h.value=r,h}async function i(r){const s=Object.keys(r);return(await Promise.all(s.map(f=>Promise.resolve(r[f])))).reduce((f,h,l)=>(f[s[l]]=h,f),{})}ot.resolveProperties=i;function n(r,s,a){for(let f in s){let h=s[f];const l=a?a[f]:null;l&&e(h,l,f),Object.defineProperty(r,f,{enumerable:!0,value:h,writable:!1})}}return ot.defineProperties=n,ot}var ws;function ze(){if(ws)return ke;ws=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.assertPrivate=ke.assertNormalize=ke.assertArgumentCount=ke.assertArgument=ke.assert=ke.makeError=ke.isCallException=ke.isError=void 0;const e=rs(),i=Nt();function n(c){if(c==null)return"null";if(Array.isArray(c))return"[ "+c.map(n).join(", ")+" ]";if(c instanceof Uint8Array){const b="0123456789abcdef";let d="0x";for(let x=0;x<c.length;x++)d+=b[c[x]>>4],d+=b[c[x]&15];return d}if(typeof c=="object"&&typeof c.toJSON=="function")return n(c.toJSON());switch(typeof c){case"boolean":case"symbol":return c.toString();case"bigint":return BigInt(c).toString();case"number":return c.toString();case"string":return JSON.stringify(c);case"object":{const b=Object.keys(c);return b.sort(),"{ "+b.map(d=>`${n(d)}: ${n(c[d])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function r(c,b){return c&&c.code===b}ke.isError=r;function s(c){return r(c,"CALL_EXCEPTION")}ke.isCallException=s;function a(c,b,d){let x=c;{const B=[];if(d){if("message"in d||"code"in d||"name"in d)throw new Error(`value will overwrite populated values: ${n(d)}`);for(const R in d){if(R==="shortMessage")continue;const w=d[R];B.push(R+"="+n(w))}}B.push(`code=${b}`),B.push(`version=${e.version}`),B.length&&(c+=" ("+B.join(", ")+")")}let I;switch(b){case"INVALID_ARGUMENT":I=new TypeError(c);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":I=new RangeError(c);break;default:I=new Error(c)}return(0,i.defineProperties)(I,{code:b}),d&&Object.assign(I,d),I.shortMessage==null&&(0,i.defineProperties)(I,{shortMessage:x}),I}ke.makeError=a;function f(c,b,d,x){if(!c)throw a(b,d,x)}ke.assert=f;function h(c,b,d,x){f(c,b,"INVALID_ARGUMENT",{argument:d,value:x})}ke.assertArgument=h;function l(c,b,d){d==null&&(d=""),d&&(d=": "+d),f(c>=b,"missing arguemnt"+d,"MISSING_ARGUMENT",{count:c,expectedCount:b}),f(c<=b,"too many arguemnts"+d,"UNEXPECTED_ARGUMENT",{count:c,expectedCount:b})}ke.assertArgumentCount=l;const t=["NFD","NFC","NFKD","NFKC"].reduce((c,b)=>{try{if("test".normalize(b)!=="test")throw new Error("bad");if(b==="NFD"){const d=String.fromCharCode(233).normalize("NFD"),x=String.fromCharCode(101,769);if(d!==x)throw new Error("broken")}c.push(b)}catch{}return c},[]);function o(c){f(t.indexOf(c)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:c}})}ke.assertNormalize=o;function u(c,b,d){if(d==null&&(d=""),c!==b){let x=d,I="new";d&&(x+=".",I+=" "+d),f(!1,`private constructor; use ${x}from* methods`,"UNSUPPORTED_OPERATION",{operation:I})}}return ke.assertPrivate=u,ke}var Ps;function Je(){if(Ps)return Pe;Ps=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.zeroPadBytes=Pe.zeroPadValue=Pe.stripZerosLeft=Pe.dataSlice=Pe.dataLength=Pe.concat=Pe.hexlify=Pe.isBytesLike=Pe.isHexString=Pe.getBytesCopy=Pe.getBytes=void 0;const e=ze();function i(x,I,B){if(x instanceof Uint8Array)return B?new Uint8Array(x):x;if(typeof x=="string"&&x.match(/^0x([0-9a-f][0-9a-f])*$/i)){const R=new Uint8Array((x.length-2)/2);let w=2;for(let g=0;g<R.length;g++)R[g]=parseInt(x.substring(w,w+2),16),w+=2;return R}(0,e.assertArgument)(!1,"invalid BytesLike value",I||"value",x)}function n(x,I){return i(x,I,!1)}Pe.getBytes=n;function r(x,I){return i(x,I,!0)}Pe.getBytesCopy=r;function s(x,I){return!(typeof x!="string"||!x.match(/^0x[0-9A-Fa-f]*$/)||typeof I=="number"&&x.length!==2+2*I||I===!0&&x.length%2!==0)}Pe.isHexString=s;function a(x){return s(x,!0)||x instanceof Uint8Array}Pe.isBytesLike=a;const f="0123456789abcdef";function h(x){const I=n(x);let B="0x";for(let R=0;R<I.length;R++){const w=I[R];B+=f[(w&240)>>4]+f[w&15]}return B}Pe.hexlify=h;function l(x){return"0x"+x.map(I=>h(I).substring(2)).join("")}Pe.concat=l;function t(x){return s(x,!0)?(x.length-2)/2:n(x).length}Pe.dataLength=t;function o(x,I,B){const R=n(x);return B!=null&&B>R.length&&(0,e.assert)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:R,length:R.length,offset:B}),h(R.slice(I??0,B??R.length))}Pe.dataSlice=o;function u(x){let I=h(x).substring(2);for(;I.startsWith("00");)I=I.substring(2);return"0x"+I}Pe.stripZerosLeft=u;function c(x,I,B){const R=n(x);(0,e.assert)(I>=R.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(R),length:I,offset:I+1});const w=new Uint8Array(I);return w.fill(0),B?w.set(R,I-R.length):w.set(R,0),h(w)}function b(x,I){return c(x,I,!0)}Pe.zeroPadValue=b;function d(x,I){return c(x,I,!1)}return Pe.zeroPadBytes=d,Pe}var ve={},vs;function Vr(){if(vs)return ve;vs=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.toQuantity=ve.toBeArray=ve.toBeHex=ve.toNumber=ve.getNumber=ve.toBigInt=ve.getUint=ve.getBigInt=ve.mask=ve.toTwos=ve.fromTwos=void 0;const e=Je(),i=ze(),n=BigInt(0),r=BigInt(1),s=9007199254740991;function a(B,R){const w=t(B,"value"),g=BigInt(c(R,"width"));if((0,i.assert)(w>>g===n,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:B}),w>>g-r){const S=(r<<g)-r;return-((~w&S)+r)}return w}ve.fromTwos=a;function f(B,R){let w=l(B,"value");const g=BigInt(c(R,"width")),S=r<<g-r;if(w<n){w=-w,(0,i.assert)(w<=S,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:B});const D=(r<<g)-r;return(~w&D)+r}else(0,i.assert)(w<S,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:B});return w}ve.toTwos=f;function h(B,R){const w=t(B,"value"),g=BigInt(c(R,"bits"));return w&(r<<g)-r}ve.mask=h;function l(B,R){switch(typeof B){case"bigint":return B;case"number":return(0,i.assertArgument)(Number.isInteger(B),"underflow",R||"value",B),(0,i.assertArgument)(B>=-s&&B<=s,"overflow",R||"value",B),BigInt(B);case"string":try{if(B==="")throw new Error("empty string");return B[0]==="-"&&B[1]!=="-"?-BigInt(B.substring(1)):BigInt(B)}catch(w){(0,i.assertArgument)(!1,`invalid BigNumberish string: ${w.message}`,R||"value",B)}}(0,i.assertArgument)(!1,"invalid BigNumberish value",R||"value",B)}ve.getBigInt=l;function t(B,R){const w=l(B,R);return(0,i.assert)(w>=n,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:B}),w}ve.getUint=t;const o="0123456789abcdef";function u(B){if(B instanceof Uint8Array){let R="0x0";for(const w of B)R+=o[w>>4],R+=o[w&15];return BigInt(R)}return l(B)}ve.toBigInt=u;function c(B,R){switch(typeof B){case"bigint":return(0,i.assertArgument)(B>=-s&&B<=s,"overflow",R||"value",B),Number(B);case"number":return(0,i.assertArgument)(Number.isInteger(B),"underflow",R||"value",B),(0,i.assertArgument)(B>=-s&&B<=s,"overflow",R||"value",B),B;case"string":try{if(B==="")throw new Error("empty string");return c(BigInt(B),R)}catch(w){(0,i.assertArgument)(!1,`invalid numeric string: ${w.message}`,R||"value",B)}}(0,i.assertArgument)(!1,"invalid numeric value",R||"value",B)}ve.getNumber=c;function b(B){return c(u(B))}ve.toNumber=b;function d(B,R){let g=t(B,"value").toString(16);if(R==null)g.length%2&&(g="0"+g);else{const S=c(R,"width");for((0,i.assert)(S*2>=g.length,`value exceeds width (${S} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:B});g.length<S*2;)g="0"+g}return"0x"+g}ve.toBeHex=d;function x(B){const R=t(B,"value");if(R===n)return new Uint8Array([]);let w=R.toString(16);w.length%2&&(w="0"+w);const g=new Uint8Array(w.length/2);for(let S=0;S<g.length;S++){const D=S*2;g[S]=parseInt(w.substring(D,D+2),16)}return g}ve.toBeArray=x;function I(B){let R=(0,e.hexlify)((0,e.isBytesLike)(B)?B:x(B)).substring(2);for(;R.startsWith("0");)R=R.substring(1);return R===""&&(R="0"),"0x"+R}return ve.toQuantity=I,ve}var _s;function cc(){if(_s)return at;_s=1,Object.defineProperty(at,"__esModule",{value:!0}),at.decodeBase58=at.encodeBase58=void 0;const e=Je(),i=ze(),n=Vr(),r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let s=null;function a(o){if(s==null){s={};for(let c=0;c<r.length;c++)s[r[c]]=BigInt(c)}const u=s[o];return(0,i.assertArgument)(u!=null,"invalid base58 value","letter",o),u}const f=BigInt(0),h=BigInt(58);function l(o){const u=(0,e.getBytes)(o);let c=(0,n.toBigInt)(u),b="";for(;c;)b=r[Number(c%h)]+b,c/=h;for(let d=0;d<u.length&&!u[d];d++)b=r[0]+b;return b}at.encodeBase58=l;function t(o){let u=f;for(let c=0;c<o.length;c++)u*=h,u+=a(o[c]);return u}return at.decodeBase58=t,at}var ct={},Os;function qa(){if(Os)return ct;Os=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.encodeBase64=ct.decodeBase64=void 0;const e=Je();function i(r){r=atob(r);const s=new Uint8Array(r.length);for(let a=0;a<r.length;a++)s[a]=r.charCodeAt(a);return(0,e.getBytes)(s)}ct.decodeBase64=i;function n(r){const s=(0,e.getBytes)(r);let a="";for(let f=0;f<s.length;f++)a+=String.fromCharCode(s[f]);return btoa(a)}return ct.encodeBase64=n,ct}var Mt={},ks;function uc(){var n;if(ks)return Mt;ks=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.EventPayload=void 0;const e=Nt();class i{constructor(s,a,f){z(this,"filter");z(this,"emitter");V(this,n,void 0);M(this,n,a),(0,e.defineProperties)(this,{emitter:s,filter:f})}async removeListener(){y(this,n)!=null&&await this.emitter.off(this.filter,y(this,n))}}return n=new WeakMap,Mt.EventPayload=i,Mt}var Xe={},pn={},As;function ns(){return As||(As=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8CodePoints=e.toUtf8String=e.toUtf8Bytes=e.Utf8ErrorFuncs=void 0;const i=Je(),n=ze();function r(u,c,b,d,x){(0,n.assertArgument)(!1,`invalid codepoint at offset ${c}; ${u}`,"bytes",b)}function s(u,c,b,d,x){if(u==="BAD_PREFIX"||u==="UNEXPECTED_CONTINUE"){let I=0;for(let B=c+1;B<b.length&&b[B]>>6===2;B++)I++;return I}return u==="OVERRUN"?b.length-c-1:0}function a(u,c,b,d,x){return u==="OVERLONG"?((0,n.assertArgument)(typeof x=="number","invalid bad code point for replacement","badCodepoint",x),d.push(x),0):(d.push(65533),s(u,c,b))}e.Utf8ErrorFuncs=Object.freeze({error:r,ignore:s,replace:a});function f(u,c){c==null&&(c=e.Utf8ErrorFuncs.error);const b=(0,i.getBytes)(u,"bytes"),d=[];let x=0;for(;x<b.length;){const I=b[x++];if(!(I>>7)){d.push(I);continue}let B=null,R=null;if((I&224)===192)B=1,R=127;else if((I&240)===224)B=2,R=2047;else if((I&248)===240)B=3,R=65535;else{(I&192)===128?x+=c("UNEXPECTED_CONTINUE",x-1,b,d):x+=c("BAD_PREFIX",x-1,b,d);continue}if(x-1+B>=b.length){x+=c("OVERRUN",x-1,b,d);continue}let w=I&(1<<8-B-1)-1;for(let g=0;g<B;g++){let S=b[x];if((S&192)!=128){x+=c("MISSING_CONTINUE",x,b,d),w=null;break}w=w<<6|S&63,x++}if(w!==null){if(w>1114111){x+=c("OUT_OF_RANGE",x-1-B,b,d,w);continue}if(w>=55296&&w<=57343){x+=c("UTF16_SURROGATE",x-1-B,b,d,w);continue}if(w<=R){x+=c("OVERLONG",x-1-B,b,d,w);continue}d.push(w)}}return d}function h(u,c){c!=null&&((0,n.assertNormalize)(c),u=u.normalize(c));let b=[];for(let d=0;d<u.length;d++){const x=u.charCodeAt(d);if(x<128)b.push(x);else if(x<2048)b.push(x>>6|192),b.push(x&63|128);else if((x&64512)==55296){d++;const I=u.charCodeAt(d);(0,n.assertArgument)(d<u.length&&(I&64512)===56320,"invalid surrogate pair","str",u);const B=65536+((x&1023)<<10)+(I&1023);b.push(B>>18|240),b.push(B>>12&63|128),b.push(B>>6&63|128),b.push(B&63|128)}else b.push(x>>12|224),b.push(x>>6&63|128),b.push(x&63|128)}return new Uint8Array(b)}e.toUtf8Bytes=h;function l(u){return u.map(c=>c<=65535?String.fromCharCode(c):(c-=65536,String.fromCharCode((c>>10&1023)+55296,(c&1023)+56320))).join("")}function t(u,c){return l(f(u,c))}e.toUtf8String=t;function o(u,c){return f(h(u,c))}e.toUtf8CodePoints=o}(pn)),pn}var ut={},Es;function lc(){if(Es)return ut;Es=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.getUrl=ut.createGetUrl=void 0;const e=ze();function i(s){async function a(f,h){const l=f.url.split(":")[0].toLowerCase();(0,e.assert)(l==="http"||l==="https",`unsupported protocol ${l}`,"UNSUPPORTED_OPERATION",{info:{protocol:l},operation:"request"}),(0,e.assert)(l==="https"||!f.credentials||f.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let t;if(h){const x=new AbortController;t=x.signal,h.addListener(()=>{x.abort()})}const o={method:f.method,headers:new Headers(Array.from(f)),body:f.body||void 0,signal:t},u=await fetch(f.url,o),c={};u.headers.forEach((x,I)=>{c[I.toLowerCase()]=x});const b=await u.arrayBuffer(),d=b==null?null:new Uint8Array(b);return{statusCode:u.status,statusMessage:u.statusText,headers:c,body:d}}return a}ut.createGetUrl=i;const n=i();async function r(s,a){return n(s,a)}return ut.getUrl=r,ut}var Ns;function fc(){var K,J,_,F,U,E,T,m,j,P,L,k,q,A,N,O,v,$,Hr,ie,te,fe,ce,be,oe;if(Ns)return Xe;Ns=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.FetchResponse=Xe.FetchRequest=Xe.FetchCancelSignal=void 0;const e=qa(),i=Je(),n=ze(),r=Nt(),s=ns(),a=lc(),f=12,h=250;let l=(0,a.createGetUrl)();const t=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),o=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let u=!1;async function c(ge,Z){try{const de=ge.match(t);if(!de)throw new Error("invalid data");return new w(200,"OK",{"content-type":de[1]||"text/plain"},de[2]?(0,e.decodeBase64)(de[3]):S(de[3]))}catch{return new w(599,"BAD REQUEST (invalid data: URI)",{},null,new R(ge))}}function b(ge){async function Z(de,xe){try{const ye=de.match(o);if(!ye)throw new Error("invalid link");return new R(`${ge}${ye[2]}`)}catch{return new w(599,"BAD REQUEST (invalid IPFS URI)",{},null,new R(de))}}return Z}const d={data:c,ipfs:b("https://gateway.ipfs.io/ipfs/")},x=new WeakMap;class I{constructor(Z){V(this,K,void 0);V(this,J,void 0);M(this,K,[]),M(this,J,!1),x.set(Z,()=>{if(!y(this,J)){M(this,J,!0);for(const de of y(this,K))setTimeout(()=>{de()},0);M(this,K,[])}})}addListener(Z){(0,n.assert)(!y(this,J),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),y(this,K).push(Z)}get cancelled(){return y(this,J)}checkSignal(){(0,n.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}K=new WeakMap,J=new WeakMap,Xe.FetchCancelSignal=I;function B(ge){if(ge==null)throw new Error("missing signal; should not happen");return ge.checkSignal(),ge}const Y=class Y{constructor(Z){V(this,$);V(this,_,void 0);V(this,F,void 0);V(this,U,void 0);V(this,E,void 0);V(this,T,void 0);V(this,m,void 0);V(this,j,void 0);V(this,P,void 0);V(this,L,void 0);V(this,k,void 0);V(this,q,void 0);V(this,A,void 0);V(this,N,void 0);V(this,O,void 0);V(this,v,void 0);M(this,m,String(Z)),M(this,_,!1),M(this,F,!0),M(this,U,{}),M(this,E,""),M(this,T,3e5),M(this,O,{slotInterval:h,maxAttempts:f}),M(this,v,null)}get url(){return y(this,m)}set url(Z){M(this,m,String(Z))}get body(){return y(this,j)==null?null:new Uint8Array(y(this,j))}set body(Z){if(Z==null)M(this,j,void 0),M(this,P,void 0);else if(typeof Z=="string")M(this,j,(0,s.toUtf8Bytes)(Z)),M(this,P,"text/plain");else if(Z instanceof Uint8Array)M(this,j,Z),M(this,P,"application/octet-stream");else if(typeof Z=="object")M(this,j,(0,s.toUtf8Bytes)(JSON.stringify(Z))),M(this,P,"application/json");else throw new Error("invalid body")}hasBody(){return y(this,j)!=null}get method(){return y(this,E)?y(this,E):this.hasBody()?"POST":"GET"}set method(Z){Z==null&&(Z=""),M(this,E,String(Z).toUpperCase())}get headers(){const Z=Object.assign({},y(this,U));return y(this,L)&&(Z.authorization=`Basic ${(0,e.encodeBase64)((0,s.toUtf8Bytes)(y(this,L)))}`),this.allowGzip&&(Z["accept-encoding"]="gzip"),Z["content-type"]==null&&y(this,P)&&(Z["content-type"]=y(this,P)),this.body&&(Z["content-length"]=String(this.body.length)),Z}getHeader(Z){return this.headers[Z.toLowerCase()]}setHeader(Z,de){y(this,U)[String(Z).toLowerCase()]=String(de)}clearHeaders(){M(this,U,{})}[Symbol.iterator](){const Z=this.headers,de=Object.keys(Z);let xe=0;return{next:()=>{if(xe<de.length){const ye=de[xe++];return{value:[ye,Z[ye]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return y(this,L)||null}setCredentials(Z,de){(0,n.assertArgument)(!Z.match(/:/),"invalid basic authentication username","username","[REDACTED]"),M(this,L,`${Z}:${de}`)}get allowGzip(){return y(this,F)}set allowGzip(Z){M(this,F,!!Z)}get allowInsecureAuthentication(){return!!y(this,_)}set allowInsecureAuthentication(Z){M(this,_,!!Z)}get timeout(){return y(this,T)}set timeout(Z){(0,n.assertArgument)(Z>=0,"timeout must be non-zero","timeout",Z),M(this,T,Z)}get preflightFunc(){return y(this,k)||null}set preflightFunc(Z){M(this,k,Z)}get processFunc(){return y(this,q)||null}set processFunc(Z){M(this,q,Z)}get retryFunc(){return y(this,A)||null}set retryFunc(Z){M(this,A,Z)}get getUrlFunc(){return y(this,v)||l}set getUrlFunc(Z){M(this,v,Z)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${y(this,j)?(0,i.hexlify)(y(this,j)):"null"}>`}setThrottleParams(Z){Z.slotInterval!=null&&(y(this,O).slotInterval=Z.slotInterval),Z.maxAttempts!=null&&(y(this,O).maxAttempts=Z.maxAttempts)}send(){return(0,n.assert)(y(this,N)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),M(this,N,new I(this)),ee(this,$,Hr).call(this,0,g()+this.timeout,0,this,new w(0,"",{},null,this))}cancel(){(0,n.assert)(y(this,N)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const Z=x.get(this);if(!Z)throw new Error("missing signal; should not happen");Z()}redirect(Z){const de=this.url.split(":")[0].toLowerCase(),xe=Z.split(":")[0].toLowerCase();(0,n.assert)(this.method==="GET"&&(de!=="https"||xe!=="http")&&Z.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(Z)})`});const ye=new Y(Z);return ye.method="GET",ye.allowGzip=this.allowGzip,ye.timeout=this.timeout,M(ye,U,Object.assign({},y(this,U))),y(this,j)&&M(ye,j,new Uint8Array(y(this,j))),M(ye,P,y(this,P)),ye}clone(){const Z=new Y(this.url);return M(Z,E,y(this,E)),y(this,j)&&M(Z,j,y(this,j)),M(Z,P,y(this,P)),M(Z,U,Object.assign({},y(this,U))),M(Z,L,y(this,L)),this.allowGzip&&(Z.allowGzip=!0),Z.timeout=this.timeout,this.allowInsecureAuthentication&&(Z.allowInsecureAuthentication=!0),M(Z,k,y(this,k)),M(Z,q,y(this,q)),M(Z,A,y(this,A)),M(Z,v,y(this,v)),Z}static lockConfig(){u=!0}static getGateway(Z){return d[Z.toLowerCase()]||null}static registerGateway(Z,de){if(Z=Z.toLowerCase(),Z==="http"||Z==="https")throw new Error(`cannot intercept ${Z}; use registerGetUrl`);if(u)throw new Error("gateways locked");d[Z]=de}static registerGetUrl(Z){if(u)throw new Error("gateways locked");l=Z}static createGetUrlFunc(Z){return(0,a.createGetUrl)(Z)}static createDataGateway(){return c}static createIpfsGatewayFunc(Z){return b(Z)}};_=new WeakMap,F=new WeakMap,U=new WeakMap,E=new WeakMap,T=new WeakMap,m=new WeakMap,j=new WeakMap,P=new WeakMap,L=new WeakMap,k=new WeakMap,q=new WeakMap,A=new WeakMap,N=new WeakMap,O=new WeakMap,v=new WeakMap,$=new WeakSet,Hr=async function(Z,de,xe,ye,Re){var C,W,re;if(Z>=y(this,O).maxAttempts)return Re.makeServerError("exceeded maximum retry limit");(0,n.assert)(g()<=de,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:ye}),xe>0&&await D(xe);let ae=this.clone();const G=(ae.url.split(":")[0]||"").toLowerCase();if(G in d){const Q=await d[G](ae.url,B(y(ye,N)));if(Q instanceof w){let ne=Q;if(this.processFunc){B(y(ye,N));try{ne=await this.processFunc(ae,ne)}catch(ue){(ue.throttle==null||typeof ue.stall!="number")&&ne.makeServerError("error in post-processing function",ue).assertOk()}}return ne}ae=Q}this.preflightFunc&&(ae=await this.preflightFunc(ae));const H=await this.getUrlFunc(ae,B(y(ye,N)));let p=new w(H.statusCode,H.statusMessage,H.headers,H.body,ye);if(p.statusCode===301||p.statusCode===302){try{const Q=p.headers.location||"";return ee(C=ae.redirect(Q),$,Hr).call(C,Z+1,de,0,ye,p)}catch{}return p}else if(p.statusCode===429&&(this.retryFunc==null||await this.retryFunc(ae,p,Z))){const Q=p.headers["retry-after"];let ne=y(this,O).slotInterval*Math.trunc(Math.random()*Math.pow(2,Z));return typeof Q=="string"&&Q.match(/^[1-9][0-9]*$/)&&(ne=parseInt(Q)),ee(W=ae.clone(),$,Hr).call(W,Z+1,de,ne,ye,p)}if(this.processFunc){B(y(ye,N));try{p=await this.processFunc(ae,p)}catch(Q){(Q.throttle==null||typeof Q.stall!="number")&&p.makeServerError("error in post-processing function",Q).assertOk();let ne=y(this,O).slotInterval*Math.trunc(Math.random()*Math.pow(2,Z));return Q.stall>=0&&(ne=Q.stall),ee(re=ae.clone(),$,Hr).call(re,Z+1,de,ne,ye,p)}}return p};let R=Y;Xe.FetchRequest=R;const he=class he{constructor(Z,de,xe,ye,Re){V(this,ie,void 0);V(this,te,void 0);V(this,fe,void 0);V(this,ce,void 0);V(this,be,void 0);V(this,oe,void 0);M(this,ie,Z),M(this,te,de),M(this,fe,Object.keys(xe).reduce((ae,G)=>(ae[G.toLowerCase()]=String(xe[G]),ae),{})),M(this,ce,ye==null?null:new Uint8Array(ye)),M(this,be,Re||null),M(this,oe,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${y(this,ce)?(0,i.hexlify)(y(this,ce)):"null"}>`}get statusCode(){return y(this,ie)}get statusMessage(){return y(this,te)}get headers(){return Object.assign({},y(this,fe))}get body(){return y(this,ce)==null?null:new Uint8Array(y(this,ce))}get bodyText(){try{return y(this,ce)==null?"":(0,s.toUtf8String)(y(this,ce))}catch{(0,n.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{(0,n.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const Z=this.headers,de=Object.keys(Z);let xe=0;return{next:()=>{if(xe<de.length){const ye=de[xe++];return{value:[ye,Z[ye]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(Z,de){let xe;Z?xe=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${Z})`:(Z=`${this.statusCode} ${this.statusMessage}`,xe=`CLIENT ESCALATED SERVER ERROR (${Z})`);const ye=new he(599,xe,this.headers,this.body,y(this,be)||void 0);return M(ye,oe,{message:Z,error:de}),ye}throwThrottleError(Z,de){de==null?de=-1:(0,n.assertArgument)(Number.isInteger(de)&&de>=0,"invalid stall timeout","stall",de);const xe=new Error(Z||"throttling requests");throw(0,r.defineProperties)(xe,{stall:de,throttle:!0}),xe}getHeader(Z){return this.headers[Z.toLowerCase()]}hasBody(){return y(this,ce)!=null}get request(){return y(this,be)}ok(){return y(this,oe).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:Z,error:de}=y(this,oe);Z===""&&(Z=`server response ${this.statusCode} ${this.statusMessage}`),(0,n.assert)(!1,Z,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:de})}};ie=new WeakMap,te=new WeakMap,fe=new WeakMap,ce=new WeakMap,be=new WeakMap,oe=new WeakMap;let w=he;Xe.FetchResponse=w;function g(){return new Date().getTime()}function S(ge){return(0,s.toUtf8Bytes)(ge.replace(/%([0-9a-f][0-9a-f])/gi,(Z,de)=>String.fromCharCode(parseInt(de,16))))}function D(ge){return new Promise(Z=>setTimeout(Z,ge))}return Xe}var Lt={},Ts;function Ha(){var x,I,B,R,Et,g,nt,D,Un,J,Mn,F,Ln,E,Dn;if(Ts)return Lt;Ts=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.FixedNumber=void 0;const e=Je(),i=ze(),n=Vr(),r=Nt(),s=BigInt(-1),a=BigInt(0),f=BigInt(1),h=BigInt(5),l={};let t="0000";for(;t.length<80;)t+=t;function o(j){let P=t;for(;P.length<j;)P+=P;return BigInt("1"+P.substring(0,j))}function u(j,P,L){const k=BigInt(P.width);if(P.signed){const q=f<<k-f;(0,i.assert)(L==null||j>=-q&&j<q,"overflow","NUMERIC_FAULT",{operation:L,fault:"overflow",value:j}),j>a?j=(0,n.fromTwos)((0,n.mask)(j,k),k):j=-(0,n.fromTwos)((0,n.mask)(-j,k),k)}else{const q=f<<k;(0,i.assert)(L==null||j>=0&&j<q,"overflow","NUMERIC_FAULT",{operation:L,fault:"overflow",value:j}),j=(j%q+q)%q&q-f}return j}function c(j){typeof j=="number"&&(j=`fixed128x${j}`);let P=!0,L=128,k=18;if(typeof j=="string"){if(j!=="fixed")if(j==="ufixed")P=!1;else{const A=j.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,i.assertArgument)(A,"invalid fixed format","format",j),P=A[1]!=="u",L=parseInt(A[2]),k=parseInt(A[3])}}else if(j){const A=j,N=(O,v,$)=>A[O]==null?$:((0,i.assertArgument)(typeof A[O]===v,"invalid fixed format ("+O+" not "+v+")","format."+O,A[O]),A[O]);P=N("signed","boolean",P),L=N("width","number",L),k=N("decimals","number",k)}(0,i.assertArgument)(L%8===0,"invalid FixedNumber width (not byte aligned)","format.width",L),(0,i.assertArgument)(k<=80,"invalid FixedNumber decimals (too large)","format.decimals",k);const q=(P?"":"u")+"fixed"+String(L)+"x"+String(k);return{signed:P,width:L,decimals:k,name:q}}function b(j,P){let L="";j<a&&(L="-",j*=s);let k=j.toString();if(P===0)return L+k;for(;k.length<=P;)k=t+k;const q=k.length-P;for(k=k.substring(0,q)+"."+k.substring(q);k[0]==="0"&&k[1]!==".";)k=k.substring(1);for(;k[k.length-1]==="0"&&k[k.length-2]!==".";)k=k.substring(0,k.length-1);return L+k}const m=class m{constructor(P,L,k){V(this,R);V(this,g);V(this,D);V(this,J);V(this,F);V(this,E);z(this,"format");V(this,x,void 0);V(this,I,void 0);V(this,B,void 0);z(this,"_value");(0,i.assertPrivate)(P,l,"FixedNumber"),M(this,I,L),M(this,x,k);const q=b(L,k.decimals);(0,r.defineProperties)(this,{format:k.name,_value:q}),M(this,B,o(k.decimals))}get signed(){return y(this,x).signed}get width(){return y(this,x).width}get decimals(){return y(this,x).decimals}get value(){return y(this,I)}addUnsafe(P){return ee(this,D,Un).call(this,P)}add(P){return ee(this,D,Un).call(this,P,"add")}subUnsafe(P){return ee(this,J,Mn).call(this,P)}sub(P){return ee(this,J,Mn).call(this,P,"sub")}mulUnsafe(P){return ee(this,F,Ln).call(this,P)}mul(P){return ee(this,F,Ln).call(this,P,"mul")}mulSignal(P){ee(this,R,Et).call(this,P);const L=y(this,I)*y(P,I);return(0,i.assert)(L%y(this,B)===a,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),ee(this,g,nt).call(this,L/y(this,B),"mulSignal")}divUnsafe(P){return ee(this,E,Dn).call(this,P)}div(P){return ee(this,E,Dn).call(this,P,"div")}divSignal(P){(0,i.assert)(y(P,I)!==a,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ee(this,R,Et).call(this,P);const L=y(this,I)*y(this,B);return(0,i.assert)(L%y(P,I)===a,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),ee(this,g,nt).call(this,L/y(P,I),"divSignal")}cmp(P){let L=this.value,k=P.value;const q=this.decimals-P.decimals;return q>0?k*=o(q):q<0&&(L*=o(-q)),L<k?-1:L>k?1:0}eq(P){return this.cmp(P)===0}lt(P){return this.cmp(P)<0}lte(P){return this.cmp(P)<=0}gt(P){return this.cmp(P)>0}gte(P){return this.cmp(P)>=0}floor(){let P=y(this,I);return y(this,I)<a&&(P-=y(this,B)-f),P=y(this,I)/y(this,B)*y(this,B),ee(this,g,nt).call(this,P,"floor")}ceiling(){let P=y(this,I);return y(this,I)>a&&(P+=y(this,B)-f),P=y(this,I)/y(this,B)*y(this,B),ee(this,g,nt).call(this,P,"ceiling")}round(P){if(P==null&&(P=0),P>=this.decimals)return this;const L=this.decimals-P,k=h*o(L-1);let q=this.value+k;const A=o(L);return q=q/A*A,u(q,y(this,x),"round"),new m(l,q,y(this,x))}isZero(){return y(this,I)===a}isNegative(){return y(this,I)<a}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(P){return m.fromString(this.toString(),P)}static fromValue(P,L,k){const q=L==null?0:(0,n.getNumber)(L),A=c(k);let N=(0,n.getBigInt)(P,"value");const O=q-A.decimals;if(O>0){const v=o(O);(0,i.assert)(N%v===a,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:P}),N/=v}else O<0&&(N*=o(-O));return u(N,A,"fromValue"),new m(l,N,A)}static fromString(P,L){const k=P.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,i.assertArgument)(k&&k[2].length+k[3].length>0,"invalid FixedNumber string value","value",P);const q=c(L);let A=k[2]||"0",N=k[3]||"";for(;N.length<q.decimals;)N+=t;(0,i.assert)(N.substring(q.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:P}),N=N.substring(0,q.decimals);const O=BigInt(k[1]+A+N);return u(O,q,"fromString"),new m(l,O,q)}static fromBytes(P,L){let k=(0,n.toBigInt)((0,e.getBytes)(P,"value"));const q=c(L);return q.signed&&(k=(0,n.fromTwos)(k,q.width)),u(k,q,"fromBytes"),new m(l,k,q)}};x=new WeakMap,I=new WeakMap,B=new WeakMap,R=new WeakSet,Et=function(P){(0,i.assertArgument)(this.format===P.format,"incompatible format; use fixedNumber.toFormat","other",P)},g=new WeakSet,nt=function(P,L){return P=u(P,y(this,x),L),new m(l,P,y(this,x))},D=new WeakSet,Un=function(P,L){return ee(this,R,Et).call(this,P),ee(this,g,nt).call(this,y(this,I)+y(P,I),L)},J=new WeakSet,Mn=function(P,L){return ee(this,R,Et).call(this,P),ee(this,g,nt).call(this,y(this,I)-y(P,I),L)},F=new WeakSet,Ln=function(P,L){return ee(this,R,Et).call(this,P),ee(this,g,nt).call(this,y(this,I)*y(P,I)/y(this,B),L)},E=new WeakSet,Dn=function(P,L){return(0,i.assert)(y(P,I)!==a,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),ee(this,R,Et).call(this,P),ee(this,g,nt).call(this,y(this,I)*y(this,B)/y(P,I),L)};let d=m;return Lt.FixedNumber=d,Lt}var Dt={},Rs;function dc(){if(Rs)return Dt;Rs=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.decodeRlp=void 0;const e=Je(),i=ze(),n=Je();function r(l){let t=l.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function s(l,t,o){let u=0;for(let c=0;c<o;c++)u=u*256+l[t+c];return u}function a(l,t,o,u){const c=[];for(;o<t+1+u;){const b=f(l,o);c.push(b.result),o+=b.consumed,(0,i.assert)(o<=t+1+u,"child data too short","BUFFER_OVERRUN",{buffer:l,length:u,offset:t})}return{consumed:1+u,result:c}}function f(l,t){(0,i.assert)(l.length!==0,"data too short","BUFFER_OVERRUN",{buffer:l,length:0,offset:1});const o=u=>{(0,i.assert)(u<=l.length,"data short segment too short","BUFFER_OVERRUN",{buffer:l,length:l.length,offset:u})};if(l[t]>=248){const u=l[t]-247;o(t+1+u);const c=s(l,t+1,u);return o(t+1+u+c),a(l,t,t+1+u,u+c)}else if(l[t]>=192){const u=l[t]-192;return o(t+1+u),a(l,t,t+1,u)}else if(l[t]>=184){const u=l[t]-183;o(t+1+u);const c=s(l,t+1,u);o(t+1+u+c);const b=(0,e.hexlify)(l.slice(t+1+u,t+1+u+c));return{consumed:1+u+c,result:b}}else if(l[t]>=128){const u=l[t]-128;o(t+1+u);const c=(0,e.hexlify)(l.slice(t+1,t+1+u));return{consumed:1+u,result:c}}return{consumed:1,result:r(l[t])}}function h(l){const t=(0,n.getBytes)(l,"data"),o=f(t,0);return(0,i.assertArgument)(o.consumed===t.length,"unexpected junk after rlp payload","data",l),o.result}return Dt.decodeRlp=h,Dt}var $t={},Ss;function hc(){if(Ss)return $t;Ss=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.encodeRlp=void 0;const e=Je();function i(a){const f=[];for(;a;)f.unshift(a&255),a>>=8;return f}function n(a){if(Array.isArray(a)){let l=[];if(a.forEach(function(o){l=l.concat(n(o))}),l.length<=55)return l.unshift(192+l.length),l;const t=i(l.length);return t.unshift(247+t.length),t.concat(l)}const f=Array.prototype.slice.call((0,e.getBytes)(a,"object"));if(f.length===1&&f[0]<=127)return f;if(f.length<=55)return f.unshift(128+f.length),f;const h=i(f.length);return h.unshift(183+h.length),h.concat(f)}const r="0123456789abcdef";function s(a){let f="0x";for(const h of n(a))f+=r[h>>4],f+=r[h&15];return f}return $t.encodeRlp=s,$t}var De={},js;function bc(){if(js)return De;js=1,Object.defineProperty(De,"__esModule",{value:!0}),De.parseEther=De.formatEther=De.parseUnits=De.formatUnits=void 0;const e=ze(),i=Ha(),n=Vr(),r=["wei","kwei","mwei","gwei","szabo","finney","ether"];function s(l,t){let o=18;if(typeof t=="string"){const u=r.indexOf(t);(0,e.assertArgument)(u>=0,"invalid unit","unit",t),o=3*u}else t!=null&&(o=(0,n.getNumber)(t,"unit"));return i.FixedNumber.fromValue(l,o,{decimals:o,width:512}).toString()}De.formatUnits=s;function a(l,t){(0,e.assertArgument)(typeof l=="string","value must be a string","value",l);let o=18;if(typeof t=="string"){const u=r.indexOf(t);(0,e.assertArgument)(u>=0,"invalid unit","unit",t),o=3*u}else t!=null&&(o=(0,n.getNumber)(t,"unit"));return i.FixedNumber.fromString(l,{decimals:o,width:512}).value}De.parseUnits=a;function f(l){return s(l,18)}De.formatEther=f;function h(l){return a(l,18)}return De.parseEther=h,De}var Gt={},Cs;function gc(){if(Cs)return Gt;Cs=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.uuidV4=void 0;const e=Je();function i(n){const r=(0,e.getBytes)(n,"randomBytes");r[6]=r[6]&15|64,r[8]=r[8]&63|128;const s=(0,e.hexlify)(r);return[s.substring(2,10),s.substring(10,14),s.substring(14,18),s.substring(18,22),s.substring(22,34)].join("-")}return Gt.uuidV4=i,Gt}var Bs;function le(){return Bs||(Bs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8String=e.toUtf8CodePoints=e.toUtf8Bytes=e.parseUnits=e.formatUnits=e.parseEther=e.formatEther=e.encodeRlp=e.decodeRlp=e.defineProperties=e.resolveProperties=e.toQuantity=e.toBeArray=e.toBeHex=e.toNumber=e.toBigInt=e.getUint=e.getNumber=e.getBigInt=e.mask=e.toTwos=e.fromTwos=e.FixedNumber=e.FetchCancelSignal=e.FetchResponse=e.FetchRequest=e.EventPayload=e.makeError=e.assertNormalize=e.assertPrivate=e.assertArgumentCount=e.assertArgument=e.assert=e.isError=e.isCallException=e.zeroPadBytes=e.zeroPadValue=e.stripZerosLeft=e.dataSlice=e.dataLength=e.concat=e.hexlify=e.isBytesLike=e.isHexString=e.getBytesCopy=e.getBytes=e.encodeBase64=e.decodeBase64=e.encodeBase58=e.decodeBase58=void 0,e.uuidV4=e.Utf8ErrorFuncs=void 0;var i=cc();Object.defineProperty(e,"decodeBase58",{enumerable:!0,get:function(){return i.decodeBase58}}),Object.defineProperty(e,"encodeBase58",{enumerable:!0,get:function(){return i.encodeBase58}});var n=qa();Object.defineProperty(e,"decodeBase64",{enumerable:!0,get:function(){return n.decodeBase64}}),Object.defineProperty(e,"encodeBase64",{enumerable:!0,get:function(){return n.encodeBase64}});var r=Je();Object.defineProperty(e,"getBytes",{enumerable:!0,get:function(){return r.getBytes}}),Object.defineProperty(e,"getBytesCopy",{enumerable:!0,get:function(){return r.getBytesCopy}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return r.isHexString}}),Object.defineProperty(e,"isBytesLike",{enumerable:!0,get:function(){return r.isBytesLike}}),Object.defineProperty(e,"hexlify",{enumerable:!0,get:function(){return r.hexlify}}),Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return r.concat}}),Object.defineProperty(e,"dataLength",{enumerable:!0,get:function(){return r.dataLength}}),Object.defineProperty(e,"dataSlice",{enumerable:!0,get:function(){return r.dataSlice}}),Object.defineProperty(e,"stripZerosLeft",{enumerable:!0,get:function(){return r.stripZerosLeft}}),Object.defineProperty(e,"zeroPadValue",{enumerable:!0,get:function(){return r.zeroPadValue}}),Object.defineProperty(e,"zeroPadBytes",{enumerable:!0,get:function(){return r.zeroPadBytes}});var s=ze();Object.defineProperty(e,"isCallException",{enumerable:!0,get:function(){return s.isCallException}}),Object.defineProperty(e,"isError",{enumerable:!0,get:function(){return s.isError}}),Object.defineProperty(e,"assert",{enumerable:!0,get:function(){return s.assert}}),Object.defineProperty(e,"assertArgument",{enumerable:!0,get:function(){return s.assertArgument}}),Object.defineProperty(e,"assertArgumentCount",{enumerable:!0,get:function(){return s.assertArgumentCount}}),Object.defineProperty(e,"assertPrivate",{enumerable:!0,get:function(){return s.assertPrivate}}),Object.defineProperty(e,"assertNormalize",{enumerable:!0,get:function(){return s.assertNormalize}}),Object.defineProperty(e,"makeError",{enumerable:!0,get:function(){return s.makeError}});var a=uc();Object.defineProperty(e,"EventPayload",{enumerable:!0,get:function(){return a.EventPayload}});var f=fc();Object.defineProperty(e,"FetchRequest",{enumerable:!0,get:function(){return f.FetchRequest}}),Object.defineProperty(e,"FetchResponse",{enumerable:!0,get:function(){return f.FetchResponse}}),Object.defineProperty(e,"FetchCancelSignal",{enumerable:!0,get:function(){return f.FetchCancelSignal}});var h=Ha();Object.defineProperty(e,"FixedNumber",{enumerable:!0,get:function(){return h.FixedNumber}});var l=Vr();Object.defineProperty(e,"fromTwos",{enumerable:!0,get:function(){return l.fromTwos}}),Object.defineProperty(e,"toTwos",{enumerable:!0,get:function(){return l.toTwos}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return l.mask}}),Object.defineProperty(e,"getBigInt",{enumerable:!0,get:function(){return l.getBigInt}}),Object.defineProperty(e,"getNumber",{enumerable:!0,get:function(){return l.getNumber}}),Object.defineProperty(e,"getUint",{enumerable:!0,get:function(){return l.getUint}}),Object.defineProperty(e,"toBigInt",{enumerable:!0,get:function(){return l.toBigInt}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return l.toNumber}}),Object.defineProperty(e,"toBeHex",{enumerable:!0,get:function(){return l.toBeHex}}),Object.defineProperty(e,"toBeArray",{enumerable:!0,get:function(){return l.toBeArray}}),Object.defineProperty(e,"toQuantity",{enumerable:!0,get:function(){return l.toQuantity}});var t=Nt();Object.defineProperty(e,"resolveProperties",{enumerable:!0,get:function(){return t.resolveProperties}}),Object.defineProperty(e,"defineProperties",{enumerable:!0,get:function(){return t.defineProperties}});var o=dc();Object.defineProperty(e,"decodeRlp",{enumerable:!0,get:function(){return o.decodeRlp}});var u=hc();Object.defineProperty(e,"encodeRlp",{enumerable:!0,get:function(){return u.encodeRlp}});var c=bc();Object.defineProperty(e,"formatEther",{enumerable:!0,get:function(){return c.formatEther}}),Object.defineProperty(e,"parseEther",{enumerable:!0,get:function(){return c.parseEther}}),Object.defineProperty(e,"formatUnits",{enumerable:!0,get:function(){return c.formatUnits}}),Object.defineProperty(e,"parseUnits",{enumerable:!0,get:function(){return c.parseUnits}});var b=ns();Object.defineProperty(e,"toUtf8Bytes",{enumerable:!0,get:function(){return b.toUtf8Bytes}}),Object.defineProperty(e,"toUtf8CodePoints",{enumerable:!0,get:function(){return b.toUtf8CodePoints}}),Object.defineProperty(e,"toUtf8String",{enumerable:!0,get:function(){return b.toUtf8String}}),Object.defineProperty(e,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return b.Utf8ErrorFuncs}});var d=gc();Object.defineProperty(e,"uuidV4",{enumerable:!0,get:function(){return d.uuidV4}})}(mn)),mn}var xn={},Is;function We(){return Is||(Is=1,function(e){var c,d,x,I,en,R,w,g,S,D,K,$n,_,Ka;Object.defineProperty(e,"__esModule",{value:!0}),e.Reader=e.Writer=e.Coder=e.checkResultErrors=e.Result=e.WordSize=void 0;const i=le();e.WordSize=32;const n=new Uint8Array(e.WordSize),r=["then"],s={};function a(E,T){const m=new Error(`deferred error during ABI decoding triggered accessing ${E}`);throw m.error=T,m}const b=class b extends Array{constructor(...m){const j=m[0];let P=m[1],L=(m[2]||[]).slice(),k=!0;j!==s&&(P=m,L=[],k=!1);super(P.length);V(this,c,void 0);P.forEach((A,N)=>{this[N]=A});const q=L.reduce((A,N)=>(typeof N=="string"&&A.set(N,(A.get(N)||0)+1),A),new Map);if(M(this,c,Object.freeze(P.map((A,N)=>{const O=L[N];return O!=null&&q.get(O)===1?O:null}))),!!k)return Object.freeze(this),new Proxy(this,{get:(A,N,O)=>{if(typeof N=="string"){if(N.match(/^[0-9]+$/)){const $=(0,i.getNumber)(N,"%index");if($<0||$>=this.length)throw new RangeError("out of result range");const X=A[$];return X instanceof Error&&a(`index ${$}`,X),X}if(r.indexOf(N)>=0)return Reflect.get(A,N,O);const v=A[N];if(v instanceof Function)return function(...$){return v.apply(this===O?A:this,$)};if(!(N in A))return A.getValue.apply(this===O?A:this,[N])}return Reflect.get(A,N,O)}})}toArray(){const m=[];return this.forEach((j,P)=>{j instanceof Error&&a(`index ${P}`,j),m.push(j)}),m}toObject(){return y(this,c).reduce((m,j,P)=>((0,i.assert)(j!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),j in m||(m[j]=this.getValue(j)),m),{})}slice(m,j){m==null&&(m=0),m<0&&(m+=this.length,m<0&&(m=0)),j==null&&(j=this.length),j<0&&(j+=this.length,j<0&&(j=0)),j>this.length&&(j=this.length);const P=[],L=[];for(let k=m;k<j;k++)P.push(this[k]),L.push(y(this,c)[k]);return new b(s,P,L)}filter(m,j){const P=[],L=[];for(let k=0;k<this.length;k++){const q=this[k];q instanceof Error&&a(`index ${k}`,q),m.call(j,q,k,this)&&(P.push(q),L.push(y(this,c)[k]))}return new b(s,P,L)}map(m,j){const P=[];for(let L=0;L<this.length;L++){const k=this[L];k instanceof Error&&a(`index ${L}`,k),P.push(m.call(j,k,L,this))}return P}getValue(m){const j=y(this,c).indexOf(m);if(j===-1)return;const P=this[j];return P instanceof Error&&a(`property ${JSON.stringify(m)}`,P.error),P}static fromItems(m,j){return new b(s,m,j)}};c=new WeakMap;let f=b;e.Result=f;function h(E){const T=[],m=function(j,P){if(Array.isArray(P))for(let L in P){const k=j.slice();k.push(L);try{m(k,P[L])}catch(q){T.push({path:k,error:q})}}};return m([],E),T}e.checkResultErrors=h;function l(E){let T=(0,i.toBeArray)(E);return(0,i.assert)(T.length<=e.WordSize,"value out-of-bounds","BUFFER_OVERRUN",{buffer:T,length:e.WordSize,offset:T.length}),T.length!==e.WordSize&&(T=(0,i.getBytesCopy)((0,i.concat)([n.slice(T.length%e.WordSize),T]))),T}class t{constructor(T,m,j,P){z(this,"name");z(this,"type");z(this,"localName");z(this,"dynamic");(0,i.defineProperties)(this,{name:T,type:m,localName:j,dynamic:P},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(T,m){(0,i.assertArgument)(!1,T,this.localName,m)}}e.Coder=t;class o{constructor(){V(this,I);V(this,d,void 0);V(this,x,void 0);M(this,d,[]),M(this,x,0)}get data(){return(0,i.concat)(y(this,d))}get length(){return y(this,x)}appendWriter(T){return ee(this,I,en).call(this,(0,i.getBytesCopy)(T.data))}writeBytes(T){let m=(0,i.getBytesCopy)(T);const j=m.length%e.WordSize;return j&&(m=(0,i.getBytesCopy)((0,i.concat)([m,n.slice(j)]))),ee(this,I,en).call(this,m)}writeValue(T){return ee(this,I,en).call(this,l(T))}writeUpdatableValue(){const T=y(this,d).length;return y(this,d).push(n),M(this,x,y(this,x)+e.WordSize),m=>{y(this,d)[T]=l(m)}}}d=new WeakMap,x=new WeakMap,I=new WeakSet,en=function(T){return y(this,d).push(T),M(this,x,y(this,x)+T.length),T.length},e.Writer=o;const U=class U{constructor(T,m,j){V(this,K);V(this,_);z(this,"allowLoose");V(this,R,void 0);V(this,w,void 0);V(this,g,void 0);V(this,S,void 0);V(this,D,void 0);(0,i.defineProperties)(this,{allowLoose:!!m}),M(this,R,(0,i.getBytesCopy)(T)),M(this,g,0),M(this,S,null),M(this,D,j??1024),M(this,w,0)}get data(){return(0,i.hexlify)(y(this,R))}get dataLength(){return y(this,R).length}get consumed(){return y(this,w)}get bytes(){return new Uint8Array(y(this,R))}subReader(T){const m=new U(y(this,R).slice(y(this,w)+T),this.allowLoose,y(this,D));return M(m,S,this),m}readBytes(T,m){let j=ee(this,_,Ka).call(this,0,T,!!m);return ee(this,K,$n).call(this,T),M(this,w,y(this,w)+j.length),j.slice(0,T)}readValue(){return(0,i.toBigInt)(this.readBytes(e.WordSize))}readIndex(){return(0,i.toNumber)(this.readBytes(e.WordSize))}};R=new WeakMap,w=new WeakMap,g=new WeakMap,S=new WeakMap,D=new WeakMap,K=new WeakSet,$n=function(T){var m;if(y(this,S))return ee(m=y(this,S),K,$n).call(m,T);M(this,g,y(this,g)+T),(0,i.assert)(y(this,D)<1||y(this,g)<=y(this,D)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${y(this,D)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,i.getBytesCopy)(y(this,R)),offset:y(this,w),length:T,info:{bytesRead:y(this,g),dataLength:this.dataLength}})},_=new WeakSet,Ka=function(T,m,j){let P=Math.ceil(m/e.WordSize)*e.WordSize;return y(this,w)+P>y(this,R).length&&(this.allowLoose&&j&&y(this,w)+m<=y(this,R).length?P=m:(0,i.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,i.getBytesCopy)(y(this,R)),length:y(this,R).length,offset:y(this,w)+P})),y(this,R).slice(y(this,w),y(this,w)+P)};let u=U;e.Reader=u}(xn)),xn}var qt={},wn={},lt={},Pn={},Ht={},$e={},Fs;function cn(){if(Fs)return $e;Fs=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.randomBytes=$e.pbkdf2Sync=$e.createHmac=$e.createHash=void 0;const e=Co,i=So(),n=Bo,r=jo(),s=le();function a(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof pe<"u")return pe;throw new Error("unable to locate global object")}const f=a(),h=f.crypto||f.msCrypto;function l(c){switch(c){case"sha256":return n.sha256.create();case"sha512":return r.sha512.create()}(0,s.assertArgument)(!1,"invalid hashing algorithm name","algorithm",c)}$e.createHash=l;function t(c,b){const d={sha256:n.sha256,sha512:r.sha512}[c];return(0,s.assertArgument)(d!=null,"invalid hmac algorithm","algorithm",c),e.hmac.create(d,b)}$e.createHmac=t;function o(c,b,d,x,I){const B={sha256:n.sha256,sha512:r.sha512}[I];return(0,s.assertArgument)(B!=null,"invalid pbkdf2 algorithm","algorithm",I),(0,i.pbkdf2)(B,c,b,{c:d,dkLen:x})}$e.pbkdf2Sync=o;function u(c){(0,s.assert)(h!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),(0,s.assertArgument)(Number.isInteger(c)&&c>0&&c<=1024,"invalid length","length",c);const b=new Uint8Array(c);return h.getRandomValues(b),b}return $e.randomBytes=u,$e}var Us;function yc(){if(Us)return Ht;Us=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.computeHmac=void 0;const e=cn(),i=le();let n=!1;const r=function(f,h,l){return(0,e.createHmac)(f,h).update(l).digest()};let s=r;function a(f,h,l){const t=(0,i.getBytes)(h,"key"),o=(0,i.getBytes)(l,"data");return(0,i.hexlify)(s(f,t,o))}return Ht.computeHmac=a,a._=r,a.lock=function(){n=!0},a.register=function(f){if(n)throw new Error("computeHmac is locked");s=f},Object.freeze(a),Ht}var Kt={},Ms;function mc(){if(Ms)return Kt;Ms=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.keccak256=void 0;const e=Io,i=le();let n=!1;const r=function(f){return(0,e.keccak_256)(f)};let s=r;function a(f){const h=(0,i.getBytes)(f,"data");return(0,i.hexlify)(s(h))}return Kt.keccak256=a,a._=r,a.lock=function(){n=!0},a.register=function(f){if(n)throw new TypeError("keccak256 is locked");s=f},Object.freeze(a),Kt}var Jt={},Ls;function pc(){if(Ls)return Jt;Ls=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.ripemd160=void 0;const e=Fo,i=le();let n=!1;const r=function(f){return(0,e.ripemd160)(f)};let s=r;function a(f){const h=(0,i.getBytes)(f,"data");return(0,i.hexlify)(s(h))}return Jt.ripemd160=a,a._=r,a.lock=function(){n=!0},a.register=function(f){if(n)throw new TypeError("ripemd160 is locked");s=f},Object.freeze(a),Jt}var Wt={},Ds;function xc(){if(Ds)return Wt;Ds=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.pbkdf2=void 0;const e=cn(),i=le();let n=!1;const r=function(f,h,l,t,o){return(0,e.pbkdf2Sync)(f,h,l,t,o)};let s=r;function a(f,h,l,t,o){const u=(0,i.getBytes)(f,"password"),c=(0,i.getBytes)(h,"salt");return(0,i.hexlify)(s(u,c,l,t,o))}return Wt.pbkdf2=a,a._=r,a.lock=function(){n=!0},a.register=function(f){if(n)throw new Error("pbkdf2 is locked");s=f},Object.freeze(a),Wt}var zt={},$s;function wc(){if($s)return zt;$s=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.randomBytes=void 0;const e=cn();let i=!1;const n=function(a){return new Uint8Array((0,e.randomBytes)(a))};let r=n;function s(a){return r(a)}return zt.randomBytes=s,s._=n,s.lock=function(){i=!0},s.register=function(a){if(i)throw new Error("randomBytes is locked");r=a},Object.freeze(s),zt}var ft={},Gs;function Pc(){if(Gs)return ft;Gs=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.scryptSync=ft.scrypt=void 0;const e=Uo(),i=le();let n=!1,r=!1;const s=async function(o,u,c,b,d,x,I){return await(0,e.scryptAsync)(o,u,{N:c,r:b,p:d,dkLen:x,onProgress:I})},a=function(o,u,c,b,d,x){return(0,e.scrypt)(o,u,{N:c,r:b,p:d,dkLen:x})};let f=s,h=a;async function l(o,u,c,b,d,x,I){const B=(0,i.getBytes)(o,"passwd"),R=(0,i.getBytes)(u,"salt");return(0,i.hexlify)(await f(B,R,c,b,d,x,I))}ft.scrypt=l,l._=s,l.lock=function(){r=!0},l.register=function(o){if(r)throw new Error("scrypt is locked");f=o},Object.freeze(l);function t(o,u,c,b,d,x){const I=(0,i.getBytes)(o,"passwd"),B=(0,i.getBytes)(u,"salt");return(0,i.hexlify)(h(I,B,c,b,d,x))}return ft.scryptSync=t,t._=a,t.lock=function(){n=!0},t.register=function(o){if(n)throw new Error("scryptSync is locked");h=o},Object.freeze(t),ft}var dt={},qs;function vc(){if(qs)return dt;qs=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.sha512=dt.sha256=void 0;const e=cn(),i=le(),n=function(o){return(0,e.createHash)("sha256").update(o).digest()},r=function(o){return(0,e.createHash)("sha512").update(o).digest()};let s=n,a=r,f=!1,h=!1;function l(o){const u=(0,i.getBytes)(o,"data");return(0,i.hexlify)(s(u))}dt.sha256=l,l._=n,l.lock=function(){f=!0},l.register=function(o){if(f)throw new Error("sha256 is locked");s=o},Object.freeze(l);function t(o){const u=(0,i.getBytes)(o,"data");return(0,i.hexlify)(a(u))}return dt.sha512=t,t._=r,t.lock=function(){h=!0},t.register=function(o){if(h)throw new Error("sha512 is locked");a=o},Object.freeze(l),dt}var Vt={},Zt={},vn={},Xt={},Hs;function _c(){return Hs||(Hs=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.ZeroAddress=void 0,Xt.ZeroAddress="0x0000000000000000000000000000000000000000"),Xt}var Yt={},Ks;function Oc(){return Ks||(Ks=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.ZeroHash=void 0,Yt.ZeroHash="0x0000000000000000000000000000000000000000000000000000000000000000"),Yt}var Ce={},Js;function kc(){return Js||(Js=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.MaxInt256=Ce.MinInt256=Ce.MaxUint256=Ce.WeiPerEther=Ce.N=void 0,Ce.N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ce.WeiPerEther=BigInt("1000000000000000000"),Ce.MaxUint256=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ce.MinInt256=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),Ce.MaxInt256=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),Ce}var ht={},Ws;function Ac(){return Ws||(Ws=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.MessagePrefix=ht.EtherSymbol=void 0,ht.EtherSymbol="",ht.MessagePrefix=`Ethereum Signed Message:
`),ht}var zs;function Zr(){return zs||(zs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MessagePrefix=e.EtherSymbol=e.MaxInt256=e.MinInt256=e.MaxUint256=e.WeiPerEther=e.N=e.ZeroHash=e.ZeroAddress=void 0;var i=_c();Object.defineProperty(e,"ZeroAddress",{enumerable:!0,get:function(){return i.ZeroAddress}});var n=Oc();Object.defineProperty(e,"ZeroHash",{enumerable:!0,get:function(){return n.ZeroHash}});var r=kc();Object.defineProperty(e,"N",{enumerable:!0,get:function(){return r.N}}),Object.defineProperty(e,"WeiPerEther",{enumerable:!0,get:function(){return r.WeiPerEther}}),Object.defineProperty(e,"MaxUint256",{enumerable:!0,get:function(){return r.MaxUint256}}),Object.defineProperty(e,"MinInt256",{enumerable:!0,get:function(){return r.MinInt256}}),Object.defineProperty(e,"MaxInt256",{enumerable:!0,get:function(){return r.MaxInt256}});var s=Ac();Object.defineProperty(e,"EtherSymbol",{enumerable:!0,get:function(){return s.EtherSymbol}}),Object.defineProperty(e,"MessagePrefix",{enumerable:!0,get:function(){return s.MessagePrefix}})}(vn)),vn}var Vs;function Ja(){var u,c,b,d;if(Vs)return Zt;Vs=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.Signature=void 0;const e=Zr(),i=le(),n=BigInt(0),r=BigInt(1),s=BigInt(2),a=BigInt(27),f=BigInt(28),h=BigInt(35),l={};function t(I){return(0,i.zeroPadValue)((0,i.toBeArray)(I),32)}const x=class x{constructor(B,R,w,g){V(this,u,void 0);V(this,c,void 0);V(this,b,void 0);V(this,d,void 0);(0,i.assertPrivate)(B,l,"Signature"),M(this,u,R),M(this,c,w),M(this,b,g),M(this,d,null)}get r(){return y(this,u)}set r(B){(0,i.assertArgument)((0,i.dataLength)(B)===32,"invalid r","value",B),M(this,u,(0,i.hexlify)(B))}get s(){return y(this,c)}set s(B){(0,i.assertArgument)((0,i.dataLength)(B)===32,"invalid s","value",B);const R=(0,i.hexlify)(B);(0,i.assertArgument)(parseInt(R.substring(0,3))<8,"non-canonical s","value",R),M(this,c,R)}get v(){return y(this,b)}set v(B){const R=(0,i.getNumber)(B,"value");(0,i.assertArgument)(R===27||R===28,"invalid v","v",B),M(this,b,R)}get networkV(){return y(this,d)}get legacyChainId(){const B=this.networkV;return B==null?null:x.getChainId(B)}get yParity(){return this.v===27?0:1}get yParityAndS(){const B=(0,i.getBytes)(this.s);return this.yParity&&(B[0]|=128),(0,i.hexlify)(B)}get compactSerialized(){return(0,i.concat)([this.r,this.yParityAndS])}get serialized(){return(0,i.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const B=new x(l,this.r,this.s,this.v);return this.networkV&&M(B,d,this.networkV),B}toJSON(){const B=this.networkV;return{_type:"signature",networkV:B!=null?B.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(B){const R=(0,i.getBigInt)(B,"v");return R==a||R==f?n:((0,i.assertArgument)(R>=h,"invalid EIP-155 v","v",B),(R-h)/s)}static getChainIdV(B,R){return(0,i.getBigInt)(B)*s+BigInt(35+R-27)}static getNormalizedV(B){const R=(0,i.getBigInt)(B);return R===n||R===a?27:R===r||R===f?28:((0,i.assertArgument)(R>=h,"invalid v","v",B),R&r?27:28)}static from(B){function R(_,F){(0,i.assertArgument)(_,F,"signature",B)}if(B==null)return new x(l,e.ZeroHash,e.ZeroHash,27);if(typeof B=="string"){const _=(0,i.getBytes)(B,"signature");if(_.length===64){const F=(0,i.hexlify)(_.slice(0,32)),U=_.slice(32,64),E=U[0]&128?28:27;return U[0]&=127,new x(l,F,(0,i.hexlify)(U),E)}if(_.length===65){const F=(0,i.hexlify)(_.slice(0,32)),U=_.slice(32,64);R((U[0]&128)===0,"non-canonical s");const E=x.getNormalizedV(_[64]);return new x(l,F,(0,i.hexlify)(U),E)}R(!1,"invalid raw signature length")}if(B instanceof x)return B.clone();const w=B.r;R(w!=null,"missing r");const g=t(w),S=function(_,F){if(_!=null)return t(_);if(F!=null){R((0,i.isHexString)(F,32),"invalid yParityAndS");const U=(0,i.getBytes)(F);return U[0]&=127,(0,i.hexlify)(U)}R(!1,"missing s")}(B.s,B.yParityAndS);R(((0,i.getBytes)(S)[0]&128)==0,"non-canonical s");const{networkV:D,v:K}=function(_,F,U){if(_!=null){const E=(0,i.getBigInt)(_);return{networkV:E>=h?E:void 0,v:x.getNormalizedV(E)}}if(F!=null)return R((0,i.isHexString)(F,32),"invalid yParityAndS"),{v:(0,i.getBytes)(F)[0]&128?28:27};if(U!=null){switch((0,i.getNumber)(U,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}R(!1,"invalid yParity")}R(!1,"missing v")}(B.v,B.yParityAndS,B.yParity),J=new x(l,g,S,K);return D&&M(J,d,D),R(B.yParity==null||(0,i.getNumber)(B.yParity,"sig.yParity")===J.yParity,"yParity mismatch"),R(B.yParityAndS==null||B.yParityAndS===J.yParityAndS,"yParityAndS mismatch"),J}};u=new WeakMap,c=new WeakMap,b=new WeakMap,d=new WeakMap;let o=x;return Zt.Signature=o,Zt}var Zs;function Ec(){var s;if(Zs)return Vt;Zs=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.SigningKey=void 0;const e=Mo,i=le(),n=Ja(),a=class a{constructor(h){V(this,s,void 0);(0,i.assertArgument)((0,i.dataLength)(h)===32,"invalid private key","privateKey","[REDACTED]"),M(this,s,(0,i.hexlify)(h))}get privateKey(){return y(this,s)}get publicKey(){return a.computePublicKey(y(this,s))}get compressedPublicKey(){return a.computePublicKey(y(this,s),!0)}sign(h){(0,i.assertArgument)((0,i.dataLength)(h)===32,"invalid digest length","digest",h);const l=e.secp256k1.sign((0,i.getBytesCopy)(h),(0,i.getBytesCopy)(y(this,s)),{lowS:!0});return n.Signature.from({r:(0,i.toBeHex)(l.r,32),s:(0,i.toBeHex)(l.s,32),v:l.recovery?28:27})}computeSharedSecret(h){const l=a.computePublicKey(h);return(0,i.hexlify)(e.secp256k1.getSharedSecret((0,i.getBytesCopy)(y(this,s)),(0,i.getBytes)(l),!1))}static computePublicKey(h,l){let t=(0,i.getBytes)(h,"key");if(t.length===32){const u=e.secp256k1.getPublicKey(t,!!l);return(0,i.hexlify)(u)}if(t.length===64){const u=new Uint8Array(65);u[0]=4,u.set(t,1),t=u}const o=e.secp256k1.ProjectivePoint.fromHex(t);return(0,i.hexlify)(o.toRawBytes(l))}static recoverPublicKey(h,l){(0,i.assertArgument)((0,i.dataLength)(h)===32,"invalid digest length","digest",h);const t=n.Signature.from(l);let o=e.secp256k1.Signature.fromCompact((0,i.getBytesCopy)((0,i.concat)([t.r,t.s])));o=o.addRecoveryBit(t.yParity);const u=o.recoverPublicKey((0,i.getBytesCopy)(h));return(0,i.assertArgument)(u!=null,"invalid signautre for digest","signature",l),"0x"+u.toHex(!1)}static addPoints(h,l,t){const o=e.secp256k1.ProjectivePoint.fromHex(a.computePublicKey(h).substring(2)),u=e.secp256k1.ProjectivePoint.fromHex(a.computePublicKey(l).substring(2));return"0x"+o.add(u).toHex(!!t)}};s=new WeakMap;let r=a;return Vt.SigningKey=r,Vt}var Xs;function Te(){return Xs||(Xs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lock=e.Signature=e.SigningKey=e.scryptSync=e.scrypt=e.pbkdf2=e.sha512=e.sha256=e.ripemd160=e.keccak256=e.randomBytes=e.computeHmac=void 0;const i=yc();Object.defineProperty(e,"computeHmac",{enumerable:!0,get:function(){return i.computeHmac}});const n=mc();Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return n.keccak256}});const r=pc();Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return r.ripemd160}});const s=xc();Object.defineProperty(e,"pbkdf2",{enumerable:!0,get:function(){return s.pbkdf2}});const a=wc();Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return a.randomBytes}});const f=Pc();Object.defineProperty(e,"scrypt",{enumerable:!0,get:function(){return f.scrypt}}),Object.defineProperty(e,"scryptSync",{enumerable:!0,get:function(){return f.scryptSync}});const h=vc();Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return h.sha256}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return h.sha512}});var l=Ec();Object.defineProperty(e,"SigningKey",{enumerable:!0,get:function(){return l.SigningKey}});var t=Ja();Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return t.Signature}});function o(){i.computeHmac.lock(),n.keccak256.lock(),s.pbkdf2.lock(),a.randomBytes.lock(),r.ripemd160.lock(),f.scrypt.lock(),f.scryptSync.lock(),h.sha256.lock(),h.sha512.lock(),a.randomBytes.lock()}e.lock=o}(Pn)),Pn}var Ys;function ss(){if(Ys)return lt;Ys=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.getIcapAddress=lt.getAddress=void 0;const e=Te(),i=le(),n=BigInt(0),r=BigInt(36);function s(c){c=c.toLowerCase();const b=c.substring(2).split(""),d=new Uint8Array(40);for(let I=0;I<40;I++)d[I]=b[I].charCodeAt(0);const x=(0,i.getBytes)((0,e.keccak256)(d));for(let I=0;I<40;I+=2)x[I>>1]>>4>=8&&(b[I]=b[I].toUpperCase()),(x[I>>1]&15)>=8&&(b[I+1]=b[I+1].toUpperCase());return"0x"+b.join("")}const a={};for(let c=0;c<10;c++)a[String(c)]=String(c);for(let c=0;c<26;c++)a[String.fromCharCode(65+c)]=String(10+c);const f=15;function h(c){c=c.toUpperCase(),c=c.substring(4)+c.substring(0,2)+"00";let b=c.split("").map(x=>a[x]).join("");for(;b.length>=f;){let x=b.substring(0,f);b=parseInt(x,10)%97+b.substring(x.length)}let d=String(98-parseInt(b,10)%97);for(;d.length<2;)d="0"+d;return d}const l=function(){const c={};for(let b=0;b<36;b++){const d="0123456789abcdefghijklmnopqrstuvwxyz"[b];c[d]=BigInt(b)}return c}();function t(c){c=c.toLowerCase();let b=n;for(let d=0;d<c.length;d++)b=b*r+l[c[d]];return b}function o(c){if((0,i.assertArgument)(typeof c=="string","invalid address","address",c),c.match(/^(0x)?[0-9a-fA-F]{40}$/)){c.startsWith("0x")||(c="0x"+c);const b=s(c);return(0,i.assertArgument)(!c.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||b===c,"bad address checksum","address",c),b}if(c.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,i.assertArgument)(c.substring(2,4)===h(c),"bad icap checksum","address",c);let b=t(c.substring(4)).toString(16);for(;b.length<40;)b="0"+b;return s("0x"+b)}(0,i.assertArgument)(!1,"invalid address","address",c)}lt.getAddress=o;function u(c){let b=BigInt(o(c)).toString(36).toUpperCase();for(;b.length<30;)b="0"+b;return"XE"+h("XE00"+b)+b}return lt.getIcapAddress=u,lt}var bt={},Qs;function Nc(){if(Qs)return bt;Qs=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.getCreate2Address=bt.getCreateAddress=void 0;const e=Te(),i=le(),n=ss();function r(a){const f=(0,n.getAddress)(a.from);let l=(0,i.getBigInt)(a.nonce,"tx.nonce").toString(16);return l==="0"?l="0x":l.length%2?l="0x0"+l:l="0x"+l,(0,n.getAddress)((0,i.dataSlice)((0,e.keccak256)((0,i.encodeRlp)([f,l])),12))}bt.getCreateAddress=r;function s(a,f,h){const l=(0,n.getAddress)(a),t=(0,i.getBytes)(f,"salt"),o=(0,i.getBytes)(h,"initCodeHash");return(0,i.assertArgument)(t.length===32,"salt must be 32 bytes","salt",f),(0,i.assertArgument)(o.length===32,"initCodeHash must be 32 bytes","initCodeHash",h),(0,n.getAddress)((0,i.dataSlice)((0,e.keccak256)((0,i.concat)(["0xff",l,t,o])),12))}return bt.getCreate2Address=s,bt}var Ye={},ei;function Tc(){if(ei)return Ye;ei=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.resolveAddress=Ye.isAddress=Ye.isAddressable=void 0;const e=le(),i=ss();function n(f){return f&&typeof f.getAddress=="function"}Ye.isAddressable=n;function r(f){try{return(0,i.getAddress)(f),!0}catch{}return!1}Ye.isAddress=r;async function s(f,h){const l=await h;return(l==null||l==="0x0000000000000000000000000000000000000000")&&((0,e.assert)(typeof f!="string","unconfigured name","UNCONFIGURED_NAME",{value:f}),(0,e.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",f)),(0,i.getAddress)(l)}function a(f,h){if(typeof f=="string")return f.match(/^0x[0-9a-f]{40}$/i)?(0,i.getAddress)(f):((0,e.assert)(h!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),s(f,h.resolveName(f)));if(n(f))return s(f,f.getAddress());if(f&&typeof f.then=="function")return s(f,f);(0,e.assertArgument)(!1,"unsupported addressable value","target",f)}return Ye.resolveAddress=a,Ye}var ti;function Ee(){return ti||(ti=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.resolveAddress=e.isAddress=e.isAddressable=e.getCreate2Address=e.getCreateAddress=e.getIcapAddress=e.getAddress=void 0;var i=ss();Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return i.getAddress}}),Object.defineProperty(e,"getIcapAddress",{enumerable:!0,get:function(){return i.getIcapAddress}});var n=Nc();Object.defineProperty(e,"getCreateAddress",{enumerable:!0,get:function(){return n.getCreateAddress}}),Object.defineProperty(e,"getCreate2Address",{enumerable:!0,get:function(){return n.getCreate2Address}});var r=Tc();Object.defineProperty(e,"isAddressable",{enumerable:!0,get:function(){return r.isAddressable}}),Object.defineProperty(e,"isAddress",{enumerable:!0,get:function(){return r.isAddress}}),Object.defineProperty(e,"resolveAddress",{enumerable:!0,get:function(){return r.resolveAddress}})}(wn)),wn}var Qt={},ri;function st(){var f;if(ri)return Qt;ri=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.Typed=void 0;const e=le(),i={};function n(l,t){let o=!1;return t<0&&(o=!0,t*=-1),new a(i,`${o?"":"u"}int${t}`,l,{signed:o,width:t})}function r(l,t){return new a(i,`bytes${t||""}`,l,{size:t})}const s=Symbol.for("_ethers_typed"),h=class h{constructor(t,o,u,c){z(this,"type");z(this,"value");V(this,f,void 0);z(this,"_typedSymbol");c==null&&(c=null),(0,e.assertPrivate)(i,t,"Typed"),(0,e.defineProperties)(this,{_typedSymbol:s,type:o,value:u}),M(this,f,c),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return y(this,f)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return y(this,f)===!0?-1:y(this,f)===!1?this.value.length:null}static from(t,o){return new h(i,t,o)}static uint8(t){return n(t,8)}static uint16(t){return n(t,16)}static uint24(t){return n(t,24)}static uint32(t){return n(t,32)}static uint40(t){return n(t,40)}static uint48(t){return n(t,48)}static uint56(t){return n(t,56)}static uint64(t){return n(t,64)}static uint72(t){return n(t,72)}static uint80(t){return n(t,80)}static uint88(t){return n(t,88)}static uint96(t){return n(t,96)}static uint104(t){return n(t,104)}static uint112(t){return n(t,112)}static uint120(t){return n(t,120)}static uint128(t){return n(t,128)}static uint136(t){return n(t,136)}static uint144(t){return n(t,144)}static uint152(t){return n(t,152)}static uint160(t){return n(t,160)}static uint168(t){return n(t,168)}static uint176(t){return n(t,176)}static uint184(t){return n(t,184)}static uint192(t){return n(t,192)}static uint200(t){return n(t,200)}static uint208(t){return n(t,208)}static uint216(t){return n(t,216)}static uint224(t){return n(t,224)}static uint232(t){return n(t,232)}static uint240(t){return n(t,240)}static uint248(t){return n(t,248)}static uint256(t){return n(t,256)}static uint(t){return n(t,256)}static int8(t){return n(t,-8)}static int16(t){return n(t,-16)}static int24(t){return n(t,-24)}static int32(t){return n(t,-32)}static int40(t){return n(t,-40)}static int48(t){return n(t,-48)}static int56(t){return n(t,-56)}static int64(t){return n(t,-64)}static int72(t){return n(t,-72)}static int80(t){return n(t,-80)}static int88(t){return n(t,-88)}static int96(t){return n(t,-96)}static int104(t){return n(t,-104)}static int112(t){return n(t,-112)}static int120(t){return n(t,-120)}static int128(t){return n(t,-128)}static int136(t){return n(t,-136)}static int144(t){return n(t,-144)}static int152(t){return n(t,-152)}static int160(t){return n(t,-160)}static int168(t){return n(t,-168)}static int176(t){return n(t,-176)}static int184(t){return n(t,-184)}static int192(t){return n(t,-192)}static int200(t){return n(t,-200)}static int208(t){return n(t,-208)}static int216(t){return n(t,-216)}static int224(t){return n(t,-224)}static int232(t){return n(t,-232)}static int240(t){return n(t,-240)}static int248(t){return n(t,-248)}static int256(t){return n(t,-256)}static int(t){return n(t,-256)}static bytes1(t){return r(t,1)}static bytes2(t){return r(t,2)}static bytes3(t){return r(t,3)}static bytes4(t){return r(t,4)}static bytes5(t){return r(t,5)}static bytes6(t){return r(t,6)}static bytes7(t){return r(t,7)}static bytes8(t){return r(t,8)}static bytes9(t){return r(t,9)}static bytes10(t){return r(t,10)}static bytes11(t){return r(t,11)}static bytes12(t){return r(t,12)}static bytes13(t){return r(t,13)}static bytes14(t){return r(t,14)}static bytes15(t){return r(t,15)}static bytes16(t){return r(t,16)}static bytes17(t){return r(t,17)}static bytes18(t){return r(t,18)}static bytes19(t){return r(t,19)}static bytes20(t){return r(t,20)}static bytes21(t){return r(t,21)}static bytes22(t){return r(t,22)}static bytes23(t){return r(t,23)}static bytes24(t){return r(t,24)}static bytes25(t){return r(t,25)}static bytes26(t){return r(t,26)}static bytes27(t){return r(t,27)}static bytes28(t){return r(t,28)}static bytes29(t){return r(t,29)}static bytes30(t){return r(t,30)}static bytes31(t){return r(t,31)}static bytes32(t){return r(t,32)}static address(t){return new h(i,"address",t)}static bool(t){return new h(i,"bool",!!t)}static bytes(t){return new h(i,"bytes",t)}static string(t){return new h(i,"string",t)}static array(t,o){throw new Error("not implemented yet")}static tuple(t,o){throw new Error("not implemented yet")}static overrides(t){return new h(i,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===s}static dereference(t,o){if(h.isTyped(t)){if(t.type!==o)throw new Error(`invalid type: expecetd ${o}, got ${t.type}`);return t.value}return t}};f=new WeakMap;let a=h;return Qt.Typed=a,Qt}var ni;function Rc(){if(ni)return qt;ni=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.AddressCoder=void 0;const e=Ee(),i=Vr(),n=st(),r=We();class s extends r.Coder{constructor(f){super("address","address",f,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(f,h){let l=n.Typed.dereference(h,"string");try{l=(0,e.getAddress)(l)}catch(t){return this._throwError(t.message,h)}return f.writeValue(l)}decode(f){return(0,e.getAddress)((0,i.toBeHex)(f.readValue(),20))}}return qt.AddressCoder=s,qt}var Qe={},er={},si;function Sc(){if(si)return er;si=1,Object.defineProperty(er,"__esModule",{value:!0}),er.AnonymousCoder=void 0;const e=We();class i extends e.Coder{constructor(s){super(s.name,s.type,"_",s.dynamic);z(this,"coder");this.coder=s}defaultValue(){return this.coder.defaultValue()}encode(s,a){return this.coder.encode(s,a)}decode(s){return this.coder.decode(s)}}return er.AnonymousCoder=i,er}var ii;function Wa(){if(ii)return Qe;ii=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.ArrayCoder=Qe.unpack=Qe.pack=void 0;const e=le(),i=st(),n=We(),r=Sc();function s(h,l,t){let o=[];if(Array.isArray(t))o=t;else if(t&&typeof t=="object"){let x={};o=l.map(I=>{const B=I.localName;return(0,e.assert)(B,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:I},value:t}),(0,e.assert)(!x[B],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:I},value:t}),x[B]=!0,t[B]})}else(0,e.assertArgument)(!1,"invalid tuple value","tuple",t);(0,e.assertArgument)(l.length===o.length,"types/value length mismatch","tuple",t);let u=new n.Writer,c=new n.Writer,b=[];l.forEach((x,I)=>{let B=o[I];if(x.dynamic){let R=c.length;x.encode(c,B);let w=u.writeUpdatableValue();b.push(g=>{w(g+R)})}else x.encode(u,B)}),b.forEach(x=>{x(u.length)});let d=h.appendWriter(u);return d+=h.appendWriter(c),d}Qe.pack=s;function a(h,l){let t=[],o=[],u=h.subReader(0);return l.forEach(c=>{let b=null;if(c.dynamic){let d=h.readIndex(),x=u.subReader(d);try{b=c.decode(x)}catch(I){if((0,e.isError)(I,"BUFFER_OVERRUN"))throw I;b=I,b.baseType=c.name,b.name=c.localName,b.type=c.type}}else try{b=c.decode(h)}catch(d){if((0,e.isError)(d,"BUFFER_OVERRUN"))throw d;b=d,b.baseType=c.name,b.name=c.localName,b.type=c.type}if(b==null)throw new Error("investigate");t.push(b),o.push(c.localName||null)}),n.Result.fromItems(t,o)}Qe.unpack=a;class f extends n.Coder{constructor(t,o,u){const c=t.type+"["+(o>=0?o:"")+"]",b=o===-1||t.dynamic;super("array",c,u,b);z(this,"coder");z(this,"length");(0,e.defineProperties)(this,{coder:t,length:o})}defaultValue(){const t=this.coder.defaultValue(),o=[];for(let u=0;u<this.length;u++)o.push(t);return o}encode(t,o){const u=i.Typed.dereference(o,"array");Array.isArray(u)||this._throwError("expected array value",u);let c=this.length;c===-1&&(c=u.length,t.writeValue(u.length)),(0,e.assertArgumentCount)(u.length,c,"coder array"+(this.localName?" "+this.localName:""));let b=[];for(let d=0;d<u.length;d++)b.push(this.coder);return s(t,b,u)}decode(t){let o=this.length;o===-1&&(o=t.readIndex(),(0,e.assert)(o*n.WordSize<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:o*n.WordSize,length:t.dataLength}));let u=[];for(let c=0;c<o;c++)u.push(new r.AnonymousCoder(this.coder));return a(t,u)}}return Qe.ArrayCoder=f,Qe}var tr={},ai;function jc(){if(ai)return tr;ai=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.BooleanCoder=void 0;const e=st(),i=We();class n extends i.Coder{constructor(s){super("bool","bool",s,!1)}defaultValue(){return!1}encode(s,a){const f=e.Typed.dereference(a,"bool");return s.writeValue(f?1:0)}decode(s){return!!s.readValue()}}return tr.BooleanCoder=n,tr}var gt={},oi;function za(){if(oi)return gt;oi=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.BytesCoder=gt.DynamicBytesCoder=void 0;const e=le(),i=We();class n extends i.Coder{constructor(a,f){super(a,a,f,!0)}defaultValue(){return"0x"}encode(a,f){f=(0,e.getBytesCopy)(f);let h=a.writeValue(f.length);return h+=a.writeBytes(f),h}decode(a){return a.readBytes(a.readIndex(),!0)}}gt.DynamicBytesCoder=n;class r extends n{constructor(a){super("bytes",a)}decode(a){return(0,e.hexlify)(super.decode(a))}}return gt.BytesCoder=r,gt}var rr={},ci;function Cc(){if(ci)return rr;ci=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.FixedBytesCoder=void 0;const e=le(),i=st(),n=We();class r extends n.Coder{constructor(f,h){let l="bytes"+String(f);super(l,l,h,!1);z(this,"size");(0,e.defineProperties)(this,{size:f},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(f,h){let l=(0,e.getBytesCopy)(i.Typed.dereference(h,this.type));return l.length!==this.size&&this._throwError("incorrect data length",h),f.writeBytes(l)}decode(f){return(0,e.hexlify)(f.readBytes(this.size))}}return rr.FixedBytesCoder=r,rr}var nr={},ui;function Bc(){if(ui)return nr;ui=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.NullCoder=void 0;const e=We(),i=new Uint8Array([]);class n extends e.Coder{constructor(s){super("null","",s,!1)}defaultValue(){return null}encode(s,a){return a!=null&&this._throwError("not null",a),s.writeBytes(i)}decode(s){return s.readBytes(0),null}}return nr.NullCoder=n,nr}var sr={},li;function Ic(){if(li)return sr;li=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.NumberCoder=void 0;const e=le(),i=st(),n=We(),r=BigInt(0),s=BigInt(1),a=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class f extends n.Coder{constructor(t,o,u){const c=(o?"int":"uint")+t*8;super(c,c,u,!1);z(this,"size");z(this,"signed");(0,e.defineProperties)(this,{size:t,signed:o},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,o){let u=(0,e.getBigInt)(i.Typed.dereference(o,this.type)),c=(0,e.mask)(a,n.WordSize*8);if(this.signed){let b=(0,e.mask)(c,this.size*8-1);(u>b||u<-(b+s))&&this._throwError("value out-of-bounds",o),u=(0,e.toTwos)(u,8*n.WordSize)}else(u<r||u>(0,e.mask)(c,this.size*8))&&this._throwError("value out-of-bounds",o);return t.writeValue(u)}decode(t){let o=(0,e.mask)(t.readValue(),this.size*8);return this.signed&&(o=(0,e.fromTwos)(o,this.size*8)),o}}return sr.NumberCoder=f,sr}var ir={},fi;function Fc(){if(fi)return ir;fi=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.StringCoder=void 0;const e=ns(),i=st(),n=za();class r extends n.DynamicBytesCoder{constructor(a){super("string",a)}defaultValue(){return""}encode(a,f){return super.encode(a,(0,e.toUtf8Bytes)(i.Typed.dereference(f,"string")))}decode(a){return(0,e.toUtf8String)(super.decode(a))}}return ir.StringCoder=r,ir}var ar={},di;function Uc(){if(di)return ar;di=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.TupleCoder=void 0;const e=Nt(),i=st(),n=We(),r=Wa();class s extends n.Coder{constructor(h,l){let t=!1;const o=[];h.forEach(c=>{c.dynamic&&(t=!0),o.push(c.type)});const u="tuple("+o.join(",")+")";super("tuple",u,l,t);z(this,"coders");(0,e.defineProperties)(this,{coders:Object.freeze(h.slice())})}defaultValue(){const h=[];this.coders.forEach(t=>{h.push(t.defaultValue())});const l=this.coders.reduce((t,o)=>{const u=o.localName;return u&&(t[u]||(t[u]=0),t[u]++),t},{});return this.coders.forEach((t,o)=>{let u=t.localName;!u||l[u]!==1||(u==="length"&&(u="_length"),h[u]==null&&(h[u]=h[o]))}),Object.freeze(h)}encode(h,l){const t=i.Typed.dereference(l,"tuple");return(0,r.pack)(h,this.coders,t)}decode(h){return(0,r.unpack)(h,this.coders)}}return ar.TupleCoder=s,ar}var Oe={},_n={},or={},hi;function Va(){if(hi)return or;hi=1,Object.defineProperty(or,"__esModule",{value:!0}),or.id=void 0;const e=Te(),i=le();function n(r){return(0,e.keccak256)((0,i.toUtf8Bytes)(r))}return or.id=n,or}var Ge={},bi;function Mc(){if(bi)return Ge;bi=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.dnsEncode=Ge.namehash=Ge.isValidName=Ge.ensNormalize=void 0;const e=Te(),i=le(),n=To,r=new Uint8Array(32);r.fill(0);function s(o){return(0,i.assertArgument)(o.length!==0,"invalid ENS name; empty component","comp",o),o}function a(o){const u=(0,i.toUtf8Bytes)(f(o)),c=[];if(o.length===0)return c;let b=0;for(let d=0;d<u.length;d++)u[d]===46&&(c.push(s(u.slice(b,d))),b=d+1);return(0,i.assertArgument)(b<u.length,"invalid ENS name; empty component","name",o),c.push(s(u.slice(b))),c}function f(o){try{if(o.length===0)throw new Error("empty label");return(0,n.ens_normalize)(o)}catch(u){(0,i.assertArgument)(!1,`invalid ENS name (${u.message})`,"name",o)}}Ge.ensNormalize=f;function h(o){try{return a(o).length!==0}catch{}return!1}Ge.isValidName=h;function l(o){(0,i.assertArgument)(typeof o=="string","invalid ENS name; not a string","name",o),(0,i.assertArgument)(o.length,"invalid ENS name (empty label)","name",o);let u=r;const c=a(o);for(;c.length;)u=(0,e.keccak256)((0,i.concat)([u,(0,e.keccak256)(c.pop())]));return(0,i.hexlify)(u)}Ge.namehash=l;function t(o){return(0,i.hexlify)((0,i.concat)(a(o).map(u=>{if(u.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const c=new Uint8Array(u.length+1);return c.set(u,1),c[0]=c.length-1,c})))+"00"}return Ge.dnsEncode=t,Ge}var yt={},On={},cr={},gi;function Za(){if(gi)return cr;gi=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.accessListify=void 0;const e=Ee(),i=le();function n(s,a){return{address:(0,e.getAddress)(s),storageKeys:a.map((f,h)=>((0,i.assertArgument)((0,i.isHexString)(f,32),"invalid slot",`storageKeys[${h}]`,f),f.toLowerCase()))}}function r(s){if(Array.isArray(s))return s.map((f,h)=>Array.isArray(f)?((0,i.assertArgument)(f.length===2,"invalid slot set",`value[${h}]`,f),n(f[0],f[1])):((0,i.assertArgument)(f!=null&&typeof f=="object","invalid address-slot set","value",s),n(f.address,f.storageKeys)));(0,i.assertArgument)(s!=null&&typeof s=="object","invalid access list","value",s);const a=Object.keys(s).map(f=>{const h=s[f].reduce((l,t)=>(l[t]=!0,l),{});return n(f,Object.keys(h).sort())});return a.sort((f,h)=>f.address.localeCompare(h.address)),a}return cr.accessListify=r,cr}var mt={},yi;function Xa(){if(yi)return mt;yi=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.recoverAddress=mt.computeAddress=void 0;const e=Ee(),i=Te();function n(s){let a;return typeof s=="string"?a=i.SigningKey.computePublicKey(s,!1):a=s.publicKey,(0,e.getAddress)((0,i.keccak256)("0x"+a.substring(4)).substring(26))}mt.computeAddress=n;function r(s,a){return n(i.SigningKey.recoverPublicKey(s,a))}return mt.recoverAddress=r,mt}var ur={},mi;function Lc(){var _,F,U,E,T,m,j,P,L,k,q,A;if(mi)return ur;mi=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.Transaction=void 0;const e=Ee(),i=Te(),n=le(),r=Za(),s=Xa(),a=BigInt(0),f=BigInt(2),h=BigInt(27),l=BigInt(28),t=BigInt(35),o=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function u(O){return O==="0x"?null:(0,e.getAddress)(O)}function c(O,v){try{return(0,r.accessListify)(O)}catch($){(0,n.assertArgument)(!1,$.message,v,O)}}function b(O,v){return O==="0x"?0:(0,n.getNumber)(O,v)}function d(O,v){if(O==="0x")return a;const $=(0,n.getBigInt)(O,v);return(0,n.assertArgument)($<=o,"value exceeds uint size",v,$),$}function x(O,v){const $=(0,n.getBigInt)(O,"value"),X=(0,n.toBeArray)($);return(0,n.assertArgument)(X.length<=32,"value too large",`tx.${v}`,$),X}function I(O){return(0,r.accessListify)(O).map(v=>[v.address,v.storageKeys])}function B(O){const v=(0,n.decodeRlp)(O);(0,n.assertArgument)(Array.isArray(v)&&(v.length===9||v.length===6),"invalid field count for legacy transaction","data",O);const $={type:0,nonce:b(v[0],"nonce"),gasPrice:d(v[1],"gasPrice"),gasLimit:d(v[2],"gasLimit"),to:u(v[3]),value:d(v[4],"value"),data:(0,n.hexlify)(v[5]),chainId:a};if(v.length===6)return $;const X=d(v[6],"v"),Y=d(v[7],"r"),ie=d(v[8],"s");if(Y===a&&ie===a)$.chainId=X;else{let te=(X-t)/f;te<a&&(te=a),$.chainId=te,(0,n.assertArgument)(te!==a||X===h||X===l,"non-canonical legacy v","v",v[6]),$.signature=i.Signature.from({r:(0,n.zeroPadValue)(v[7],32),s:(0,n.zeroPadValue)(v[8],32),v:X}),$.hash=(0,i.keccak256)(O)}return $}function R(O,v){const $=[x(O.nonce||0,"nonce"),x(O.gasPrice||0,"gasPrice"),x(O.gasLimit||0,"gasLimit"),O.to!=null?(0,e.getAddress)(O.to):"0x",x(O.value||0,"value"),O.data||"0x"];let X=a;if(O.chainId!=a)X=(0,n.getBigInt)(O.chainId,"tx.chainId"),(0,n.assertArgument)(!v||v.networkV==null||v.legacyChainId===X,"tx.chainId/sig.v mismatch","sig",v);else if(O.signature){const ie=O.signature.legacyChainId;ie!=null&&(X=ie)}if(!v)return X!==a&&($.push((0,n.toBeArray)(X)),$.push("0x"),$.push("0x")),(0,n.encodeRlp)($);let Y=BigInt(27+v.yParity);return X!==a?Y=i.Signature.getChainIdV(X,v.v):BigInt(v.v)!==Y&&(0,n.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",v),$.push((0,n.toBeArray)(Y)),$.push((0,n.toBeArray)(v.r)),$.push((0,n.toBeArray)(v.s)),(0,n.encodeRlp)($)}function w(O,v){let $;try{if($=b(v[0],"yParity"),$!==0&&$!==1)throw new Error("bad yParity")}catch{(0,n.assertArgument)(!1,"invalid yParity","yParity",v[0])}const X=(0,n.zeroPadValue)(v[1],32),Y=(0,n.zeroPadValue)(v[2],32),ie=i.Signature.from({r:X,s:Y,yParity:$});O.signature=ie}function g(O){const v=(0,n.decodeRlp)((0,n.getBytes)(O).slice(1));(0,n.assertArgument)(Array.isArray(v)&&(v.length===9||v.length===12),"invalid field count for transaction type: 2","data",(0,n.hexlify)(O));const $=d(v[2],"maxPriorityFeePerGas"),X=d(v[3],"maxFeePerGas"),Y={type:2,chainId:d(v[0],"chainId"),nonce:b(v[1],"nonce"),maxPriorityFeePerGas:$,maxFeePerGas:X,gasPrice:null,gasLimit:d(v[4],"gasLimit"),to:u(v[5]),value:d(v[6],"value"),data:(0,n.hexlify)(v[7]),accessList:c(v[8],"accessList")};return v.length===9||(Y.hash=(0,i.keccak256)(O),w(Y,v.slice(9))),Y}function S(O,v){const $=[x(O.chainId||0,"chainId"),x(O.nonce||0,"nonce"),x(O.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),x(O.maxFeePerGas||0,"maxFeePerGas"),x(O.gasLimit||0,"gasLimit"),O.to!=null?(0,e.getAddress)(O.to):"0x",x(O.value||0,"value"),O.data||"0x",I(O.accessList||[])];return v&&($.push(x(v.yParity,"yParity")),$.push((0,n.toBeArray)(v.r)),$.push((0,n.toBeArray)(v.s))),(0,n.concat)(["0x02",(0,n.encodeRlp)($)])}function D(O){const v=(0,n.decodeRlp)((0,n.getBytes)(O).slice(1));(0,n.assertArgument)(Array.isArray(v)&&(v.length===8||v.length===11),"invalid field count for transaction type: 1","data",(0,n.hexlify)(O));const $={type:1,chainId:d(v[0],"chainId"),nonce:b(v[1],"nonce"),gasPrice:d(v[2],"gasPrice"),gasLimit:d(v[3],"gasLimit"),to:u(v[4]),value:d(v[5],"value"),data:(0,n.hexlify)(v[6]),accessList:c(v[7],"accessList")};return v.length===8||($.hash=(0,i.keccak256)(O),w($,v.slice(8))),$}function K(O,v){const $=[x(O.chainId||0,"chainId"),x(O.nonce||0,"nonce"),x(O.gasPrice||0,"gasPrice"),x(O.gasLimit||0,"gasLimit"),O.to!=null?(0,e.getAddress)(O.to):"0x",x(O.value||0,"value"),O.data||"0x",I(O.accessList||[])];return v&&($.push(x(v.yParity,"recoveryParam")),$.push((0,n.toBeArray)(v.r)),$.push((0,n.toBeArray)(v.s))),(0,n.concat)(["0x01",(0,n.encodeRlp)($)])}const N=class N{constructor(){V(this,_,void 0);V(this,F,void 0);V(this,U,void 0);V(this,E,void 0);V(this,T,void 0);V(this,m,void 0);V(this,j,void 0);V(this,P,void 0);V(this,L,void 0);V(this,k,void 0);V(this,q,void 0);V(this,A,void 0);M(this,_,null),M(this,F,null),M(this,E,0),M(this,T,BigInt(0)),M(this,m,null),M(this,j,null),M(this,P,null),M(this,U,"0x"),M(this,L,BigInt(0)),M(this,k,BigInt(0)),M(this,q,null),M(this,A,null)}get type(){return y(this,_)}set type(v){switch(v){case null:M(this,_,null);break;case 0:case"legacy":M(this,_,0);break;case 1:case"berlin":case"eip-2930":M(this,_,1);break;case 2:case"london":case"eip-1559":M(this,_,2);break;default:(0,n.assertArgument)(!1,"unsupported transaction type","type",v)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return y(this,F)}set to(v){M(this,F,v==null?null:(0,e.getAddress)(v))}get nonce(){return y(this,E)}set nonce(v){M(this,E,(0,n.getNumber)(v,"value"))}get gasLimit(){return y(this,T)}set gasLimit(v){M(this,T,(0,n.getBigInt)(v))}get gasPrice(){const v=y(this,m);return v==null&&(this.type===0||this.type===1)?a:v}set gasPrice(v){M(this,m,v==null?null:(0,n.getBigInt)(v,"gasPrice"))}get maxPriorityFeePerGas(){const v=y(this,j);return v??(this.type===2?a:null)}set maxPriorityFeePerGas(v){M(this,j,v==null?null:(0,n.getBigInt)(v,"maxPriorityFeePerGas"))}get maxFeePerGas(){const v=y(this,P);return v??(this.type===2?a:null)}set maxFeePerGas(v){M(this,P,v==null?null:(0,n.getBigInt)(v,"maxFeePerGas"))}get data(){return y(this,U)}set data(v){M(this,U,(0,n.hexlify)(v))}get value(){return y(this,L)}set value(v){M(this,L,(0,n.getBigInt)(v,"value"))}get chainId(){return y(this,k)}set chainId(v){M(this,k,(0,n.getBigInt)(v))}get signature(){return y(this,q)||null}set signature(v){M(this,q,v==null?null:i.Signature.from(v))}get accessList(){const v=y(this,A)||null;return v??(this.type===1||this.type===2?[]:null)}set accessList(v){M(this,A,v==null?null:(0,r.accessListify)(v))}get hash(){return this.signature==null?null:(0,i.keccak256)(this.serialized)}get unsignedHash(){return(0,i.keccak256)(this.unsignedSerialized)}get from(){return this.signature==null?null:(0,s.recoverAddress)(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:i.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){switch((0,n.assert)(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return R(this,this.signature);case 1:return K(this,this.signature);case 2:return S(this,this.signature)}(0,n.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return R(this);case 1:return K(this);case 2:return S(this)}(0,n.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const v=this.gasPrice!=null,$=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,X=this.accessList!=null;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&(0,n.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,n.assert)(!$||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,n.assert)(this.type!==0||!X,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const Y=[];return this.type!=null?Y.push(this.type):$?Y.push(2):v?(Y.push(1),X||Y.push(0)):X?(Y.push(1),Y.push(2)):(Y.push(0),Y.push(1),Y.push(2)),Y.sort(),Y}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}clone(){return N.from(this)}toJSON(){const v=$=>$==null?null:$.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:v(this.gasLimit),gasPrice:v(this.gasPrice),maxPriorityFeePerGas:v(this.maxPriorityFeePerGas),maxFeePerGas:v(this.maxFeePerGas),value:v(this.value),chainId:v(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(v){if(v==null)return new N;if(typeof v=="string"){const X=(0,n.getBytes)(v);if(X[0]>=127)return N.from(B(X));switch(X[0]){case 1:return N.from(D(X));case 2:return N.from(g(X))}(0,n.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const $=new N;return v.type!=null&&($.type=v.type),v.to!=null&&($.to=v.to),v.nonce!=null&&($.nonce=v.nonce),v.gasLimit!=null&&($.gasLimit=v.gasLimit),v.gasPrice!=null&&($.gasPrice=v.gasPrice),v.maxPriorityFeePerGas!=null&&($.maxPriorityFeePerGas=v.maxPriorityFeePerGas),v.maxFeePerGas!=null&&($.maxFeePerGas=v.maxFeePerGas),v.data!=null&&($.data=v.data),v.value!=null&&($.value=v.value),v.chainId!=null&&($.chainId=v.chainId),v.signature!=null&&($.signature=i.Signature.from(v.signature)),v.accessList!=null&&($.accessList=v.accessList),v.hash!=null&&((0,n.assertArgument)($.isSigned(),"unsigned transaction cannot define hash","tx",v),(0,n.assertArgument)($.hash===v.hash,"hash mismatch","tx",v)),v.from!=null&&((0,n.assertArgument)($.isSigned(),"unsigned transaction cannot define from","tx",v),(0,n.assertArgument)($.from.toLowerCase()===(v.from||"").toLowerCase(),"from mismatch","tx",v)),$}};_=new WeakMap,F=new WeakMap,U=new WeakMap,E=new WeakMap,T=new WeakMap,m=new WeakMap,j=new WeakMap,P=new WeakMap,L=new WeakMap,k=new WeakMap,q=new WeakMap,A=new WeakMap;let J=N;return ur.Transaction=J,ur}var pi;function Me(){return pi||(pi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=e.recoverAddress=e.computeAddress=e.accessListify=void 0;var i=Za();Object.defineProperty(e,"accessListify",{enumerable:!0,get:function(){return i.accessListify}});var n=Xa();Object.defineProperty(e,"computeAddress",{enumerable:!0,get:function(){return n.computeAddress}}),Object.defineProperty(e,"recoverAddress",{enumerable:!0,get:function(){return n.recoverAddress}});var r=Lc();Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return r.Transaction}})}(On)),On}var xi;function Dc(){if(xi)return yt;xi=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.verifyMessage=yt.hashMessage=void 0;const e=Te(),i=Zr(),n=Me(),r=le();function s(f){return typeof f=="string"&&(f=(0,r.toUtf8Bytes)(f)),(0,e.keccak256)((0,r.concat)([(0,r.toUtf8Bytes)(i.MessagePrefix),(0,r.toUtf8Bytes)(String(f.length)),f]))}yt.hashMessage=s;function a(f,h){const l=s(f);return(0,n.recoverAddress)(l,h)}return yt.verifyMessage=a,yt}var et={},wi;function $c(){if(wi)return et;wi=1,Object.defineProperty(et,"__esModule",{value:!0}),et.solidityPackedSha256=et.solidityPackedKeccak256=et.solidityPacked=void 0;const e=Ee(),i=Te(),n=le(),r=new RegExp("^bytes([0-9]+)$"),s=new RegExp("^(u?int)([0-9]*)$"),a=new RegExp("^(.*)\\[([0-9]*)\\]$");function f(o,u,c){switch(o){case"address":return c?(0,n.getBytes)((0,n.zeroPadValue)(u,32)):(0,n.getBytes)((0,e.getAddress)(u));case"string":return(0,n.toUtf8Bytes)(u);case"bytes":return(0,n.getBytes)(u);case"bool":return u=u?"0x01":"0x00",c?(0,n.getBytes)((0,n.zeroPadValue)(u,32)):(0,n.getBytes)(u)}let b=o.match(s);if(b){let d=b[1]==="int",x=parseInt(b[2]||"256");return(0,n.assertArgument)((!b[2]||b[2]===String(x))&&x%8===0&&x!==0&&x<=256,"invalid number type","type",o),c&&(x=256),d&&(u=(0,n.toTwos)(u,x)),(0,n.getBytes)((0,n.zeroPadValue)((0,n.toBeArray)(u),x/8))}if(b=o.match(r),b){const d=parseInt(b[1]);return(0,n.assertArgument)(String(d)===b[1]&&d!==0&&d<=32,"invalid bytes type","type",o),(0,n.assertArgument)((0,n.dataLength)(u)===d,`invalid value for ${o}`,"value",u),c?(0,n.getBytes)((0,n.zeroPadBytes)(u,32)):u}if(b=o.match(a),b&&Array.isArray(u)){const d=b[1],x=parseInt(b[2]||String(u.length));(0,n.assertArgument)(x===u.length,`invalid array length for ${o}`,"value",u);const I=[];return u.forEach(function(B){I.push(f(d,B,!0))}),(0,n.getBytes)((0,n.concat)(I))}(0,n.assertArgument)(!1,"invalid type","type",o)}function h(o,u){(0,n.assertArgument)(o.length===u.length,"wrong number of values; expected ${ types.length }","values",u);const c=[];return o.forEach(function(b,d){c.push(f(b,u[d]))}),(0,n.hexlify)((0,n.concat)(c))}et.solidityPacked=h;function l(o,u){return(0,i.keccak256)(h(o,u))}et.solidityPackedKeccak256=l;function t(o,u){return(0,i.sha256)(h(o,u))}return et.solidityPackedSha256=t,et}var pt={},Pi;function Gc(){var S,D,K,J,Ya;if(Pi)return pt;Pi=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.verifyTypedData=pt.TypedDataEncoder=void 0;const e=Ee(),i=Te(),n=Me(),r=le(),s=Va(),a=new Uint8Array(32);a.fill(0);const f=BigInt(-1),h=BigInt(0),l=BigInt(1),t=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function o(U){const E=(0,r.getBytes)(U),T=E.length%32;return T?(0,r.concat)([E,a.slice(T)]):(0,r.hexlify)(E)}const u=(0,r.toBeHex)(l,32),c=(0,r.toBeHex)(h,32),b={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},d=["name","version","chainId","verifyingContract","salt"];function x(U){return function(E){return(0,r.assertArgument)(typeof E=="string",`invalid domain value for ${JSON.stringify(U)}`,`domain.${U}`,E),E}}const I={name:x("name"),version:x("version"),chainId:function(U){const E=(0,r.getBigInt)(U,"domain.chainId");return(0,r.assertArgument)(E>=0,"invalid chain ID","domain.chainId",U),Number.isSafeInteger(E)?Number(E):(0,r.toQuantity)(E)},verifyingContract:function(U){try{return(0,e.getAddress)(U).toLowerCase()}catch{}(0,r.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",U)},salt:function(U){const E=(0,r.getBytes)(U,"domain.salt");return(0,r.assertArgument)(E.length===32,'invalid domain value "salt"',"domain.salt",U),(0,r.hexlify)(E)}};function B(U){{const E=U.match(/^(u?)int(\d*)$/);if(E){const T=E[1]==="",m=parseInt(E[2]||"256");(0,r.assertArgument)(m%8===0&&m!==0&&m<=256&&(E[2]==null||E[2]===String(m)),"invalid numeric width","type",U);const j=(0,r.mask)(t,T?m-1:m),P=T?(j+l)*f:h;return function(L){const k=(0,r.getBigInt)(L,"value");return(0,r.assertArgument)(k>=P&&k<=j,`value out-of-bounds for ${U}`,"value",k),(0,r.toBeHex)(T?(0,r.toTwos)(k,256):k,32)}}}{const E=U.match(/^bytes(\d+)$/);if(E){const T=parseInt(E[1]);return(0,r.assertArgument)(T!==0&&T<=32&&E[1]===String(T),"invalid bytes width","type",U),function(m){const j=(0,r.getBytes)(m);return(0,r.assertArgument)(j.length===T,`invalid length for ${U}`,"value",m),o(m)}}}switch(U){case"address":return function(E){return(0,r.zeroPadValue)((0,e.getAddress)(E),32)};case"bool":return function(E){return E?u:c};case"bytes":return function(E){return(0,i.keccak256)(E)};case"string":return function(E){return(0,s.id)(E)}}return null}function R(U,E){return`${U}(${E.map(({name:T,type:m})=>m+" "+T).join(",")})`}const F=class F{constructor(E){V(this,J);z(this,"primaryType");V(this,S,void 0);V(this,D,void 0);V(this,K,void 0);M(this,S,JSON.stringify(E)),M(this,D,new Map),M(this,K,new Map);const T=new Map,m=new Map,j=new Map;Object.keys(E).forEach(k=>{T.set(k,new Set),m.set(k,[]),j.set(k,new Set)});for(const k in E){const q=new Set;for(const A of E[k]){(0,r.assertArgument)(!q.has(A.name),`duplicate variable name ${JSON.stringify(A.name)} in ${JSON.stringify(k)}`,"types",E),q.add(A.name);const N=A.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;(0,r.assertArgument)(N!==k,`circular type reference to ${JSON.stringify(N)}`,"types",E),!B(N)&&((0,r.assertArgument)(m.has(N),`unknown type ${JSON.stringify(N)}`,"types",E),m.get(N).push(k),T.get(k).add(N))}}const P=Array.from(m.keys()).filter(k=>m.get(k).length===0);(0,r.assertArgument)(P.length!==0,"missing primary type","types",E),(0,r.assertArgument)(P.length===1,`ambiguous primary types or unused types: ${P.map(k=>JSON.stringify(k)).join(", ")}`,"types",E),(0,r.defineProperties)(this,{primaryType:P[0]});function L(k,q){(0,r.assertArgument)(!q.has(k),`circular type reference to ${JSON.stringify(k)}`,"types",E),q.add(k);for(const A of T.get(k))if(m.has(A)){L(A,q);for(const N of q)j.get(N).add(A)}q.delete(k)}L(this.primaryType,new Set);for(const[k,q]of j){const A=Array.from(q);A.sort(),y(this,D).set(k,R(k,E[k])+A.map(N=>R(N,E[N])).join(""))}}get types(){return JSON.parse(y(this,S))}getEncoder(E){let T=y(this,K).get(E);return T||(T=ee(this,J,Ya).call(this,E),y(this,K).set(E,T)),T}encodeType(E){const T=y(this,D).get(E);return(0,r.assertArgument)(T,`unknown type: ${JSON.stringify(E)}`,"name",E),T}encodeData(E,T){return this.getEncoder(E)(T)}hashStruct(E,T){return(0,i.keccak256)(this.encodeData(E,T))}encode(E){return this.encodeData(this.primaryType,E)}hash(E){return this.hashStruct(this.primaryType,E)}_visit(E,T,m){if(B(E))return m(E,T);const j=E.match(/^(.*)(\x5b(\d*)\x5d)$/);if(j)return(0,r.assertArgument)(!j[3]||parseInt(j[3])===T.length,`array length mismatch; expected length ${parseInt(j[3])}`,"value",T),T.map(L=>this._visit(j[1],L,m));const P=this.types[E];if(P)return P.reduce((L,{name:k,type:q})=>(L[k]=this._visit(q,T[k],m),L),{});(0,r.assertArgument)(!1,`unknown type: ${E}`,"type",E)}visit(E,T){return this._visit(this.primaryType,E,T)}static from(E){return new F(E)}static getPrimaryType(E){return F.from(E).primaryType}static hashStruct(E,T,m){return F.from(T).hashStruct(E,m)}static hashDomain(E){const T=[];for(const m in E){if(E[m]==null)continue;const j=b[m];(0,r.assertArgument)(j,`invalid typed-data domain key: ${JSON.stringify(m)}`,"domain",E),T.push({name:m,type:j})}return T.sort((m,j)=>d.indexOf(m.name)-d.indexOf(j.name)),F.hashStruct("EIP712Domain",{EIP712Domain:T},E)}static encode(E,T,m){return(0,r.concat)(["0x1901",F.hashDomain(E),F.from(T).hash(m)])}static hash(E,T,m){return(0,i.keccak256)(F.encode(E,T,m))}static async resolveNames(E,T,m,j){E=Object.assign({},E);for(const k in E)E[k]==null&&delete E[k];const P={};E.verifyingContract&&!(0,r.isHexString)(E.verifyingContract,20)&&(P[E.verifyingContract]="0x");const L=F.from(T);L.visit(m,(k,q)=>(k==="address"&&!(0,r.isHexString)(q,20)&&(P[q]="0x"),q));for(const k in P)P[k]=await j(k);return E.verifyingContract&&P[E.verifyingContract]&&(E.verifyingContract=P[E.verifyingContract]),m=L.visit(m,(k,q)=>k==="address"&&P[q]?P[q]:q),{domain:E,value:m}}static getPayload(E,T,m){F.hashDomain(E);const j={},P=[];d.forEach(q=>{const A=E[q];A!=null&&(j[q]=I[q](A),P.push({name:q,type:b[q]}))});const L=F.from(T),k=Object.assign({},T);return(0,r.assertArgument)(k.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",T),k.EIP712Domain=P,L.encode(m),{types:k,domain:j,primaryType:L.primaryType,message:L.visit(m,(q,A)=>{if(q.match(/^bytes(\d*)/))return(0,r.hexlify)((0,r.getBytes)(A));if(q.match(/^u?int/))return(0,r.getBigInt)(A).toString();switch(q){case"address":return A.toLowerCase();case"bool":return!!A;case"string":return(0,r.assertArgument)(typeof A=="string","invalid string","value",A),A}(0,r.assertArgument)(!1,"unsupported type","type",q)})}}};S=new WeakMap,D=new WeakMap,K=new WeakMap,J=new WeakSet,Ya=function(E){{const j=B(E);if(j)return j}const T=E.match(/^(.*)(\x5b(\d*)\x5d)$/);if(T){const j=T[1],P=this.getEncoder(j);return L=>{(0,r.assertArgument)(!T[3]||parseInt(T[3])===L.length,`array length mismatch; expected length ${parseInt(T[3])}`,"value",L);let k=L.map(P);return y(this,D).has(j)&&(k=k.map(i.keccak256)),(0,i.keccak256)((0,r.concat)(k))}}const m=this.types[E];if(m){const j=(0,s.id)(y(this,D).get(E));return P=>{const L=m.map(({name:k,type:q})=>{const A=this.getEncoder(q)(P[k]);return y(this,D).has(q)?(0,i.keccak256)(A):A});return L.unshift(j),(0,r.concat)(L)}}(0,r.assertArgument)(!1,`unknown type: ${E}`,"type",E)};let w=F;pt.TypedDataEncoder=w;function g(U,E,T,m){return(0,n.recoverAddress)(w.hash(U,E,T),m)}return pt.verifyTypedData=g,pt}var vi;function it(){return vi||(vi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.verifyTypedData=e.TypedDataEncoder=e.solidityPackedSha256=e.solidityPackedKeccak256=e.solidityPacked=e.verifyMessage=e.hashMessage=e.dnsEncode=e.namehash=e.isValidName=e.ensNormalize=e.id=void 0;var i=Va();Object.defineProperty(e,"id",{enumerable:!0,get:function(){return i.id}});var n=Mc();Object.defineProperty(e,"ensNormalize",{enumerable:!0,get:function(){return n.ensNormalize}}),Object.defineProperty(e,"isValidName",{enumerable:!0,get:function(){return n.isValidName}}),Object.defineProperty(e,"namehash",{enumerable:!0,get:function(){return n.namehash}}),Object.defineProperty(e,"dnsEncode",{enumerable:!0,get:function(){return n.dnsEncode}});var r=Dc();Object.defineProperty(e,"hashMessage",{enumerable:!0,get:function(){return r.hashMessage}}),Object.defineProperty(e,"verifyMessage",{enumerable:!0,get:function(){return r.verifyMessage}});var s=$c();Object.defineProperty(e,"solidityPacked",{enumerable:!0,get:function(){return s.solidityPacked}}),Object.defineProperty(e,"solidityPackedKeccak256",{enumerable:!0,get:function(){return s.solidityPackedKeccak256}}),Object.defineProperty(e,"solidityPackedSha256",{enumerable:!0,get:function(){return s.solidityPackedSha256}});var a=Gc();Object.defineProperty(e,"TypedDataEncoder",{enumerable:!0,get:function(){return a.TypedDataEncoder}}),Object.defineProperty(e,"verifyTypedData",{enumerable:!0,get:function(){return a.verifyTypedData}})}(_n)),_n}var _i;function is(){var ge,Z,de,Gn,Re,tn;if(_i)return Oe;_i=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.StructFragment=Oe.FunctionFragment=Oe.FallbackFragment=Oe.ConstructorFragment=Oe.EventFragment=Oe.ErrorFragment=Oe.NamedFragment=Oe.Fragment=Oe.ParamType=void 0;const e=le(),i=it();function n(H){const p=new Set;return H.forEach(C=>p.add(C)),Object.freeze(p)}const s=n("external public payable".split(" ")),a="constant external internal payable private public pure view",f=n(a.split(" ")),h="constructor error event fallback function receive struct",l=n(h.split(" ")),t="calldata memory storage payable indexed",o=n(t.split(" ")),c=[h,t,"tuple returns",a].join(" "),b=n(c.split(" ")),d={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},x=new RegExp("^(\\s*)"),I=new RegExp("^([0-9]+)"),B=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),R=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),w=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),ye=class ye{constructor(p){V(this,de);V(this,ge,void 0);V(this,Z,void 0);M(this,ge,0),M(this,Z,p.slice())}get offset(){return y(this,ge)}get length(){return y(this,Z).length-y(this,ge)}clone(){return new ye(y(this,Z))}reset(){M(this,ge,0)}popKeyword(p){const C=this.peek();if(C.type!=="KEYWORD"||!p.has(C.text))throw new Error(`expected keyword ${C.text}`);return this.pop().text}popType(p){if(this.peek().type!==p)throw new Error(`expected ${p}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const p=this.peek();if(p.type!=="OPEN_PAREN")throw new Error("bad start");const C=ee(this,de,Gn).call(this,y(this,ge)+1,p.match+1);return M(this,ge,p.match+1),C}popParams(){const p=this.peek();if(p.type!=="OPEN_PAREN")throw new Error("bad start");const C=[];for(;y(this,ge)<p.match-1;){const W=this.peek().linkNext;C.push(ee(this,de,Gn).call(this,y(this,ge)+1,W)),M(this,ge,W)}return M(this,ge,p.match+1),C}peek(){if(y(this,ge)>=y(this,Z).length)throw new Error("out-of-bounds");return y(this,Z)[y(this,ge)]}peekKeyword(p){const C=this.peekType("KEYWORD");return C!=null&&p.has(C)?C:null}peekType(p){if(this.length===0)return null;const C=this.peek();return C.type===p?C.text:null}pop(){const p=this.peek();return St(this,ge)._++,p}toString(){const p=[];for(let C=y(this,ge);C<y(this,Z).length;C++){const W=y(this,Z)[C];p.push(`${W.type}:${W.text}`)}return`<TokenString ${p.join(" ")}>`}};ge=new WeakMap,Z=new WeakMap,de=new WeakSet,Gn=function(p=0,C=0){return new ye(y(this,Z).slice(p,C).map(W=>Object.freeze(Object.assign({},W,{match:W.match-p,linkBack:W.linkBack-p,linkNext:W.linkNext-p}))))};let g=ye;function S(H){const p=[],C=ne=>{const ue=Q<H.length?JSON.stringify(H[Q]):"$EOI";throw new Error(`invalid token ${ue} at ${Q}: ${ne}`)};let W=[],re=[],Q=0;for(;Q<H.length;){let ne=H.substring(Q),ue=ne.match(x);ue&&(Q+=ue[1].length,ne=H.substring(Q));const se={depth:W.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:Q,value:-1};p.push(se);let me=d[ne[0]]||"";if(me){if(se.type=me,se.text=ne[0],Q++,me==="OPEN_PAREN")W.push(p.length-1),re.push(p.length-1);else if(me=="CLOSE_PAREN")W.length===0&&C("no matching open bracket"),se.match=W.pop(),p[se.match].match=p.length-1,se.depth--,se.linkBack=re.pop(),p[se.linkBack].linkNext=p.length-1;else if(me==="COMMA")se.linkBack=re.pop(),p[se.linkBack].linkNext=p.length-1,re.push(p.length-1);else if(me==="OPEN_BRACKET")se.type="BRACKET";else if(me==="CLOSE_BRACKET"){let _e=p.pop().text;if(p.length>0&&p[p.length-1].type==="NUMBER"){const Ae=p.pop().text;_e=Ae+_e,p[p.length-1].value=(0,e.getNumber)(Ae)}if(p.length===0||p[p.length-1].type!=="BRACKET")throw new Error("missing opening bracket");p[p.length-1].text+=_e}continue}if(ue=ne.match(B),ue){if(se.text=ue[1],Q+=se.text.length,b.has(se.text)){se.type="KEYWORD";continue}if(se.text.match(w)){se.type="TYPE";continue}se.type="ID";continue}if(ue=ne.match(I),ue){se.text=ue[1],se.type="NUMBER",Q+=se.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(ne[0])} at position ${Q}`)}return new g(p.map(ne=>Object.freeze(ne)))}function D(H,p){let C=[];for(const W in p.keys())H.has(W)&&C.push(W);if(C.length>1)throw new Error(`conflicting types: ${C.join(", ")}`)}function K(H,p){if(p.peekKeyword(l)){const C=p.pop().text;if(C!==H)throw new Error(`expected ${H}, got ${C}`)}return p.popType("ID")}function J(H,p){const C=new Set;for(;;){const W=H.peekType("KEYWORD");if(W==null||p&&!p.has(W))break;if(H.pop(),C.has(W))throw new Error(`duplicate keywords: ${JSON.stringify(W)}`);C.add(W)}return Object.freeze(C)}function _(H){let p=J(H,f);return D(p,n("constant payable nonpayable".split(" "))),D(p,n("pure view payable nonpayable".split(" "))),p.has("view")?"view":p.has("pure")?"pure":p.has("payable")?"payable":p.has("nonpayable")?"nonpayable":p.has("constant")?"view":"nonpayable"}function F(H,p){return H.popParams().map(C=>$.from(C,p))}function U(H){if(H.peekType("AT")){if(H.pop(),H.peekType("NUMBER"))return(0,e.getBigInt)(H.pop().text);throw new Error("invalid gas")}return null}function E(H){if(H.length)throw new Error(`unexpected tokens: ${H.toString()}`)}const T=new RegExp(/^(.*)\[([0-9]*)\]$/);function m(H){const p=H.match(w);if((0,e.assertArgument)(p,"invalid type","type",H),H==="uint")return"uint256";if(H==="int")return"int256";if(p[2]){const C=parseInt(p[2]);(0,e.assertArgument)(C!==0&&C<=32,"invalid bytes length","type",H)}else if(p[3]){const C=parseInt(p[3]);(0,e.assertArgument)(C!==0&&C<=256&&C%8===0,"invalid numeric width","type",H)}return H}const j={},P=Symbol.for("_ethers_internal"),L="_ParamTypeInternal",k="_ErrorInternal",q="_EventInternal",A="_ConstructorInternal",N="_FallbackInternal",O="_FunctionInternal",v="_StructInternal",G=class G{constructor(p,C,W,re,Q,ne,ue,se){V(this,Re);z(this,"name");z(this,"type");z(this,"baseType");z(this,"indexed");z(this,"components");z(this,"arrayLength");z(this,"arrayChildren");if((0,e.assertPrivate)(p,j,"ParamType"),Object.defineProperty(this,P,{value:L}),ne&&(ne=Object.freeze(ne.slice())),re==="array"){if(ue==null||se==null)throw new Error("")}else if(ue!=null||se!=null)throw new Error("");if(re==="tuple"){if(ne==null)throw new Error("")}else if(ne!=null)throw new Error("");(0,e.defineProperties)(this,{name:C,type:W,baseType:re,indexed:Q,components:ne,arrayLength:ue,arrayChildren:se})}format(p){if(p==null&&(p="sighash"),p==="json"){const W=this.name||"";if(this.isArray()){const Q=JSON.parse(this.arrayChildren.format("json"));return Q.name=W,Q.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(Q)}const re={type:this.baseType==="tuple"?"tuple":this.type,name:W};return typeof this.indexed=="boolean"&&(re.indexed=this.indexed),this.isTuple()&&(re.components=this.components.map(Q=>JSON.parse(Q.format(p)))),JSON.stringify(re)}let C="";return this.isArray()?(C+=this.arrayChildren.format(p),C+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?C+="("+this.components.map(W=>W.format(p)).join(p==="full"?", ":",")+")":C+=this.type,p!=="sighash"&&(this.indexed===!0&&(C+=" indexed"),p==="full"&&this.name&&(C+=" "+this.name)),C}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(p,C){if(this.isArray()){if(!Array.isArray(p))throw new Error("invalid array value");if(this.arrayLength!==-1&&p.length!==this.arrayLength)throw new Error("array is wrong length");const W=this;return p.map(re=>W.arrayChildren.walk(re,C))}if(this.isTuple()){if(!Array.isArray(p))throw new Error("invalid tuple value");if(p.length!==this.components.length)throw new Error("array is wrong length");const W=this;return p.map((re,Q)=>W.components[Q].walk(re,C))}return C(this.type,p)}async walkAsync(p,C){const W=[],re=[p];return ee(this,Re,tn).call(this,W,p,C,Q=>{re[0]=Q}),W.length&&await Promise.all(W),re[0]}static from(p,C){if(G.isParamType(p))return p;if(typeof p=="string")try{return G.from(S(p),C)}catch{(0,e.assertArgument)(!1,"invalid param type","obj",p)}else if(p instanceof g){let ue="",se="",me=null;J(p,n(["tuple"])).has("tuple")||p.peekType("OPEN_PAREN")?(se="tuple",me=p.popParams().map(Rt=>G.from(Rt)),ue=`tuple(${me.map(Rt=>Rt.format()).join(",")})`):(ue=m(p.popType("TYPE")),se=ue);let _e=null,Ae=null;for(;p.length&&p.peekType("BRACKET");){const Rt=p.pop();_e=new G(j,"",ue,se,null,me,Ae,_e),Ae=Rt.value,ue+=Rt.text,se="array",me=null}let ys=null;if(J(p,o).has("indexed")){if(!C)throw new Error("");ys=!0}const ko=p.peekType("ID")?p.pop().text:"";if(p.length)throw new Error("leftover tokens");return new G(j,ko,ue,se,ys,me,Ae,_e)}const W=p.name;(0,e.assertArgument)(!W||typeof W=="string"&&W.match(R),"invalid name","obj.name",W);let re=p.indexed;re!=null&&((0,e.assertArgument)(C,"parameter cannot be indexed","obj.indexed",p.indexed),re=!!re);let Q=p.type,ne=Q.match(T);if(ne){const ue=parseInt(ne[2]||"-1"),se=G.from({type:ne[1],components:p.components});return new G(j,W||"",Q,"array",re,null,ue,se)}if(Q==="tuple"||Q.startsWith("tuple(")||Q.startsWith("(")){const ue=p.components!=null?p.components.map(me=>G.from(me)):null;return new G(j,W||"",Q,"tuple",re,ue,null,null)}return Q=m(p.type),new G(j,W||"",Q,Q,re,null,null,null)}static isParamType(p){return p&&p[P]===L}};Re=new WeakSet,tn=function(p,C,W,re){if(this.isArray()){if(!Array.isArray(C))throw new Error("invalid array value");if(this.arrayLength!==-1&&C.length!==this.arrayLength)throw new Error("array is wrong length");const ne=this.arrayChildren,ue=C.slice();ue.forEach((se,me)=>{var _e;ee(_e=ne,Re,tn).call(_e,p,se,W,Ae=>{ue[me]=Ae})}),re(ue);return}if(this.isTuple()){const ne=this.components;let ue;if(Array.isArray(C))ue=C.slice();else{if(C==null||typeof C!="object")throw new Error("invalid tuple value");ue=ne.map(se=>{if(!se.name)throw new Error("cannot use object value with unnamed components");if(!(se.name in C))throw new Error(`missing value for component ${se.name}`);return C[se.name]})}if(ue.length!==this.components.length)throw new Error("array is wrong length");ue.forEach((se,me)=>{var _e;ee(_e=ne[me],Re,tn).call(_e,p,se,W,Ae=>{ue[me]=Ae})}),re(ue);return}const Q=W(this.type,C);Q.then?p.push(async function(){re(await Q)}()):re(Q)};let $=G;Oe.ParamType=$;class X{constructor(p,C,W){z(this,"type");z(this,"inputs");(0,e.assertPrivate)(p,j,"Fragment"),W=Object.freeze(W.slice()),(0,e.defineProperties)(this,{type:C,inputs:W})}static from(p){if(typeof p=="string"){try{X.from(JSON.parse(p))}catch{}return X.from(S(p))}if(p instanceof g)switch(p.peekKeyword(l)){case"constructor":return ce.from(p);case"error":return te.from(p);case"event":return fe.from(p);case"fallback":case"receive":return be.from(p);case"function":return oe.from(p);case"struct":return he.from(p)}else if(typeof p=="object"){switch(p.type){case"constructor":return ce.from(p);case"error":return te.from(p);case"event":return fe.from(p);case"fallback":case"receive":return be.from(p);case"function":return oe.from(p);case"struct":return he.from(p)}(0,e.assert)(!1,`unsupported type: ${p.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,e.assertArgument)(!1,"unsupported frgament object","obj",p)}static isConstructor(p){return ce.isFragment(p)}static isError(p){return te.isFragment(p)}static isEvent(p){return fe.isFragment(p)}static isFunction(p){return oe.isFragment(p)}static isStruct(p){return he.isFragment(p)}}Oe.Fragment=X;class Y extends X{constructor(C,W,re,Q){super(C,W,Q);z(this,"name");(0,e.assertArgument)(typeof re=="string"&&re.match(R),"invalid identifier","name",re),Q=Object.freeze(Q.slice()),(0,e.defineProperties)(this,{name:re})}}Oe.NamedFragment=Y;function ie(H,p){return"("+p.map(C=>C.format(H)).join(H==="full"?", ":",")+")"}class te extends Y{constructor(p,C,W){super(p,"error",C,W),Object.defineProperty(this,P,{value:k})}get selector(){return(0,i.id)(this.format("sighash")).substring(0,10)}format(p){if(p==null&&(p="sighash"),p==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(W=>JSON.parse(W.format(p)))});const C=[];return p!=="sighash"&&C.push("error"),C.push(this.name+ie(p,this.inputs)),C.join(" ")}static from(p){if(te.isFragment(p))return p;if(typeof p=="string")return te.from(S(p));if(p instanceof g){const C=K("error",p),W=F(p);return E(p),new te(j,C,W)}return new te(j,p.name,p.inputs?p.inputs.map($.from):[])}static isFragment(p){return p&&p[P]===k}}Oe.ErrorFragment=te;class fe extends Y{constructor(C,W,re,Q){super(C,"event",W,re);z(this,"anonymous");Object.defineProperty(this,P,{value:q}),(0,e.defineProperties)(this,{anonymous:Q})}get topicHash(){return(0,i.id)(this.format("sighash"))}format(C){if(C==null&&(C="sighash"),C==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(re=>JSON.parse(re.format(C)))});const W=[];return C!=="sighash"&&W.push("event"),W.push(this.name+ie(C,this.inputs)),C!=="sighash"&&this.anonymous&&W.push("anonymous"),W.join(" ")}static getTopicHash(C,W){return W=(W||[]).map(Q=>$.from(Q)),new fe(j,C,W,!1).topicHash}static from(C){if(fe.isFragment(C))return C;if(typeof C=="string")try{return fe.from(S(C))}catch{(0,e.assertArgument)(!1,"invalid event fragment","obj",C)}else if(C instanceof g){const W=K("event",C),re=F(C,!0),Q=!!J(C,n(["anonymous"])).has("anonymous");return E(C),new fe(j,W,re,Q)}return new fe(j,C.name,C.inputs?C.inputs.map(W=>$.from(W,!0)):[],!!C.anonymous)}static isFragment(C){return C&&C[P]===q}}Oe.EventFragment=fe;class ce extends X{constructor(C,W,re,Q,ne){super(C,W,re);z(this,"payable");z(this,"gas");Object.defineProperty(this,P,{value:A}),(0,e.defineProperties)(this,{payable:Q,gas:ne})}format(C){if((0,e.assert)(C!=null&&C!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),C==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(re=>JSON.parse(re.format(C)))});const W=[`constructor${ie(C,this.inputs)}`];return this.payable&&W.push("payable"),this.gas!=null&&W.push(`@${this.gas.toString()}`),W.join(" ")}static from(C){if(ce.isFragment(C))return C;if(typeof C=="string")try{return ce.from(S(C))}catch{(0,e.assertArgument)(!1,"invalid constuctor fragment","obj",C)}else if(C instanceof g){J(C,n(["constructor"]));const W=F(C),re=!!J(C,s).has("payable"),Q=U(C);return E(C),new ce(j,"constructor",W,re,Q)}return new ce(j,"constructor",C.inputs?C.inputs.map($.from):[],!!C.payable,C.gas!=null?C.gas:null)}static isFragment(C){return C&&C[P]===A}}Oe.ConstructorFragment=ce;class be extends X{constructor(C,W,re){super(C,"fallback",W);z(this,"payable");Object.defineProperty(this,P,{value:N}),(0,e.defineProperties)(this,{payable:re})}format(C){const W=this.inputs.length===0?"receive":"fallback";if(C==="json"){const re=this.payable?"payable":"nonpayable";return JSON.stringify({type:W,stateMutability:re})}return`${W}()${this.payable?" payable":""}`}static from(C){if(be.isFragment(C))return C;if(typeof C=="string")try{return be.from(S(C))}catch{(0,e.assertArgument)(!1,"invalid fallback fragment","obj",C)}else if(C instanceof g){const W=C.toString(),re=C.peekKeyword(n(["fallback","receive"]));if((0,e.assertArgument)(re,"type must be fallback or receive","obj",W),C.popKeyword(n(["fallback","receive"]))==="receive"){const se=F(C);return(0,e.assertArgument)(se.length===0,"receive cannot have arguments","obj.inputs",se),J(C,n(["payable"])),E(C),new be(j,[],!0)}let ne=F(C);ne.length?(0,e.assertArgument)(ne.length===1&&ne[0].type==="bytes","invalid fallback inputs","obj.inputs",ne.map(se=>se.format("minimal")).join(", ")):ne=[$.from("bytes")];const ue=_(C);if((0,e.assertArgument)(ue==="nonpayable"||ue==="payable","fallback cannot be constants","obj.stateMutability",ue),J(C,n(["returns"])).has("returns")){const se=F(C);(0,e.assertArgument)(se.length===1&&se[0].type==="bytes","invalid fallback outputs","obj.outputs",se.map(me=>me.format("minimal")).join(", "))}return E(C),new be(j,ne,ue==="payable")}if(C.type==="receive")return new be(j,[],!0);if(C.type==="fallback"){const W=[$.from("bytes")],re=C.stateMutability==="payable";return new be(j,W,re)}(0,e.assertArgument)(!1,"invalid fallback description","obj",C)}static isFragment(C){return C&&C[P]===N}}Oe.FallbackFragment=be;class oe extends Y{constructor(C,W,re,Q,ne,ue){super(C,"function",W,Q);z(this,"constant");z(this,"outputs");z(this,"stateMutability");z(this,"payable");z(this,"gas");Object.defineProperty(this,P,{value:O}),ne=Object.freeze(ne.slice());const se=re==="view"||re==="pure",me=re==="payable";(0,e.defineProperties)(this,{constant:se,gas:ue,outputs:ne,payable:me,stateMutability:re})}get selector(){return(0,i.id)(this.format("sighash")).substring(0,10)}format(C){if(C==null&&(C="sighash"),C==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(re=>JSON.parse(re.format(C))),outputs:this.outputs.map(re=>JSON.parse(re.format(C)))});const W=[];return C!=="sighash"&&W.push("function"),W.push(this.name+ie(C,this.inputs)),C!=="sighash"&&(this.stateMutability!=="nonpayable"&&W.push(this.stateMutability),this.outputs&&this.outputs.length&&(W.push("returns"),W.push(ie(C,this.outputs))),this.gas!=null&&W.push(`@${this.gas.toString()}`)),W.join(" ")}static getSelector(C,W){return W=(W||[]).map(Q=>$.from(Q)),new oe(j,C,"view",W,[],null).selector}static from(C){if(oe.isFragment(C))return C;if(typeof C=="string")try{return oe.from(S(C))}catch{(0,e.assertArgument)(!1,"invalid function fragment","obj",C)}else if(C instanceof g){const re=K("function",C),Q=F(C),ne=_(C);let ue=[];J(C,n(["returns"])).has("returns")&&(ue=F(C));const se=U(C);return E(C),new oe(j,re,ne,Q,ue,se)}let W=C.stateMutability;return W==null&&(W="payable",typeof C.constant=="boolean"?(W="view",C.constant||(W="payable",typeof C.payable=="boolean"&&!C.payable&&(W="nonpayable"))):typeof C.payable=="boolean"&&!C.payable&&(W="nonpayable")),new oe(j,C.name,W,C.inputs?C.inputs.map($.from):[],C.outputs?C.outputs.map($.from):[],C.gas!=null?C.gas:null)}static isFragment(C){return C&&C[P]===O}}Oe.FunctionFragment=oe;class he extends Y{constructor(p,C,W){super(p,"struct",C,W),Object.defineProperty(this,P,{value:v})}format(){throw new Error("@TODO")}static from(p){if(typeof p=="string")try{return he.from(S(p))}catch{(0,e.assertArgument)(!1,"invalid struct fragment","obj",p)}else if(p instanceof g){const C=K("struct",p),W=F(p);return E(p),new he(j,C,W)}return new he(j,p.name,p.inputs?p.inputs.map($.from):[])}static isFragment(p){return p&&p[P]===v}}return Oe.StructFragment=he,Oe}var Oi;function Qa(){var S,Ct;if(Oi)return Ut;Oi=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.AbiCoder=void 0;const e=le(),i=We(),n=Rc(),r=Wa(),s=jc(),a=za(),f=Cc(),h=Bc(),l=Ic(),t=Fc(),o=Uc(),u=is(),c=Ee(),b=le(),d=new Map;d.set(0,"GENERIC_PANIC"),d.set(1,"ASSERT_FALSE"),d.set(17,"OVERFLOW"),d.set(18,"DIVIDE_BY_ZERO"),d.set(33,"ENUM_RANGE_ERROR"),d.set(34,"BAD_STORAGE_DATA"),d.set(49,"STACK_UNDERFLOW"),d.set(50,"ARRAY_RANGE_ERROR"),d.set(65,"OUT_OF_MEMORY"),d.set(81,"UNINITIALIZED_FUNCTION_CALL");const x=new RegExp(/^bytes([0-9]*)$/),I=new RegExp(/^(u?int)([0-9]*)$/);let B=null,R=1024;function w(J,_,F,U){let E="missing revert data",T=null;const m=null;let j=null;if(F){E="execution reverted";const L=(0,b.getBytes)(F);if(F=(0,b.hexlify)(F),L.length===0)E+=" (no data present; likely require(false) occurred",T="require(false)";else if(L.length%32!==4)E+=" (could not decode reason; invalid data length)";else if((0,b.hexlify)(L.slice(0,4))==="0x08c379a0")try{T=U.decode(["string"],L.slice(4))[0],j={signature:"Error(string)",name:"Error",args:[T]},E+=`: ${JSON.stringify(T)}`}catch{E+=" (could not decode reason; invalid string data)"}else if((0,b.hexlify)(L.slice(0,4))==="0x4e487b71")try{const k=Number(U.decode(["uint256"],L.slice(4))[0]);j={signature:"Panic(uint256)",name:"Panic",args:[k]},T=`Panic due to ${d.get(k)||"UNKNOWN"}(${k})`,E+=`: ${T}`}catch{E+=" (could not decode panic code)"}else E+=" (unknown custom error)"}const P={to:_.to?(0,c.getAddress)(_.to):null,data:_.data||"0x"};return _.from&&(P.from=(0,c.getAddress)(_.from)),(0,b.makeError)(E,"CALL_EXCEPTION",{action:J,data:F,reason:T,transaction:P,invocation:m,revert:j})}const K=class K{constructor(){V(this,S)}getDefaultValue(_){const F=_.map(E=>ee(this,S,Ct).call(this,u.ParamType.from(E)));return new o.TupleCoder(F,"_").defaultValue()}encode(_,F){(0,e.assertArgumentCount)(F.length,_.length,"types/values length mismatch");const U=_.map(m=>ee(this,S,Ct).call(this,u.ParamType.from(m))),E=new o.TupleCoder(U,"_"),T=new i.Writer;return E.encode(T,F),T.data}decode(_,F,U){const E=_.map(m=>ee(this,S,Ct).call(this,u.ParamType.from(m)));return new o.TupleCoder(E,"_").decode(new i.Reader(F,U,R))}static _setDefaultMaxInflation(_){(0,e.assertArgument)(typeof _=="number"&&Number.isInteger(_),"invalid defaultMaxInflation factor","value",_),R=_}static defaultAbiCoder(){return B==null&&(B=new K),B}static getBuiltinCallException(_,F,U){return w(_,F,U,K.defaultAbiCoder())}};S=new WeakSet,Ct=function(_){if(_.isArray())return new r.ArrayCoder(ee(this,S,Ct).call(this,_.arrayChildren),_.arrayLength,_.name);if(_.isTuple())return new o.TupleCoder(_.components.map(U=>ee(this,S,Ct).call(this,U)),_.name);switch(_.baseType){case"address":return new n.AddressCoder(_.name);case"bool":return new s.BooleanCoder(_.name);case"string":return new t.StringCoder(_.name);case"bytes":return new a.BytesCoder(_.name);case"":return new h.NullCoder(_.name)}let F=_.type.match(I);if(F){let U=parseInt(F[2]||"256");return(0,e.assertArgument)(U!==0&&U<=256&&U%8===0,"invalid "+F[1]+" bit length","param",_),new l.NumberCoder(U/8,F[1]==="int",_.name)}if(F=_.type.match(x),F){let U=parseInt(F[1]);return(0,e.assertArgument)(U!==0&&U<=32,"invalid bytes length","param",_),new f.FixedBytesCoder(U,_.name)}(0,e.assertArgument)(!1,"invalid type","type",_.type)};let g=K;return Ut.AbiCoder=g,Ut}var xt={},ki;function qc(){if(ki)return xt;ki=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.decodeBytes32String=xt.encodeBytes32String=void 0;const e=le();function i(r){const s=(0,e.toUtf8Bytes)(r);if(s.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,e.zeroPadBytes)(s,32)}xt.encodeBytes32String=i;function n(r){const s=(0,e.getBytes)(r,"bytes");if(s.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(s[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let a=31;for(;s[a-1]===0;)a--;return(0,e.toUtf8String)(s.slice(0,a))}return xt.decodeBytes32String=n,xt}var kn={},Ai;function Hc(){return Ai||(Ai=1,function(e){var x,I,B,R,w,rn,S,nn;Object.defineProperty(e,"__esModule",{value:!0}),e.Interface=e.Indexed=e.ErrorDescription=e.TransactionDescription=e.LogDescription=e.Result=e.checkResultErrors=void 0;const i=Te(),n=it(),r=le(),s=Qa(),a=We();Object.defineProperty(e,"checkResultErrors",{enumerable:!0,get:function(){return a.checkResultErrors}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return a.Result}});const f=is(),h=st();class l{constructor(_,F,U){z(this,"fragment");z(this,"name");z(this,"signature");z(this,"topic");z(this,"args");const E=_.name,T=_.format();(0,r.defineProperties)(this,{fragment:_,name:E,signature:T,topic:F,args:U})}}e.LogDescription=l;class t{constructor(_,F,U,E){z(this,"fragment");z(this,"name");z(this,"args");z(this,"signature");z(this,"selector");z(this,"value");const T=_.name,m=_.format();(0,r.defineProperties)(this,{fragment:_,name:T,args:U,signature:m,selector:F,value:E})}}e.TransactionDescription=t;class o{constructor(_,F,U){z(this,"fragment");z(this,"name");z(this,"args");z(this,"signature");z(this,"selector");const E=_.name,T=_.format();(0,r.defineProperties)(this,{fragment:_,name:E,args:U,signature:T,selector:F})}}e.ErrorDescription=o;class u{constructor(_){z(this,"hash");z(this,"_isIndexed");(0,r.defineProperties)(this,{hash:_,_isIndexed:!0})}static isIndexed(_){return!!(_&&_._isIndexed)}}e.Indexed=u;const c={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},b={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:J=>`reverted with reason string ${JSON.stringify(J)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:J=>{let _="unknown panic code";return J>=0&&J<=255&&c[J.toString()]&&(_=c[J.toString()]),`reverted with panic code 0x${J.toString(16)} (${_})`}}},K=class K{constructor(_){V(this,w);V(this,S);z(this,"fragments");z(this,"deploy");z(this,"fallback");z(this,"receive");V(this,x,void 0);V(this,I,void 0);V(this,B,void 0);V(this,R,void 0);let F=[];typeof _=="string"?F=JSON.parse(_):F=_,M(this,B,new Map),M(this,x,new Map),M(this,I,new Map);const U=[];for(const m of F)try{U.push(f.Fragment.from(m))}catch(j){console.log("EE",j)}(0,r.defineProperties)(this,{fragments:Object.freeze(U)});let E=null,T=!1;M(this,R,this.getAbiCoder()),this.fragments.forEach((m,j)=>{let P;switch(m.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,r.defineProperties)(this,{deploy:m});return;case"fallback":m.inputs.length===0?T=!0:((0,r.assertArgument)(!E||m.payable!==E.payable,"conflicting fallback fragments",`fragments[${j}]`,m),E=m,T=E.payable);return;case"function":P=y(this,B);break;case"event":P=y(this,I);break;case"error":P=y(this,x);break;default:return}const L=m.format();P.has(L)||P.set(L,m)}),this.deploy||(0,r.defineProperties)(this,{deploy:f.ConstructorFragment.from("constructor()")}),(0,r.defineProperties)(this,{fallback:E,receive:T})}format(_){const F=_?"minimal":"full";return this.fragments.map(E=>E.format(F))}formatJson(){const _=this.fragments.map(F=>F.format("json"));return JSON.stringify(_.map(F=>JSON.parse(F)))}getAbiCoder(){return s.AbiCoder.defaultAbiCoder()}getFunctionName(_){const F=ee(this,w,rn).call(this,_,null,!1);return(0,r.assertArgument)(F,"no matching function","key",_),F.name}hasFunction(_){return!!ee(this,w,rn).call(this,_,null,!1)}getFunction(_,F){return ee(this,w,rn).call(this,_,F||null,!0)}forEachFunction(_){const F=Array.from(y(this,B).keys());F.sort((U,E)=>U.localeCompare(E));for(let U=0;U<F.length;U++){const E=F[U];_(y(this,B).get(E),U)}}getEventName(_){const F=ee(this,S,nn).call(this,_,null,!1);return(0,r.assertArgument)(F,"no matching event","key",_),F.name}hasEvent(_){return!!ee(this,S,nn).call(this,_,null,!1)}getEvent(_,F){return ee(this,S,nn).call(this,_,F||null,!0)}forEachEvent(_){const F=Array.from(y(this,I).keys());F.sort((U,E)=>U.localeCompare(E));for(let U=0;U<F.length;U++){const E=F[U];_(y(this,I).get(E),U)}}getError(_,F){if((0,r.isHexString)(_)){const E=_.toLowerCase();if(b[E])return f.ErrorFragment.from(b[E].signature);for(const T of y(this,x).values())if(E===T.selector)return T;return null}if(_.indexOf("(")===-1){const E=[];for(const[T,m]of y(this,x))T.split("(")[0]===_&&E.push(m);if(E.length===0)return _==="Error"?f.ErrorFragment.from("error Error(string)"):_==="Panic"?f.ErrorFragment.from("error Panic(uint256)"):null;if(E.length>1){const T=E.map(m=>JSON.stringify(m.format())).join(", ");(0,r.assertArgument)(!1,`ambiguous error description (i.e. ${T})`,"name",_)}return E[0]}if(_=f.ErrorFragment.from(_).format(),_==="Error(string)")return f.ErrorFragment.from("error Error(string)");if(_==="Panic(uint256)")return f.ErrorFragment.from("error Panic(uint256)");const U=y(this,x).get(_);return U||null}forEachError(_){const F=Array.from(y(this,x).keys());F.sort((U,E)=>U.localeCompare(E));for(let U=0;U<F.length;U++){const E=F[U];_(y(this,x).get(E),U)}}_decodeParams(_,F){return y(this,R).decode(_,F)}_encodeParams(_,F){return y(this,R).encode(_,F)}encodeDeploy(_){return this._encodeParams(this.deploy.inputs,_||[])}decodeErrorResult(_,F){if(typeof _=="string"){const U=this.getError(_);(0,r.assertArgument)(U,"unknown error","fragment",_),_=U}return(0,r.assertArgument)((0,r.dataSlice)(F,0,4)===_.selector,`data signature does not match error ${_.name}.`,"data",F),this._decodeParams(_.inputs,(0,r.dataSlice)(F,4))}encodeErrorResult(_,F){if(typeof _=="string"){const U=this.getError(_);(0,r.assertArgument)(U,"unknown error","fragment",_),_=U}return(0,r.concat)([_.selector,this._encodeParams(_.inputs,F||[])])}decodeFunctionData(_,F){if(typeof _=="string"){const U=this.getFunction(_);(0,r.assertArgument)(U,"unknown function","fragment",_),_=U}return(0,r.assertArgument)((0,r.dataSlice)(F,0,4)===_.selector,`data signature does not match function ${_.name}.`,"data",F),this._decodeParams(_.inputs,(0,r.dataSlice)(F,4))}encodeFunctionData(_,F){if(typeof _=="string"){const U=this.getFunction(_);(0,r.assertArgument)(U,"unknown function","fragment",_),_=U}return(0,r.concat)([_.selector,this._encodeParams(_.inputs,F||[])])}decodeFunctionResult(_,F){if(typeof _=="string"){const T=this.getFunction(_);(0,r.assertArgument)(T,"unknown function","fragment",_),_=T}let U="invalid length for result data";const E=(0,r.getBytesCopy)(F);if(E.length%32===0)try{return y(this,R).decode(_.outputs,E)}catch{U="could not decode result data"}(0,r.assert)(!1,U,"BAD_DATA",{value:(0,r.hexlify)(E),info:{method:_.name,signature:_.format()}})}makeError(_,F){const U=(0,r.getBytes)(_,"data"),E=s.AbiCoder.getBuiltinCallException("call",F,U),T="execution reverted (unknown custom error)";if(E.message.startsWith(T)){const j=(0,r.hexlify)(U.slice(0,4)),P=this.getError(j);if(P)try{const L=y(this,R).decode(P.inputs,U.slice(4));E.revert={name:P.name,signature:P.format(),args:L},E.reason=E.revert.signature,E.message=`execution reverted: ${E.reason}`}catch{E.message="execution reverted (coult not decode custom error)"}}const m=this.parseTransaction(F);return m&&(E.invocation={method:m.name,signature:m.signature,args:m.args}),E}encodeFunctionResult(_,F){if(typeof _=="string"){const U=this.getFunction(_);(0,r.assertArgument)(U,"unknown function","fragment",_),_=U}return(0,r.hexlify)(y(this,R).encode(_.outputs,F||[]))}encodeFilterTopics(_,F){if(typeof _=="string"){const T=this.getEvent(_);(0,r.assertArgument)(T,"unknown event","eventFragment",_),_=T}(0,r.assert)(F.length<=_.inputs.length,`too many arguments for ${_.format()}`,"UNEXPECTED_ARGUMENT",{count:F.length,expectedCount:_.inputs.length});const U=[];_.anonymous||U.push(_.topicHash);const E=(T,m)=>T.type==="string"?(0,n.id)(m):T.type==="bytes"?(0,i.keccak256)((0,r.hexlify)(m)):(T.type==="bool"&&typeof m=="boolean"?m=m?"0x01":"0x00":T.type.match(/^u?int/)?m=(0,r.toBeHex)(m):T.type.match(/^bytes/)?m=(0,r.zeroPadBytes)(m,32):T.type==="address"&&y(this,R).encode(["address"],[m]),(0,r.zeroPadValue)((0,r.hexlify)(m),32));for(F.forEach((T,m)=>{const j=_.inputs[m];if(!j.indexed){(0,r.assertArgument)(T==null,"cannot filter non-indexed parameters; must be null","contract."+j.name,T);return}T==null?U.push(null):j.baseType==="array"||j.baseType==="tuple"?(0,r.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+j.name,T):Array.isArray(T)?U.push(T.map(P=>E(j,P))):U.push(E(j,T))});U.length&&U[U.length-1]===null;)U.pop();return U}encodeEventLog(_,F){if(typeof _=="string"){const m=this.getEvent(_);(0,r.assertArgument)(m,"unknown event","eventFragment",_),_=m}const U=[],E=[],T=[];return _.anonymous||U.push(_.topicHash),(0,r.assertArgument)(F.length===_.inputs.length,"event arguments/values mismatch","values",F),_.inputs.forEach((m,j)=>{const P=F[j];if(m.indexed)if(m.type==="string")U.push((0,n.id)(P));else if(m.type==="bytes")U.push((0,i.keccak256)(P));else{if(m.baseType==="tuple"||m.baseType==="array")throw new Error("not implemented");U.push(y(this,R).encode([m.type],[P]))}else E.push(m),T.push(P)}),{data:y(this,R).encode(E,T),topics:U}}decodeEventLog(_,F,U){if(typeof _=="string"){const N=this.getEvent(_);(0,r.assertArgument)(N,"unknown event","eventFragment",_),_=N}if(U!=null&&!_.anonymous){const N=_.topicHash;(0,r.assertArgument)((0,r.isHexString)(U[0],32)&&U[0].toLowerCase()===N,"fragment/topic mismatch","topics[0]",U[0]),U=U.slice(1)}const E=[],T=[],m=[];_.inputs.forEach((N,O)=>{N.indexed?N.type==="string"||N.type==="bytes"||N.baseType==="tuple"||N.baseType==="array"?(E.push(f.ParamType.from({type:"bytes32",name:N.name})),m.push(!0)):(E.push(N),m.push(!1)):(T.push(N),m.push(!1))});const j=U!=null?y(this,R).decode(E,(0,r.concat)(U)):null,P=y(this,R).decode(T,F,!0),L=[],k=[];let q=0,A=0;return _.inputs.forEach((N,O)=>{let v=null;if(N.indexed)if(j==null)v=new u(null);else if(m[O])v=new u(j[A++]);else try{v=j[A++]}catch($){v=$}else try{v=P[q++]}catch($){v=$}L.push(v),k.push(N.name||null)}),a.Result.fromItems(L,k)}parseTransaction(_){const F=(0,r.getBytes)(_.data,"tx.data"),U=(0,r.getBigInt)(_.value!=null?_.value:0,"tx.value"),E=this.getFunction((0,r.hexlify)(F.slice(0,4)));if(!E)return null;const T=y(this,R).decode(E.inputs,F.slice(4));return new t(E,E.selector,T,U)}parseCallResult(_){throw new Error("@TODO")}parseLog(_){const F=this.getEvent(_.topics[0]);return!F||F.anonymous?null:new l(F,F.topicHash,this.decodeEventLog(F,_.data,_.topics))}parseError(_){const F=(0,r.hexlify)(_),U=this.getError((0,r.dataSlice)(F,0,4));if(!U)return null;const E=y(this,R).decode(U.inputs,(0,r.dataSlice)(F,4));return new o(U,U.selector,E)}static from(_){return _ instanceof K?_:typeof _=="string"?new K(JSON.parse(_)):typeof _.format=="function"?new K(_.format("json")):new K(_)}};x=new WeakMap,I=new WeakMap,B=new WeakMap,R=new WeakMap,w=new WeakSet,rn=function(_,F,U){if((0,r.isHexString)(_)){const T=_.toLowerCase();for(const m of y(this,B).values())if(T===m.selector)return m;return null}if(_.indexOf("(")===-1){const T=[];for(const[m,j]of y(this,B))m.split("(")[0]===_&&T.push(j);if(F){const m=F.length>0?F[F.length-1]:null;let j=F.length,P=!0;h.Typed.isTyped(m)&&m.type==="overrides"&&(P=!1,j--);for(let L=T.length-1;L>=0;L--){const k=T[L].inputs.length;k!==j&&(!P||k!==j-1)&&T.splice(L,1)}for(let L=T.length-1;L>=0;L--){const k=T[L].inputs;for(let q=0;q<F.length;q++)if(h.Typed.isTyped(F[q])){if(q>=k.length){if(F[q].type==="overrides")continue;T.splice(L,1);break}if(F[q].type!==k[q].baseType){T.splice(L,1);break}}}}if(T.length===1&&F&&F.length!==T[0].inputs.length){const m=F[F.length-1];(m==null||Array.isArray(m)||typeof m!="object")&&T.splice(0,1)}if(T.length===0)return null;if(T.length>1&&U){const m=T.map(j=>JSON.stringify(j.format())).join(", ");(0,r.assertArgument)(!1,`ambiguous function description (i.e. matches ${m})`,"key",_)}return T[0]}const E=y(this,B).get(f.FunctionFragment.from(_).format());return E||null},S=new WeakSet,nn=function(_,F,U){if((0,r.isHexString)(_)){const T=_.toLowerCase();for(const m of y(this,I).values())if(T===m.topicHash)return m;return null}if(_.indexOf("(")===-1){const T=[];for(const[m,j]of y(this,I))m.split("(")[0]===_&&T.push(j);if(F){for(let m=T.length-1;m>=0;m--)T[m].inputs.length<F.length&&T.splice(m,1);for(let m=T.length-1;m>=0;m--){const j=T[m].inputs;for(let P=0;P<F.length;P++)if(h.Typed.isTyped(F[P])&&F[P].type!==j[P].baseType){T.splice(m,1);break}}}if(T.length===0)return null;if(T.length>1&&U){const m=T.map(j=>JSON.stringify(j.format())).join(", ");(0,r.assertArgument)(!1,`ambiguous event description (i.e. matches ${m})`,"key",_)}return T[0]}const E=y(this,I).get(f.EventFragment.from(_).format());return E||null};let d=K;e.Interface=d}(kn)),kn}var Ei;function Xr(){return Ei||(Ei=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Typed=e.Result=e.TransactionDescription=e.LogDescription=e.ErrorDescription=e.Interface=e.Indexed=e.checkResultErrors=e.StructFragment=e.ParamType=e.NamedFragment=e.FunctionFragment=e.Fragment=e.FallbackFragment=e.EventFragment=e.ErrorFragment=e.ConstructorFragment=e.encodeBytes32String=e.decodeBytes32String=e.AbiCoder=void 0;var i=Qa();Object.defineProperty(e,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}});var n=qc();Object.defineProperty(e,"decodeBytes32String",{enumerable:!0,get:function(){return n.decodeBytes32String}}),Object.defineProperty(e,"encodeBytes32String",{enumerable:!0,get:function(){return n.encodeBytes32String}});var r=is();Object.defineProperty(e,"ConstructorFragment",{enumerable:!0,get:function(){return r.ConstructorFragment}}),Object.defineProperty(e,"ErrorFragment",{enumerable:!0,get:function(){return r.ErrorFragment}}),Object.defineProperty(e,"EventFragment",{enumerable:!0,get:function(){return r.EventFragment}}),Object.defineProperty(e,"FallbackFragment",{enumerable:!0,get:function(){return r.FallbackFragment}}),Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return r.Fragment}}),Object.defineProperty(e,"FunctionFragment",{enumerable:!0,get:function(){return r.FunctionFragment}}),Object.defineProperty(e,"NamedFragment",{enumerable:!0,get:function(){return r.NamedFragment}}),Object.defineProperty(e,"ParamType",{enumerable:!0,get:function(){return r.ParamType}}),Object.defineProperty(e,"StructFragment",{enumerable:!0,get:function(){return r.StructFragment}});var s=Hc();Object.defineProperty(e,"checkResultErrors",{enumerable:!0,get:function(){return s.checkResultErrors}}),Object.defineProperty(e,"Indexed",{enumerable:!0,get:function(){return s.Indexed}}),Object.defineProperty(e,"Interface",{enumerable:!0,get:function(){return s.Interface}}),Object.defineProperty(e,"ErrorDescription",{enumerable:!0,get:function(){return s.ErrorDescription}}),Object.defineProperty(e,"LogDescription",{enumerable:!0,get:function(){return s.LogDescription}}),Object.defineProperty(e,"TransactionDescription",{enumerable:!0,get:function(){return s.TransactionDescription}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return s.Result}});var a=st();Object.defineProperty(e,"Typed",{enumerable:!0,get:function(){return a.Typed}})}(yn)),yn}var An={},qe={},Se={},Ni;function Yr(){var x,I,B;if(Ni)return Se;Ni=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.TransactionResponse=Se.TransactionReceipt=Se.Log=Se.Block=Se.copyRequest=Se.FeeData=void 0;const e=le(),i=Me(),n=BigInt(0);function r(w){return w??null}function s(w){return w==null?null:w.toString()}class a{constructor(g,S,D){z(this,"gasPrice");z(this,"maxFeePerGas");z(this,"maxPriorityFeePerGas");(0,e.defineProperties)(this,{gasPrice:r(g),maxFeePerGas:r(S),maxPriorityFeePerGas:r(D)})}toJSON(){const{gasPrice:g,maxFeePerGas:S,maxPriorityFeePerGas:D}=this;return{_type:"FeeData",gasPrice:s(g),maxFeePerGas:s(S),maxPriorityFeePerGas:s(D)}}}Se.FeeData=a;function f(w){const g={};w.to&&(g.to=w.to),w.from&&(g.from=w.from),w.data&&(g.data=(0,e.hexlify)(w.data));const S="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const K of S)!(K in w)||w[K]==null||(g[K]=(0,e.getBigInt)(w[K],`request.${K}`));const D="type,nonce".split(/,/);for(const K of D)!(K in w)||w[K]==null||(g[K]=(0,e.getNumber)(w[K],`request.${K}`));return w.accessList&&(g.accessList=(0,i.accessListify)(w.accessList)),"blockTag"in w&&(g.blockTag=w.blockTag),"enableCcipRead"in w&&(g.enableCcipRead=!!w.enableCcipRead),"customData"in w&&(g.customData=w.customData),g}Se.copyRequest=f;class h{constructor(g,S){z(this,"provider");z(this,"number");z(this,"hash");z(this,"timestamp");z(this,"parentHash");z(this,"nonce");z(this,"difficulty");z(this,"gasLimit");z(this,"gasUsed");z(this,"miner");z(this,"extraData");z(this,"baseFeePerGas");V(this,x,void 0);M(this,x,g.transactions.map(D=>typeof D!="string"?new o(D,S):D)),(0,e.defineProperties)(this,{provider:S,hash:r(g.hash),number:g.number,timestamp:g.timestamp,parentHash:g.parentHash,nonce:g.nonce,difficulty:g.difficulty,gasLimit:g.gasLimit,gasUsed:g.gasUsed,miner:g.miner,extraData:g.extraData,baseFeePerGas:r(g.baseFeePerGas)})}get transactions(){return y(this,x).map(g=>typeof g=="string"?g:g.hash)}get prefetchedTransactions(){const g=y(this,x).slice();return g.length===0?[]:((0,e.assert)(typeof g[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),g)}toJSON(){const{baseFeePerGas:g,difficulty:S,extraData:D,gasLimit:K,gasUsed:J,hash:_,miner:F,nonce:U,number:E,parentHash:T,timestamp:m,transactions:j}=this;return{_type:"Block",baseFeePerGas:s(g),difficulty:s(S),extraData:D,gasLimit:s(K),gasUsed:s(J),hash:_,miner:F,nonce:U,number:E,parentHash:T,timestamp:m,transactions:j}}[Symbol.iterator](){let g=0;const S=this.transactions;return{next:()=>g<this.length?{value:S[g++],done:!1}:{value:void 0,done:!0}}}get length(){return y(this,x).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(g){let S;if(typeof g=="number")S=y(this,x)[g];else{const D=g.toLowerCase();for(const K of y(this,x))if(typeof K=="string"){if(K!==D)continue;S=K;break}else{if(K.hash===D)continue;S=K;break}}if(S==null)throw new Error("no such tx");return typeof S=="string"?await this.provider.getTransaction(S):S}getPrefetchedTransaction(g){const S=this.prefetchedTransactions;if(typeof g=="number")return S[g];g=g.toLowerCase();for(const D of S)if(D.hash===g)return D;(0,e.assertArgument)(!1,"no matching transaction","indexOrHash",g)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return u(this)}}x=new WeakMap,Se.Block=h;class l{constructor(g,S){z(this,"provider");z(this,"transactionHash");z(this,"blockHash");z(this,"blockNumber");z(this,"removed");z(this,"address");z(this,"data");z(this,"topics");z(this,"index");z(this,"transactionIndex");this.provider=S;const D=Object.freeze(g.topics.slice());(0,e.defineProperties)(this,{transactionHash:g.transactionHash,blockHash:g.blockHash,blockNumber:g.blockNumber,removed:g.removed,address:g.address,data:g.data,topics:D,index:g.index,transactionIndex:g.transactionIndex})}toJSON(){const{address:g,blockHash:S,blockNumber:D,data:K,index:J,removed:_,topics:F,transactionHash:U,transactionIndex:E}=this;return{_type:"log",address:g,blockHash:S,blockNumber:D,data:K,index:J,removed:_,topics:F,transactionHash:U,transactionIndex:E}}async getBlock(){const g=await this.provider.getBlock(this.blockHash);return(0,e.assert)(!!g,"failed to find transaction","UNKNOWN_ERROR",{}),g}async getTransaction(){const g=await this.provider.getTransaction(this.transactionHash);return(0,e.assert)(!!g,"failed to find transaction","UNKNOWN_ERROR",{}),g}async getTransactionReceipt(){const g=await this.provider.getTransactionReceipt(this.transactionHash);return(0,e.assert)(!!g,"failed to find transaction receipt","UNKNOWN_ERROR",{}),g}removedEvent(){return d(this)}}Se.Log=l;class t{constructor(g,S){z(this,"provider");z(this,"to");z(this,"from");z(this,"contractAddress");z(this,"hash");z(this,"index");z(this,"blockHash");z(this,"blockNumber");z(this,"logsBloom");z(this,"gasUsed");z(this,"cumulativeGasUsed");z(this,"gasPrice");z(this,"type");z(this,"status");z(this,"root");V(this,I,void 0);M(this,I,Object.freeze(g.logs.map(K=>new l(K,S))));let D=n;g.effectiveGasPrice!=null?D=g.effectiveGasPrice:g.gasPrice!=null&&(D=g.gasPrice),(0,e.defineProperties)(this,{provider:S,to:g.to,from:g.from,contractAddress:g.contractAddress,hash:g.hash,index:g.index,blockHash:g.blockHash,blockNumber:g.blockNumber,logsBloom:g.logsBloom,gasUsed:g.gasUsed,cumulativeGasUsed:g.cumulativeGasUsed,gasPrice:D,type:g.type,status:g.status,root:g.root})}get logs(){return y(this,I)}toJSON(){const{to:g,from:S,contractAddress:D,hash:K,index:J,blockHash:_,blockNumber:F,logsBloom:U,logs:E,status:T,root:m}=this;return{_type:"TransactionReceipt",blockHash:_,blockNumber:F,contractAddress:D,cumulativeGasUsed:s(this.cumulativeGasUsed),from:S,gasPrice:s(this.gasPrice),gasUsed:s(this.gasUsed),hash:K,index:J,logs:E,logsBloom:U,root:m,status:T,to:g}}get length(){return this.logs.length}[Symbol.iterator](){let g=0;return{next:()=>g<this.length?{value:this.logs[g++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const g=await this.provider.getBlock(this.blockHash);if(g==null)throw new Error("TODO");return g}async getTransaction(){const g=await this.provider.getTransaction(this.hash);if(g==null)throw new Error("TODO");return g}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return b(this)}reorderedEvent(g){return(0,e.assert)(!g||g.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),c(this,g)}}I=new WeakMap,Se.TransactionReceipt=t;const R=class R{constructor(g,S){z(this,"provider");z(this,"blockNumber");z(this,"blockHash");z(this,"index");z(this,"hash");z(this,"type");z(this,"to");z(this,"from");z(this,"nonce");z(this,"gasLimit");z(this,"gasPrice");z(this,"maxPriorityFeePerGas");z(this,"maxFeePerGas");z(this,"data");z(this,"value");z(this,"chainId");z(this,"signature");z(this,"accessList");V(this,B,void 0);this.provider=S,this.blockNumber=g.blockNumber!=null?g.blockNumber:null,this.blockHash=g.blockHash!=null?g.blockHash:null,this.hash=g.hash,this.index=g.index,this.type=g.type,this.from=g.from,this.to=g.to||null,this.gasLimit=g.gasLimit,this.nonce=g.nonce,this.data=g.data,this.value=g.value,this.gasPrice=g.gasPrice,this.maxPriorityFeePerGas=g.maxPriorityFeePerGas!=null?g.maxPriorityFeePerGas:null,this.maxFeePerGas=g.maxFeePerGas!=null?g.maxFeePerGas:null,this.chainId=g.chainId,this.signature=g.signature,this.accessList=g.accessList!=null?g.accessList:null,M(this,B,-1)}toJSON(){const{blockNumber:g,blockHash:S,index:D,hash:K,type:J,to:_,from:F,nonce:U,data:E,signature:T,accessList:m}=this;return{_type:"TransactionReceipt",accessList:m,blockNumber:g,blockHash:S,chainId:s(this.chainId),data:E,from:F,gasLimit:s(this.gasLimit),gasPrice:s(this.gasPrice),hash:K,maxFeePerGas:s(this.maxFeePerGas),maxPriorityFeePerGas:s(this.maxPriorityFeePerGas),nonce:U,signature:T,to:_,index:D,type:J,value:s(this.value)}}async getBlock(){let g=this.blockNumber;if(g==null){const D=await this.getTransaction();D&&(g=D.blockNumber)}if(g==null)return null;const S=this.provider.getBlock(g);if(S==null)throw new Error("TODO");return S}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:S,blockNumber:D}=await(0,e.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return S==null||S.blockNumber==null?0:D-S.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(g,S){const D=g??1,K=S??0;let J=y(this,B),_=-1,F=J===-1;const U=async()=>{if(F)return null;const{blockNumber:j,nonce:P}=await(0,e.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(P<this.nonce){J=j;return}if(F)return null;const L=await this.getTransaction();if(!(L&&L.blockNumber!=null))for(_===-1&&(_=J-3,_<y(this,B)&&(_=y(this,B)));_<=j;){if(F)return null;const k=await this.provider.getBlock(_,!0);if(k==null)return;for(const q of k)if(q===this.hash)return;for(let q=0;q<k.length;q++){const A=await k.getTransaction(q);if(A.from===this.from&&A.nonce===this.nonce){if(F)return null;const N=await this.provider.getTransactionReceipt(A.hash);if(N==null||j-N.blockNumber+1<D)return;let O="replaced";A.data===this.data&&A.to===this.to&&A.value===this.value?O="repriced":A.data==="0x"&&A.from===A.to&&A.value===n&&(O="cancelled"),(0,e.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:O==="replaced"||O==="cancelled",reason:O,replacement:A.replaceableTransaction(J),hash:A.hash,receipt:N})}}_++}},E=j=>{if(j==null||j.status!==0)return j;(0,e.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:j.to,from:j.from,data:""},receipt:j})},T=await this.provider.getTransactionReceipt(this.hash);if(D===0)return E(T);if(T){if(await T.confirmations()>=D)return E(T)}else if(await U(),D===0)return null;return await new Promise((j,P)=>{const L=[],k=()=>{L.forEach(A=>A())};if(L.push(()=>{F=!0}),K>0){const A=setTimeout(()=>{k(),P((0,e.makeError)("wait for transaction timeout","TIMEOUT"))},K);L.push(()=>{clearTimeout(A)})}const q=async A=>{if(await A.confirmations()>=D){k();try{j(E(A))}catch(N){P(N)}}};if(L.push(()=>{this.provider.off(this.hash,q)}),this.provider.on(this.hash,q),J>=0){const A=async()=>{try{await U()}catch(N){if((0,e.isError)(N,"TRANSACTION_REPLACED")){k(),P(N);return}}F||this.provider.once("block",A)};L.push(()=>{this.provider.off("block",A)}),this.provider.once("block",A)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}removedEvent(){return(0,e.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),b(this)}reorderedEvent(g){return(0,e.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,e.assert)(!g||g.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),c(this,g)}replaceableTransaction(g){(0,e.assertArgument)(Number.isInteger(g)&&g>=0,"invalid startBlock","startBlock",g);const S=new R(this,this.provider);return M(S,B,g),S}};B=new WeakMap;let o=R;Se.TransactionResponse=o;function u(w){return{orphan:"drop-block",hash:w.hash,number:w.number}}function c(w,g){return{orphan:"reorder-transaction",tx:w,other:g}}function b(w){return{orphan:"drop-transaction",tx:w}}function d(w){return{orphan:"drop-log",log:{transactionHash:w.transactionHash,blockHash:w.blockHash,blockNumber:w.blockNumber,address:w.address,data:w.data,topics:Object.freeze(w.topics.slice()),index:w.index}}}return Se}var je={},Ti;function eo(){var l,t;if(Ti)return je;Ti=1,Object.defineProperty(je,"__esModule",{value:!0}),je.ContractEventPayload=je.ContractUnknownEventPayload=je.ContractTransactionResponse=je.ContractTransactionReceipt=je.UndecodedEventLog=je.EventLog=void 0;const e=Yr(),i=le();class n extends e.Log{constructor(c,b,d){super(c,c.provider);z(this,"interface");z(this,"fragment");z(this,"args");const x=b.decodeEventLog(d,c.data,c.topics);(0,i.defineProperties)(this,{args:x,fragment:d,interface:b})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}je.EventLog=n;class r extends e.Log{constructor(c,b){super(c,c.provider);z(this,"error");(0,i.defineProperties)(this,{error:b})}}je.UndecodedEventLog=r;class s extends e.TransactionReceipt{constructor(c,b,d){super(d,b);V(this,l,void 0);M(this,l,c)}get logs(){return super.logs.map(c=>{const b=c.topics.length?y(this,l).getEvent(c.topics[0]):null;if(b)try{return new n(c,y(this,l),b)}catch(d){return new r(c,d)}return c})}}l=new WeakMap,je.ContractTransactionReceipt=s;class a extends e.TransactionResponse{constructor(c,b,d){super(d,b);V(this,t,void 0);M(this,t,c)}async wait(c){const b=await super.wait(c);return b==null?null:new s(y(this,t),this.provider,b)}}t=new WeakMap,je.ContractTransactionResponse=a;class f extends i.EventPayload{constructor(c,b,d,x){super(c,b,d);z(this,"log");(0,i.defineProperties)(this,{log:x})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}je.ContractUnknownEventPayload=f;class h extends f{constructor(u,c,b,d,x){super(u,c,b,new n(x,u.interface,d));const I=u.interface.decodeEventLog(d,this.log.data,this.log.topics);(0,i.defineProperties)(this,{args:I,fragment:d})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}return je.ContractEventPayload=h,je}var Ri;function to(){var k,q;if(Ri)return qe;Ri=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.Contract=qe.BaseContract=qe.resolveArgs=qe.copyOverrides=void 0;const e=Xr(),i=Ee(),n=Yr(),r=le(),s=eo(),a=BigInt(0);function f(N){return N&&typeof N.call=="function"}function h(N){return N&&typeof N.estimateGas=="function"}function l(N){return N&&typeof N.resolveName=="function"}function t(N){return N&&typeof N.sendTransaction=="function"}function o(N){if(N!=null){if(l(N))return N;if(N.provider)return N.provider}}class u{constructor(O,v,$){V(this,k,void 0);z(this,"fragment");if((0,r.defineProperties)(this,{fragment:v}),v.inputs.length<$.length)throw new Error("too many arguments");const X=c(O.runner,"resolveName"),Y=l(X)?X:null;M(this,k,async function(){const ie=await Promise.all(v.inputs.map((te,fe)=>$[fe]==null?null:te.walkAsync($[fe],(be,oe)=>be==="address"?Array.isArray(oe)?Promise.all(oe.map(he=>(0,i.resolveAddress)(he,Y))):(0,i.resolveAddress)(oe,Y):oe)));return O.interface.encodeFilterTopics(v,ie)}())}getTopicFilter(){return y(this,k)}}k=new WeakMap;function c(N,O){return N==null?null:typeof N[O]=="function"?N:N.provider&&typeof N.provider[O]=="function"?N.provider:null}function b(N){return N==null?null:N.provider||null}async function d(N,O){const v=e.Typed.dereference(N,"overrides");(0,r.assertArgument)(typeof v=="object","invalid overrides parameter","overrides",N);const $=(0,n.copyRequest)(v);return(0,r.assertArgument)($.to==null||(O||[]).indexOf("to")>=0,"cannot override to","overrides.to",$.to),(0,r.assertArgument)($.data==null||(O||[]).indexOf("data")>=0,"cannot override data","overrides.data",$.data),$.from&&($.from=$.from),$}qe.copyOverrides=d;async function x(N,O,v){const $=c(N,"resolveName"),X=l($)?$:null;return await Promise.all(O.map((Y,ie)=>Y.walkAsync(v[ie],(te,fe)=>(fe=e.Typed.dereference(fe,te),te==="address"?(0,i.resolveAddress)(fe,X):fe))))}qe.resolveArgs=x;function I(N){const O=async function(ie){const te=await d(ie,["data"]);te.to=await N.getAddress(),te.from&&(te.from=await(0,i.resolveAddress)(te.from,o(N.runner)));const fe=N.interface,ce=(0,r.getBigInt)(te.value||a,"overrides.value")===a,be=(te.data||"0x")==="0x";fe.fallback&&!fe.fallback.payable&&fe.receive&&!be&&!ce&&(0,r.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",ie),(0,r.assertArgument)(fe.fallback||be,"cannot send data to receive-only contract","overrides.data",te.data);const oe=fe.receive||fe.fallback&&fe.fallback.payable;return(0,r.assertArgument)(oe||ce,"cannot send value to non-payable fallback","overrides.value",te.value),(0,r.assertArgument)(fe.fallback||be,"cannot send data to receive-only contract","overrides.data",te.data),te},v=async function(ie){const te=c(N.runner,"call");(0,r.assert)(f(te),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const fe=await O(ie);try{return await te.call(fe)}catch(ce){throw(0,r.isCallException)(ce)&&ce.data?N.interface.makeError(ce.data,fe):ce}},$=async function(ie){const te=N.runner;(0,r.assert)(t(te),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const fe=await te.sendTransaction(await O(ie)),ce=b(N.runner);return new s.ContractTransactionResponse(N.interface,ce,fe)},X=async function(ie){const te=c(N.runner,"estimateGas");return(0,r.assert)(h(te),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await te.estimateGas(await O(ie))},Y=async ie=>await $(ie);return(0,r.defineProperties)(Y,{_contract:N,estimateGas:X,populateTransaction:O,send:$,staticCall:v}),Y}function B(N,O){const v=function(...ce){const be=N.interface.getFunction(O,ce);return(0,r.assert)(be,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:O,args:ce}}),be},$=async function(...ce){const be=v(...ce);let oe={};if(be.inputs.length+1===ce.length&&(oe=await d(ce.pop()),oe.from&&(oe.from=await(0,i.resolveAddress)(oe.from,o(N.runner)))),be.inputs.length!==ce.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const he=await x(N.runner,be.inputs,ce);return Object.assign({},oe,await(0,r.resolveProperties)({to:N.getAddress(),data:N.interface.encodeFunctionData(be,he)}))},X=async function(...ce){const be=await te(...ce);return be.length===1?be[0]:be},Y=async function(...ce){const be=N.runner;(0,r.assert)(t(be),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const oe=await be.sendTransaction(await $(...ce)),he=b(N.runner);return new s.ContractTransactionResponse(N.interface,he,oe)},ie=async function(...ce){const be=c(N.runner,"estimateGas");return(0,r.assert)(h(be),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await be.estimateGas(await $(...ce))},te=async function(...ce){const be=c(N.runner,"call");(0,r.assert)(f(be),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const oe=await $(...ce);let he="0x";try{he=await be.call(oe)}catch(Z){throw(0,r.isCallException)(Z)&&Z.data?N.interface.makeError(Z.data,oe):Z}const ge=v(...ce);return N.interface.decodeFunctionResult(ge,he)},fe=async(...ce)=>v(...ce).constant?await X(...ce):await Y(...ce);return(0,r.defineProperties)(fe,{name:N.interface.getFunctionName(O),_contract:N,_key:O,getFragment:v,estimateGas:ie,populateTransaction:$,send:Y,staticCall:X,staticCallResult:te}),Object.defineProperty(fe,"fragment",{configurable:!1,enumerable:!0,get:()=>{const ce=N.interface.getFunction(O);return(0,r.assert)(ce,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:O}}),ce}}),fe}function R(N,O){const v=function(...X){const Y=N.interface.getEvent(O,X);return(0,r.assert)(Y,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:O,args:X}}),Y},$=function(...X){return new u(N,v(...X),X)};return(0,r.defineProperties)($,{name:N.interface.getEventName(O),_contract:N,_key:O,getFragment:v}),Object.defineProperty($,"fragment",{configurable:!1,enumerable:!0,get:()=>{const X=N.interface.getEvent(O);return(0,r.assert)(X,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:O}}),X}}),$}const w=Symbol.for("_ethersInternal_contract"),g=new WeakMap;function S(N,O){g.set(N[w],O)}function D(N){return g.get(N[w])}function K(N){return N&&typeof N=="object"&&"getTopicFilter"in N&&typeof N.getTopicFilter=="function"&&N.fragment}async function J(N,O){let v,$=null;if(Array.isArray(O)){const Y=function(ie){if((0,r.isHexString)(ie,32))return ie;const te=N.interface.getEvent(ie);return(0,r.assertArgument)(te,"unknown fragment","name",ie),te.topicHash};v=O.map(ie=>ie==null?null:Array.isArray(ie)?ie.map(Y):Y(ie))}else O==="*"?v=[null]:typeof O=="string"?(0,r.isHexString)(O,32)?v=[O]:($=N.interface.getEvent(O),(0,r.assertArgument)($,"unknown fragment","event",O),v=[$.topicHash]):K(O)?v=await O.getTopicFilter():"fragment"in O?($=O.fragment,v=[$.topicHash]):(0,r.assertArgument)(!1,"unknown event name","event",O);v=v.map(Y=>{if(Y==null)return null;if(Array.isArray(Y)){const ie=Array.from(new Set(Y.map(te=>te.toLowerCase())).values());return ie.length===1?ie[0]:(ie.sort(),ie)}return Y.toLowerCase()});const X=v.map(Y=>Y==null?"null":Array.isArray(Y)?Y.join("|"):Y).join("&");return{fragment:$,tag:X,topics:v}}async function _(N,O){const{subs:v}=D(N);return v.get((await J(N,O)).tag)||null}async function F(N,O,v){const $=b(N.runner);(0,r.assert)($,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:O});const{fragment:X,tag:Y,topics:ie}=await J(N,v),{addr:te,subs:fe}=D(N);let ce=fe.get(Y);if(!ce){const oe={address:te||N,topics:ie},he=xe=>{let ye=X;if(ye==null)try{ye=N.interface.getEvent(xe.topics[0])}catch{}if(ye){const Re=ye,ae=X?N.interface.decodeEventLog(X,xe.data,xe.topics):[];T(N,v,ae,G=>new s.ContractEventPayload(N,G,v,Re,xe))}else T(N,v,[],Re=>new s.ContractUnknownEventPayload(N,Re,v,xe))};let ge=[];ce={tag:Y,listeners:[],start:()=>{ge.length||ge.push($.on(oe,he))},stop:async()=>{if(ge.length==0)return;let xe=ge;ge=[],await Promise.all(xe),$.off(oe,he)}},fe.set(Y,ce)}return ce}let U=Promise.resolve();async function E(N,O,v,$){await U;const X=await _(N,O);if(!X)return!1;const Y=X.listeners.length;return X.listeners=X.listeners.filter(({listener:ie,once:te})=>{const fe=Array.from(v);$&&fe.push($(te?null:ie));try{ie.call(N,...fe)}catch{}return!te}),X.listeners.length===0&&(X.stop(),D(N).subs.delete(X.tag)),Y>0}async function T(N,O,v,$){try{await U}catch{}const X=E(N,O,v,$);return U=X,await X}const m=["then"],A=class A{constructor(O,v,$,X){z(this,"target");z(this,"interface");z(this,"runner");z(this,"filters");z(this,q);z(this,"fallback");(0,r.assertArgument)(typeof O=="string"||(0,i.isAddressable)(O),"invalid value for Contract target","target",O),$==null&&($=null);const Y=e.Interface.from(v);(0,r.defineProperties)(this,{target:O,runner:$,interface:Y}),Object.defineProperty(this,w,{value:{}});let ie,te=null,fe=null;if(X){const oe=b($);fe=new s.ContractTransactionResponse(this.interface,oe,X)}let ce=new Map;if(typeof O=="string")if((0,r.isHexString)(O))te=O,ie=Promise.resolve(O);else{const oe=c($,"resolveName");if(!l(oe))throw(0,r.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});ie=oe.resolveName(O).then(he=>{if(he==null)throw(0,r.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:O});return D(this).addr=he,he})}else ie=O.getAddress().then(oe=>{if(oe==null)throw new Error("TODO");return D(this).addr=oe,oe});S(this,{addrPromise:ie,addr:te,deployTx:fe,subs:ce});const be=new Proxy({},{get:(oe,he,ge)=>{if(typeof he=="symbol"||m.indexOf(he)>=0)return Reflect.get(oe,he,ge);try{return this.getEvent(he)}catch(Z){if(!(0,r.isError)(Z,"INVALID_ARGUMENT")||Z.argument!=="key")throw Z}},has:(oe,he)=>m.indexOf(he)>=0?Reflect.has(oe,he):Reflect.has(oe,he)||this.interface.hasEvent(String(he))});return(0,r.defineProperties)(this,{filters:be}),(0,r.defineProperties)(this,{fallback:Y.receive||Y.fallback?I(this):null}),new Proxy(this,{get:(oe,he,ge)=>{if(typeof he=="symbol"||he in oe||m.indexOf(he)>=0)return Reflect.get(oe,he,ge);try{return oe.getFunction(he)}catch(Z){if(!(0,r.isError)(Z,"INVALID_ARGUMENT")||Z.argument!=="key")throw Z}},has:(oe,he)=>typeof he=="symbol"||he in oe||m.indexOf(he)>=0?Reflect.has(oe,he):oe.interface.hasFunction(he)})}connect(O){return new A(this.target,this.interface,O)}attach(O){return new A(O,this.interface,this.runner)}async getAddress(){return await D(this).addrPromise}async getDeployedCode(){const O=b(this.runner);(0,r.assert)(O,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const v=await O.getCode(await this.getAddress());return v==="0x"?null:v}async waitForDeployment(){const O=this.deploymentTransaction();if(O)return await O.wait(),this;if(await this.getDeployedCode()!=null)return this;const $=b(this.runner);return(0,r.assert)($!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((X,Y)=>{const ie=async()=>{try{if(await this.getDeployedCode()!=null)return X(this);$.once("block",ie)}catch(te){Y(te)}};ie()})}deploymentTransaction(){return D(this).deployTx}getFunction(O){return typeof O!="string"&&(O=O.format()),B(this,O)}getEvent(O){return typeof O!="string"&&(O=O.format()),R(this,O)}async queryTransaction(O){throw new Error("@TODO")}async queryFilter(O,v,$){v==null&&(v=0),$==null&&($="latest");const{addr:X,addrPromise:Y}=D(this),ie=X||await Y,{fragment:te,topics:fe}=await J(this,O),ce={address:ie,topics:fe,fromBlock:v,toBlock:$},be=b(this.runner);return(0,r.assert)(be,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await be.getLogs(ce)).map(oe=>{let he=te;if(he==null)try{he=this.interface.getEvent(oe.topics[0])}catch{}if(he)try{return new s.EventLog(oe,this.interface,he)}catch(ge){return new s.UndecodedEventLog(oe,ge)}return new n.Log(oe,be)})}async on(O,v){const $=await F(this,"on",O);return $.listeners.push({listener:v,once:!1}),$.start(),this}async once(O,v){const $=await F(this,"once",O);return $.listeners.push({listener:v,once:!0}),$.start(),this}async emit(O,...v){return await T(this,O,v,null)}async listenerCount(O){if(O){const X=await _(this,O);return X?X.listeners.length:0}const{subs:v}=D(this);let $=0;for(const{listeners:X}of v.values())$+=X.length;return $}async listeners(O){if(O){const X=await _(this,O);return X?X.listeners.map(({listener:Y})=>Y):[]}const{subs:v}=D(this);let $=[];for(const{listeners:X}of v.values())$=$.concat(X.map(({listener:Y})=>Y));return $}async off(O,v){const $=await _(this,O);if(!$)return this;if(v){const X=$.listeners.map(({listener:Y})=>Y).indexOf(v);X>=0&&$.listeners.splice(X,1)}return(v==null||$.listeners.length===0)&&($.stop(),D(this).subs.delete($.tag)),this}async removeAllListeners(O){if(O){const v=await _(this,O);if(!v)return this;v.stop(),D(this).subs.delete(v.tag)}else{const{subs:v}=D(this);for(const{tag:$,stop:X}of v.values())X(),v.delete($)}return this}async addListener(O,v){return await this.on(O,v)}async removeListener(O,v){return await this.off(O,v)}static buildClass(O){class v extends A{constructor(X,Y=null){super(X,O,Y)}}return v}static from(O,v,$){return $==null&&($=null),new this(O,v,$)}};q=w;let j=A;qe.BaseContract=j;function P(){return j}class L extends P(){}return qe.Contract=L,qe}var lr={},Si;function Kc(){if(Si)return lr;Si=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.ContractFactory=void 0;const e=Xr(),i=Ee(),n=le(),r=to();class s{constructor(f,h,l){z(this,"interface");z(this,"bytecode");z(this,"runner");const t=e.Interface.from(f);h instanceof Uint8Array||(typeof h=="object"&&(h=h.object),h.startsWith("0x")||(h="0x"+h)),h=(0,n.hexlify)((0,n.getBytes)(h)),(0,n.defineProperties)(this,{bytecode:h,interface:t,runner:l||null})}attach(f){return new r.BaseContract(f,this.interface,this.runner)}async getDeployTransaction(...f){let h={};const l=this.interface.deploy;if(l.inputs.length+1===f.length&&(h=await(0,r.copyOverrides)(f.pop())),l.inputs.length!==f.length)throw new Error("incorrect number of arguments to constructor");const t=await(0,r.resolveArgs)(this.runner,l.inputs,f),o=(0,n.concat)([this.bytecode,this.interface.encodeDeploy(t)]);return Object.assign({},h,{data:o})}async deploy(...f){const h=await this.getDeployTransaction(...f);(0,n.assert)(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await this.runner.sendTransaction(h),t=(0,i.getCreateAddress)(l);return new r.BaseContract(t,this.interface,this.runner,l)}connect(f){return new s(this.interface,this.bytecode,f)}static fromSolidity(f,h){(0,n.assertArgument)(f!=null,"bad compiler output","output",f),typeof f=="string"&&(f=JSON.parse(f));const l=f.abi;let t="";return f.bytecode?t=f.bytecode:f.evm&&f.evm.bytecode&&(t=f.evm.bytecode),new this(l,t,h)}}return lr.ContractFactory=s,lr}var ji;function un(){return ji||(ji=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UndecodedEventLog=e.EventLog=e.ContractTransactionResponse=e.ContractTransactionReceipt=e.ContractUnknownEventPayload=e.ContractEventPayload=e.ContractFactory=e.Contract=e.BaseContract=void 0;var i=to();Object.defineProperty(e,"BaseContract",{enumerable:!0,get:function(){return i.BaseContract}}),Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return i.Contract}});var n=Kc();Object.defineProperty(e,"ContractFactory",{enumerable:!0,get:function(){return n.ContractFactory}});var r=eo();Object.defineProperty(e,"ContractEventPayload",{enumerable:!0,get:function(){return r.ContractEventPayload}}),Object.defineProperty(e,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return r.ContractUnknownEventPayload}}),Object.defineProperty(e,"ContractTransactionReceipt",{enumerable:!0,get:function(){return r.ContractTransactionReceipt}}),Object.defineProperty(e,"ContractTransactionResponse",{enumerable:!0,get:function(){return r.ContractTransactionResponse}}),Object.defineProperty(e,"EventLog",{enumerable:!0,get:function(){return r.EventLog}}),Object.defineProperty(e,"UndecodedEventLog",{enumerable:!0,get:function(){return r.UndecodedEventLog}})}(An)),An}var En={},wt={},tt={},Ci;function no(){var c,b,d,Bt,I,ro;if(Ci)return tt;Ci=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.EnsResolver=tt.BasicMulticoinProviderPlugin=tt.MulticoinProviderPlugin=void 0;const e=Ee(),i=Zr(),n=un(),r=it(),s=le();function a(w){return w.match(/^ipfs:\/\/ipfs\//i)?w=w.substring(12):w.match(/^ipfs:\/\//i)?w=w.substring(7):(0,s.assertArgument)(!1,"unsupported IPFS format","link",w),`https://gateway.ipfs.io/ipfs/${w}`}class f{constructor(g){z(this,"name");(0,s.defineProperties)(this,{name:g})}connect(g){return this}supportsCoinType(g){return!1}async encodeAddress(g,S){throw new Error("unsupported coin")}async decodeAddress(g,S){throw new Error("unsupported coin")}}tt.MulticoinProviderPlugin=f;const h="org.ethers.plugins.provider.BasicMulticoin";class l extends f{constructor(){super(h)}}tt.BasicMulticoinProviderPlugin=l;const t=new RegExp("^(ipfs)://(.*)$","i"),o=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),t,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],R=class R{constructor(g,S,D){V(this,d);z(this,"provider");z(this,"address");z(this,"name");V(this,c,void 0);V(this,b,void 0);(0,s.defineProperties)(this,{provider:g,address:S,name:D}),M(this,c,null),M(this,b,new n.Contract(S,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],g))}async supportsWildcard(){return y(this,c)==null&&M(this,c,(async()=>{try{return await y(this,b).supportsInterface("0x9061b923")}catch(g){if((0,s.isError)(g,"CALL_EXCEPTION"))return!1;throw M(this,c,null),g}})()),await y(this,c)}async getAddress(g){if(g==null&&(g=60),g===60)try{const J=await ee(this,d,Bt).call(this,"addr(bytes32)");return J==null||J===i.ZeroAddress?null:J}catch(J){if((0,s.isError)(J,"CALL_EXCEPTION"))return null;throw J}if(g>=0&&g<2147483648){let J=g+2147483648;const _=await ee(this,d,Bt).call(this,"addr(bytes32,uint)",[J]);if((0,s.isHexString)(_,20))return(0,e.getAddress)(_)}let S=null;for(const J of this.provider.plugins)if(J instanceof f&&J.supportsCoinType(g)){S=J;break}if(S==null)return null;const D=await ee(this,d,Bt).call(this,"addr(bytes32,uint)",[g]);if(D==null||D==="0x")return null;const K=await S.decodeAddress(g,D);if(K!=null)return K;(0,s.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${g})`,info:{coinType:g,data:D}})}async getText(g){const S=await ee(this,d,Bt).call(this,"text(bytes32,string)",[g]);return S==null||S==="0x"?null:S}async getContentHash(){const g=await ee(this,d,Bt).call(this,"contenthash(bytes32)");if(g==null||g==="0x")return null;const S=g.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(S){const K=S[1]==="e3010170"?"ipfs":"ipns",J=parseInt(S[4],16);if(S[5].length===J*2)return`${K}://${(0,s.encodeBase58)("0x"+S[2])}`}const D=g.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(D&&D[1].length===64)return`bzz://${D[1]}`;(0,s.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:g}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const g=[{type:"name",value:this.name}];try{const S=await this.getText("avatar");if(S==null)return g.push({type:"!avatar",value:""}),{url:null,linkage:g};g.push({type:"avatar",value:S});for(let D=0;D<o.length;D++){const K=S.match(o[D]);if(K==null)continue;const J=K[1].toLowerCase();switch(J){case"https":case"data":return g.push({type:"url",value:S}),{linkage:g,url:S};case"ipfs":{const _=a(S);return g.push({type:"ipfs",value:S}),g.push({type:"url",value:_}),{linkage:g,url:_}}case"erc721":case"erc1155":{const _=J==="erc721"?"tokenURI(uint256)":"uri(uint256)";g.push({type:J,value:S});const F=await this.getAddress();if(F==null)return g.push({type:"!owner",value:""}),{url:null,linkage:g};const U=(K[2]||"").split("/");if(U.length!==2)return g.push({type:`!${J}caip`,value:K[2]||""}),{url:null,linkage:g};const E=U[1],T=new n.Contract(U[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(J==="erc721"){const k=await T.ownerOf(E);if(F!==k)return g.push({type:"!owner",value:k}),{url:null,linkage:g};g.push({type:"owner",value:k})}else if(J==="erc1155"){const k=await T.balanceOf(F,E);if(!k)return g.push({type:"!balance",value:"0"}),{url:null,linkage:g};g.push({type:"balance",value:k.toString()})}let m=await T[_](E);if(m==null||m==="0x")return g.push({type:"!metadata-url",value:""}),{url:null,linkage:g};g.push({type:"metadata-url-base",value:m}),J==="erc1155"&&(m=m.replace("{id}",(0,s.toBeHex)(E,32).substring(2)),g.push({type:"metadata-url-expanded",value:m})),m.match(/^ipfs:/i)&&(m=a(m)),g.push({type:"metadata-url",value:m});let j={};const P=await new s.FetchRequest(m).send();P.assertOk();try{j=P.bodyJson}catch{try{g.push({type:"!metadata",value:P.bodyText})}catch{const A=P.body;return A&&g.push({type:"!metadata",value:(0,s.hexlify)(A)}),{url:null,linkage:g}}return{url:null,linkage:g}}if(!j)return g.push({type:"!metadata",value:""}),{url:null,linkage:g};g.push({type:"metadata",value:JSON.stringify(j)});let L=j.image;if(typeof L!="string")return g.push({type:"!imageUrl",value:""}),{url:null,linkage:g};if(!L.match(/^(https:\/\/|data:)/i)){if(L.match(t)==null)return g.push({type:"!imageUrl-ipfs",value:L}),{url:null,linkage:g};g.push({type:"imageUrl-ipfs",value:L}),L=a(L)}return g.push({type:"url",value:L}),{linkage:g,url:L}}}}}catch{}return{linkage:g,url:null}}static async getEnsAddress(g){const S=await g.getNetwork(),D=S.getPlugin("org.ethers.plugins.network.Ens");return(0,s.assert)(D,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:S}}),D.address}static async fromName(g,S){var K;let D=S;for(;;){if(D===""||D==="."||S!=="eth"&&D==="eth")return null;const J=await ee(K=R,I,ro).call(K,g,D);if(J!=null){const _=new R(g,J,S);return D!==S&&!await _.supportsWildcard()?null:_}D=D.split(".").slice(1).join(".")}}};c=new WeakMap,b=new WeakMap,d=new WeakSet,Bt=async function(g,S){S=(S||[]).slice();const D=y(this,b).interface;S.unshift((0,r.namehash)(this.name));let K=null;await this.supportsWildcard()&&(K=D.getFunction(g),(0,s.assert)(K,"missing fragment","UNKNOWN_ERROR",{info:{funcName:g}}),S=[(0,r.dnsEncode)(this.name),D.encodeFunctionData(K,S)],g="resolve(bytes,bytes)"),S.push({enableCcipRead:!0});try{const J=await y(this,b)[g](...S);return K?D.decodeFunctionResult(K,J)[0]:J}catch(J){if(!(0,s.isError)(J,"CALL_EXCEPTION"))throw J}return null},I=new WeakSet,ro=async function(g,S){const D=await R.getEnsAddress(g);try{const J=await new n.Contract(D,["function resolver(bytes32) view returns (address)"],g).resolver((0,r.namehash)(S),{enableCcipRead:!0});return J===i.ZeroAddress?null:J}catch(K){throw K}return null},V(R,I);let u=R;return tt.EnsResolver=u,tt}var we={},Bi;function Jc(){if(Bi)return we;Bi=1,Object.defineProperty(we,"__esModule",{value:!0}),we.formatTransactionResponse=we.formatTransactionReceipt=we.formatReceiptLog=we.formatBlock=we.formatLog=we.formatUint256=we.formatHash=we.formatData=we.formatBoolean=we.object=we.arrayOf=we.allowNull=void 0;const e=Ee(),i=Te(),n=Me(),r=le(),s=BigInt(0);function a(S,D){return function(K){return K==null?D:S(K)}}we.allowNull=a;function f(S){return D=>{if(!Array.isArray(D))throw new Error("not an array");return D.map(K=>S(K))}}we.arrayOf=f;function h(S,D){return K=>{const J={};for(const _ in S){let F=_;if(D&&_ in D&&!(F in K)){for(const U of D[_])if(U in K){F=U;break}}try{const U=S[_](K[F]);U!==void 0&&(J[_]=U)}catch(U){const E=U instanceof Error?U.message:"not-an-error";(0,r.assert)(!1,`invalid value for value.${_} (${E})`,"BAD_DATA",{value:K})}}return J}}we.object=h;function l(S){switch(S){case!0:case"true":return!0;case!1:case"false":return!1}(0,r.assertArgument)(!1,`invalid boolean; ${JSON.stringify(S)}`,"value",S)}we.formatBoolean=l;function t(S){return(0,r.assertArgument)((0,r.isHexString)(S,!0),"invalid data","value",S),S}we.formatData=t;function o(S){return(0,r.assertArgument)((0,r.isHexString)(S,32),"invalid hash","value",S),S}we.formatHash=o;function u(S){if(!(0,r.isHexString)(S))throw new Error("invalid uint256");return(0,r.zeroPadValue)(S,32)}we.formatUint256=u;const c=h({address:e.getAddress,blockHash:o,blockNumber:r.getNumber,data:t,index:r.getNumber,removed:a(l,!1),topics:f(o),transactionHash:o,transactionIndex:r.getNumber},{index:["logIndex"]});function b(S){return c(S)}we.formatLog=b;const d=h({hash:a(o),parentHash:o,number:r.getNumber,timestamp:r.getNumber,nonce:a(t),difficulty:r.getBigInt,gasLimit:r.getBigInt,gasUsed:r.getBigInt,miner:a(e.getAddress),extraData:t,baseFeePerGas:a(r.getBigInt)});function x(S){const D=d(S);return D.transactions=S.transactions.map(K=>typeof K=="string"?K:g(K)),D}we.formatBlock=x;const I=h({transactionIndex:r.getNumber,blockNumber:r.getNumber,transactionHash:o,address:e.getAddress,topics:f(o),data:t,index:r.getNumber,blockHash:o},{index:["logIndex"]});function B(S){return I(S)}we.formatReceiptLog=B;const R=h({to:a(e.getAddress,null),from:a(e.getAddress,null),contractAddress:a(e.getAddress,null),index:r.getNumber,root:a(r.hexlify),gasUsed:r.getBigInt,logsBloom:a(t),blockHash:o,hash:o,logs:f(B),blockNumber:r.getNumber,cumulativeGasUsed:r.getBigInt,effectiveGasPrice:a(r.getBigInt),status:a(r.getNumber),type:a(r.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function w(S){return R(S)}we.formatTransactionReceipt=w;function g(S){S.to&&(0,r.getBigInt)(S.to)===s&&(S.to="0x0000000000000000000000000000000000000000");const D=h({hash:o,type:K=>K==="0x"||K==null?0:(0,r.getNumber)(K),accessList:a(n.accessListify,null),blockHash:a(o,null),blockNumber:a(r.getNumber,null),transactionIndex:a(r.getNumber,null),from:e.getAddress,gasPrice:a(r.getBigInt),maxPriorityFeePerGas:a(r.getBigInt),maxFeePerGas:a(r.getBigInt),gasLimit:r.getBigInt,to:a(e.getAddress,null),value:r.getBigInt,nonce:r.getNumber,data:t,creates:a(e.getAddress,null),chainId:a(r.getBigInt,null)},{data:["input"],gasLimit:["gas"]})(S);if(D.to==null&&D.creates==null&&(D.creates=(0,e.getCreateAddress)(D)),(S.type===1||S.type===2)&&S.accessList==null&&(D.accessList=[]),S.signature?D.signature=i.Signature.from(S.signature):D.signature=i.Signature.from(S),D.chainId==null){const K=D.signature.legacyChainId;K!=null&&(D.chainId=K)}return D.blockHash&&(0,r.getBigInt)(D.blockHash)===s&&(D.blockHash=null),D}return we.formatTransactionResponse=g,we}var fr={},Be={},Ii;function as(){var l,o,u;if(Ii)return Be;Ii=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.FetchUrlFeeDataNetworkPlugin=Be.FeeDataNetworkPlugin=Be.EnsPlugin=Be.GasCostPlugin=Be.NetworkPlugin=void 0;const e=Nt(),i=le(),n="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class r{constructor(b){z(this,"name");(0,e.defineProperties)(this,{name:b})}clone(){return new r(this.name)}}Be.NetworkPlugin=r;class s extends r{constructor(d,x){d==null&&(d=0);super(`org.ethers.network.plugins.GasCost#${d||0}`);z(this,"effectiveBlock");z(this,"txBase");z(this,"txCreate");z(this,"txDataZero");z(this,"txDataNonzero");z(this,"txAccessListStorageKey");z(this,"txAccessListAddress");const I={effectiveBlock:d};function B(R,w){let g=(x||{})[R];g==null&&(g=w),(0,i.assertArgument)(typeof g=="number",`invalud value for ${R}`,"costs",x),I[R]=g}B("txBase",21e3),B("txCreate",32e3),B("txDataZero",4),B("txDataNonzero",16),B("txAccessListStorageKey",1900),B("txAccessListAddress",2400),(0,e.defineProperties)(this,I)}clone(){return new s(this.effectiveBlock,this)}}Be.GasCostPlugin=s;class a extends r{constructor(d,x){super("org.ethers.plugins.network.Ens");z(this,"address");z(this,"targetNetwork");(0,e.defineProperties)(this,{address:d||n,targetNetwork:x??1})}clone(){return new a(this.address,this.targetNetwork)}}Be.EnsPlugin=a;const t=class t extends r{constructor(d){super("org.ethers.plugins.network.FeeData");V(this,l,void 0);M(this,l,d)}get feeDataFunc(){return y(this,l)}async getFeeData(d){return await y(this,l).call(this,d)}clone(){return new t(y(this,l))}};l=new WeakMap;let f=t;Be.FeeDataNetworkPlugin=f;class h extends r{constructor(d,x){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");V(this,o,void 0);V(this,u,void 0);M(this,o,d),M(this,u,x)}get url(){return y(this,o)}get processFunc(){return y(this,u)}clone(){return this}}return o=new WeakMap,u=new WeakMap,Be.FetchUrlFeeDataNetworkPlugin=h,Be}var Fi;function Le(){var t,o,u;if(Fi)return fr;Fi=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.Network=void 0;const e=Me(),i=le(),n=as(),r=new Map,c=class c{constructor(d,x){V(this,t,void 0);V(this,o,void 0);V(this,u,void 0);M(this,t,d),M(this,o,(0,i.getBigInt)(x)),M(this,u,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return y(this,t)}set name(d){M(this,t,d)}get chainId(){return y(this,o)}set chainId(d){M(this,o,(0,i.getBigInt)(d,"chainId"))}matches(d){if(d==null)return!1;if(typeof d=="string"){try{return this.chainId===(0,i.getBigInt)(d)}catch{}return this.name===d}if(typeof d=="number"||typeof d=="bigint"){try{return this.chainId===(0,i.getBigInt)(d)}catch{}return!1}if(typeof d=="object"){if(d.chainId!=null){try{return this.chainId===(0,i.getBigInt)(d.chainId)}catch{}return!1}return d.name!=null?this.name===d.name:!1}return!1}get plugins(){return Array.from(y(this,u).values())}attachPlugin(d){if(y(this,u).get(d.name))throw new Error(`cannot replace existing plugin: ${d.name} `);return y(this,u).set(d.name,d.clone()),this}getPlugin(d){return y(this,u).get(d)||null}getPlugins(d){return this.plugins.filter(x=>x.name.split("#")[0]===d)}clone(){const d=new c(this.name,this.chainId);return this.plugins.forEach(x=>{d.attachPlugin(x.clone())}),d}computeIntrinsicGas(d){const x=this.getPlugin("org.ethers.plugins.network.GasCost")||new n.GasCostPlugin;let I=x.txBase;if(d.to==null&&(I+=x.txCreate),d.data)for(let B=2;B<d.data.length;B+=2)d.data.substring(B,B+2)==="00"?I+=x.txDataZero:I+=x.txDataNonzero;if(d.accessList){const B=(0,e.accessListify)(d.accessList);for(const R in B)I+=x.txAccessListAddress+x.txAccessListStorageKey*B[R].storageKeys.length}return I}static from(d){if(l(),d==null)return c.from("mainnet");if(typeof d=="number"&&(d=BigInt(d)),typeof d=="string"||typeof d=="bigint"){const x=r.get(d);if(x)return x();if(typeof d=="bigint")return new c("unknown",d);(0,i.assertArgument)(!1,"unknown network","network",d)}if(typeof d.clone=="function")return d.clone();if(typeof d=="object"){(0,i.assertArgument)(typeof d.name=="string"&&typeof d.chainId=="number","invalid network object name or chainId","network",d);const x=new c(d.name,d.chainId);return(d.ensAddress||d.ensNetwork!=null)&&x.attachPlugin(new n.EnsPlugin(d.ensAddress,d.ensNetwork)),x}(0,i.assertArgument)(!1,"invalid network","network",d)}static register(d,x){typeof d=="number"&&(d=BigInt(d));const I=r.get(d);I&&(0,i.assertArgument)(!1,`conflicting network for ${JSON.stringify(I.name)}`,"nameOrChainId",d),r.set(d,x)}};t=new WeakMap,o=new WeakMap,u=new WeakMap;let s=c;fr.Network=s;function a(b,d){const x=String(b);if(!x.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${b}`);const I=x.split(".");if(I.length===1&&I.push(""),I.length!==2)throw new Error(`invalid gwei value: ${b}`);for(;I[1].length<d;)I[1]+="0";if(I[1].length>9){let B=BigInt(I[1].substring(0,9));I[1].substring(9).match(/^0+$/)||B++,I[1]=B.toString()}return BigInt(I[0]+I[1])}function f(b){return new n.FetchUrlFeeDataNetworkPlugin(b,async(d,x,I)=>{I.setHeader("User-Agent","ethers");let B;try{const[R,w]=await Promise.all([I.send(),d()]);B=R;const g=B.bodyJson.standard;return{gasPrice:w.gasPrice,maxFeePerGas:a(g.maxFee,9),maxPriorityFeePerGas:a(g.maxPriorityFee,9)}}catch(R){(0,i.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(I.url)})`,"SERVER_ERROR",{request:I,response:B,error:R})}})}let h=!1;function l(){if(h)return;h=!0;function b(d,x,I){const B=function(){const R=new s(d,x);return I.ensNetwork!=null&&R.attachPlugin(new n.EnsPlugin(null,I.ensNetwork)),R.attachPlugin(new n.GasCostPlugin),(I.plugins||[]).forEach(w=>{R.attachPlugin(w)}),R};s.register(d,B),s.register(x,B),I.altNames&&I.altNames.forEach(R=>{s.register(R,B)})}b("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),b("ropsten",3,{ensNetwork:3}),b("rinkeby",4,{ensNetwork:4}),b("goerli",5,{ensNetwork:5}),b("kovan",42,{ensNetwork:42}),b("sepolia",11155111,{ensNetwork:11155111}),b("classic",61,{}),b("classicKotti",6,{}),b("arbitrum",42161,{ensNetwork:1}),b("arbitrum-goerli",421613,{}),b("base",8453,{ensNetwork:1}),b("base-goerli",84531,{}),b("base-sepolia",84532,{}),b("bnb",56,{ensNetwork:1}),b("bnbt",97,{}),b("linea",59144,{ensNetwork:1}),b("linea-goerli",59140,{}),b("matic",137,{ensNetwork:1,plugins:[f("https://gasstation.polygon.technology/v2")]}),b("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[f("https://gasstation-testnet.polygon.technology/v2")]}),b("optimism",10,{ensNetwork:1,plugins:[]}),b("optimism-goerli",420,{}),b("xdai",100,{ensNetwork:1})}return fr}var Ne={},Ui;function os(){var t,o,u,c,b,sn,x,I,B,R,w,g,S,D,K,J,_,F,U,so;if(Ui)return Ne;Ui=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.PollingEventSubscriber=Ne.PollingTransactionSubscriber=Ne.PollingOrphanSubscriber=Ne.PollingBlockTagSubscriber=Ne.OnBlockSubscriber=Ne.PollingBlockSubscriber=Ne.getPollingSubscriber=void 0;const e=le();function i(T){return JSON.parse(JSON.stringify(T))}function n(T,m){if(m==="block")return new r(T);if((0,e.isHexString)(m,32))return new h(T,m);(0,e.assert)(!1,"unsupported polling event","UNSUPPORTED_OPERATION",{operation:"getPollingSubscriber",info:{event:m}})}Ne.getPollingSubscriber=n;class r{constructor(m){V(this,b);V(this,t,void 0);V(this,o,void 0);V(this,u,void 0);V(this,c,void 0);M(this,t,m),M(this,o,null),M(this,u,4e3),M(this,c,-2)}get pollingInterval(){return y(this,u)}set pollingInterval(m){M(this,u,m)}start(){y(this,o)||(M(this,o,y(this,t)._setTimeout(ee(this,b,sn).bind(this),y(this,u))),ee(this,b,sn).call(this))}stop(){y(this,o)&&(y(this,t)._clearTimeout(y(this,o)),M(this,o,null))}pause(m){this.stop(),m&&M(this,c,-2)}resume(){this.start()}}t=new WeakMap,o=new WeakMap,u=new WeakMap,c=new WeakMap,b=new WeakSet,sn=async function(){try{const m=await y(this,t).getBlockNumber();if(y(this,c)===-2){M(this,c,m);return}if(m!==y(this,c)){for(let j=y(this,c)+1;j<=m;j++){if(y(this,o)==null)return;await y(this,t).emit("block",j)}M(this,c,m)}}catch{}y(this,o)!=null&&M(this,o,y(this,t)._setTimeout(ee(this,b,sn).bind(this),y(this,u)))},Ne.PollingBlockSubscriber=r;class s{constructor(m){V(this,x,void 0);V(this,I,void 0);V(this,B,void 0);M(this,x,m),M(this,B,!1),M(this,I,j=>{this._poll(j,y(this,x))})}async _poll(m,j){throw new Error("sub-classes must override this")}start(){y(this,B)||(M(this,B,!0),y(this,I).call(this,-2),y(this,x).on("block",y(this,I)))}stop(){y(this,B)&&(M(this,B,!1),y(this,x).off("block",y(this,I)))}pause(m){this.stop()}resume(){this.start()}}x=new WeakMap,I=new WeakMap,B=new WeakMap,Ne.OnBlockSubscriber=s;class a extends s{constructor(j,P){super(j);V(this,R,void 0);V(this,w,void 0);M(this,R,P),M(this,w,-2)}pause(j){j&&M(this,w,-2),super.pause(j)}async _poll(j,P){const L=await P.getBlock(y(this,R));L!=null&&(y(this,w)===-2?M(this,w,L.number):L.number>y(this,w)&&(P.emit(y(this,R),L.number),M(this,w,L.number)))}}R=new WeakMap,w=new WeakMap,Ne.PollingBlockTagSubscriber=a;class f extends s{constructor(j,P){super(j);V(this,g,void 0);M(this,g,i(P))}async _poll(j,P){throw new Error("@TODO")}}g=new WeakMap,Ne.PollingOrphanSubscriber=f;class h extends s{constructor(j,P){super(j);V(this,S,void 0);M(this,S,P)}async _poll(j,P){const L=await P.getTransactionReceipt(y(this,S));L&&P.emit(y(this,S),L)}}S=new WeakMap,Ne.PollingTransactionSubscriber=h;class l{constructor(m,j){V(this,U);V(this,D,void 0);V(this,K,void 0);V(this,J,void 0);V(this,_,void 0);V(this,F,void 0);M(this,D,m),M(this,K,i(j)),M(this,J,ee(this,U,so).bind(this)),M(this,_,!1),M(this,F,-2)}start(){y(this,_)||(M(this,_,!0),y(this,F)===-2&&y(this,D).getBlockNumber().then(m=>{M(this,F,m)}),y(this,D).on("block",y(this,J)))}stop(){y(this,_)&&(M(this,_,!1),y(this,D).off("block",y(this,J)))}pause(m){this.stop(),m&&M(this,F,-2)}resume(){this.start()}}return D=new WeakMap,K=new WeakMap,J=new WeakMap,_=new WeakMap,F=new WeakMap,U=new WeakSet,so=async function(m){if(y(this,F)===-2)return;const j=i(y(this,K));j.fromBlock=y(this,F)+1,j.toBlock=m;const P=await y(this,D).getLogs(j);if(P.length===0){y(this,F)<m-60&&M(this,F,m-60);return}for(const L of P)y(this,D).emit(y(this,K),L),M(this,F,L.blockNumber)},Ne.PollingEventSubscriber=l,Ne}var Mi;function Qr(){var m,j,P,L,k,q,A,N,O,v,$,X,Y,Ue,te,qn,ce,Hn,oe,Kr,ge,Kn,de,Jr,ye,an;if(Mi)return wt;Mi=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.AbstractProvider=wt.UnmanagedSubscriber=void 0;const e=Ee(),i=Zr(),n=un(),r=it(),s=Me(),a=le(),f=no(),h=Jc(),l=Le(),t=Yr(),o=os(),u=BigInt(2),c=10;function b(ae){return ae&&typeof ae.then=="function"}function d(ae,G){return ae+":"+JSON.stringify(G,(H,p)=>{if(p==null)return"null";if(typeof p=="bigint")return`bigint:${p.toString()}`;if(typeof p=="string")return p.toLowerCase();if(typeof p=="object"&&!Array.isArray(p)){const C=Object.keys(p);return C.sort(),C.reduce((W,re)=>(W[re]=p[re],W),{})}return p})}class x{constructor(G){z(this,"name");(0,a.defineProperties)(this,{name:G})}start(){}stop(){}pause(G){}resume(){}}wt.UnmanagedSubscriber=x;function I(ae){return JSON.parse(JSON.stringify(ae))}function B(ae){return ae=Array.from(new Set(ae).values()),ae.sort(),ae}async function R(ae,G){if(ae==null)throw new Error("invalid event");if(Array.isArray(ae)&&(ae={topics:ae}),typeof ae=="string")switch(ae){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:ae,tag:ae}}if((0,a.isHexString)(ae,32)){const H=ae.toLowerCase();return{type:"transaction",tag:d("tx",{hash:H}),hash:H}}if(ae.orphan){const H=ae;return{type:"orphan",tag:d("orphan",H),filter:I(H)}}if(ae.address||ae.topics){const H=ae,p={topics:(H.topics||[]).map(C=>C==null?null:Array.isArray(C)?B(C.map(W=>W.toLowerCase())):C.toLowerCase())};if(H.address){const C=[],W=[],re=Q=>{(0,a.isHexString)(Q)?C.push(Q):W.push((async()=>{C.push(await(0,e.resolveAddress)(Q,G))})())};Array.isArray(H.address)?H.address.forEach(re):re(H.address),W.length&&await Promise.all(W),p.address=B(C.map(Q=>Q.toLowerCase()))}return{filter:p,tag:d("event",p),type:"event"}}(0,a.assertArgument)(!1,"unknown ProviderEvent","event",ae)}function w(){return new Date().getTime()}const g={cacheTimeout:250,pollingInterval:4e3};class S{constructor(G,H){V(this,Y);V(this,te);V(this,ce);V(this,oe);V(this,ge);V(this,de);V(this,ye);V(this,m,void 0);V(this,j,void 0);V(this,P,void 0);V(this,L,void 0);V(this,k,void 0);V(this,q,void 0);V(this,A,void 0);V(this,N,void 0);V(this,O,void 0);V(this,v,void 0);V(this,$,void 0);V(this,X,void 0);if(M(this,X,Object.assign({},g,H||{})),G==="any")M(this,q,!0),M(this,k,null);else if(G){const p=l.Network.from(G);M(this,q,!1),M(this,k,Promise.resolve(p)),setTimeout(()=>{this.emit("network",p,null)},0)}else M(this,q,!1),M(this,k,null);M(this,N,-1),M(this,A,new Map),M(this,m,new Map),M(this,j,new Map),M(this,P,null),M(this,L,!1),M(this,O,1),M(this,v,new Map),M(this,$,!1)}get pollingInterval(){return y(this,X).pollingInterval}get provider(){return this}get plugins(){return Array.from(y(this,j).values())}attachPlugin(G){if(y(this,j).get(G.name))throw new Error(`cannot replace existing plugin: ${G.name} `);return y(this,j).set(G.name,G.connect(this)),this}getPlugin(G){return y(this,j).get(G)||null}get disableCcipRead(){return y(this,$)}set disableCcipRead(G){M(this,$,!!G)}async ccipReadFetch(G,H,p){if(this.disableCcipRead||p.length===0||G.to==null)return null;const C=G.to.toLowerCase(),W=H.toLowerCase(),re=[];for(let Q=0;Q<p.length;Q++){const ne=p[Q],ue=ne.replace("{sender}",C).replace("{data}",W),se=new a.FetchRequest(ue);ne.indexOf("{data}")===-1&&(se.body={data:W,sender:C}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:se,index:Q,urls:p});let me="unknown error";const _e=await se.send();try{const Ae=_e.bodyJson;if(Ae.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:se,result:Ae}),Ae.data;Ae.message&&(me=Ae.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:se,result:Ae})}catch{}(0,a.assert)(_e.statusCode<400||_e.statusCode>=500,`response not found during CCIP fetch: ${me}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:G,info:{url:ne,errorMessage:me}}),re.push(me)}(0,a.assert)(!1,`error encountered during CCIP fetch: ${re.map(Q=>JSON.stringify(Q)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:G,info:{urls:p,errorMessages:re}})}_wrapBlock(G,H){return new t.Block((0,h.formatBlock)(G),this)}_wrapLog(G,H){return new t.Log((0,h.formatLog)(G),this)}_wrapTransactionReceipt(G,H){return new t.TransactionReceipt((0,h.formatTransactionReceipt)(G),this)}_wrapTransactionResponse(G,H){return new t.TransactionResponse((0,h.formatTransactionResponse)(G),this)}_detectNetwork(){(0,a.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(G){(0,a.assert)(!1,`unsupported method: ${G.method}`,"UNSUPPORTED_OPERATION",{operation:G.method,info:G})}async getBlockNumber(){const G=(0,a.getNumber)(await ee(this,Y,Ue).call(this,{method:"getBlockNumber"}),"%response");return y(this,N)>=0&&M(this,N,G),G}_getAddress(G){return(0,e.resolveAddress)(G,this)}_getBlockTag(G){if(G==null)return"latest";switch(G){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return G}if((0,a.isHexString)(G))return(0,a.isHexString)(G,32)?G:(0,a.toQuantity)(G);if(typeof G=="bigint"&&(G=(0,a.getNumber)(G,"blockTag")),typeof G=="number")return G>=0?(0,a.toQuantity)(G):y(this,N)>=0?(0,a.toQuantity)(y(this,N)+G):this.getBlockNumber().then(H=>(0,a.toQuantity)(H+G));(0,a.assertArgument)(!1,"invalid blockTag","blockTag",G)}_getFilter(G){const H=(G.topics||[]).map(ne=>ne==null?null:Array.isArray(ne)?B(ne.map(ue=>ue.toLowerCase())):ne.toLowerCase()),p="blockHash"in G?G.blockHash:void 0,C=(ne,ue,se)=>{let me;switch(ne.length){case 0:break;case 1:me=ne[0];break;default:ne.sort(),me=ne}if(p&&(ue!=null||se!=null))throw new Error("invalid filter");const _e={};return me&&(_e.address=me),H.length&&(_e.topics=H),ue&&(_e.fromBlock=ue),se&&(_e.toBlock=se),p&&(_e.blockHash=p),_e};let W=[];if(G.address)if(Array.isArray(G.address))for(const ne of G.address)W.push(this._getAddress(ne));else W.push(this._getAddress(G.address));let re;"fromBlock"in G&&(re=this._getBlockTag(G.fromBlock));let Q;return"toBlock"in G&&(Q=this._getBlockTag(G.toBlock)),W.filter(ne=>typeof ne!="string").length||re!=null&&typeof re!="string"||Q!=null&&typeof Q!="string"?Promise.all([Promise.all(W),re,Q]).then(ne=>C(ne[0],ne[1],ne[2])):C(W,re,Q)}_getTransactionRequest(G){const H=(0,t.copyRequest)(G),p=[];if(["to","from"].forEach(C=>{if(H[C]==null)return;const W=(0,e.resolveAddress)(H[C],this);b(W)?p.push(async function(){H[C]=await W}()):H[C]=W}),H.blockTag!=null){const C=this._getBlockTag(H.blockTag);b(C)?p.push(async function(){H.blockTag=await C}()):H.blockTag=C}return p.length?async function(){return await Promise.all(p),H}():H}async getNetwork(){if(y(this,k)==null){const C=(async()=>{try{const W=await this._detectNetwork();return this.emit("network",W,null),W}catch(W){throw y(this,k)===C&&M(this,k,null),W}})();return M(this,k,C),(await C).clone()}const G=y(this,k),[H,p]=await Promise.all([G,this._detectNetwork()]);return H.chainId!==p.chainId&&(y(this,q)?(this.emit("network",p,H),y(this,k)===G&&M(this,k,Promise.resolve(p))):(0,a.assert)(!1,`network changed: ${H.chainId} => ${p.chainId} `,"NETWORK_ERROR",{event:"changed"})),H.clone()}async getFeeData(){const G=await this.getNetwork(),H=async()=>{const{_block:C,gasPrice:W,priorityFee:re}=await(0,a.resolveProperties)({_block:ee(this,ge,Kn).call(this,"latest",!1),gasPrice:(async()=>{try{const se=await ee(this,Y,Ue).call(this,{method:"getGasPrice"});return(0,a.getBigInt)(se,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const se=await ee(this,Y,Ue).call(this,{method:"getPriorityFee"});return(0,a.getBigInt)(se,"%response")}catch{}return null})()});let Q=null,ne=null;const ue=this._wrapBlock(C,G);return ue&&ue.baseFeePerGas&&(ne=re??BigInt("1000000000"),Q=ue.baseFeePerGas*u+ne),new t.FeeData(W,Q,ne)},p=G.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(p){const C=new a.FetchRequest(p.url),W=await p.processFunc(H,this,C);return new t.FeeData(W.gasPrice,W.maxFeePerGas,W.maxPriorityFeePerGas)}return await H()}async estimateGas(G){let H=this._getTransactionRequest(G);return b(H)&&(H=await H),(0,a.getBigInt)(await ee(this,Y,Ue).call(this,{method:"estimateGas",transaction:H}),"%response")}async call(G){const{tx:H,blockTag:p}=await(0,a.resolveProperties)({tx:this._getTransactionRequest(G),blockTag:this._getBlockTag(G.blockTag)});return await ee(this,ce,Hn).call(this,ee(this,te,qn).call(this,H,p,G.enableCcipRead?0:-1))}async getBalance(G,H){return(0,a.getBigInt)(await ee(this,oe,Kr).call(this,{method:"getBalance"},G,H),"%response")}async getTransactionCount(G,H){return(0,a.getNumber)(await ee(this,oe,Kr).call(this,{method:"getTransactionCount"},G,H),"%response")}async getCode(G,H){return(0,a.hexlify)(await ee(this,oe,Kr).call(this,{method:"getCode"},G,H))}async getStorage(G,H,p){const C=(0,a.getBigInt)(H,"position");return(0,a.hexlify)(await ee(this,oe,Kr).call(this,{method:"getStorage",position:C},G,p))}async broadcastTransaction(G){const{blockNumber:H,hash:p,network:C}=await(0,a.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:G}),network:this.getNetwork()}),W=s.Transaction.from(G);if(W.hash!==p)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(W,C).replaceableTransaction(H)}async getBlock(G,H){const{network:p,params:C}=await(0,a.resolveProperties)({network:this.getNetwork(),params:ee(this,ge,Kn).call(this,G,!!H)});return C==null?null:this._wrapBlock(C,p)}async getTransaction(G){const{network:H,params:p}=await(0,a.resolveProperties)({network:this.getNetwork(),params:ee(this,Y,Ue).call(this,{method:"getTransaction",hash:G})});return p==null?null:this._wrapTransactionResponse(p,H)}async getTransactionReceipt(G){const{network:H,params:p}=await(0,a.resolveProperties)({network:this.getNetwork(),params:ee(this,Y,Ue).call(this,{method:"getTransactionReceipt",hash:G})});if(p==null)return null;if(p.gasPrice==null&&p.effectiveGasPrice==null){const C=await ee(this,Y,Ue).call(this,{method:"getTransaction",hash:G});if(C==null)throw new Error("report this; could not find tx or effectiveGasPrice");p.effectiveGasPrice=C.gasPrice}return this._wrapTransactionReceipt(p,H)}async getTransactionResult(G){const{result:H}=await(0,a.resolveProperties)({network:this.getNetwork(),result:ee(this,Y,Ue).call(this,{method:"getTransactionResult",hash:G})});return H==null?null:(0,a.hexlify)(H)}async getLogs(G){let H=this._getFilter(G);b(H)&&(H=await H);const{network:p,params:C}=await(0,a.resolveProperties)({network:this.getNetwork(),params:ee(this,Y,Ue).call(this,{method:"getLogs",filter:H})});return C.map(W=>this._wrapLog(W,p))}_getProvider(G){(0,a.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(G){return await f.EnsResolver.fromName(this,G)}async getAvatar(G){const H=await this.getResolver(G);return H?await H.getAvatar():null}async resolveName(G){const H=await this.getResolver(G);return H?await H.getAddress():null}async lookupAddress(G){G=(0,e.getAddress)(G);const H=(0,r.namehash)(G.substring(2).toLowerCase()+".addr.reverse");try{const p=await f.EnsResolver.getEnsAddress(this),W=await new n.Contract(p,["function resolver(bytes32) view returns (address)"],this).resolver(H);if(W==null||W===i.ZeroAddress)return null;const Q=await new n.Contract(W,["function name(bytes32) view returns (string)"],this).name(H);return await this.resolveName(Q)!==G?null:Q}catch(p){if((0,a.isError)(p,"BAD_DATA")&&p.value==="0x"||(0,a.isError)(p,"CALL_EXCEPTION"))return null;throw p}return null}async waitForTransaction(G,H,p){const C=H??1;return C===0?this.getTransactionReceipt(G):new Promise(async(W,re)=>{let Q=null;const ne=async ue=>{try{const se=await this.getTransactionReceipt(G);if(se!=null&&ue-se.blockNumber+1>=C){W(se),Q&&(clearTimeout(Q),Q=null);return}}catch(se){console.log("EEE",se)}this.once("block",ne)};p!=null&&(Q=setTimeout(()=>{Q!=null&&(Q=null,this.off("block",ne),re((0,a.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},p)),ne(await this.getBlockNumber())})}async waitForBlock(G){(0,a.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(G){const H=y(this,v).get(G);H&&(H.timer&&clearTimeout(H.timer),y(this,v).delete(G))}_setTimeout(G,H){H==null&&(H=0);const p=St(this,O)._++,C=()=>{y(this,v).delete(p),G()};if(this.paused)y(this,v).set(p,{timer:null,func:C,time:H});else{const W=setTimeout(C,H);y(this,v).set(p,{timer:W,func:C,time:w()})}return p}_forEachSubscriber(G){for(const H of y(this,m).values())G(H.subscriber)}_getSubscriber(G){switch(G.type){case"debug":case"error":case"network":return new x(G.type);case"block":{const H=new o.PollingBlockSubscriber(this);return H.pollingInterval=this.pollingInterval,H}case"safe":case"finalized":return new o.PollingBlockTagSubscriber(this,G.type);case"event":return new o.PollingEventSubscriber(this,G.filter);case"transaction":return new o.PollingTransactionSubscriber(this,G.hash);case"orphan":return new o.PollingOrphanSubscriber(this,G.filter)}throw new Error(`unsupported event: ${G.type}`)}_recoverSubscriber(G,H){for(const p of y(this,m).values())if(p.subscriber===G){p.started&&p.subscriber.stop(),p.subscriber=H,p.started&&H.start(),y(this,P)!=null&&H.pause(y(this,P));break}}async on(G,H){const p=await ee(this,ye,an).call(this,G);return p.listeners.push({listener:H,once:!1}),p.started||(p.subscriber.start(),p.started=!0,y(this,P)!=null&&p.subscriber.pause(y(this,P))),this}async once(G,H){const p=await ee(this,ye,an).call(this,G);return p.listeners.push({listener:H,once:!0}),p.started||(p.subscriber.start(),p.started=!0,y(this,P)!=null&&p.subscriber.pause(y(this,P))),this}async emit(G,...H){const p=await ee(this,de,Jr).call(this,G,H);if(!p||p.listeners.length===0)return!1;const C=p.listeners.length;return p.listeners=p.listeners.filter(({listener:W,once:re})=>{const Q=new a.EventPayload(this,re?null:W,G);try{W.call(this,...H,Q)}catch{}return!re}),p.listeners.length===0&&(p.started&&p.subscriber.stop(),y(this,m).delete(p.tag)),C>0}async listenerCount(G){if(G){const p=await ee(this,de,Jr).call(this,G);return p?p.listeners.length:0}let H=0;for(const{listeners:p}of y(this,m).values())H+=p.length;return H}async listeners(G){if(G){const p=await ee(this,de,Jr).call(this,G);return p?p.listeners.map(({listener:C})=>C):[]}let H=[];for(const{listeners:p}of y(this,m).values())H=H.concat(p.map(({listener:C})=>C));return H}async off(G,H){const p=await ee(this,de,Jr).call(this,G);if(!p)return this;if(H){const C=p.listeners.map(({listener:W})=>W).indexOf(H);C>=0&&p.listeners.splice(C,1)}return(!H||p.listeners.length===0)&&(p.started&&p.subscriber.stop(),y(this,m).delete(p.tag)),this}async removeAllListeners(G){if(G){const{tag:H,started:p,subscriber:C}=await ee(this,ye,an).call(this,G);p&&C.stop(),y(this,m).delete(H)}else for(const[H,{started:p,subscriber:C}]of y(this,m))p&&C.stop(),y(this,m).delete(H);return this}async addListener(G,H){return await this.on(G,H)}async removeListener(G,H){return this.off(G,H)}get destroyed(){return y(this,L)}destroy(){this.removeAllListeners();for(const G of y(this,v).keys())this._clearTimeout(G);M(this,L,!0)}get paused(){return y(this,P)!=null}set paused(G){!!G!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(G){if(M(this,N,-1),y(this,P)!=null){if(y(this,P)==!!G)return;(0,a.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(H=>H.pause(G)),M(this,P,!!G);for(const H of y(this,v).values())H.timer&&clearTimeout(H.timer),H.time=w()-H.time}resume(){if(y(this,P)!=null){this._forEachSubscriber(G=>G.resume()),M(this,P,null);for(const G of y(this,v).values()){let H=G.time;H<0&&(H=0),G.time=w(),setTimeout(G.func,H)}}}}m=new WeakMap,j=new WeakMap,P=new WeakMap,L=new WeakMap,k=new WeakMap,q=new WeakMap,A=new WeakMap,N=new WeakMap,O=new WeakMap,v=new WeakMap,$=new WeakMap,X=new WeakMap,Y=new WeakSet,Ue=async function(G){const H=y(this,X).cacheTimeout;if(H<0)return await this._perform(G);const p=d(G.method,G);let C=y(this,A).get(p);return C||(C=this._perform(G),y(this,A).set(p,C),setTimeout(()=>{y(this,A).get(p)===C&&y(this,A).delete(p)},H)),await C},te=new WeakSet,qn=async function(G,H,p){(0,a.assert)(p<c,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},G,{blockTag:H,enableCcipRead:!0})});const C=(0,t.copyRequest)(G);try{return(0,a.hexlify)(await this._perform({method:"call",transaction:C,blockTag:H}))}catch(W){if(!this.disableCcipRead&&(0,a.isCallException)(W)&&W.data&&p>=0&&H==="latest"&&C.to!=null&&(0,a.dataSlice)(W.data,0,4)==="0x556f1830"){const re=W.data,Q=await(0,e.resolveAddress)(C.to,this);let ne;try{ne=T((0,a.dataSlice)(W.data,4))}catch(me){(0,a.assert)(!1,me.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:C,info:{data:re}})}(0,a.assert)(ne.sender.toLowerCase()===Q.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:re,reason:"OffchainLookup",transaction:C,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:ne.errorArgs}});const ue=await this.ccipReadFetch(C,ne.calldata,ne.urls);(0,a.assert)(ue!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:C,info:{data:W.data,errorArgs:ne.errorArgs}});const se={to:Q,data:(0,a.concat)([ne.selector,U([ue,ne.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:se});try{const me=await ee(this,te,qn).call(this,se,H,p+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},se),result:me}),me}catch(me){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},se),error:me}),me}}throw W}},ce=new WeakSet,Hn=async function(G){const{value:H}=await(0,a.resolveProperties)({network:this.getNetwork(),value:G});return H},oe=new WeakSet,Kr=async function(G,H,p){let C=this._getAddress(H),W=this._getBlockTag(p);return(typeof C!="string"||typeof W!="string")&&([C,W]=await Promise.all([C,W])),await ee(this,ce,Hn).call(this,ee(this,Y,Ue).call(this,Object.assign(G,{address:C,blockTag:W})))},ge=new WeakSet,Kn=async function(G,H){if((0,a.isHexString)(G,32))return await ee(this,Y,Ue).call(this,{method:"getBlock",blockHash:G,includeTransactions:H});let p=this._getBlockTag(G);return typeof p!="string"&&(p=await p),await ee(this,Y,Ue).call(this,{method:"getBlock",blockTag:p,includeTransactions:H})},de=new WeakSet,Jr=async function(G,H){let p=await R(G,this);return p.type==="event"&&H&&H.length>0&&H[0].removed===!0&&(p=await R({orphan:"drop-log",log:H[0]},this)),y(this,m).get(p.tag)||null},ye=new WeakSet,an=async function(G){const H=await R(G,this),p=H.tag;let C=y(this,m).get(p);return C||(C={subscriber:this._getSubscriber(H),tag:p,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},y(this,m).set(p,C)),C},wt.AbstractProvider=S;function D(ae,G){try{const H=K(ae,G);if(H)return(0,a.toUtf8String)(H)}catch{}return null}function K(ae,G){if(ae==="0x")return null;try{const H=(0,a.getNumber)((0,a.dataSlice)(ae,G,G+32)),p=(0,a.getNumber)((0,a.dataSlice)(ae,H,H+32));return(0,a.dataSlice)(ae,H+32,H+32+p)}catch{}return null}function J(ae){const G=(0,a.toBeArray)(ae);if(G.length>32)throw new Error("internal; should not happen");const H=new Uint8Array(32);return H.set(G,32-G.length),H}function _(ae){if(ae.length%32===0)return ae;const G=new Uint8Array(Math.ceil(ae.length/32)*32);return G.set(ae),G}const F=new Uint8Array([]);function U(ae){const G=[];let H=0;for(let p=0;p<ae.length;p++)G.push(F),H+=32;for(let p=0;p<ae.length;p++){const C=(0,a.getBytes)(ae[p]);G[p]=J(H),G.push(J(C.length)),G.push(_(C)),H+=32+Math.ceil(C.length/32)*32}return(0,a.concat)(G)}const E="0x0000000000000000000000000000000000000000000000000000000000000000";function T(ae){const G={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,a.assert)((0,a.dataLength)(ae)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const H=(0,a.dataSlice)(ae,0,32);(0,a.assert)((0,a.dataSlice)(H,0,12)===(0,a.dataSlice)(E,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),G.sender=(0,a.dataSlice)(H,12);try{const p=[],C=(0,a.getNumber)((0,a.dataSlice)(ae,32,64)),W=(0,a.getNumber)((0,a.dataSlice)(ae,C,C+32)),re=(0,a.dataSlice)(ae,C+32);for(let Q=0;Q<W;Q++){const ne=D(re,Q*32);if(ne==null)throw new Error("abort");p.push(ne)}G.urls=p}catch{(0,a.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const p=K(ae,64);if(p==null)throw new Error("abort");G.calldata=p}catch{(0,a.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,a.assert)((0,a.dataSlice)(ae,100,128)===(0,a.dataSlice)(E,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),G.selector=(0,a.dataSlice)(ae,96,100);try{const p=K(ae,128);if(p==null)throw new Error("abort");G.extraData=p}catch{(0,a.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return G.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(p=>G[p]),G}return wt}var Pt={},Li;function cs(){var l,on;if(Li)return Pt;Li=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.VoidSigner=Pt.AbstractSigner=void 0;const e=Ee(),i=Me(),n=le(),r=Yr();function s(u,c){if(u.provider)return u.provider;(0,n.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:c})}async function a(u,c){let b=(0,r.copyRequest)(c);if(b.to!=null&&(b.to=(0,e.resolveAddress)(b.to,u)),b.from!=null){const d=b.from;b.from=Promise.all([u.getAddress(),(0,e.resolveAddress)(d,u)]).then(([x,I])=>((0,n.assertArgument)(x.toLowerCase()===I.toLowerCase(),"transaction from mismatch","tx.from",I),x))}else b.from=u.getAddress();return await(0,n.resolveProperties)(b)}class f{constructor(c){z(this,"provider");(0,n.defineProperties)(this,{provider:c||null})}async getNonce(c){return s(this,"getTransactionCount").getTransactionCount(await this.getAddress(),c)}async populateCall(c){return await a(this,c)}async populateTransaction(c){const b=s(this,"populateTransaction"),d=await a(this,c);d.nonce==null&&(d.nonce=await this.getNonce("pending")),d.gasLimit==null&&(d.gasLimit=await this.estimateGas(d));const x=await this.provider.getNetwork();if(d.chainId!=null){const B=(0,n.getBigInt)(d.chainId);(0,n.assertArgument)(B===x.chainId,"transaction chainId mismatch","tx.chainId",c.chainId)}else d.chainId=x.chainId;const I=d.maxFeePerGas!=null||d.maxPriorityFeePerGas!=null;if(d.gasPrice!=null&&(d.type===2||I)?(0,n.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",c):(d.type===0||d.type===1)&&I&&(0,n.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",c),(d.type===2||d.type==null)&&d.maxFeePerGas!=null&&d.maxPriorityFeePerGas!=null)d.type=2;else if(d.type===0||d.type===1){const B=await b.getFeeData();(0,n.assert)(B.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),d.gasPrice==null&&(d.gasPrice=B.gasPrice)}else{const B=await b.getFeeData();if(d.type==null)if(B.maxFeePerGas!=null&&B.maxPriorityFeePerGas!=null)if(d.type=2,d.gasPrice!=null){const R=d.gasPrice;delete d.gasPrice,d.maxFeePerGas=R,d.maxPriorityFeePerGas=R}else d.maxFeePerGas==null&&(d.maxFeePerGas=B.maxFeePerGas),d.maxPriorityFeePerGas==null&&(d.maxPriorityFeePerGas=B.maxPriorityFeePerGas);else B.gasPrice!=null?((0,n.assert)(!I,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),d.gasPrice==null&&(d.gasPrice=B.gasPrice),d.type=0):(0,n.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else d.type===2&&(d.maxFeePerGas==null&&(d.maxFeePerGas=B.maxFeePerGas),d.maxPriorityFeePerGas==null&&(d.maxPriorityFeePerGas=B.maxPriorityFeePerGas))}return await(0,n.resolveProperties)(d)}async estimateGas(c){return s(this,"estimateGas").estimateGas(await this.populateCall(c))}async call(c){return s(this,"call").call(await this.populateCall(c))}async resolveName(c){return await s(this,"resolveName").resolveName(c)}async sendTransaction(c){const b=s(this,"sendTransaction"),d=await this.populateTransaction(c);delete d.from;const x=i.Transaction.from(d);return await b.broadcastTransaction(await this.signTransaction(x))}}Pt.AbstractSigner=f;const o=class o extends f{constructor(b,d){super(d);V(this,l);z(this,"address");(0,n.defineProperties)(this,{address:b})}async getAddress(){return this.address}connect(b){return new o(this.address,b)}async signTransaction(b){ee(this,l,on).call(this,"transactions","signTransaction")}async signMessage(b){ee(this,l,on).call(this,"messages","signMessage")}async signTypedData(b,d,x){ee(this,l,on).call(this,"typed-data","signTypedData")}};l=new WeakSet,on=function(b,d){(0,n.assert)(!1,`VoidSigner cannot sign ${b}`,"UNSUPPORTED_OPERATION",{operation:d})};let h=o;return Pt.VoidSigner=h,Pt}var dr={},Di;function Tt(){if(Di)return dr;Di=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.showThrottleMessage=void 0;const e=new Set;function i(n){e.has(n)||(e.add(n),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${n} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}return dr.showThrottleMessage=i,dr}var hr={},br={},He={},rt={},$i;function Wc(){var f,h,l,t,o,u,c,Jn,d,Wn,I;if($i)return rt;$i=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.FilterIdPendingSubscriber=rt.FilterIdEventSubscriber=rt.FilterIdSubscriber=void 0;const e=le(),i=os();function n(B){return JSON.parse(JSON.stringify(B))}class r{constructor(R){V(this,c);V(this,d);V(this,f,void 0);V(this,h,void 0);V(this,l,void 0);V(this,t,void 0);V(this,o,void 0);V(this,u,void 0);M(this,f,R),M(this,h,null),M(this,l,ee(this,c,Jn).bind(this)),M(this,t,!1),M(this,o,null),M(this,u,!1)}_subscribe(R){throw new Error("subclasses must override this")}_emitResults(R,w){throw new Error("subclasses must override this")}_recover(R){throw new Error("subclasses must override this")}start(){y(this,t)||(M(this,t,!0),ee(this,c,Jn).call(this,-2))}stop(){y(this,t)&&(M(this,t,!1),M(this,u,!0),ee(this,d,Wn).call(this),y(this,f).off("block",y(this,l)))}pause(R){R&&ee(this,d,Wn).call(this),y(this,f).off("block",y(this,l))}resume(){this.start()}}f=new WeakMap,h=new WeakMap,l=new WeakMap,t=new WeakMap,o=new WeakMap,u=new WeakMap,c=new WeakSet,Jn=async function(R){try{y(this,h)==null&&M(this,h,this._subscribe(y(this,f)));let w=null;try{w=await y(this,h)}catch(D){if(!(0,e.isError)(D,"UNSUPPORTED_OPERATION")||D.operation!=="eth_newFilter")throw D}if(w==null){M(this,h,null),y(this,f)._recoverSubscriber(this,this._recover(y(this,f)));return}const g=await y(this,f).getNetwork();if(y(this,o)||M(this,o,g),y(this,o).chainId!==g.chainId)throw new Error("chaid changed");if(y(this,u))return;const S=await y(this,f).send("eth_getFilterChanges",[w]);await this._emitResults(y(this,f),S)}catch(w){console.log("@TODO",w)}y(this,f).once("block",y(this,l))},d=new WeakSet,Wn=function(){const R=y(this,h);R&&(M(this,h,null),R.then(w=>{y(this,f).send("eth_uninstallFilter",[w])}))},rt.FilterIdSubscriber=r;class s extends r{constructor(w,g){super(w);V(this,I,void 0);M(this,I,n(g))}_recover(w){return new i.PollingEventSubscriber(w,y(this,I))}async _subscribe(w){return await w.send("eth_newFilter",[y(this,I)])}async _emitResults(w,g){for(const S of g)w.emit(y(this,I),w._wrapLog(S,w._network))}}I=new WeakMap,rt.FilterIdEventSubscriber=s;class a extends r{async _subscribe(R){return await R.send("eth_newPendingTransactionFilter",[])}async _emitResults(R,w){for(const g of w)R.emit("pending",g)}}return rt.FilterIdPendingSubscriber=a,rt}var Gi;function Ve(){var K,J,_,F,U,E,T,m,zn,P,L;if(Gi)return He;Gi=1,Object.defineProperty(He,"__esModule",{value:!0}),He.JsonRpcProvider=He.JsonRpcApiPollingProvider=He.JsonRpcApiProvider=He.JsonRpcSigner=void 0;const e=Xr(),i=Ee(),n=it(),r=Me(),s=le(),a=Qr(),f=cs(),h=Le(),l=Wc(),t=os(),o="bigint,boolean,function,number,string,symbol".split(/,/g);function u(k){if(k==null||o.indexOf(typeof k)>=0||typeof k.getAddress=="function")return k;if(Array.isArray(k))return k.map(u);if(typeof k=="object")return Object.keys(k).reduce((q,A)=>(q[A]=k[A],q),{});throw new Error(`should not happen: ${k} (${typeof k})`)}function c(k){return new Promise(q=>{setTimeout(q,k)})}function b(k){return k&&k.toLowerCase()}function d(k){return k&&typeof k.pollingInterval=="number"}const x={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class I extends f.AbstractSigner{constructor(A,N){super(A);z(this,"address");N=(0,i.getAddress)(N),(0,s.defineProperties)(this,{address:N})}connect(A){(0,s.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(A){return await this.populateCall(A)}async sendUncheckedTransaction(A){const N=u(A),O=[];if(N.from){const $=N.from;O.push((async()=>{const X=await(0,i.resolveAddress)($,this.provider);(0,s.assertArgument)(X!=null&&X.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",A),N.from=X})())}else N.from=this.address;if(N.gasLimit==null&&O.push((async()=>{N.gasLimit=await this.provider.estimateGas({...N,from:this.address})})()),N.to!=null){const $=N.to;O.push((async()=>{N.to=await(0,i.resolveAddress)($,this.provider)})())}O.length&&await Promise.all(O);const v=this.provider.getRpcTransaction(N);return this.provider.send("eth_sendTransaction",[v])}async sendTransaction(A){const N=await this.provider.getBlockNumber(),O=await this.sendUncheckedTransaction(A);return await new Promise((v,$)=>{const X=[1e3,100];let Y=0;const ie=async()=>{try{const te=await this.provider.getTransaction(O);if(te!=null){v(te.replaceableTransaction(N));return}}catch(te){if((0,s.isError)(te,"CANCELLED")||(0,s.isError)(te,"BAD_DATA")||(0,s.isError)(te,"NETWORK_ERROR")){te.info==null&&(te.info={}),te.info.sendTransactionHash=O,$(te);return}if((0,s.isError)(te,"INVALID_ARGUMENT")&&(Y++,te.info==null&&(te.info={}),te.info.sendTransactionHash=O,Y>10)){$(te);return}this.provider.emit("error",(0,s.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:te}))}this.provider._setTimeout(()=>{ie()},X.pop()||4e3)};ie()})}async signTransaction(A){const N=u(A);if(N.from){const v=await(0,i.resolveAddress)(N.from,this.provider);(0,s.assertArgument)(v!=null&&v.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",A),N.from=v}else N.from=this.address;const O=this.provider.getRpcTransaction(N);return await this.provider.send("eth_signTransaction",[O])}async signMessage(A){const N=typeof A=="string"?(0,s.toUtf8Bytes)(A):A;return await this.provider.send("personal_sign",[(0,s.hexlify)(N),this.address.toLowerCase()])}async signTypedData(A,N,O){const v=u(O),$=await n.TypedDataEncoder.resolveNames(A,N,v,async X=>{const Y=await(0,i.resolveAddress)(X);return(0,s.assertArgument)(Y!=null,"TypedData does not support null address","value",X),Y});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(n.TypedDataEncoder.getPayload($.domain,N,$.value))])}async unlock(A){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),A,null])}async _legacySignMessage(A){const N=typeof A=="string"?(0,s.toUtf8Bytes)(A):A;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,s.hexlify)(N)])}}He.JsonRpcSigner=I;class B extends a.AbstractProvider{constructor(A,N){super(A,N);V(this,m);V(this,K,void 0);V(this,J,void 0);V(this,_,void 0);V(this,F,void 0);V(this,U,void 0);V(this,E,void 0);V(this,T,void 0);M(this,J,1),M(this,K,Object.assign({},x,N||{})),M(this,_,[]),M(this,F,null),M(this,E,null),M(this,T,null);{let v=null;const $=new Promise(X=>{v=X});M(this,U,{promise:$,resolve:v})}const O=this._getOption("staticNetwork");typeof O=="boolean"?((0,s.assertArgument)(!O||A!=="any","staticNetwork cannot be used on special network 'any'","options",N),O&&A!=null&&M(this,E,h.Network.from(A))):O&&((0,s.assertArgument)(A==null||O.matches(A),"staticNetwork MUST match network object","options",N),M(this,E,O))}_getOption(A){return y(this,K)[A]}get _network(){return(0,s.assert)(y(this,E),"network is not available yet","NETWORK_ERROR"),y(this,E)}async _perform(A){if(A.method==="call"||A.method==="estimateGas"){let O=A.transaction;if(O&&O.type!=null&&(0,s.getBigInt)(O.type)&&O.maxFeePerGas==null&&O.maxPriorityFeePerGas==null){const v=await this.getFeeData();v.maxFeePerGas==null&&v.maxPriorityFeePerGas==null&&(A=Object.assign({},A,{transaction:Object.assign({},O,{type:void 0})}))}}const N=this.getRpcRequest(A);return N!=null?await this.send(N.method,N.args):super._perform(A)}async _detectNetwork(){const A=this._getOption("staticNetwork");if(A)if(A===!0){if(y(this,E))return y(this,E)}else return A;return y(this,T)?await y(this,T):this.ready?(M(this,T,(async()=>{try{const N=h.Network.from((0,s.getBigInt)(await this.send("eth_chainId",[])));return M(this,T,null),N}catch(N){throw M(this,T,null),N}})()),await y(this,T)):(M(this,T,(async()=>{const N={id:St(this,J)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:N});let O;try{O=(await this._send(N))[0],M(this,T,null)}catch(v){throw M(this,T,null),this.emit("debug",{action:"receiveRpcError",error:v}),v}if(this.emit("debug",{action:"receiveRpcResult",result:O}),"result"in O)return h.Network.from((0,s.getBigInt)(O.result));throw this.getRpcError(N,O)})()),await y(this,T))}_start(){y(this,U)==null||y(this,U).resolve==null||(y(this,U).resolve(),M(this,U,null),(async()=>{for(;y(this,E)==null&&!this.destroyed;)try{M(this,E,await this._detectNetwork())}catch(A){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,s.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:A}})),await c(1e3)}ee(this,m,zn).call(this)})())}async _waitUntilReady(){if(y(this,U)!=null)return await y(this,U).promise}_getSubscriber(A){return A.type==="pending"?new l.FilterIdPendingSubscriber(this):A.type==="event"?this._getOption("polling")?new t.PollingEventSubscriber(this,A.filter):new l.FilterIdEventSubscriber(this,A.filter):A.type==="orphan"&&A.filter.orphan==="drop-log"?new a.UnmanagedSubscriber("orphan"):super._getSubscriber(A)}get ready(){return y(this,U)==null}getRpcTransaction(A){const N={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(O=>{if(A[O]==null)return;let v=O;O==="gasLimit"&&(v="gas"),N[v]=(0,s.toQuantity)((0,s.getBigInt)(A[O],`tx.${O}`))}),["from","to","data"].forEach(O=>{A[O]!=null&&(N[O]=(0,s.hexlify)(A[O]))}),A.accessList&&(N.accessList=(0,r.accessListify)(A.accessList)),N}getRpcRequest(A){switch(A.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[b(A.address),A.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[b(A.address),A.blockTag]};case"getCode":return{method:"eth_getCode",args:[b(A.address),A.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[b(A.address),"0x"+A.position.toString(16),A.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[A.signedTransaction]};case"getBlock":if("blockTag"in A)return{method:"eth_getBlockByNumber",args:[A.blockTag,!!A.includeTransactions]};if("blockHash"in A)return{method:"eth_getBlockByHash",args:[A.blockHash,!!A.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[A.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[A.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(A.transaction),A.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(A.transaction)]};case"getLogs":return A.filter&&A.filter.address!=null&&(Array.isArray(A.filter.address)?A.filter.address=A.filter.address.map(b):A.filter.address=b(A.filter.address)),{method:"eth_getLogs",args:[A.filter]}}return null}getRpcError(A,N){const{method:O}=A,{error:v}=N;if(O==="eth_estimateGas"&&v.message){const Y=v.message;if(!Y.match(/revert/i)&&Y.match(/insufficient funds/i))return(0,s.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:A.params[0],info:{payload:A,error:v}})}if(O==="eth_call"||O==="eth_estimateGas"){const Y=g(v),ie=e.AbiCoder.getBuiltinCallException(O==="eth_call"?"call":"estimateGas",A.params[0],Y?Y.data:null);return ie.info={error:v,payload:A},ie}const $=JSON.stringify(D(v));if(typeof v.message=="string"&&v.message.match(/user denied|ethers-user-denied/i)){const Y={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,s.makeError)("user rejected action","ACTION_REJECTED",{action:Y[O]||"unknown",reason:"rejected",info:{payload:A,error:v}})}if(O==="eth_sendRawTransaction"||O==="eth_sendTransaction"){const Y=A.params[0];if($.match(/insufficient funds|base fee exceeds gas limit/i))return(0,s.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:Y,info:{error:v}});if($.match(/nonce/i)&&$.match(/too low/i))return(0,s.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:Y,info:{error:v}});if($.match(/replacement transaction/i)&&$.match(/underpriced/i))return(0,s.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:Y,info:{error:v}});if($.match(/only replay-protected/i))return(0,s.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:O,info:{transaction:Y,info:{error:v}}})}let X=!!$.match(/the method .* does not exist/i);return X||v&&v.details&&v.details.startsWith("Unauthorized method:")&&(X=!0),X?(0,s.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:A.method,info:{error:v,payload:A}}):(0,s.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:v,payload:A})}send(A,N){if(this.destroyed)return Promise.reject((0,s.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:A}));const O=St(this,J)._++,v=new Promise(($,X)=>{y(this,_).push({resolve:$,reject:X,payload:{method:A,params:N,id:O,jsonrpc:"2.0"}})});return ee(this,m,zn).call(this),v}async getSigner(A){A==null&&(A=0);const N=this.send("eth_accounts",[]);if(typeof A=="number"){const v=await N;if(A>=v.length)throw new Error("no such account");return new I(this,v[A])}const{accounts:O}=await(0,s.resolveProperties)({network:this.getNetwork(),accounts:N});A=(0,i.getAddress)(A);for(const v of O)if((0,i.getAddress)(v)===A)return new I(this,A);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(N=>new I(this,N))}destroy(){y(this,F)&&(clearTimeout(y(this,F)),M(this,F,null));for(const{payload:A,reject:N}of y(this,_))N((0,s.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:A.method}));M(this,_,[]),super.destroy()}}K=new WeakMap,J=new WeakMap,_=new WeakMap,F=new WeakMap,U=new WeakMap,E=new WeakMap,T=new WeakMap,m=new WeakSet,zn=function(){if(y(this,F))return;const A=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");M(this,F,setTimeout(()=>{M(this,F,null);const N=y(this,_);for(M(this,_,[]);N.length;){const O=[N.shift()];for(;N.length&&O.length!==y(this,K).batchMaxCount;)if(O.push(N.shift()),JSON.stringify(O.map($=>$.payload)).length>y(this,K).batchMaxSize){N.unshift(O.pop());break}(async()=>{const v=O.length===1?O[0].payload:O.map($=>$.payload);this.emit("debug",{action:"sendRpcPayload",payload:v});try{const $=await this._send(v);this.emit("debug",{action:"receiveRpcResult",result:$});for(const{resolve:X,reject:Y,payload:ie}of O){if(this.destroyed){Y((0,s.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:ie.method}));continue}const te=$.filter(fe=>fe.id===ie.id)[0];if(te==null){const fe=(0,s.makeError)("missing response for request","BAD_DATA",{value:$,info:{payload:ie}});this.emit("error",fe),Y(fe);continue}if("error"in te){Y(this.getRpcError(ie,te));continue}X(te.result)}}catch($){this.emit("debug",{action:"receiveRpcError",error:$});for(const{reject:X}of O)X($)}})()}},A))},He.JsonRpcApiProvider=B;class R extends B{constructor(A,N){super(A,N);V(this,P,void 0);M(this,P,4e3)}_getSubscriber(A){const N=super._getSubscriber(A);return d(N)&&(N.pollingInterval=y(this,P)),N}get pollingInterval(){return y(this,P)}set pollingInterval(A){if(!Number.isInteger(A)||A<0)throw new Error("invalid interval");M(this,P,A),this._forEachSubscriber(N=>{d(N)&&(N.pollingInterval=y(this,P))})}}P=new WeakMap,He.JsonRpcApiPollingProvider=R;class w extends R{constructor(A,N,O){A==null&&(A="http://localhost:8545");super(N,O);V(this,L,void 0);typeof A=="string"?M(this,L,new s.FetchRequest(A)):M(this,L,A.clone())}_getConnection(){return y(this,L).clone()}async send(A,N){return await this._start(),await super.send(A,N)}async _send(A){const N=this._getConnection();N.body=JSON.stringify(A),N.setHeader("content-type","application/json");const O=await N.send();O.assertOk();let v=O.bodyJson;return Array.isArray(v)||(v=[v]),v}}L=new WeakMap,He.JsonRpcProvider=w;function g(k){if(k==null)return null;if(typeof k.message=="string"&&k.message.match(/revert/i)&&(0,s.isHexString)(k.data))return{message:k.message,data:k.data};if(typeof k=="object"){for(const q in k){const A=g(k[q]);if(A)return A}return null}if(typeof k=="string")try{return g(JSON.parse(k))}catch{}return null}function S(k,q){if(k!=null){if(typeof k.message=="string"&&q.push(k.message),typeof k=="object")for(const A in k)S(k[A],q);if(typeof k=="string")try{return S(JSON.parse(k),q)}catch{}}}function D(k){const q=[];return S(k,q),q}return He}var qi;function io(){if(qi)return br;qi=1,Object.defineProperty(br,"__esModule",{value:!0}),br.AnkrProvider=void 0;const e=le(),i=Tt(),n=Le(),r=Ve(),s="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function a(h){switch(h){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"matic":return"rpc.ankr.com/polygon";case"arbitrum":return"rpc.ankr.com/arbitrum"}(0,e.assertArgument)(!1,"unsupported network","network",h)}class f extends r.JsonRpcProvider{constructor(t,o){t==null&&(t="mainnet");const u=n.Network.from(t);o==null&&(o=s);const c={polling:!0,staticNetwork:u},b=f.getRequest(u,o);super(b,u,c);z(this,"apiKey");(0,e.defineProperties)(this,{apiKey:o})}_getProvider(t){try{return new f(t,this.apiKey)}catch{}return super._getProvider(t)}static getRequest(t,o){o==null&&(o=s);const u=new e.FetchRequest(`https://${a(t.name)}/${o}`);return u.allowGzip=!0,o===s&&(u.retryFunc=async(c,b,d)=>((0,i.showThrottleMessage)("AnkrProvider"),!0)),u}getRpcError(t,o){return t.method==="eth_sendRawTransaction"&&o&&o.error&&o.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(o.error.message="replacement transaction underpriced"),super.getRpcError(t,o)}isCommunityResource(){return this.apiKey===s}}return br.AnkrProvider=f,br}var gr={},Hi;function ao(){if(Hi)return gr;Hi=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.AlchemyProvider=void 0;const e=le(),i=Tt(),n=Le(),r=Ve(),s="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function a(h){switch(h){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com"}(0,e.assertArgument)(!1,"unsupported network","network",h)}class f extends r.JsonRpcProvider{constructor(t,o){t==null&&(t="mainnet");const u=n.Network.from(t);o==null&&(o=s);const c=f.getRequest(u,o);super(c,u,{staticNetwork:u});z(this,"apiKey");(0,e.defineProperties)(this,{apiKey:o})}_getProvider(t){try{return new f(t,this.apiKey)}catch{}return super._getProvider(t)}async _perform(t){if(t.method==="getTransactionResult"){const{trace:o,tx:u}=await(0,e.resolveProperties)({trace:this.send("trace_transaction",[t.hash]),tx:this.getTransaction(t.hash)});if(o==null||u==null)return null;let c,b=!1;try{c=o[0].result.output,b=o[0].error==="Reverted"}catch{}if(c)return(0,e.assert)(!b,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:c,reason:null,transaction:u,invocation:null,revert:null}),c;(0,e.assert)(!1,"could not parse trace result","BAD_DATA",{value:o})}return await super._perform(t)}isCommunityResource(){return this.apiKey===s}static getRequest(t,o){o==null&&(o=s);const u=new e.FetchRequest(`https://${a(t.name)}/v2/${o}`);return u.allowGzip=!0,o===s&&(u.retryFunc=async(c,b,d)=>((0,i.showThrottleMessage)("alchemy"),!0)),u}}return gr.AlchemyProvider=f,gr}var yr={},Ki;function oo(){if(Ki)return yr;Ki=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.CloudflareProvider=void 0;const e=le(),i=Le(),n=Ve();class r extends n.JsonRpcProvider{constructor(a){a==null&&(a="mainnet");const f=i.Network.from(a);(0,e.assertArgument)(f.name==="mainnet","unsupported network","network",a),super("https://cloudflare-eth.com/",f,{staticNetwork:f})}}return yr.CloudflareProvider=r,yr}var vt={},Ji;function co(){var x;if(Ji)return vt;Ji=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.EtherscanProvider=vt.EtherscanPlugin=void 0;const e=Xr(),i=un(),n=Me(),r=le(),s=Qr(),a=Le(),f=as(),h=Tt(),l=2e3;function t(I){return I&&typeof I.then=="function"}const o="org.ethers.plugins.provider.Etherscan";class u extends f.NetworkPlugin{constructor(R){super(o);z(this,"baseUrl");(0,r.defineProperties)(this,{baseUrl:R})}clone(){return new u(this.baseUrl)}}vt.EtherscanPlugin=u;const c=["enableCcipRead"];let b=1;class d extends s.AbstractProvider{constructor(R,w){const g=w??null;super();z(this,"network");z(this,"apiKey");V(this,x,void 0);const S=a.Network.from(R);M(this,x,S.getPlugin(o)),(0,r.defineProperties)(this,{apiKey:g,network:S}),this.getBaseUrl()}getBaseUrl(){if(y(this,x))return y(this,x).baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"matic":return"https://api.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io";case"bnb":return"http://api.bscscan.com";case"bnbt":return"http://api-testnet.bscscan.com"}(0,r.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(R,w){const g=Object.keys(w).reduce((D,K)=>{const J=w[K];return J!=null&&(D+=`&${K}=${J}`),D},""),S=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.getBaseUrl()}/api?module=${R}${g}${S}`}getPostUrl(){return`${this.getBaseUrl()}/api`}getPostData(R,w){return w.module=R,w.apikey=this.apiKey,w}async detectNetwork(){return this.network}async fetch(R,w,g){const S=b++,D=g?this.getPostUrl():this.getUrl(R,w),K=g?this.getPostData(R,w):null;this.emit("debug",{action:"sendRequest",id:S,url:D,payload:K});const J=new r.FetchRequest(D);J.setThrottleParams({slotInterval:1e3}),J.retryFunc=(U,E,T)=>(this.isCommunityResource()&&(0,h.showThrottleMessage)("Etherscan"),Promise.resolve(!0)),J.processFunc=async(U,E)=>{const T=E.hasBody()?JSON.parse((0,r.toUtf8String)(E.body)):{},m=(typeof T.result=="string"?T.result:"").toLowerCase().indexOf("rate limit")>=0;return R==="proxy"?T&&T.status==0&&T.message=="NOTOK"&&m&&(this.emit("debug",{action:"receiveError",id:S,reason:"proxy-NOTOK",error:T}),E.throwThrottleError(T.result,l)):m&&(this.emit("debug",{action:"receiveError",id:S,reason:"null result",error:T.result}),E.throwThrottleError(T.result,l)),E},K&&(J.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),J.body=Object.keys(K).map(U=>`${U}=${K[U]}`).join("&"));const _=await J.send();try{_.assertOk()}catch(U){this.emit("debug",{action:"receiveError",id:S,error:U,reason:"assertOk"}),(0,r.assert)(!1,"response error","SERVER_ERROR",{request:J,response:_})}_.hasBody()||(this.emit("debug",{action:"receiveError",id:S,error:"missing body",reason:"null body"}),(0,r.assert)(!1,"missing response","SERVER_ERROR",{request:J,response:_}));const F=JSON.parse((0,r.toUtf8String)(_.body));return R==="proxy"?(F.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:S,result:F,reason:"invalid JSON-RPC"}),(0,r.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:J,response:_,info:{result:F}})),F.error&&(this.emit("debug",{action:"receiveError",id:S,result:F,reason:"JSON-RPC error"}),(0,r.assert)(!1,"error response","SERVER_ERROR",{request:J,response:_,info:{result:F}})),this.emit("debug",{action:"receiveRequest",id:S,result:F}),F.result):F.status==0&&(F.message==="No records found"||F.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:S,result:F}),F.result):((F.status!=1||typeof F.message=="string"&&!F.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:S,result:F}),(0,r.assert)(!1,"error response","SERVER_ERROR",{request:J,response:_,info:{result:F}})),this.emit("debug",{action:"receiveRequest",id:S,result:F}),F.result)}_getTransactionPostData(R){const w={};for(let g in R){if(c.indexOf(g)>=0||R[g]==null)continue;let S=R[g];g==="type"&&S===0||g==="blockTag"&&S==="latest"||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[g]?S=(0,r.toQuantity)(S):g==="accessList"?S="["+(0,n.accessListify)(S).map(D=>`{address:"${D.address}",storageKeys:["${D.storageKeys.join('","')}"]}`).join(",")+"]":S=(0,r.hexlify)(S),w[g]=S)}return w}_checkError(R,w,g){let S="";if((0,r.isError)(w,"SERVER_ERROR")){try{S=w.info.result.error.message}catch{}if(!S)try{S=w.info.message}catch{}}if(R.method==="estimateGas"&&!S.match(/revert/i)&&S.match(/insufficient funds/i)&&(0,r.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:R.transaction}),(R.method==="call"||R.method==="estimateGas")&&S.match(/execution reverted/i)){let D="";try{D=w.info.result.error.data}catch{}const K=e.AbiCoder.getBuiltinCallException(R.method,R.transaction,D);throw K.info={request:R,error:w},K}if(S&&R.method==="broadcastTransaction"){const D=n.Transaction.from(R.signedTransaction);S.match(/replacement/i)&&S.match(/underpriced/i)&&(0,r.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:D}),S.match(/insufficient funds/)&&(0,r.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:D}),S.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,r.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:D})}throw w}async _detectNetwork(){return this.network}async _perform(R){switch(R.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:R.address,tag:R.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:R.address,tag:R.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:R.address,tag:R.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:R.address,position:R.position,tag:R.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:R.signedTransaction},!0).catch(w=>this._checkError(R,w,R.signedTransaction));case"getBlock":if("blockTag"in R)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:R.blockTag,boolean:R.includeTransactions?"true":"false"});(0,r.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:R.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:R.hash});case"call":{if(R.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const w=this._getTransactionPostData(R.transaction);w.module="proxy",w.action="eth_call";try{return await this.fetch("proxy",w,!0)}catch(g){return this._checkError(R,g,R.transaction)}}case"estimateGas":{const w=this._getTransactionPostData(R.transaction);w.module="proxy",w.action="eth_estimateGas";try{return await this.fetch("proxy",w,!0)}catch(g){return this._checkError(R,g,R.transaction)}}}return super._perform(R)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(R){let w=this._getAddress(R);t(w)&&(w=await w);try{const g=await this.fetch("contract",{action:"getabi",address:w}),S=JSON.parse(g);return new i.Contract(w,S,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}}return x=new WeakMap,vt.EtherscanProvider=d,vt}var _t={},mr={},pr={},Wi;function zc(){if(Wi)return pr;Wi=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.WebSocket=void 0;function e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof pe<"u")return pe;throw new Error("unable to locate global object")}const i=e().WebSocket;return pr.WebSocket=i,pr}var Ie={},zi;function Vn(){var l,t,o,u,c,b,d,x,I;if(zi)return Ie;zi=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.SocketProvider=Ie.SocketEventSubscriber=Ie.SocketPendingSubscriber=Ie.SocketBlockSubscriber=Ie.SocketSubscriber=void 0;const e=Qr(),i=le(),n=Ve();class r{constructor(R,w){V(this,l,void 0);V(this,t,void 0);V(this,o,void 0);V(this,u,void 0);V(this,c,void 0);M(this,l,R),M(this,t,JSON.stringify(w)),M(this,o,null),M(this,u,null),M(this,c,null)}get filter(){return JSON.parse(y(this,t))}start(){M(this,o,y(this,l).send("eth_subscribe",this.filter).then(R=>(y(this,l)._register(R,this),R)))}stop(){y(this,o).then(R=>{y(this,l).send("eth_unsubscribe",[R])}),M(this,o,null)}pause(R){(0,i.assert)(R,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),M(this,u,!!R)}resume(){M(this,u,null)}_handleMessage(R){if(y(this,o)!=null&&y(this,u)===null){let w=y(this,c);w==null?w=this._emit(y(this,l),R):w=w.then(async()=>{await this._emit(y(this,l),R)}),M(this,c,w.then(()=>{y(this,c)===w&&M(this,c,null)}))}}async _emit(R,w){throw new Error("sub-classes must implemente this; _emit")}}l=new WeakMap,t=new WeakMap,o=new WeakMap,u=new WeakMap,c=new WeakMap,Ie.SocketSubscriber=r;class s extends r{constructor(R){super(R,["newHeads"])}async _emit(R,w){R.emit("block",parseInt(w.number))}}Ie.SocketBlockSubscriber=s;class a extends r{constructor(R){super(R,["newPendingTransactions"])}async _emit(R,w){R.emit("pending",w)}}Ie.SocketPendingSubscriber=a;class f extends r{constructor(w,g){super(w,["logs",g]);V(this,b,void 0);M(this,b,JSON.stringify(g))}get logFilter(){return JSON.parse(y(this,b))}async _emit(w,g){w.emit(this.logFilter,w._wrapLog(g,w._network))}}b=new WeakMap,Ie.SocketEventSubscriber=f;class h extends n.JsonRpcApiProvider{constructor(w,g){const S=Object.assign({},g??{});(0,i.assertArgument)(S.batchMaxCount==null||S.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",g),S.batchMaxCount=1,S.staticNetwork==null&&(S.staticNetwork=!0);super(w,S);V(this,d,void 0);V(this,x,void 0);V(this,I,void 0);M(this,d,new Map),M(this,x,new Map),M(this,I,new Map)}_getSubscriber(w){switch(w.type){case"close":return new e.UnmanagedSubscriber("close");case"block":return new s(this);case"pending":return new a(this);case"event":return new f(this,w.filter);case"orphan":if(w.filter.orphan==="drop-log")return new e.UnmanagedSubscriber("drop-log")}return super._getSubscriber(w)}_register(w,g){y(this,x).set(w,g);const S=y(this,I).get(w);if(S){for(const D of S)g._handleMessage(D);y(this,I).delete(w)}}async _send(w){(0,i.assertArgument)(!Array.isArray(w),"WebSocket does not support batch send","payload",w);const g=new Promise((S,D)=>{y(this,d).set(w.id,{payload:w,resolve:S,reject:D})});return await this._waitUntilReady(),await this._write(JSON.stringify(w)),[await g]}async _processMessage(w){const g=JSON.parse(w);if(g&&typeof g=="object"&&"id"in g){const S=y(this,d).get(g.id);if(S==null){this.emit("error",(0,i.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:g}));return}y(this,d).delete(g.id),S.resolve(g)}else if(g&&g.method==="eth_subscription"){const S=g.params.subscription,D=y(this,x).get(S);if(D)D._handleMessage(g.params.result);else{let K=y(this,I).get(S);K==null&&(K=[],y(this,I).set(S,K)),K.push(g.params.result)}}else{this.emit("error",(0,i.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:g}));return}}async _write(w){throw new Error("sub-classes must override this")}}return d=new WeakMap,x=new WeakMap,I=new WeakMap,Ie.SocketProvider=h,Ie}var Vi;function us(){var r,s;if(Vi)return mr;Vi=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.WebSocketProvider=void 0;const e=zc(),i=Vn();class n extends i.SocketProvider{constructor(h,l,t){super(l,t);V(this,r,void 0);V(this,s,void 0);typeof h=="string"?(M(this,r,()=>new e.WebSocket(h)),M(this,s,y(this,r).call(this))):typeof h=="function"?(M(this,r,h),M(this,s,h())):(M(this,r,null),M(this,s,h)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(o){console.log("failed to start WebsocketProvider",o)}},this.websocket.onmessage=o=>{this._processMessage(o.data)}}get websocket(){if(y(this,s)==null)throw new Error("websocket closed");return y(this,s)}async _write(h){this.websocket.send(h)}async destroy(){y(this,s)!=null&&(y(this,s).close(),M(this,s,null)),super.destroy()}}return r=new WeakMap,s=new WeakMap,mr.WebSocketProvider=n,mr}var Zi;function uo(){if(Zi)return _t;Zi=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.InfuraProvider=_t.InfuraWebSocketProvider=void 0;const e=le(),i=Tt(),n=Le(),r=Ve(),s=us(),a="84842078b09946638c03157f83405213";function f(t){switch(t){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io"}(0,e.assertArgument)(!1,"unsupported network","network",t)}class h extends s.WebSocketProvider{constructor(u,c){const b=new l(u,c),d=b._getConnection();(0,e.assert)(!d.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const x=d.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(x,u);z(this,"projectId");z(this,"projectSecret");(0,e.defineProperties)(this,{projectId:b.projectId,projectSecret:b.projectSecret})}isCommunityResource(){return this.projectId===a}}_t.InfuraWebSocketProvider=h;class l extends r.JsonRpcProvider{constructor(u,c,b){u==null&&(u="mainnet");const d=n.Network.from(u);c==null&&(c=a),b==null&&(b=null);const x=l.getRequest(d,c,b);super(x,d,{staticNetwork:d});z(this,"projectId");z(this,"projectSecret");(0,e.defineProperties)(this,{projectId:c,projectSecret:b})}_getProvider(u){try{return new l(u,this.projectId,this.projectSecret)}catch{}return super._getProvider(u)}isCommunityResource(){return this.projectId===a}static getWebSocketProvider(u,c){return new h(u,c)}static getRequest(u,c,b){c==null&&(c=a),b==null&&(b=null);const d=new e.FetchRequest(`https://${f(u.name)}/v3/${c}`);return d.allowGzip=!0,b&&d.setCredentials("",b),c===a&&(d.retryFunc=async(x,I,B)=>((0,i.showThrottleMessage)("InfuraProvider"),!0)),d}}return _t.InfuraProvider=l,_t}var xr={},Xi;function lo(){if(Xi)return xr;Xi=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.QuickNodeProvider=void 0;const e=le(),i=Tt(),n=Le(),r=Ve(),s="919b412a057b5e9c9b6dce193c5a60242d6efadb";function a(h){switch(h){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro"}(0,e.assertArgument)(!1,"unsupported network","network",h)}class f extends r.JsonRpcProvider{constructor(t,o){t==null&&(t="mainnet");const u=n.Network.from(t);o==null&&(o=s);const c=f.getRequest(u,o);super(c,u,{staticNetwork:u});z(this,"token");(0,e.defineProperties)(this,{token:o})}_getProvider(t){try{return new f(t,this.token)}catch{}return super._getProvider(t)}isCommunityResource(){return this.token===s}static getRequest(t,o){o==null&&(o=s);const u=new e.FetchRequest(`https://${a(t.name)}/${o}`);return u.allowGzip=!0,o===s&&(u.retryFunc=async(c,b,d)=>((0,i.showThrottleMessage)("QuickNodeProvider"),!0)),u}}return xr.QuickNodeProvider=f,xr}var wr={},Yi;function go(){var w,g,S,D,fo,J,Zn,F,ho,E,bo,m,Xn;if(Yi)return wr;Yi=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.FallbackProvider=void 0;const e=le(),i=Qr(),n=Le(),r=BigInt("1"),s=BigInt("2");function a(P){for(let L=P.length-1;L>0;L--){const k=Math.floor(Math.random()*(L+1)),q=P[L];P[L]=P[k],P[k]=q}}function f(P){return new Promise(L=>{setTimeout(L,P)})}function h(){return new Date().getTime()}function l(P){return JSON.stringify(P,(L,k)=>typeof k=="bigint"?{type:"bigint",value:k.toString()}:k)}const t={stallTimeout:400,priority:1,weight:1},o={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function u(P,L){for(;(P.blockNumber<0||P.blockNumber<L)&&(P._updateNumber||(P._updateNumber=(async()=>{try{const k=await P.provider.getBlockNumber();k>P.blockNumber&&(P.blockNumber=k)}catch(k){P.blockNumber=-2,P._lastFatalError=k,P._lastFatalErrorTimestamp=h()}P._updateNumber=null})()),await P._updateNumber,P.outOfSync++,!P._lastFatalError););}function c(P){if(P==null)return"null";if(Array.isArray(P))return"["+P.map(c).join(",")+"]";if(typeof P=="object"&&typeof P.toJSON=="function")return c(P.toJSON());switch(typeof P){case"boolean":case"symbol":return P.toString();case"bigint":case"number":return BigInt(P).toString();case"string":return JSON.stringify(P);case"object":{const L=Object.keys(P);return L.sort(),"{"+L.map(k=>`${JSON.stringify(k)}:${c(P[k])}`).join(",")+"}"}}throw console.log("Could not serialize",P),new Error("Hmm...")}function b(P){if("error"in P){const k=P.error;return{tag:c(k),value:k}}const L=P.result;return{tag:c(L),value:L}}function d(P,L){const k=new Map;for(const{value:A,tag:N,weight:O}of L){const v=k.get(N)||{value:A,weight:0};v.weight+=O,k.set(N,v)}let q=null;for(const A of k.values())A.weight>=P&&(!q||A.weight>q.weight)&&(q=A);if(q)return q.value}function x(P,L){let k=0;const q=new Map;let A=null;const N=[];for(const{value:v,tag:$,weight:X}of L)if(v instanceof Error){const Y=q.get($)||{value:v,weight:0};Y.weight+=X,q.set($,Y),(A==null||Y.weight>A.weight)&&(A=Y)}else N.push(BigInt(v)),k+=X;if(k<P)return A&&A.weight>=P?A.value:void 0;N.sort((v,$)=>v<$?-1:$>v?1:0);const O=Math.floor(N.length/2);return N.length%2?N[O]:(N[O-1]+N[O]+r)/s}function I(P,L){const k=d(P,L);if(k!==void 0)return k;for(const q of L)if(q.value)return q.value}function B(P,L){if(P===1)return(0,e.getNumber)(x(P,L),"%internal");const k=new Map,q=(O,v)=>{const $=k.get(O)||{result:O,weight:0};$.weight+=v,k.set(O,$)};for(const{weight:O,value:v}of L){const $=(0,e.getNumber)(v);q($-1,O),q($,O),q($+1,O)}let A=0,N;for(const{weight:O,result:v}of k.values())O>=P&&(O>A||N!=null&&O===A&&v>N)&&(A=O,N=v);return N}class R extends i.AbstractProvider{constructor(k,q,A){super(q,A);V(this,D);V(this,J);V(this,F);V(this,E);V(this,m);z(this,"quorum");z(this,"eventQuorum");z(this,"eventWorkers");V(this,w,void 0);V(this,g,void 0);V(this,S,void 0);M(this,w,k.map(N=>N instanceof i.AbstractProvider?Object.assign({provider:N},t,o):Object.assign({},t,N,o))),M(this,g,-2),M(this,S,null),A&&A.quorum!=null?this.quorum=A.quorum:this.quorum=Math.ceil(y(this,w).reduce((N,O)=>(N+=O.weight,N),0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,e.assertArgument)(this.quorum<=y(this,w).reduce((N,O)=>N+O.weight,0),"quorum exceed provider wieght","quorum",this.quorum)}get providerConfigs(){return y(this,w).map(k=>{const q=Object.assign({},k);for(const A in q)A[0]==="_"&&delete q[A];return q})}async _detectNetwork(){return n.Network.from((0,e.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(k,q){switch(q.method){case"broadcastTransaction":return await k.broadcastTransaction(q.signedTransaction);case"call":return await k.call(Object.assign({},q.transaction,{blockTag:q.blockTag}));case"chainId":return(await k.getNetwork()).chainId;case"estimateGas":return await k.estimateGas(q.transaction);case"getBalance":return await k.getBalance(q.address,q.blockTag);case"getBlock":{const A="blockHash"in q?q.blockHash:q.blockTag;return await k.getBlock(A,q.includeTransactions)}case"getBlockNumber":return await k.getBlockNumber();case"getCode":return await k.getCode(q.address,q.blockTag);case"getGasPrice":return(await k.getFeeData()).gasPrice;case"getPriorityFee":return(await k.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await k.getLogs(q.filter);case"getStorage":return await k.getStorage(q.address,q.position,q.blockTag);case"getTransaction":return await k.getTransaction(q.hash);case"getTransactionCount":return await k.getTransactionCount(q.address,q.blockTag);case"getTransactionReceipt":return await k.getTransactionReceipt(q.hash);case"getTransactionResult":return await k.getTransactionResult(q.hash)}}async _perform(k){if(k.method==="broadcastTransaction"){const O=y(this,w).map(X=>null),v=y(this,w).map(async({provider:X,weight:Y},ie)=>{try{const te=await X._perform(k);O[ie]=Object.assign(b({result:te}),{weight:Y})}catch(te){O[ie]=Object.assign(b({error:te}),{weight:Y})}});for(;;){const X=O.filter(te=>te!=null);for(const{value:te}of X)if(!(te instanceof Error))return te;const Y=d(this.quorum,O.filter(te=>te!=null));if((0,e.isError)(Y,"INSUFFICIENT_FUNDS"))throw Y;const ie=v.filter((te,fe)=>O[fe]==null);if(ie.length===0)break;await Promise.race(ie)}const $=I(this.quorum,O);if((0,e.assert)($!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:k,results:O.map(l)}}),$ instanceof Error)throw $;return $}await ee(this,F,ho).call(this);const q=new Set;let A=0;for(;;){const O=ee(this,J,Zn).call(this,q,k);if(O==null||(A+=O.config.weight,A>=this.quorum))break}const N=await ee(this,m,Xn).call(this,q,k);for(const O of q)O.perform&&O.result==null&&O.config.lateResponses++;return N}async destroy(){for(const{provider:k}of y(this,w))k.destroy();super.destroy()}}return w=new WeakMap,g=new WeakMap,S=new WeakMap,D=new WeakSet,fo=function(k){const q=Array.from(k).map(N=>N.config),A=y(this,w).slice();a(A),A.sort((N,O)=>N.priority-O.priority);for(const N of A)if(!N._lastFatalError&&q.indexOf(N)===-1)return N;return null},J=new WeakSet,Zn=function(k,q){const A=ee(this,D,fo).call(this,k);if(A==null)return null;const N={config:A,result:null,didBump:!1,perform:null,staller:null},O=h();return N.perform=(async()=>{try{A.requests++;const $=await this._translatePerform(A.provider,q);N.result={result:$}}catch($){A.errorResponses++,N.result={error:$}}const v=h()-O;A._totalTime+=v,A.rollingDuration=.95*A.rollingDuration+.05*v,N.perform=null})(),N.staller=(async()=>{await f(A.stallTimeout),N.staller=null})(),k.add(N),N},F=new WeakSet,ho=async function(){let k=y(this,S);if(!k){const q=[];y(this,w).forEach(A=>{q.push((async()=>{await u(A,0),A._lastFatalError||(A._network=await A.provider.getNetwork())})())}),M(this,S,k=(async()=>{await Promise.all(q);let A=null;for(const N of y(this,w)){if(N._lastFatalError)continue;const O=N._network;A==null?A=O.chainId:O.chainId!==A&&(0,e.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})())}await k},E=new WeakSet,bo=async function(k,q){const A=[];for(const N of k)if(N.result!=null){const{tag:O,value:v}=b(N.result);A.push({tag:O,value:v,weight:N.config.weight})}if(!(A.reduce((N,O)=>N+O.weight,0)<this.quorum)){switch(q.method){case"getBlockNumber":{y(this,g)===-2&&M(this,g,Math.ceil((0,e.getNumber)(x(this.quorum,y(this,w).filter(O=>!O._lastFatalError).map(O=>({value:O.blockNumber,tag:(0,e.getNumber)(O.blockNumber).toString(),weight:O.weight}))))));const N=B(this.quorum,A);return N===void 0?void 0:(N>y(this,g)&&M(this,g,N),y(this,g))}case"getGasPrice":case"getPriorityFee":case"estimateGas":return x(this.quorum,A);case"getBlock":return"blockTag"in q&&q.blockTag==="pending"?I(this.quorum,A):d(this.quorum,A);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return d(this.quorum,A);case"broadcastTransaction":return I(this.quorum,A)}(0,e.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${l(q.method)})`})}},m=new WeakSet,Xn=async function(k,q){if(k.size===0)throw new Error("no runners?!");const A=[];let N=0;for(const v of k){if(v.perform&&A.push(v.perform),v.staller){A.push(v.staller);continue}v.didBump||(v.didBump=!0,N++)}const O=await ee(this,E,bo).call(this,k,q);if(O!==void 0){if(O instanceof Error)throw O;return O}for(let v=0;v<N;v++)ee(this,J,Zn).call(this,k,q);return(0,e.assert)(A.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:q,results:Array.from(k).map(v=>l(v.result))}}),await Promise.race(A),await ee(this,m,Xn).call(this,k,q)},wr.FallbackProvider=R,wr}var Qi;function Vc(){if(Qi)return hr;Qi=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.getDefaultProvider=void 0;const e=le(),i=io(),n=ao(),r=oo(),s=co(),a=uo(),f=lo(),h=go(),l=Ve(),t=Le(),o=us();function u(d){return d&&typeof d.send=="function"&&typeof d.close=="function"}const c="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function b(d,x){x==null&&(x={});const I=g=>x[g]==="-"?!1:typeof x.exclusive=="string"?g===x.exclusive:Array.isArray(x.exclusive)?x.exclusive.indexOf(g)!==-1:!0;if(typeof d=="string"&&d.match(/^https?:/))return new l.JsonRpcProvider(d);if(typeof d=="string"&&d.match(/^wss?:/)||u(d))return new o.WebSocketProvider(d);let B=null;try{B=t.Network.from(d)}catch{}const R=[];if(I("publicPolygon")&&B&&B.name==="matic"&&R.push(new l.JsonRpcProvider("https://polygon-rpc.com/",B,{staticNetwork:B})),I("alchemy"))try{R.push(new n.AlchemyProvider(d,x.alchemy))}catch{}if(I("ankr")&&x.ankr!=null)try{R.push(new i.AnkrProvider(d,x.ankr))}catch{}if(I("cloudflare"))try{R.push(new r.CloudflareProvider(d))}catch{}if(I("etherscan"))try{R.push(new s.EtherscanProvider(d,x.etherscan))}catch{}if(I("infura"))try{let g=x.infura,S;typeof g=="object"&&(S=g.projectSecret,g=g.projectId),R.push(new a.InfuraProvider(d,g,S))}catch{}if(I("quicknode"))try{let g=x.quicknode;R.push(new f.QuickNodeProvider(d,g))}catch{}if((0,e.assert)(R.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),R.length===1)return R[0];let w=Math.floor(R.length/2);return w>2&&(w=2),B&&c.indexOf(B.name)!==-1&&(w=1),x&&x.quorum&&(w=x.quorum),new h.FallbackProvider(R,void 0,{quorum:w})}return hr.getDefaultProvider=b,hr}var Pr={},ea;function Zc(){var r,s;if(ea)return Pr;ea=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.NonceManager=void 0;const e=le(),i=cs(),a=class a extends i.AbstractSigner{constructor(l){super(l.provider);z(this,"signer");V(this,r,void 0);V(this,s,void 0);(0,e.defineProperties)(this,{signer:l}),M(this,r,null),M(this,s,0)}async getAddress(){return this.signer.getAddress()}connect(l){return new a(this.signer.connect(l))}async getNonce(l){if(l==="pending"){y(this,r)==null&&M(this,r,super.getNonce("pending"));const t=y(this,s);return await y(this,r)+t}return super.getNonce(l)}increment(){St(this,s)._++}reset(){M(this,s,0),M(this,r,null)}async sendTransaction(l){const t=this.getNonce("pending");return this.increment(),l=await this.signer.populateTransaction(l),l.nonce=await t,await this.signer.sendTransaction(l)}signTransaction(l){return this.signer.signTransaction(l)}signMessage(l){return this.signer.signMessage(l)}signTypedData(l,t,o){return this.signer.signTypedData(l,t,o)}};r=new WeakMap,s=new WeakMap;let n=a;return Pr.NonceManager=n,Pr}var vr={},ta;function Xc(){var r;if(ta)return vr;ta=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.BrowserProvider=void 0;const e=le(),i=Ve();class n extends i.JsonRpcApiPollingProvider{constructor(f,h){super(h,{batchMaxCount:1});V(this,r,void 0);M(this,r,async(l,t)=>{const o={method:l,params:t};this.emit("debug",{action:"sendEip1193Request",payload:o});try{const u=await f.request(o);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const c=new Error(u.message);throw c.code=u.code,c.data=u.data,c.payload=o,this.emit("debug",{action:"receiveEip1193Error",error:c}),c}})}async send(f,h){return await this._start(),await super.send(f,h)}async _send(f){(0,e.assertArgument)(!Array.isArray(f),"EIP-1193 does not support batch request","payload",f);try{const h=await y(this,r).call(this,f.method,f.params||[]);return[{id:f.id,result:h}]}catch(h){return[{id:f.id,error:{code:h.code,data:h.data,message:h.message}}]}}getRpcError(f,h){switch(h=JSON.parse(JSON.stringify(h)),h.error.code||-1){case 4001:h.error.message=`ethers-user-denied: ${h.error.message}`;break;case 4200:h.error.message=`ethers-unsupported: ${h.error.message}`;break}return super.getRpcError(f,h)}async hasSigner(f){f==null&&(f=0);const h=await this.send("eth_accounts",[]);return typeof f=="number"?h.length>f:(f=f.toLowerCase(),h.filter(l=>l.toLowerCase()===f).length!==0)}async getSigner(f){if(f==null&&(f=0),!await this.hasSigner(f))try{await y(this,r).call(this,"eth_requestAccounts",[])}catch(h){const l=h.payload;throw this.getRpcError(l,{id:l.id,error:h})}return await super.getSigner(f)}}return r=new WeakMap,vr.BrowserProvider=n,vr}var _r={},ra;function Yc(){if(ra)return _r;ra=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.PocketProvider=void 0;const e=le(),i=Tt(),n=Le(),r=Ve(),s="62e1ad51b37b8e00394bda3b";function a(h){switch(h){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,e.assertArgument)(!1,"unsupported network","network",h)}class f extends r.JsonRpcProvider{constructor(t,o,u){t==null&&(t="mainnet");const c=n.Network.from(t);o==null&&(o=s),u==null&&(u=null);const b={staticNetwork:c},d=f.getRequest(c,o,u);super(d,c,b);z(this,"applicationId");z(this,"applicationSecret");(0,e.defineProperties)(this,{applicationId:o,applicationSecret:u})}_getProvider(t){try{return new f(t,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(t)}static getRequest(t,o,u){o==null&&(o=s);const c=new e.FetchRequest(`https://${a(t.name)}/v1/lb/${o}`);return c.allowGzip=!0,u&&c.setCredentials("",u),o===s&&(c.retryFunc=async(b,d,x)=>((0,i.showThrottleMessage)("PocketProvider"),!0)),c}isCommunityResource(){return this.applicationId===s}}return _r.PocketProvider=f,_r}var Or={},na;function Qc(){if(na)return Or;na=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.IpcSocketProvider=void 0;const e=void 0;return Or.IpcSocketProvider=e,Or}var sa;function ls(){return sa||(sa=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SocketEventSubscriber=e.SocketPendingSubscriber=e.SocketBlockSubscriber=e.SocketSubscriber=e.WebSocketProvider=e.SocketProvider=e.IpcSocketProvider=e.QuickNodeProvider=e.PocketProvider=e.InfuraWebSocketProvider=e.InfuraProvider=e.EtherscanPlugin=e.EtherscanProvider=e.CloudflareProvider=e.AnkrProvider=e.AlchemyProvider=e.BrowserProvider=e.JsonRpcSigner=e.JsonRpcProvider=e.JsonRpcApiProvider=e.FallbackProvider=e.copyRequest=e.TransactionResponse=e.TransactionReceipt=e.Log=e.FeeData=e.Block=e.FetchUrlFeeDataNetworkPlugin=e.FeeDataNetworkPlugin=e.EnsPlugin=e.GasCostPlugin=e.NetworkPlugin=e.NonceManager=e.Network=e.MulticoinProviderPlugin=e.EnsResolver=e.getDefaultProvider=e.showThrottleMessage=e.VoidSigner=e.AbstractSigner=e.UnmanagedSubscriber=e.AbstractProvider=void 0;var i=Qr();Object.defineProperty(e,"AbstractProvider",{enumerable:!0,get:function(){return i.AbstractProvider}}),Object.defineProperty(e,"UnmanagedSubscriber",{enumerable:!0,get:function(){return i.UnmanagedSubscriber}});var n=cs();Object.defineProperty(e,"AbstractSigner",{enumerable:!0,get:function(){return n.AbstractSigner}}),Object.defineProperty(e,"VoidSigner",{enumerable:!0,get:function(){return n.VoidSigner}});var r=Tt();Object.defineProperty(e,"showThrottleMessage",{enumerable:!0,get:function(){return r.showThrottleMessage}});var s=Vc();Object.defineProperty(e,"getDefaultProvider",{enumerable:!0,get:function(){return s.getDefaultProvider}});var a=no();Object.defineProperty(e,"EnsResolver",{enumerable:!0,get:function(){return a.EnsResolver}}),Object.defineProperty(e,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return a.MulticoinProviderPlugin}});var f=Le();Object.defineProperty(e,"Network",{enumerable:!0,get:function(){return f.Network}});var h=Zc();Object.defineProperty(e,"NonceManager",{enumerable:!0,get:function(){return h.NonceManager}});var l=as();Object.defineProperty(e,"NetworkPlugin",{enumerable:!0,get:function(){return l.NetworkPlugin}}),Object.defineProperty(e,"GasCostPlugin",{enumerable:!0,get:function(){return l.GasCostPlugin}}),Object.defineProperty(e,"EnsPlugin",{enumerable:!0,get:function(){return l.EnsPlugin}}),Object.defineProperty(e,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FeeDataNetworkPlugin}}),Object.defineProperty(e,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FetchUrlFeeDataNetworkPlugin}});var t=Yr();Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return t.Block}}),Object.defineProperty(e,"FeeData",{enumerable:!0,get:function(){return t.FeeData}}),Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return t.Log}}),Object.defineProperty(e,"TransactionReceipt",{enumerable:!0,get:function(){return t.TransactionReceipt}}),Object.defineProperty(e,"TransactionResponse",{enumerable:!0,get:function(){return t.TransactionResponse}}),Object.defineProperty(e,"copyRequest",{enumerable:!0,get:function(){return t.copyRequest}});var o=go();Object.defineProperty(e,"FallbackProvider",{enumerable:!0,get:function(){return o.FallbackProvider}});var u=Ve();Object.defineProperty(e,"JsonRpcApiProvider",{enumerable:!0,get:function(){return u.JsonRpcApiProvider}}),Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return u.JsonRpcProvider}}),Object.defineProperty(e,"JsonRpcSigner",{enumerable:!0,get:function(){return u.JsonRpcSigner}});var c=Xc();Object.defineProperty(e,"BrowserProvider",{enumerable:!0,get:function(){return c.BrowserProvider}});var b=ao();Object.defineProperty(e,"AlchemyProvider",{enumerable:!0,get:function(){return b.AlchemyProvider}});var d=io();Object.defineProperty(e,"AnkrProvider",{enumerable:!0,get:function(){return d.AnkrProvider}});var x=oo();Object.defineProperty(e,"CloudflareProvider",{enumerable:!0,get:function(){return x.CloudflareProvider}});var I=co();Object.defineProperty(e,"EtherscanProvider",{enumerable:!0,get:function(){return I.EtherscanProvider}}),Object.defineProperty(e,"EtherscanPlugin",{enumerable:!0,get:function(){return I.EtherscanPlugin}});var B=uo();Object.defineProperty(e,"InfuraProvider",{enumerable:!0,get:function(){return B.InfuraProvider}}),Object.defineProperty(e,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return B.InfuraWebSocketProvider}});var R=Yc();Object.defineProperty(e,"PocketProvider",{enumerable:!0,get:function(){return R.PocketProvider}});var w=lo();Object.defineProperty(e,"QuickNodeProvider",{enumerable:!0,get:function(){return w.QuickNodeProvider}});const g=Qc();Object.defineProperty(e,"IpcSocketProvider",{enumerable:!0,get:function(){return g.IpcSocketProvider}});var S=Vn();Object.defineProperty(e,"SocketProvider",{enumerable:!0,get:function(){return S.SocketProvider}});var D=us();Object.defineProperty(e,"WebSocketProvider",{enumerable:!0,get:function(){return D.WebSocketProvider}});var K=Vn();Object.defineProperty(e,"SocketSubscriber",{enumerable:!0,get:function(){return K.SocketSubscriber}}),Object.defineProperty(e,"SocketBlockSubscriber",{enumerable:!0,get:function(){return K.SocketBlockSubscriber}}),Object.defineProperty(e,"SocketPendingSubscriber",{enumerable:!0,get:function(){return K.SocketPendingSubscriber}}),Object.defineProperty(e,"SocketEventSubscriber",{enumerable:!0,get:function(){return K.SocketEventSubscriber}})}(En)),En}var Nn={},kr={},ia;function fs(){var f;if(ia)return kr;ia=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.BaseWallet=void 0;const e=Ee(),i=it(),n=ls(),r=Me(),s=le(),h=class h extends n.AbstractSigner{constructor(o,u){super(u);z(this,"address");V(this,f,void 0);(0,s.assertArgument)(o&&typeof o.sign=="function","invalid private key","privateKey","[ REDACTED ]"),M(this,f,o);const c=(0,r.computeAddress)(this.signingKey.publicKey);(0,s.defineProperties)(this,{address:c})}get signingKey(){return y(this,f)}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(o){return new h(y(this,f),o)}async signTransaction(o){const{to:u,from:c}=await(0,s.resolveProperties)({to:o.to?(0,e.resolveAddress)(o.to,this.provider):void 0,from:o.from?(0,e.resolveAddress)(o.from,this.provider):void 0});u!=null&&(o.to=u),c!=null&&(o.from=c),o.from!=null&&((0,s.assertArgument)((0,e.getAddress)(o.from)===this.address,"transaction from address mismatch","tx.from",o.from),delete o.from);const b=r.Transaction.from(o);return b.signature=this.signingKey.sign(b.unsignedHash),b.serialized}async signMessage(o){return this.signMessageSync(o)}signMessageSync(o){return this.signingKey.sign((0,i.hashMessage)(o)).serialized}async signTypedData(o,u,c){const b=await i.TypedDataEncoder.resolveNames(o,u,c,async d=>{(0,s.assert)(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:d}});const x=await this.provider.resolveName(d);return(0,s.assert)(x!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:d}),x});return this.signingKey.sign(i.TypedDataEncoder.hash(b.domain,u,b.value)).serialized}};f=new WeakMap;let a=h;return kr.BaseWallet=a,kr}var Tn={},Ar={},Er={},Ot={},aa;function yo(){if(aa)return Ot;aa=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.decodeOwl=Ot.decode=void 0;const e=le(),i=" !#$%&'()*+,-./<=>?@[]^_`{|}~",n=/^[a-z]*$/i;function r(f,h){let l=97;return f.reduce((t,o)=>(o===h?l++:o.match(n)?t.push(String.fromCharCode(l)+o):(l=97,t.push(o)),t),[])}function s(f,h){for(let o=i.length-1;o>=0;o--)f=f.split(i[o]).join(h.substring(2*o,2*o+2));const l=[],t=f.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(o,u,c,b)=>{if(c)for(let d=parseInt(c);d>=0;d--)l.push(";");else l.push(u.toLowerCase());return""});if(t)throw new Error(`leftovers: ${JSON.stringify(t)}`);return r(r(l,";"),":")}Ot.decode=s;function a(f){return(0,e.assertArgument)(f[0]==="0","unsupported auwl data","data",f),s(f.substring(1+2*i.length),f.substring(1,1+2*i.length))}return Ot.decodeOwl=a,Ot}var Nr={},oa;function mo(){if(oa)return Nr;oa=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.Wordlist=void 0;const e=le();class i{constructor(r){z(this,"locale");(0,e.defineProperties)(this,{locale:r})}split(r){return r.toLowerCase().split(/\s+/g)}join(r){return r.join(" ")}}return Nr.Wordlist=i,Nr}var ca;function ds(){var a,f,h,l,Yn;if(ca)return Er;ca=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.WordlistOwl=void 0;const e=it(),i=le(),n=yo(),r=mo();class s extends r.Wordlist{constructor(c,b,d){super(c);V(this,l);V(this,a,void 0);V(this,f,void 0);V(this,h,void 0);M(this,a,b),M(this,f,d),M(this,h,null)}get _data(){return y(this,a)}_decodeWords(){return(0,n.decodeOwl)(y(this,a))}getWord(c){const b=ee(this,l,Yn).call(this);return(0,i.assertArgument)(c>=0&&c<b.length,`invalid word index: ${c}`,"index",c),b[c]}getWordIndex(c){return ee(this,l,Yn).call(this).indexOf(c)}}return a=new WeakMap,f=new WeakMap,h=new WeakMap,l=new WeakSet,Yn=function(){if(y(this,h)==null){const c=this._decodeWords();if((0,e.id)(c.join(`
`)+`
`)!==y(this,f))throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);M(this,h,c)}return y(this,h)},Er.WordlistOwl=s,Er}var ua;function ln(){if(ua)return Ar;ua=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.LangEn=void 0;const e=ds(),i="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",n="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let r=null;class s extends e.WordlistOwl{constructor(){super("en",i,n)}static wordlist(){return r==null&&(r=new s),r}}return Ar.LangEn=s,Ar}var Tr={},la;function hs(){if(la)return Tr;la=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Mnemonic=void 0;const e=Te(),i=le(),n=ln();function r(t){return(1<<t)-1<<8-t&255}function s(t){return(1<<t)-1&255}function a(t,o){(0,i.assertNormalize)("NFKD"),o==null&&(o=n.LangEn.wordlist());const u=o.split(t);(0,i.assertArgument)(u.length%3===0&&u.length>=12&&u.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const c=new Uint8Array(Math.ceil(11*u.length/8));let b=0;for(let R=0;R<u.length;R++){let w=o.getWordIndex(u[R].normalize("NFKD"));(0,i.assertArgument)(w>=0,`invalid mnemonic word at index ${R}`,"mnemonic","[ REDACTED ]");for(let g=0;g<11;g++)w&1<<10-g&&(c[b>>3]|=1<<7-b%8),b++}const d=32*u.length/3,x=u.length/3,I=r(x),B=(0,i.getBytes)((0,e.sha256)(c.slice(0,d/8)))[0]&I;return(0,i.assertArgument)(B===(c[c.length-1]&I),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,i.hexlify)(c.slice(0,d/8))}function f(t,o){(0,i.assertArgument)(t.length%4===0&&t.length>=16&&t.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),o==null&&(o=n.LangEn.wordlist());const u=[0];let c=11;for(let x=0;x<t.length;x++)c>8?(u[u.length-1]<<=8,u[u.length-1]|=t[x],c-=8):(u[u.length-1]<<=c,u[u.length-1]|=t[x]>>8-c,u.push(t[x]&s(8-c)),c+=3);const b=t.length/4,d=parseInt((0,e.sha256)(t).substring(2,4),16)&r(b);return u[u.length-1]<<=b,u[u.length-1]|=d>>8-b,o.join(u.map(x=>o.getWord(x)))}const h={};class l{constructor(o,u,c,b,d){z(this,"phrase");z(this,"password");z(this,"wordlist");z(this,"entropy");b==null&&(b=""),d==null&&(d=n.LangEn.wordlist()),(0,i.assertPrivate)(o,h,"Mnemonic"),(0,i.defineProperties)(this,{phrase:c,password:b,wordlist:d,entropy:u})}computeSeed(){const o=(0,i.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,e.pbkdf2)((0,i.toUtf8Bytes)(this.phrase,"NFKD"),o,2048,64,"sha512")}static fromPhrase(o,u,c){const b=a(o,c);return o=f((0,i.getBytes)(b),c),new l(h,b,o,u,c)}static fromEntropy(o,u,c){const b=(0,i.getBytes)(o,"entropy"),d=f(b,c);return new l(h,(0,i.hexlify)(b),d,u,c)}static entropyToPhrase(o,u){const c=(0,i.getBytes)(o,"entropy");return f(c,u)}static phraseToEntropy(o,u){return a(o,u)}static isValidMnemonic(o,u){try{return a(o,u),!0}catch{}return!1}}return Tr.Mnemonic=l,Tr}var Fe={},Rn={},Rr={},fa;function po(){if(fa)return Rr;fa=1;/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var e=pe&&pe.__classPrivateFieldGet||function(K,J,_,F){if(_==="a"&&!F)throw new TypeError("Private accessor was defined without a getter");if(typeof J=="function"?K!==J||!F:!J.has(K))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _==="m"?F:_==="a"?F.call(K):F?F.value:J.get(K)},i=pe&&pe.__classPrivateFieldSet||function(K,J,_,F,U){if(F==="m")throw new TypeError("Private method is not writable");if(F==="a"&&!U)throw new TypeError("Private accessor was defined without a setter");if(typeof J=="function"?K!==J||!U:!J.has(K))throw new TypeError("Cannot write private member to an object whose class did not declare it");return F==="a"?U.call(K,_):U?U.value=_:J.set(K,_),_},n,r,s;Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.AES=void 0;const a={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],l=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],t=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],o=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],u=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],c=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],b=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],d=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],x=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],I=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],B=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],R=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],w=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],g=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(K){const J=[];for(let _=0;_<K.length;_+=4)J.push(K[_]<<24|K[_+1]<<16|K[_+2]<<8|K[_+3]);return J}class D{get key(){return e(this,n,"f").slice()}constructor(J){if(n.set(this,void 0),r.set(this,void 0),s.set(this,void 0),!(this instanceof D))throw Error("AES must be instanitated with `new`");i(this,n,new Uint8Array(J),"f");const _=a[this.key.length];if(_==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");i(this,s,[],"f"),i(this,r,[],"f");for(let L=0;L<=_;L++)e(this,s,"f").push([0,0,0,0]),e(this,r,"f").push([0,0,0,0]);const F=(_+1)*4,U=this.key.length/4,E=S(this.key);let T;for(let L=0;L<U;L++)T=L>>2,e(this,s,"f")[T][L%4]=E[L],e(this,r,"f")[_-T][L%4]=E[L];let m=0,j=U,P;for(;j<F;){if(P=E[U-1],E[0]^=h[P>>16&255]<<24^h[P>>8&255]<<16^h[P&255]<<8^h[P>>24&255]^f[m]<<24,m+=1,U!=8)for(let A=1;A<U;A++)E[A]^=E[A-1];else{for(let A=1;A<U/2;A++)E[A]^=E[A-1];P=E[U/2-1],E[U/2]^=h[P&255]^h[P>>8&255]<<8^h[P>>16&255]<<16^h[P>>24&255]<<24;for(let A=U/2+1;A<U;A++)E[A]^=E[A-1]}let L=0,k,q;for(;L<U&&j<F;)k=j>>2,q=j%4,e(this,s,"f")[k][q]=E[L],e(this,r,"f")[_-k][q]=E[L++],j++}for(let L=1;L<_;L++)for(let k=0;k<4;k++)P=e(this,r,"f")[L][k],e(this,r,"f")[L][k]=B[P>>24&255]^R[P>>16&255]^w[P>>8&255]^g[P&255]}encrypt(J){if(J.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const _=e(this,s,"f").length-1,F=[0,0,0,0];let U=S(J);for(let m=0;m<4;m++)U[m]^=e(this,s,"f")[0][m];for(let m=1;m<_;m++){for(let j=0;j<4;j++)F[j]=t[U[j]>>24&255]^o[U[(j+1)%4]>>16&255]^u[U[(j+2)%4]>>8&255]^c[U[(j+3)%4]&255]^e(this,s,"f")[m][j];U=F.slice()}const E=new Uint8Array(16);let T=0;for(let m=0;m<4;m++)T=e(this,s,"f")[_][m],E[4*m]=(h[U[m]>>24&255]^T>>24)&255,E[4*m+1]=(h[U[(m+1)%4]>>16&255]^T>>16)&255,E[4*m+2]=(h[U[(m+2)%4]>>8&255]^T>>8)&255,E[4*m+3]=(h[U[(m+3)%4]&255]^T)&255;return E}decrypt(J){if(J.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const _=e(this,r,"f").length-1,F=[0,0,0,0];let U=S(J);for(let m=0;m<4;m++)U[m]^=e(this,r,"f")[0][m];for(let m=1;m<_;m++){for(let j=0;j<4;j++)F[j]=b[U[j]>>24&255]^d[U[(j+3)%4]>>16&255]^x[U[(j+2)%4]>>8&255]^I[U[(j+1)%4]&255]^e(this,r,"f")[m][j];U=F.slice()}const E=new Uint8Array(16);let T=0;for(let m=0;m<4;m++)T=e(this,r,"f")[_][m],E[4*m]=(l[U[m]>>24&255]^T>>24)&255,E[4*m+1]=(l[U[(m+3)%4]>>16&255]^T>>16)&255,E[4*m+2]=(l[U[(m+2)%4]>>8&255]^T>>8)&255,E[4*m+3]=(l[U[(m+1)%4]&255]^T)&255;return E}}return Rr.AES=D,n=new WeakMap,r=new WeakMap,s=new WeakMap,Rr}var Sr={},da;function It(){if(da)return Sr;da=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.ModeOfOperation=void 0;const e=po();class i{constructor(r,s,a){if(a&&!(this instanceof a))throw new Error(`${r} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new e.AES(s)},name:{enumerable:!0,value:r}})}}return Sr.ModeOfOperation=i,Sr}var jr={},ha;function eu(){if(ha)return jr;ha=1;var e=pe&&pe.__classPrivateFieldSet||function(f,h,l,t,o){if(t==="m")throw new TypeError("Private method is not writable");if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof h=="function"?f!==h||!o:!h.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t==="a"?o.call(f,l):o?o.value=l:h.set(f,l),l},i=pe&&pe.__classPrivateFieldGet||function(f,h,l,t){if(l==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?f!==h||!t:!h.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?t:l==="a"?t.call(f):t?t.value:h.get(f)},n,r;Object.defineProperty(jr,"__esModule",{value:!0}),jr.CBC=void 0;const s=It();class a extends s.ModeOfOperation{constructor(h,l){if(super("ECC",h,a),n.set(this,void 0),r.set(this,void 0),l){if(l.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");e(this,n,new Uint8Array(l),"f")}else e(this,n,new Uint8Array(16),"f");e(this,r,this.iv,"f")}get iv(){return new Uint8Array(i(this,n,"f"))}encrypt(h){if(h.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const l=new Uint8Array(h.length);for(let t=0;t<h.length;t+=16){for(let o=0;o<16;o++)i(this,r,"f")[o]^=h[t+o];e(this,r,this.aes.encrypt(i(this,r,"f")),"f"),l.set(i(this,r,"f"),t)}return l}decrypt(h){if(h.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const l=new Uint8Array(h.length);for(let t=0;t<h.length;t+=16){const o=this.aes.decrypt(h.subarray(t,t+16));for(let u=0;u<16;u++)l[t+u]=o[u]^i(this,r,"f")[u],i(this,r,"f")[u]=h[t+u]}return l}}return jr.CBC=a,n=new WeakMap,r=new WeakMap,jr}var Cr={},ba;function tu(){if(ba)return Cr;ba=1;var e=pe&&pe.__classPrivateFieldSet||function(l,t,o,u,c){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?l!==t||!c:!t.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?c.call(l,o):c?c.value=o:t.set(l,o),o},i=pe&&pe.__classPrivateFieldGet||function(l,t,o,u){if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?l!==t||!u:!t.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?u:o==="a"?u.call(l):u?u.value:t.get(l)},n,r,s,a;Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.CFB=void 0;const f=It();class h extends f.ModeOfOperation{constructor(t,o,u=8){if(super("CFB",t,h),n.add(this),r.set(this,void 0),s.set(this,void 0),!Number.isInteger(u)||u%8)throw new TypeError("invalid segmentSize");if(Object.defineProperties(this,{segmentSize:{enumerable:!0,value:u}}),o){if(o.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");e(this,r,new Uint8Array(o),"f")}else e(this,r,new Uint8Array(16),"f");e(this,s,this.iv,"f")}get iv(){return new Uint8Array(i(this,r,"f"))}encrypt(t){if(8*t.length%this.segmentSize)throw new TypeError("invalid plaintext size (must be multiple of segmentSize bytes)");const o=this.segmentSize/8,u=new Uint8Array(t);for(let c=0;c<u.length;c+=o){const b=this.aes.encrypt(i(this,s,"f"));for(let d=0;d<o;d++)u[c+d]^=b[d];i(this,n,"m",a).call(this,u.subarray(c))}return u}decrypt(t){if(8*t.length%this.segmentSize)throw new TypeError("invalid ciphertext size (must be multiple of segmentSize bytes)");const o=this.segmentSize/8,u=new Uint8Array(t);for(let c=0;c<u.length;c+=o){const b=this.aes.encrypt(i(this,s,"f"));for(let d=0;d<o;d++)u[c+d]^=b[d];i(this,n,"m",a).call(this,t.subarray(c))}return u}}return Cr.CFB=h,r=new WeakMap,s=new WeakMap,n=new WeakSet,a=function(t){const o=this.segmentSize/8;i(this,s,"f").set(i(this,s,"f").subarray(o)),i(this,s,"f").set(t.subarray(0,o),16-o)},Cr}var Br={},ga;function ru(){if(ga)return Br;ga=1;var e=pe&&pe.__classPrivateFieldSet||function(h,l,t,o,u){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?h!==l||!u:!l.has(h))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?u.call(h,t):u?u.value=t:l.set(h,t),t},i=pe&&pe.__classPrivateFieldGet||function(h,l,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?h!==l||!o:!l.has(h))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(h):o?o.value:l.get(h)},n,r,s;Object.defineProperty(Br,"__esModule",{value:!0}),Br.CTR=void 0;const a=It();class f extends a.ModeOfOperation{constructor(l,t){super("CTR",l,f),n.set(this,void 0),r.set(this,void 0),s.set(this,void 0),e(this,s,new Uint8Array(16),"f"),i(this,s,"f").fill(0),e(this,n,i(this,s,"f"),"f"),e(this,r,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(i(this,s,"f"))}setCounterValue(l){if(!Number.isInteger(l)||l<0||l>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)i(this,s,"f")[t]=l%256,l=Math.floor(l/256)}setCounterBytes(l){if(l.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");i(this,s,"f").set(l)}increment(){for(let l=15;l>=0;l--)if(i(this,s,"f")[l]===255)i(this,s,"f")[l]=0;else{i(this,s,"f")[l]++;break}}encrypt(l){var t,o;const u=new Uint8Array(l);for(let c=0;c<u.length;c++)i(this,r,"f")===16&&(e(this,n,this.aes.encrypt(i(this,s,"f")),"f"),e(this,r,0,"f"),this.increment()),u[c]^=i(this,n,"f")[e(this,r,(o=i(this,r,"f"),t=o++,o),"f"),t];return u}decrypt(l){return this.encrypt(l)}}return Br.CTR=f,n=new WeakMap,r=new WeakMap,s=new WeakMap,Br}var Ir={},ya;function nu(){if(ya)return Ir;ya=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.ECB=void 0;const e=It();class i extends e.ModeOfOperation{constructor(r){super("ECB",r,i)}encrypt(r){if(r.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const s=new Uint8Array(r.length);for(let a=0;a<r.length;a+=16)s.set(this.aes.encrypt(r.subarray(a,a+16)),a);return s}decrypt(r){if(r.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const s=new Uint8Array(r.length);for(let a=0;a<r.length;a+=16)s.set(this.aes.decrypt(r.subarray(a,a+16)),a);return s}}return Ir.ECB=i,Ir}var Fr={},ma;function su(){if(ma)return Fr;ma=1;var e=pe&&pe.__classPrivateFieldSet||function(h,l,t,o,u){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?h!==l||!u:!l.has(h))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?u.call(h,t):u?u.value=t:l.set(h,t),t},i=pe&&pe.__classPrivateFieldGet||function(h,l,t,o){if(t==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?h!==l||!o:!l.has(h))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?o:t==="a"?o.call(h):o?o.value:l.get(h)},n,r,s;Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.OFB=void 0;const a=It();class f extends a.ModeOfOperation{constructor(l,t){if(super("OFB",l,f),n.set(this,void 0),r.set(this,void 0),s.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");e(this,n,new Uint8Array(t),"f")}else e(this,n,new Uint8Array(16),"f");e(this,r,this.iv,"f"),e(this,s,16,"f")}get iv(){return new Uint8Array(i(this,n,"f"))}encrypt(l){var t,o;if(l.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const u=new Uint8Array(l);for(let c=0;c<u.length;c++)i(this,s,"f")===16&&(e(this,r,this.aes.encrypt(i(this,r,"f")),"f"),e(this,s,0,"f")),u[c]^=i(this,r,"f")[e(this,s,(o=i(this,s,"f"),t=o++,o),"f"),t];return u}decrypt(l){if(l.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");return this.encrypt(l)}}return Fr.OFB=f,n=new WeakMap,r=new WeakMap,s=new WeakMap,Fr}var kt={},pa;function iu(){if(pa)return kt;pa=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.pkcs7Strip=kt.pkcs7Pad=void 0;function e(n){const r=16-n.length%16,s=new Uint8Array(n.length+r);s.set(n);for(let a=n.length;a<s.length;a++)s[a]=r;return s}kt.pkcs7Pad=e;function i(n){if(n.length<16)throw new TypeError("PKCS#7 invalid length");const r=n[n.length-1];if(r>16)throw new TypeError("PKCS#7 padding byte out of range");const s=n.length-r;for(let a=0;a<r;a++)if(n[s+a]!==r)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(n.subarray(0,s))}return kt.pkcs7Strip=i,kt}var xa;function xo(){return xa||(xa=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.pkcs7Strip=e.pkcs7Pad=e.OFB=e.ECB=e.CTR=e.CFB=e.CBC=e.ModeOfOperation=e.AES=void 0;var i=po();Object.defineProperty(e,"AES",{enumerable:!0,get:function(){return i.AES}});var n=It();Object.defineProperty(e,"ModeOfOperation",{enumerable:!0,get:function(){return n.ModeOfOperation}});var r=eu();Object.defineProperty(e,"CBC",{enumerable:!0,get:function(){return r.CBC}});var s=tu();Object.defineProperty(e,"CFB",{enumerable:!0,get:function(){return s.CFB}});var a=ru();Object.defineProperty(e,"CTR",{enumerable:!0,get:function(){return a.CTR}});var f=nu();Object.defineProperty(e,"ECB",{enumerable:!0,get:function(){return f.ECB}});var h=su();Object.defineProperty(e,"OFB",{enumerable:!0,get:function(){return h.OFB}});var l=iu();Object.defineProperty(e,"pkcs7Pad",{enumerable:!0,get:function(){return l.pkcs7Pad}}),Object.defineProperty(e,"pkcs7Strip",{enumerable:!0,get:function(){return l.pkcs7Strip}})}(Rn)),Rn}var Ke={},wa;function wo(){if(wa)return Ke;wa=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.spelunk=Ke.getPassword=Ke.zpad=Ke.looseArrayify=void 0;const e=le();function i(a){return typeof a=="string"&&!a.startsWith("0x")&&(a="0x"+a),(0,e.getBytesCopy)(a)}Ke.looseArrayify=i;function n(a,f){for(a=String(a);a.length<f;)a="0"+a;return a}Ke.zpad=n;function r(a){return typeof a=="string"?(0,e.toUtf8Bytes)(a,"NFKC"):(0,e.getBytesCopy)(a)}Ke.getPassword=r;function s(a,f){const h=f.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,e.assertArgument)(h!=null,"invalid path","path",f);const l=h[1],t=h[3],o=h[4]==="!";let u=a;for(const c of l.toLowerCase().split(".")){if(Array.isArray(u)){if(!c.match(/^[0-9]+$/))break;u=u[parseInt(c)]}else if(typeof u=="object"){let b=null;for(const d in u)if(d.toLowerCase()===c){b=u[d];break}u=b}else u=null;if(u==null)break}if((0,e.assertArgument)(!o||u!=null,"missing required value","path",l),t&&u!=null){if(t==="int"){if(typeof u=="string"&&u.match(/^-?[0-9]+$/))return parseInt(u);if(Number.isSafeInteger(u))return u}if(t==="number"&&typeof u=="string"&&u.match(/^-?[0-9.]*$/))return parseFloat(u);if(t==="data"&&typeof u=="string")return i(u);if(t==="array"&&Array.isArray(u)||t===typeof u)return u;(0,e.assertArgument)(!1,`wrong type found for ${t} `,"path",l)}return u}return Ke.spelunk=s,Ke}var Pa;function bs(){if(Pa)return Fe;Pa=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.encryptKeystoreJson=Fe.encryptKeystoreJsonSync=Fe.decryptKeystoreJson=Fe.decryptKeystoreJsonSync=Fe.isKeystoreJson=void 0;const e=xo(),i=Ee(),n=Te(),r=Me(),s=le(),a=wo(),f=rs(),h="m/44'/60'/0'/0/0";function l(w){try{const g=JSON.parse(w);if((g.version!=null?parseInt(g.version):0)===3)return!0}catch{}return!1}Fe.isKeystoreJson=l;function t(w,g,S){if((0,a.spelunk)(w,"crypto.cipher:string")==="aes-128-ctr"){const K=(0,a.spelunk)(w,"crypto.cipherparams.iv:data!"),J=new e.CTR(g,K);return(0,s.hexlify)(J.decrypt(S))}(0,s.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function o(w,g){const S=(0,s.getBytes)(g),D=(0,a.spelunk)(w,"crypto.ciphertext:data!"),K=(0,s.hexlify)((0,n.keccak256)((0,s.concat)([S.slice(16,32),D]))).substring(2);(0,s.assertArgument)(K===(0,a.spelunk)(w,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const J=t(w,S.slice(0,16),D),_=(0,r.computeAddress)(J);if(w.address){let E=w.address.toLowerCase();E.startsWith("0x")||(E="0x"+E),(0,s.assertArgument)((0,i.getAddress)(E)===_,"keystore address/privateKey mismatch","address",w.address)}const F={address:_,privateKey:J};if((0,a.spelunk)(w,"x-ethers.version:string")==="0.1"){const E=S.slice(32,64),T=(0,a.spelunk)(w,"x-ethers.mnemonicCiphertext:data!"),m=(0,a.spelunk)(w,"x-ethers.mnemonicCounter:data!"),j=new e.CTR(E,m);F.mnemonic={path:(0,a.spelunk)(w,"x-ethers.path:string")||h,locale:(0,a.spelunk)(w,"x-ethers.locale:string")||"en",entropy:(0,s.hexlify)((0,s.getBytes)(j.decrypt(T)))}}return F}function u(w){const g=(0,a.spelunk)(w,"crypto.kdf:string");if(g&&typeof g=="string"){if(g.toLowerCase()==="scrypt"){const S=(0,a.spelunk)(w,"crypto.kdfparams.salt:data!"),D=(0,a.spelunk)(w,"crypto.kdfparams.n:int!"),K=(0,a.spelunk)(w,"crypto.kdfparams.r:int!"),J=(0,a.spelunk)(w,"crypto.kdfparams.p:int!");(0,s.assertArgument)(D>0&&(D&D-1)===0,"invalid kdf.N","kdf.N",D),(0,s.assertArgument)(K>0&&J>0,"invalid kdf","kdf",g);const _=(0,a.spelunk)(w,"crypto.kdfparams.dklen:int!");return(0,s.assertArgument)(_===32,"invalid kdf.dklen","kdf.dflen",_),{name:"scrypt",salt:S,N:D,r:K,p:J,dkLen:64}}else if(g.toLowerCase()==="pbkdf2"){const S=(0,a.spelunk)(w,"crypto.kdfparams.salt:data!"),D=(0,a.spelunk)(w,"crypto.kdfparams.prf:string!"),K=D.split("-").pop();(0,s.assertArgument)(K==="sha256"||K==="sha512","invalid kdf.pdf","kdf.pdf",D);const J=(0,a.spelunk)(w,"crypto.kdfparams.c:int!"),_=(0,a.spelunk)(w,"crypto.kdfparams.dklen:int!");return(0,s.assertArgument)(_===32,"invalid kdf.dklen","kdf.dklen",_),{name:"pbkdf2",salt:S,count:J,dkLen:_,algorithm:K}}}(0,s.assertArgument)(!1,"unsupported key-derivation function","kdf",g)}function c(w,g){const S=JSON.parse(w),D=(0,a.getPassword)(g),K=u(S);if(K.name==="pbkdf2"){const{salt:m,count:j,dkLen:P,algorithm:L}=K,k=(0,n.pbkdf2)(D,m,j,P,L);return o(S,k)}(0,s.assert)(K.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:K});const{salt:J,N:_,r:F,p:U,dkLen:E}=K,T=(0,n.scryptSync)(D,J,_,F,U,E);return o(S,T)}Fe.decryptKeystoreJsonSync=c;function b(w){return new Promise(g=>{setTimeout(()=>{g()},w)})}async function d(w,g,S){const D=JSON.parse(w),K=(0,a.getPassword)(g),J=u(D);if(J.name==="pbkdf2"){S&&(S(0),await b(0));const{salt:j,count:P,dkLen:L,algorithm:k}=J,q=(0,n.pbkdf2)(K,j,P,L,k);return S&&(S(1),await b(0)),o(D,q)}(0,s.assert)(J.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:J});const{salt:_,N:F,r:U,p:E,dkLen:T}=J,m=await(0,n.scrypt)(K,_,F,U,E,T,S);return o(D,m)}Fe.decryptKeystoreJson=d;function x(w){const g=w.salt!=null?(0,s.getBytes)(w.salt,"options.salt"):(0,n.randomBytes)(32);let S=1<<17,D=8,K=1;return w.scrypt&&(w.scrypt.N&&(S=w.scrypt.N),w.scrypt.r&&(D=w.scrypt.r),w.scrypt.p&&(K=w.scrypt.p)),(0,s.assertArgument)(typeof S=="number"&&S>0&&Number.isSafeInteger(S)&&(BigInt(S)&BigInt(S-1))===BigInt(0),"invalid scrypt N parameter","options.N",S),(0,s.assertArgument)(typeof D=="number"&&D>0&&Number.isSafeInteger(D),"invalid scrypt r parameter","options.r",D),(0,s.assertArgument)(typeof K=="number"&&K>0&&Number.isSafeInteger(K),"invalid scrypt p parameter","options.p",K),{name:"scrypt",dkLen:32,salt:g,N:S,r:D,p:K}}function I(w,g,S,D){const K=(0,s.getBytes)(S.privateKey,"privateKey"),J=D.iv!=null?(0,s.getBytes)(D.iv,"options.iv"):(0,n.randomBytes)(16);(0,s.assertArgument)(J.length===16,"invalid options.iv length","options.iv",D.iv);const _=D.uuid!=null?(0,s.getBytes)(D.uuid,"options.uuid"):(0,n.randomBytes)(16);(0,s.assertArgument)(_.length===16,"invalid options.uuid length","options.uuid",D.iv);const F=w.slice(0,16),U=w.slice(16,32),E=new e.CTR(F,J),T=(0,s.getBytes)(E.encrypt(K)),m=(0,n.keccak256)((0,s.concat)([U,T])),j={address:S.address.substring(2).toLowerCase(),id:(0,s.uuidV4)(_),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,s.hexlify)(J).substring(2)},ciphertext:(0,s.hexlify)(T).substring(2),kdf:"scrypt",kdfparams:{salt:(0,s.hexlify)(g.salt).substring(2),n:g.N,dklen:32,p:g.p,r:g.r},mac:m.substring(2)}};if(S.mnemonic){const P=D.client!=null?D.client:`ethers/${f.version}`,L=S.mnemonic.path||h,k=S.mnemonic.locale||"en",q=w.slice(32,64),A=(0,s.getBytes)(S.mnemonic.entropy,"account.mnemonic.entropy"),N=(0,n.randomBytes)(16),O=new e.CTR(q,N),v=(0,s.getBytes)(O.encrypt(A)),$=new Date,Y="UTC--"+($.getUTCFullYear()+"-"+(0,a.zpad)($.getUTCMonth()+1,2)+"-"+(0,a.zpad)($.getUTCDate(),2)+"T"+(0,a.zpad)($.getUTCHours(),2)+"-"+(0,a.zpad)($.getUTCMinutes(),2)+"-"+(0,a.zpad)($.getUTCSeconds(),2)+".0Z")+"--"+j.address;j["x-ethers"]={client:P,gethFilename:Y,path:L,locale:k,mnemonicCounter:(0,s.hexlify)(N).substring(2),mnemonicCiphertext:(0,s.hexlify)(v).substring(2),version:"0.1"}}return JSON.stringify(j)}function B(w,g,S){S==null&&(S={});const D=(0,a.getPassword)(g),K=x(S),J=(0,n.scryptSync)(D,K.salt,K.N,K.r,K.p,64);return I((0,s.getBytes)(J),K,w,S)}Fe.encryptKeystoreJsonSync=B;async function R(w,g,S){S==null&&(S={});const D=(0,a.getPassword)(g),K=x(S),J=await(0,n.scrypt)(D,K.salt,K.N,K.r,K.p,64,S.progressCallback);return I((0,s.getBytes)(J),K,w,S)}return Fe.encryptKeystoreJson=R,Fe}var va;function Po(){return va||(va=1,function(e){var D,Qn,J,Wr;Object.defineProperty(e,"__esModule",{value:!0}),e.getIndexedAccountPath=e.getAccountPath=e.HDNodeVoidWallet=e.HDNodeWallet=e.defaultPath=void 0;const i=Te(),n=ls(),r=Me(),s=le(),a=ln(),f=fs(),h=hs(),l=bs();e.defaultPath="m/44'/60'/0'/0/0";const t=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),o=2147483648,u=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c="0123456789abcdef";function b(U,E){let T="";for(;U;)T=c[U%16]+T,U=Math.trunc(U/16);for(;T.length<E*2;)T="0"+T;return"0x"+T}function d(U){const E=(0,s.getBytes)(U),T=(0,s.dataSlice)((0,i.sha256)((0,i.sha256)(E)),0,4),m=(0,s.concat)([E,T]);return(0,s.encodeBase58)(m)}const x={};function I(U,E,T,m){const j=new Uint8Array(37);U&o?((0,s.assert)(m!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),j.set((0,s.getBytes)(m),1)):j.set((0,s.getBytes)(T));for(let L=24;L>=0;L-=8)j[33+(L>>3)]=U>>24-L&255;const P=(0,s.getBytes)((0,i.computeHmac)("sha512",E,j));return{IL:P.slice(0,32),IR:P.slice(32)}}function B(U,E){const T=E.split("/");(0,s.assertArgument)(T.length>0&&(T[0]==="m"||U.depth>0),"invalid path","path",E),T[0]==="m"&&T.shift();let m=U;for(let j=0;j<T.length;j++){const P=T[j];if(P.match(/^[0-9]+'$/)){const L=parseInt(P.substring(0,P.length-1));(0,s.assertArgument)(L<o,"invalid path index",`path[${j}]`,P),m=m.deriveChild(o+L)}else if(P.match(/^[0-9]+$/)){const L=parseInt(P);(0,s.assertArgument)(L<o,"invalid path index",`path[${j}]`,P),m=m.deriveChild(L)}else(0,s.assertArgument)(!1,"invalid path component",`path[${j}]`,P)}return m}const F=class F extends f.BaseWallet{constructor(T,m,j,P,L,k,q,A,N){super(m,N);V(this,D);z(this,"publicKey");z(this,"fingerprint");z(this,"parentFingerprint");z(this,"mnemonic");z(this,"chainCode");z(this,"path");z(this,"index");z(this,"depth");(0,s.assertPrivate)(T,x,"HDNodeWallet"),(0,s.defineProperties)(this,{publicKey:m.compressedPublicKey});const O=(0,s.dataSlice)((0,i.ripemd160)((0,i.sha256)(this.publicKey)),0,4);(0,s.defineProperties)(this,{parentFingerprint:j,fingerprint:O,chainCode:P,path:L,index:k,depth:q}),(0,s.defineProperties)(this,{mnemonic:A})}connect(T){return new F(x,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,T)}async encrypt(T,m){return await(0,l.encryptKeystoreJson)(ee(this,D,Qn).call(this),T,{progressCallback:m})}encryptSync(T){return(0,l.encryptKeystoreJsonSync)(ee(this,D,Qn).call(this),T)}get extendedKey(){return(0,s.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),d((0,s.concat)(["0x0488ADE4",b(this.depth,1),this.parentFingerprint,b(this.index,4),this.chainCode,(0,s.concat)(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new w(x,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(T){const m=(0,s.getNumber)(T,"index");(0,s.assertArgument)(m<=4294967295,"invalid index","index",m);let j=this.path;j&&(j+="/"+(m&~o),m&o&&(j+="'"));const{IR:P,IL:L}=I(m,this.chainCode,this.publicKey,this.privateKey),k=new i.SigningKey((0,s.toBeHex)(((0,s.toBigInt)(L)+BigInt(this.privateKey))%u,32));return new F(x,k,this.fingerprint,(0,s.hexlify)(P),j,m,this.depth+1,this.mnemonic,this.provider)}derivePath(T){return B(this,T)}static fromExtendedKey(T){const m=(0,s.toBeArray)((0,s.decodeBase58)(T));(0,s.assertArgument)(m.length===82||d(m.slice(0,78))===T,"invalid extended key","extendedKey","[ REDACTED ]");const j=m[4],P=(0,s.hexlify)(m.slice(5,9)),L=parseInt((0,s.hexlify)(m.slice(9,13)).substring(2),16),k=(0,s.hexlify)(m.slice(13,45)),q=m.slice(45,78);switch((0,s.hexlify)(m.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const A=(0,s.hexlify)(q);return new w(x,(0,r.computeAddress)(A),A,P,k,null,L,j,null)}case"0x0488ade4":case"0x04358394 ":if(q[0]!==0)break;return new F(x,new i.SigningKey(q.slice(1)),P,k,null,L,j,null,null)}(0,s.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(T,m,j){var L;T==null&&(T=""),m==null&&(m=e.defaultPath),j==null&&(j=a.LangEn.wordlist());const P=h.Mnemonic.fromEntropy((0,i.randomBytes)(16),T,j);return ee(L=F,J,Wr).call(L,P.computeSeed(),P).derivePath(m)}static fromMnemonic(T,m){var j;return m||(m=e.defaultPath),ee(j=F,J,Wr).call(j,T.computeSeed(),T).derivePath(m)}static fromPhrase(T,m,j,P){var k;m==null&&(m=""),j==null&&(j=e.defaultPath),P==null&&(P=a.LangEn.wordlist());const L=h.Mnemonic.fromPhrase(T,m,P);return ee(k=F,J,Wr).call(k,L.computeSeed(),L).derivePath(j)}static fromSeed(T){var m;return ee(m=F,J,Wr).call(m,T,null)}};D=new WeakSet,Qn=function(){const T={address:this.address,privateKey:this.privateKey},m=this.mnemonic;return this.path&&m&&m.wordlist.locale==="en"&&m.password===""&&(T.mnemonic={path:this.path,locale:"en",entropy:m.entropy}),T},J=new WeakSet,Wr=function(T,m){(0,s.assertArgument)((0,s.isBytesLike)(T),"invalid seed","seed","[REDACTED]");const j=(0,s.getBytes)(T,"seed");(0,s.assertArgument)(j.length>=16&&j.length<=64,"invalid seed","seed","[REDACTED]");const P=(0,s.getBytes)((0,i.computeHmac)("sha512",t,j)),L=new i.SigningKey((0,s.hexlify)(P.slice(0,32)));return new F(x,L,"0x00000000",(0,s.hexlify)(P.slice(32)),"m",0,0,m,null)},V(F,J);let R=F;e.HDNodeWallet=R;class w extends n.VoidSigner{constructor(T,m,j,P,L,k,q,A,N){super(m,N);z(this,"publicKey");z(this,"fingerprint");z(this,"parentFingerprint");z(this,"chainCode");z(this,"path");z(this,"index");z(this,"depth");(0,s.assertPrivate)(T,x,"HDNodeVoidWallet"),(0,s.defineProperties)(this,{publicKey:j});const O=(0,s.dataSlice)((0,i.ripemd160)((0,i.sha256)(j)),0,4);(0,s.defineProperties)(this,{publicKey:j,fingerprint:O,parentFingerprint:P,chainCode:L,path:k,index:q,depth:A})}connect(T){return new w(x,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,T)}get extendedKey(){return(0,s.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),d((0,s.concat)(["0x0488B21E",b(this.depth,1),this.parentFingerprint,b(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(T){const m=(0,s.getNumber)(T,"index");(0,s.assertArgument)(m<=4294967295,"invalid index","index",m);let j=this.path;j&&(j+="/"+(m&~o),m&o&&(j+="'"));const{IR:P,IL:L}=I(m,this.chainCode,this.publicKey,null),k=i.SigningKey.addPoints(L,this.publicKey,!0),q=(0,r.computeAddress)(k);return new w(x,q,k,this.fingerprint,(0,s.hexlify)(P),j,m,this.depth+1,this.provider)}derivePath(T){return B(this,T)}}e.HDNodeVoidWallet=w;function g(U){const E=(0,s.getNumber)(U,"index");return(0,s.assertArgument)(E>=0&&E<o,"invalid account index","index",E),`m/44'/60'/${E}'/0/0`}e.getAccountPath=g;function S(U){const E=(0,s.getNumber)(U,"index");return(0,s.assertArgument)(E>=0&&E<o,"invalid account index","index",E),`m/44'/60'/0'/0/${E}`}e.getIndexedAccountPath=S}(Tn)),Tn}var At={},_a;function vo(){if(_a)return At;_a=1,Object.defineProperty(At,"__esModule",{value:!0}),At.decryptCrowdsaleJson=At.isCrowdsaleJson=void 0;const e=xo(),i=Ee(),n=Te(),r=it(),s=le(),a=wo();function f(l){try{if(JSON.parse(l).encseed)return!0}catch{}return!1}At.isCrowdsaleJson=f;function h(l,t){const o=JSON.parse(l),u=(0,a.getPassword)(t),c=(0,i.getAddress)((0,a.spelunk)(o,"ethaddr:string!")),b=(0,a.looseArrayify)((0,a.spelunk)(o,"encseed:string!"));(0,s.assertArgument)(b&&b.length%16===0,"invalid encseed","json",l);const d=(0,s.getBytes)((0,n.pbkdf2)(u,u,2e3,32,"sha256")).slice(0,16),x=b.slice(0,16),I=b.slice(16),B=new e.CBC(d,x),R=(0,e.pkcs7Strip)((0,s.getBytes)(B.decrypt(I)));let w="";for(let g=0;g<R.length;g++)w+=String.fromCharCode(R[g]);return{address:c,privateKey:(0,r.id)(w)}}return At.decryptCrowdsaleJson=h,At}var Ur={},Oa;function au(){var t,es;if(Oa)return Ur;Oa=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.Wallet=void 0;const e=Te(),i=le(),n=fs(),r=Po(),s=vo(),a=bs(),f=hs();function h(c){return new Promise(b=>{setTimeout(()=>{b()},c)})}const u=class u extends n.BaseWallet{constructor(b,d){typeof b=="string"&&!b.startsWith("0x")&&(b="0x"+b);let x=typeof b=="string"?new e.SigningKey(b):b;super(x,d)}connect(b){return new u(this.signingKey,b)}async encrypt(b,d){const x={address:this.address,privateKey:this.privateKey};return await(0,a.encryptKeystoreJson)(x,b,{progressCallback:d})}encryptSync(b){const d={address:this.address,privateKey:this.privateKey};return(0,a.encryptKeystoreJsonSync)(d,b)}static async fromEncryptedJson(b,d,x){var B;let I=null;return(0,a.isKeystoreJson)(b)?I=await(0,a.decryptKeystoreJson)(b,d,x):(0,s.isCrowdsaleJson)(b)&&(x&&(x(0),await h(0)),I=(0,s.decryptCrowdsaleJson)(b,d),x&&(x(1),await h(0))),ee(B=u,t,es).call(B,I)}static fromEncryptedJsonSync(b,d){var I;let x=null;return(0,a.isKeystoreJson)(b)?x=(0,a.decryptKeystoreJsonSync)(b,d):(0,s.isCrowdsaleJson)(b)?x=(0,s.decryptCrowdsaleJson)(b,d):(0,i.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),ee(I=u,t,es).call(I,x)}static createRandom(b){const d=r.HDNodeWallet.createRandom();return b?d.connect(b):d}static fromPhrase(b,d){const x=r.HDNodeWallet.fromPhrase(b);return d?x.connect(d):x}};t=new WeakSet,es=function(b){if((0,i.assertArgument)(b,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in b&&b.mnemonic&&b.mnemonic.locale==="en"){const x=f.Mnemonic.fromEntropy(b.mnemonic.entropy),I=r.HDNodeWallet.fromMnemonic(x,b.mnemonic.path);if(I.address===b.address&&I.privateKey===b.privateKey)return I;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const d=new u(b.privateKey);return(0,i.assertArgument)(d.address===b.address,"address/privateKey mismatch","json","[ REDACTED ]"),d},V(u,t);let l=u;return Ur.Wallet=l,Ur}var ka;function ou(){return ka||(ka=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Wallet=e.Mnemonic=e.encryptKeystoreJsonSync=e.encryptKeystoreJson=e.decryptKeystoreJson=e.decryptKeystoreJsonSync=e.isKeystoreJson=e.decryptCrowdsaleJson=e.isCrowdsaleJson=e.HDNodeVoidWallet=e.HDNodeWallet=e.getIndexedAccountPath=e.getAccountPath=e.defaultPath=e.BaseWallet=void 0;var i=fs();Object.defineProperty(e,"BaseWallet",{enumerable:!0,get:function(){return i.BaseWallet}});var n=Po();Object.defineProperty(e,"defaultPath",{enumerable:!0,get:function(){return n.defaultPath}}),Object.defineProperty(e,"getAccountPath",{enumerable:!0,get:function(){return n.getAccountPath}}),Object.defineProperty(e,"getIndexedAccountPath",{enumerable:!0,get:function(){return n.getIndexedAccountPath}}),Object.defineProperty(e,"HDNodeWallet",{enumerable:!0,get:function(){return n.HDNodeWallet}}),Object.defineProperty(e,"HDNodeVoidWallet",{enumerable:!0,get:function(){return n.HDNodeVoidWallet}});var r=vo();Object.defineProperty(e,"isCrowdsaleJson",{enumerable:!0,get:function(){return r.isCrowdsaleJson}}),Object.defineProperty(e,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return r.decryptCrowdsaleJson}});var s=bs();Object.defineProperty(e,"isKeystoreJson",{enumerable:!0,get:function(){return s.isKeystoreJson}}),Object.defineProperty(e,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return s.decryptKeystoreJsonSync}}),Object.defineProperty(e,"decryptKeystoreJson",{enumerable:!0,get:function(){return s.decryptKeystoreJson}}),Object.defineProperty(e,"encryptKeystoreJson",{enumerable:!0,get:function(){return s.encryptKeystoreJson}}),Object.defineProperty(e,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return s.encryptKeystoreJsonSync}});var a=hs();Object.defineProperty(e,"Mnemonic",{enumerable:!0,get:function(){return a.Mnemonic}});var f=au();Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return f.Wallet}})}(Nn)),Nn}var Sn={},Mr={},Lr={},Dr={},Aa;function cu(){if(Aa)return Dr;Aa=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.decodeBits=void 0;const e=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function i(n,r){const s=(1<<n)-1,a=[];let f=0,h=0,l=0;for(let t=0;t<r.length;t++)for(f=f<<6|e.indexOf(r[t]),h+=6;h>=n;){const o=f>>h-n;f&=(1<<h-n)-1,h-=n,o===0?l+=s:(a.push(o+l),l=0)}return a}return Dr.decodeBits=i,Dr}var Ea;function uu(){if(Ea)return Lr;Ea=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.decodeOwlA=void 0;const e=le(),i=cu(),n=yo();function r(s,a){let f=(0,n.decodeOwl)(s).join(",");return a.split(/,/g).forEach(h=>{const l=h.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,e.assertArgument)(l!==null,"internal error parsing accents","accents",a);let t=0;const o=(0,i.decodeBits)(parseInt(l[3]),l[4]),u=parseInt(l[2]),c=new RegExp(`([${l[1]}])`,"g");f=f.replace(c,(b,d)=>(--o[t]===0&&(d=String.fromCharCode(d.charCodeAt(0),u),t++),d))}),f.split(",")}return Lr.decodeOwlA=r,Lr}var Na;function lu(){var r;if(Na)return Mr;Na=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.WordlistOwlA=void 0;const e=ds(),i=uu();class n extends e.WordlistOwl{constructor(f,h,l,t){super(f,h,t);V(this,r,void 0);M(this,r,l)}get _accent(){return y(this,r)}_decodeWords(){return(0,i.decodeOwlA)(this._data,this._accent)}}return r=new WeakMap,Mr.WordlistOwlA=n,Mr}var $r={},Ta;function fu(){if(Ta)return $r;Ta=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.wordlists=void 0;const e=ln();return $r.wordlists={en:e.LangEn.wordlist()},$r}var Ra;function du(){return Ra||(Ra=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.wordlists=e.WordlistOwlA=e.WordlistOwl=e.LangEn=e.Wordlist=void 0;var i=mo();Object.defineProperty(e,"Wordlist",{enumerable:!0,get:function(){return i.Wordlist}});var n=ln();Object.defineProperty(e,"LangEn",{enumerable:!0,get:function(){return n.LangEn}});var r=ds();Object.defineProperty(e,"WordlistOwl",{enumerable:!0,get:function(){return r.WordlistOwl}});var s=lu();Object.defineProperty(e,"WordlistOwlA",{enumerable:!0,get:function(){return s.WordlistOwlA}});var a=fu();Object.defineProperty(e,"wordlists",{enumerable:!0,get:function(){return a.wordlists}})}(Sn)),Sn}var Sa;function ja(){return Sa||(Sa=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ripemd160=e.keccak256=e.randomBytes=e.computeHmac=e.UndecodedEventLog=e.EventLog=e.ContractUnknownEventPayload=e.ContractTransactionResponse=e.ContractTransactionReceipt=e.ContractEventPayload=e.ContractFactory=e.Contract=e.BaseContract=e.MessagePrefix=e.EtherSymbol=e.ZeroHash=e.N=e.MaxInt256=e.MinInt256=e.MaxUint256=e.WeiPerEther=e.ZeroAddress=e.resolveAddress=e.isAddress=e.isAddressable=e.getCreate2Address=e.getCreateAddress=e.getIcapAddress=e.getAddress=e.Typed=e.TransactionDescription=e.Result=e.LogDescription=e.Interface=e.Indexed=e.ErrorDescription=e.checkResultErrors=e.StructFragment=e.ParamType=e.NamedFragment=e.FunctionFragment=e.FallbackFragment=e.Fragment=e.EventFragment=e.ErrorFragment=e.ConstructorFragment=e.AbiCoder=e.encodeBytes32String=e.decodeBytes32String=e.version=void 0,e.EtherscanPlugin=e.EnsPlugin=e.Network=e.EnsResolver=e.WebSocketProvider=e.SocketProvider=e.IpcSocketProvider=e.QuickNodeProvider=e.PocketProvider=e.InfuraWebSocketProvider=e.InfuraProvider=e.EtherscanProvider=e.CloudflareProvider=e.AnkrProvider=e.AlchemyProvider=e.BrowserProvider=e.JsonRpcSigner=e.JsonRpcProvider=e.JsonRpcApiProvider=e.FallbackProvider=e.AbstractProvider=e.VoidSigner=e.NonceManager=e.AbstractSigner=e.TransactionResponse=e.TransactionReceipt=e.Log=e.FeeData=e.Block=e.getDefaultProvider=e.verifyTypedData=e.TypedDataEncoder=e.solidityPackedSha256=e.solidityPackedKeccak256=e.solidityPacked=e.verifyMessage=e.hashMessage=e.dnsEncode=e.namehash=e.isValidName=e.ensNormalize=e.id=e.SigningKey=e.Signature=e.lock=e.scryptSync=e.scrypt=e.pbkdf2=e.sha512=e.sha256=void 0,e.toBeArray=e.getUint=e.getNumber=e.getBigInt=e.FixedNumber=e.FetchCancelSignal=e.FetchResponse=e.FetchRequest=e.EventPayload=e.isError=e.isCallException=e.makeError=e.assertPrivate=e.assertNormalize=e.assertArgumentCount=e.assertArgument=e.assert=e.resolveProperties=e.defineProperties=e.zeroPadValue=e.zeroPadBytes=e.stripZerosLeft=e.isBytesLike=e.isHexString=e.hexlify=e.getBytesCopy=e.getBytes=e.dataSlice=e.dataLength=e.concat=e.encodeBase64=e.decodeBase64=e.encodeBase58=e.decodeBase58=e.Transaction=e.recoverAddress=e.computeAddress=e.accessListify=e.showThrottleMessage=e.copyRequest=e.UnmanagedSubscriber=e.SocketSubscriber=e.SocketPendingSubscriber=e.SocketEventSubscriber=e.SocketBlockSubscriber=e.MulticoinProviderPlugin=e.NetworkPlugin=e.GasCostPlugin=e.FetchUrlFeeDataNetworkPlugin=e.FeeDataNetworkPlugin=void 0,e.wordlists=e.WordlistOwlA=e.WordlistOwl=e.LangEn=e.Wordlist=e.encryptKeystoreJsonSync=e.encryptKeystoreJson=e.decryptKeystoreJson=e.decryptKeystoreJsonSync=e.decryptCrowdsaleJson=e.isKeystoreJson=e.isCrowdsaleJson=e.getIndexedAccountPath=e.getAccountPath=e.defaultPath=e.Wallet=e.HDNodeVoidWallet=e.HDNodeWallet=e.BaseWallet=e.Mnemonic=e.uuidV4=e.encodeRlp=e.decodeRlp=e.Utf8ErrorFuncs=e.toUtf8String=e.toUtf8CodePoints=e.toUtf8Bytes=e.parseUnits=e.formatUnits=e.parseEther=e.formatEther=e.mask=e.toTwos=e.fromTwos=e.toQuantity=e.toNumber=e.toBeHex=e.toBigInt=void 0;var i=rs();Object.defineProperty(e,"version",{enumerable:!0,get:function(){return i.version}});var n=Xr();Object.defineProperty(e,"decodeBytes32String",{enumerable:!0,get:function(){return n.decodeBytes32String}}),Object.defineProperty(e,"encodeBytes32String",{enumerable:!0,get:function(){return n.encodeBytes32String}}),Object.defineProperty(e,"AbiCoder",{enumerable:!0,get:function(){return n.AbiCoder}}),Object.defineProperty(e,"ConstructorFragment",{enumerable:!0,get:function(){return n.ConstructorFragment}}),Object.defineProperty(e,"ErrorFragment",{enumerable:!0,get:function(){return n.ErrorFragment}}),Object.defineProperty(e,"EventFragment",{enumerable:!0,get:function(){return n.EventFragment}}),Object.defineProperty(e,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),Object.defineProperty(e,"FallbackFragment",{enumerable:!0,get:function(){return n.FallbackFragment}}),Object.defineProperty(e,"FunctionFragment",{enumerable:!0,get:function(){return n.FunctionFragment}}),Object.defineProperty(e,"NamedFragment",{enumerable:!0,get:function(){return n.NamedFragment}}),Object.defineProperty(e,"ParamType",{enumerable:!0,get:function(){return n.ParamType}}),Object.defineProperty(e,"StructFragment",{enumerable:!0,get:function(){return n.StructFragment}}),Object.defineProperty(e,"checkResultErrors",{enumerable:!0,get:function(){return n.checkResultErrors}}),Object.defineProperty(e,"ErrorDescription",{enumerable:!0,get:function(){return n.ErrorDescription}}),Object.defineProperty(e,"Indexed",{enumerable:!0,get:function(){return n.Indexed}}),Object.defineProperty(e,"Interface",{enumerable:!0,get:function(){return n.Interface}}),Object.defineProperty(e,"LogDescription",{enumerable:!0,get:function(){return n.LogDescription}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return n.Result}}),Object.defineProperty(e,"TransactionDescription",{enumerable:!0,get:function(){return n.TransactionDescription}}),Object.defineProperty(e,"Typed",{enumerable:!0,get:function(){return n.Typed}});var r=Ee();Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return r.getAddress}}),Object.defineProperty(e,"getIcapAddress",{enumerable:!0,get:function(){return r.getIcapAddress}}),Object.defineProperty(e,"getCreateAddress",{enumerable:!0,get:function(){return r.getCreateAddress}}),Object.defineProperty(e,"getCreate2Address",{enumerable:!0,get:function(){return r.getCreate2Address}}),Object.defineProperty(e,"isAddressable",{enumerable:!0,get:function(){return r.isAddressable}}),Object.defineProperty(e,"isAddress",{enumerable:!0,get:function(){return r.isAddress}}),Object.defineProperty(e,"resolveAddress",{enumerable:!0,get:function(){return r.resolveAddress}});var s=Zr();Object.defineProperty(e,"ZeroAddress",{enumerable:!0,get:function(){return s.ZeroAddress}}),Object.defineProperty(e,"WeiPerEther",{enumerable:!0,get:function(){return s.WeiPerEther}}),Object.defineProperty(e,"MaxUint256",{enumerable:!0,get:function(){return s.MaxUint256}}),Object.defineProperty(e,"MinInt256",{enumerable:!0,get:function(){return s.MinInt256}}),Object.defineProperty(e,"MaxInt256",{enumerable:!0,get:function(){return s.MaxInt256}}),Object.defineProperty(e,"N",{enumerable:!0,get:function(){return s.N}}),Object.defineProperty(e,"ZeroHash",{enumerable:!0,get:function(){return s.ZeroHash}}),Object.defineProperty(e,"EtherSymbol",{enumerable:!0,get:function(){return s.EtherSymbol}}),Object.defineProperty(e,"MessagePrefix",{enumerable:!0,get:function(){return s.MessagePrefix}});var a=un();Object.defineProperty(e,"BaseContract",{enumerable:!0,get:function(){return a.BaseContract}}),Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return a.Contract}}),Object.defineProperty(e,"ContractFactory",{enumerable:!0,get:function(){return a.ContractFactory}}),Object.defineProperty(e,"ContractEventPayload",{enumerable:!0,get:function(){return a.ContractEventPayload}}),Object.defineProperty(e,"ContractTransactionReceipt",{enumerable:!0,get:function(){return a.ContractTransactionReceipt}}),Object.defineProperty(e,"ContractTransactionResponse",{enumerable:!0,get:function(){return a.ContractTransactionResponse}}),Object.defineProperty(e,"ContractUnknownEventPayload",{enumerable:!0,get:function(){return a.ContractUnknownEventPayload}}),Object.defineProperty(e,"EventLog",{enumerable:!0,get:function(){return a.EventLog}}),Object.defineProperty(e,"UndecodedEventLog",{enumerable:!0,get:function(){return a.UndecodedEventLog}});var f=Te();Object.defineProperty(e,"computeHmac",{enumerable:!0,get:function(){return f.computeHmac}}),Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return f.randomBytes}}),Object.defineProperty(e,"keccak256",{enumerable:!0,get:function(){return f.keccak256}}),Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return f.ripemd160}}),Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return f.sha256}}),Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return f.sha512}}),Object.defineProperty(e,"pbkdf2",{enumerable:!0,get:function(){return f.pbkdf2}}),Object.defineProperty(e,"scrypt",{enumerable:!0,get:function(){return f.scrypt}}),Object.defineProperty(e,"scryptSync",{enumerable:!0,get:function(){return f.scryptSync}}),Object.defineProperty(e,"lock",{enumerable:!0,get:function(){return f.lock}}),Object.defineProperty(e,"Signature",{enumerable:!0,get:function(){return f.Signature}}),Object.defineProperty(e,"SigningKey",{enumerable:!0,get:function(){return f.SigningKey}});var h=it();Object.defineProperty(e,"id",{enumerable:!0,get:function(){return h.id}}),Object.defineProperty(e,"ensNormalize",{enumerable:!0,get:function(){return h.ensNormalize}}),Object.defineProperty(e,"isValidName",{enumerable:!0,get:function(){return h.isValidName}}),Object.defineProperty(e,"namehash",{enumerable:!0,get:function(){return h.namehash}}),Object.defineProperty(e,"dnsEncode",{enumerable:!0,get:function(){return h.dnsEncode}}),Object.defineProperty(e,"hashMessage",{enumerable:!0,get:function(){return h.hashMessage}}),Object.defineProperty(e,"verifyMessage",{enumerable:!0,get:function(){return h.verifyMessage}}),Object.defineProperty(e,"solidityPacked",{enumerable:!0,get:function(){return h.solidityPacked}}),Object.defineProperty(e,"solidityPackedKeccak256",{enumerable:!0,get:function(){return h.solidityPackedKeccak256}}),Object.defineProperty(e,"solidityPackedSha256",{enumerable:!0,get:function(){return h.solidityPackedSha256}}),Object.defineProperty(e,"TypedDataEncoder",{enumerable:!0,get:function(){return h.TypedDataEncoder}}),Object.defineProperty(e,"verifyTypedData",{enumerable:!0,get:function(){return h.verifyTypedData}});var l=ls();Object.defineProperty(e,"getDefaultProvider",{enumerable:!0,get:function(){return l.getDefaultProvider}}),Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return l.Block}}),Object.defineProperty(e,"FeeData",{enumerable:!0,get:function(){return l.FeeData}}),Object.defineProperty(e,"Log",{enumerable:!0,get:function(){return l.Log}}),Object.defineProperty(e,"TransactionReceipt",{enumerable:!0,get:function(){return l.TransactionReceipt}}),Object.defineProperty(e,"TransactionResponse",{enumerable:!0,get:function(){return l.TransactionResponse}}),Object.defineProperty(e,"AbstractSigner",{enumerable:!0,get:function(){return l.AbstractSigner}}),Object.defineProperty(e,"NonceManager",{enumerable:!0,get:function(){return l.NonceManager}}),Object.defineProperty(e,"VoidSigner",{enumerable:!0,get:function(){return l.VoidSigner}}),Object.defineProperty(e,"AbstractProvider",{enumerable:!0,get:function(){return l.AbstractProvider}}),Object.defineProperty(e,"FallbackProvider",{enumerable:!0,get:function(){return l.FallbackProvider}}),Object.defineProperty(e,"JsonRpcApiProvider",{enumerable:!0,get:function(){return l.JsonRpcApiProvider}}),Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return l.JsonRpcProvider}}),Object.defineProperty(e,"JsonRpcSigner",{enumerable:!0,get:function(){return l.JsonRpcSigner}}),Object.defineProperty(e,"BrowserProvider",{enumerable:!0,get:function(){return l.BrowserProvider}}),Object.defineProperty(e,"AlchemyProvider",{enumerable:!0,get:function(){return l.AlchemyProvider}}),Object.defineProperty(e,"AnkrProvider",{enumerable:!0,get:function(){return l.AnkrProvider}}),Object.defineProperty(e,"CloudflareProvider",{enumerable:!0,get:function(){return l.CloudflareProvider}}),Object.defineProperty(e,"EtherscanProvider",{enumerable:!0,get:function(){return l.EtherscanProvider}}),Object.defineProperty(e,"InfuraProvider",{enumerable:!0,get:function(){return l.InfuraProvider}}),Object.defineProperty(e,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return l.InfuraWebSocketProvider}}),Object.defineProperty(e,"PocketProvider",{enumerable:!0,get:function(){return l.PocketProvider}}),Object.defineProperty(e,"QuickNodeProvider",{enumerable:!0,get:function(){return l.QuickNodeProvider}}),Object.defineProperty(e,"IpcSocketProvider",{enumerable:!0,get:function(){return l.IpcSocketProvider}}),Object.defineProperty(e,"SocketProvider",{enumerable:!0,get:function(){return l.SocketProvider}}),Object.defineProperty(e,"WebSocketProvider",{enumerable:!0,get:function(){return l.WebSocketProvider}}),Object.defineProperty(e,"EnsResolver",{enumerable:!0,get:function(){return l.EnsResolver}}),Object.defineProperty(e,"Network",{enumerable:!0,get:function(){return l.Network}}),Object.defineProperty(e,"EnsPlugin",{enumerable:!0,get:function(){return l.EnsPlugin}}),Object.defineProperty(e,"EtherscanPlugin",{enumerable:!0,get:function(){return l.EtherscanPlugin}}),Object.defineProperty(e,"FeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FeeDataNetworkPlugin}}),Object.defineProperty(e,"FetchUrlFeeDataNetworkPlugin",{enumerable:!0,get:function(){return l.FetchUrlFeeDataNetworkPlugin}}),Object.defineProperty(e,"GasCostPlugin",{enumerable:!0,get:function(){return l.GasCostPlugin}}),Object.defineProperty(e,"NetworkPlugin",{enumerable:!0,get:function(){return l.NetworkPlugin}}),Object.defineProperty(e,"MulticoinProviderPlugin",{enumerable:!0,get:function(){return l.MulticoinProviderPlugin}}),Object.defineProperty(e,"SocketBlockSubscriber",{enumerable:!0,get:function(){return l.SocketBlockSubscriber}}),Object.defineProperty(e,"SocketEventSubscriber",{enumerable:!0,get:function(){return l.SocketEventSubscriber}}),Object.defineProperty(e,"SocketPendingSubscriber",{enumerable:!0,get:function(){return l.SocketPendingSubscriber}}),Object.defineProperty(e,"SocketSubscriber",{enumerable:!0,get:function(){return l.SocketSubscriber}}),Object.defineProperty(e,"UnmanagedSubscriber",{enumerable:!0,get:function(){return l.UnmanagedSubscriber}}),Object.defineProperty(e,"copyRequest",{enumerable:!0,get:function(){return l.copyRequest}}),Object.defineProperty(e,"showThrottleMessage",{enumerable:!0,get:function(){return l.showThrottleMessage}});var t=Me();Object.defineProperty(e,"accessListify",{enumerable:!0,get:function(){return t.accessListify}}),Object.defineProperty(e,"computeAddress",{enumerable:!0,get:function(){return t.computeAddress}}),Object.defineProperty(e,"recoverAddress",{enumerable:!0,get:function(){return t.recoverAddress}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return t.Transaction}});var o=le();Object.defineProperty(e,"decodeBase58",{enumerable:!0,get:function(){return o.decodeBase58}}),Object.defineProperty(e,"encodeBase58",{enumerable:!0,get:function(){return o.encodeBase58}}),Object.defineProperty(e,"decodeBase64",{enumerable:!0,get:function(){return o.decodeBase64}}),Object.defineProperty(e,"encodeBase64",{enumerable:!0,get:function(){return o.encodeBase64}}),Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return o.concat}}),Object.defineProperty(e,"dataLength",{enumerable:!0,get:function(){return o.dataLength}}),Object.defineProperty(e,"dataSlice",{enumerable:!0,get:function(){return o.dataSlice}}),Object.defineProperty(e,"getBytes",{enumerable:!0,get:function(){return o.getBytes}}),Object.defineProperty(e,"getBytesCopy",{enumerable:!0,get:function(){return o.getBytesCopy}}),Object.defineProperty(e,"hexlify",{enumerable:!0,get:function(){return o.hexlify}}),Object.defineProperty(e,"isHexString",{enumerable:!0,get:function(){return o.isHexString}}),Object.defineProperty(e,"isBytesLike",{enumerable:!0,get:function(){return o.isBytesLike}}),Object.defineProperty(e,"stripZerosLeft",{enumerable:!0,get:function(){return o.stripZerosLeft}}),Object.defineProperty(e,"zeroPadBytes",{enumerable:!0,get:function(){return o.zeroPadBytes}}),Object.defineProperty(e,"zeroPadValue",{enumerable:!0,get:function(){return o.zeroPadValue}}),Object.defineProperty(e,"defineProperties",{enumerable:!0,get:function(){return o.defineProperties}}),Object.defineProperty(e,"resolveProperties",{enumerable:!0,get:function(){return o.resolveProperties}}),Object.defineProperty(e,"assert",{enumerable:!0,get:function(){return o.assert}}),Object.defineProperty(e,"assertArgument",{enumerable:!0,get:function(){return o.assertArgument}}),Object.defineProperty(e,"assertArgumentCount",{enumerable:!0,get:function(){return o.assertArgumentCount}}),Object.defineProperty(e,"assertNormalize",{enumerable:!0,get:function(){return o.assertNormalize}}),Object.defineProperty(e,"assertPrivate",{enumerable:!0,get:function(){return o.assertPrivate}}),Object.defineProperty(e,"makeError",{enumerable:!0,get:function(){return o.makeError}}),Object.defineProperty(e,"isCallException",{enumerable:!0,get:function(){return o.isCallException}}),Object.defineProperty(e,"isError",{enumerable:!0,get:function(){return o.isError}}),Object.defineProperty(e,"EventPayload",{enumerable:!0,get:function(){return o.EventPayload}}),Object.defineProperty(e,"FetchRequest",{enumerable:!0,get:function(){return o.FetchRequest}}),Object.defineProperty(e,"FetchResponse",{enumerable:!0,get:function(){return o.FetchResponse}}),Object.defineProperty(e,"FetchCancelSignal",{enumerable:!0,get:function(){return o.FetchCancelSignal}}),Object.defineProperty(e,"FixedNumber",{enumerable:!0,get:function(){return o.FixedNumber}}),Object.defineProperty(e,"getBigInt",{enumerable:!0,get:function(){return o.getBigInt}}),Object.defineProperty(e,"getNumber",{enumerable:!0,get:function(){return o.getNumber}}),Object.defineProperty(e,"getUint",{enumerable:!0,get:function(){return o.getUint}}),Object.defineProperty(e,"toBeArray",{enumerable:!0,get:function(){return o.toBeArray}}),Object.defineProperty(e,"toBigInt",{enumerable:!0,get:function(){return o.toBigInt}}),Object.defineProperty(e,"toBeHex",{enumerable:!0,get:function(){return o.toBeHex}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return o.toNumber}}),Object.defineProperty(e,"toQuantity",{enumerable:!0,get:function(){return o.toQuantity}}),Object.defineProperty(e,"fromTwos",{enumerable:!0,get:function(){return o.fromTwos}}),Object.defineProperty(e,"toTwos",{enumerable:!0,get:function(){return o.toTwos}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return o.mask}}),Object.defineProperty(e,"formatEther",{enumerable:!0,get:function(){return o.formatEther}}),Object.defineProperty(e,"parseEther",{enumerable:!0,get:function(){return o.parseEther}}),Object.defineProperty(e,"formatUnits",{enumerable:!0,get:function(){return o.formatUnits}}),Object.defineProperty(e,"parseUnits",{enumerable:!0,get:function(){return o.parseUnits}}),Object.defineProperty(e,"toUtf8Bytes",{enumerable:!0,get:function(){return o.toUtf8Bytes}}),Object.defineProperty(e,"toUtf8CodePoints",{enumerable:!0,get:function(){return o.toUtf8CodePoints}}),Object.defineProperty(e,"toUtf8String",{enumerable:!0,get:function(){return o.toUtf8String}}),Object.defineProperty(e,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return o.Utf8ErrorFuncs}}),Object.defineProperty(e,"decodeRlp",{enumerable:!0,get:function(){return o.decodeRlp}}),Object.defineProperty(e,"encodeRlp",{enumerable:!0,get:function(){return o.encodeRlp}}),Object.defineProperty(e,"uuidV4",{enumerable:!0,get:function(){return o.uuidV4}});var u=ou();Object.defineProperty(e,"Mnemonic",{enumerable:!0,get:function(){return u.Mnemonic}}),Object.defineProperty(e,"BaseWallet",{enumerable:!0,get:function(){return u.BaseWallet}}),Object.defineProperty(e,"HDNodeWallet",{enumerable:!0,get:function(){return u.HDNodeWallet}}),Object.defineProperty(e,"HDNodeVoidWallet",{enumerable:!0,get:function(){return u.HDNodeVoidWallet}}),Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return u.Wallet}}),Object.defineProperty(e,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(e,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(e,"getIndexedAccountPath",{enumerable:!0,get:function(){return u.getIndexedAccountPath}}),Object.defineProperty(e,"isCrowdsaleJson",{enumerable:!0,get:function(){return u.isCrowdsaleJson}}),Object.defineProperty(e,"isKeystoreJson",{enumerable:!0,get:function(){return u.isKeystoreJson}}),Object.defineProperty(e,"decryptCrowdsaleJson",{enumerable:!0,get:function(){return u.decryptCrowdsaleJson}}),Object.defineProperty(e,"decryptKeystoreJsonSync",{enumerable:!0,get:function(){return u.decryptKeystoreJsonSync}}),Object.defineProperty(e,"decryptKeystoreJson",{enumerable:!0,get:function(){return u.decryptKeystoreJson}}),Object.defineProperty(e,"encryptKeystoreJson",{enumerable:!0,get:function(){return u.encryptKeystoreJson}}),Object.defineProperty(e,"encryptKeystoreJsonSync",{enumerable:!0,get:function(){return u.encryptKeystoreJsonSync}});var c=du();Object.defineProperty(e,"Wordlist",{enumerable:!0,get:function(){return c.Wordlist}}),Object.defineProperty(e,"LangEn",{enumerable:!0,get:function(){return c.LangEn}}),Object.defineProperty(e,"WordlistOwl",{enumerable:!0,get:function(){return c.WordlistOwl}}),Object.defineProperty(e,"WordlistOwlA",{enumerable:!0,get:function(){return c.WordlistOwlA}}),Object.defineProperty(e,"wordlists",{enumerable:!0,get:function(){return c.wordlists}})}(gn)),gn}var Ca;function gs(){return Ca||(Ca=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ethers=void 0;const i=oc,n=i.__importStar(ja());e.ethers=n,i.__exportStar(ja(),e)}(bn)),bn}var jn={},Cn={},Gr={},Ba;function _o(){if(Ba)return Gr;Ba=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Multicall2__factory=void 0;const e=gs(),i=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"blockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockCoinbase",outputs:[{internalType:"address",name:"coinbase",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockDifficulty",outputs:[{internalType:"uint256",name:"difficulty",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockGasLimit",outputs:[{internalType:"uint256",name:"gaslimit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"tryAggregate",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"tryBlockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"}];let n=class{static createInterface(){return new e.Interface(i)}static connect(s,a){return new e.Contract(s,i,a)}};return Gr.Multicall2__factory=n,n.abi=i,Gr}var qr={},Ia;function Oo(){if(Ia)return qr;Ia=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Multicall3__factory=void 0;const e=gs(),i=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call3[]",name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bool",name:"allowFailure",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call3Value[]",name:"calls",type:"tuple[]"}],name:"aggregate3Value",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"blockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getBasefee",outputs:[{internalType:"uint256",name:"basefee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"chainid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockCoinbase",outputs:[{internalType:"address",name:"coinbase",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockDifficulty",outputs:[{internalType:"uint256",name:"difficulty",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockGasLimit",outputs:[{internalType:"uint256",name:"gaslimit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"tryAggregate",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall3.Call[]",name:"calls",type:"tuple[]"}],name:"tryBlockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall3.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"}];let n=class{static createInterface(){return new e.Interface(i)}static connect(s,a){return new e.Contract(s,i,a)}};return qr.Multicall3__factory=n,n.abi=i,qr}var Fa;function hu(){return Fa||(Fa=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Multicall3__factory=e.Multicall2__factory=void 0;var i=_o();Object.defineProperty(e,"Multicall2__factory",{enumerable:!0,get:function(){return i.Multicall2__factory}});var n=Oo();Object.defineProperty(e,"Multicall3__factory",{enumerable:!0,get:function(){return n.Multicall3__factory}})}(Cn)),Cn}var Ua;function bu(){return Ua||(Ua=1,function(e){var i=pe&&pe.__createBinding||(Object.create?function(f,h,l,t){t===void 0&&(t=l);var o=Object.getOwnPropertyDescriptor(h,l);(!o||("get"in o?!h.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return h[l]}}),Object.defineProperty(f,t,o)}:function(f,h,l,t){t===void 0&&(t=l),f[t]=h[l]}),n=pe&&pe.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),r=pe&&pe.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var l in f)l!=="default"&&Object.prototype.hasOwnProperty.call(f,l)&&i(h,f,l);return n(h,f),h};Object.defineProperty(e,"__esModule",{value:!0}),e.Multicall3__factory=e.Multicall2__factory=e.factories=void 0,e.factories=r(hu());var s=_o();Object.defineProperty(e,"Multicall2__factory",{enumerable:!0,get:function(){return s.Multicall2__factory}});var a=Oo();Object.defineProperty(e,"Multicall3__factory",{enumerable:!0,get:function(){return a.Multicall3__factory}})}(jn)),jn}var Ma;function gu(){if(Ma)return Ze;Ma=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.getMulticall=Ze.getBlockNumber=Ze.MulticallVersion=void 0;const e=gs(),i=$a(),n=bu();var r;(function(f){f.V2="2",f.V3="3"})(r||(Ze.MulticallVersion=r={}));const s=f=>(0,e.isHexString)(f)?parseInt(f,16):typeof f=="number"?f:f==="earliest"?0:null;Ze.getBlockNumber=s;const a=(f,h,l)=>{var t,o;return f!=null&&f<=((t=i.multicall3DeploymentBlockNumbers[h])!==null&&t!==void 0?t:1/0)?f<=((o=i.multicall2DeploymentBlockNumbers[h])!==null&&o!==void 0?o:1/0)?null:n.Multicall2__factory.connect(i.multicall2Address,l):n.Multicall3__factory.connect(i.multicall3ChainAddress[h]||i.multicall3Address,l)};return Ze.getMulticall=a,Ze}var La;function yu(){if(La)return jt;La=1;var e=pe&&pe.__awaiter||function(f,h,l,t){function o(u){return u instanceof l?u:new l(function(c){c(u)})}return new(l||(l=Promise))(function(u,c){function b(I){try{x(t.next(I))}catch(B){c(B)}}function d(I){try{x(t.throw(I))}catch(B){c(B)}}function x(I){I.done?u(I.value):o(I.value).then(b,d)}x((t=t.apply(f,h||[])).next())})},i=pe&&pe.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(jt,"__esModule",{value:!0}),jt.MulticallWrapper=void 0;const n=i(Ro),r=$a(),s=gu();class a{static isMulticallProvider(h){return!!h._isMulticallProvider}static wrap(h,l=16,t=2e5){if(a.isMulticallProvider(h))return h;Object.defineProperties(h,{_isMulticallProvider:{value:!0,writable:!1,enumerable:!0,configurable:!1},_provider:{value:h,writable:!1,enumerable:!0,configurable:!1},maxMulticallDataLength:{value:t,writable:!0,enumerable:!0,configurable:!0},isMulticallEnabled:{value:!0,writable:!0,enumerable:!0,configurable:!0},multicallDelay:{get:function(){return this._multicallDelay},set:function(d){var x;(x=this._debouncedPerformMulticall)===null||x===void 0||x.flush(),this._multicallDelay=d,this._debouncedPerformMulticall=(0,n.default)(this._performMulticall,d)},enumerable:!0,configurable:!1}});const o=h;let u=[];o._performMulticall=function(){return e(this,void 0,void 0,function*(){const d=[...u];if(u.length===0)return;u=[];const x=d.reduce((I,B)=>{var R;const w=B.blockTag.toString();return Object.assign(Object.assign({},I),{[w]:[B].concat((R=I[w])!==null&&R!==void 0?R:[])})},{});yield Promise.all(Object.values(x).map(I=>e(this,void 0,void 0,function*(){const B=I.map(({to:D,data:K})=>({target:D,callData:K}));let R=0;const w=[[]];B.forEach(D=>{const K=R+D.callData.length;this.maxMulticallDataLength>0&&K>this.maxMulticallDataLength?(R=D.callData.length,w.push([])):R=K,w[w.length-1].push(D)});const{blockTag:g,multicall:S}=I[0];try{const D=(yield Promise.all(w.map(K=>S.tryAggregate.staticCall(!1,K,{blockTag:g})))).flat();if(D.length!==B.length)throw new Error(`Unexpected multicall response length: received ${D.length}; expected ${B.length}`);I.forEach(({resolve:K},J)=>{K(D[J].returnData)})}catch(D){I.forEach(({reject:K})=>{K(D)})}})))})},o.multicallDelay=l;const c=h.getNetwork.bind(h);o.fetchNetwork=function(){return e(this,void 0,void 0,function*(){return this._networkPromise=c(),this._networkPromise})},o.fetchNetwork(),o._detectNetwork=function(){return e(this,void 0,void 0,function*(){return this._networkPromise})};const b=h._perform.bind(h);return o._perform=function(d){return e(this,void 0,void 0,function*(){if(d.method!=="call"||!this.isMulticallEnabled)return b(d);const{transaction:{to:x,data:I},blockTag:B}=d,R=yield this._networkPromise,w=(0,s.getBlockNumber)(B),g=(0,s.getMulticall)(w,Number(R.chainId),h);return!x||!I||g==null||r.multicallAddresses.has(x.toString().toLowerCase())?b(d):(this._debouncedPerformMulticall(),new Promise((S,D)=>{u.push({to:x,data:I,blockTag:B,multicall:g,resolve:S,reject:D})}))})},o}}return jt.MulticallWrapper=a,jt.default=a,jt}var Da;function Ou(){return Da||(Da=1,function(e){var i=pe&&pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.MulticallWrapper=void 0;var n=yu();Object.defineProperty(e,"MulticallWrapper",{enumerable:!0,get:function(){return i(n).default}})}(dn)),dn}export{Ou as r};
