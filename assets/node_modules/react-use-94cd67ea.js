import{r as n}from"./react-7b0b085e.js";import{w as y}from"./copy-to-clipboard-27a1f2ac.js";import{e as g}from"./@xobotyi-c2000ea3.js";function p(){var r=n.useRef(!1),e=n.useCallback(function(){return r.current},[]);return n.useEffect(function(){return r.current=!0,function(){r.current=!1}},[]),e}var S=function(r){r===void 0&&(r={});var e=n.useState(r),t=e[0],u=e[1],i=n.useCallback(function(o){u(function(a){return Object.assign({},a,o instanceof Function?o(a):o)})},[]);return[t,i]};const C=S;var b=function(){},E=typeof window<"u",I=function(r,e){return typeof e=="boolean"?e:!r},R=function(r){return n.useReducer(I,r)};const N=R;var T=function(){var r=p(),e=C({value:void 0,error:void 0,noUserInteraction:!0}),t=e[0],u=e[1],i=n.useCallback(function(o){if(r()){var a,c;try{if(typeof o!="string"&&typeof o!="number"){var d=new Error("Cannot copy typeof "+typeof o+" to clipboard, must be a string");u({value:o,error:d,noUserInteraction:!0});return}else if(o===""){var d=new Error("Cannot copy empty string to clipboard.");u({value:o,error:d,noUserInteraction:!0});return}c=o.toString(),a=y(c),u({value:c,error:void 0,noUserInteraction:a})}catch(v){u({value:c,error:v,noUserInteraction:a})}}},[]);return[t,i]};const h=T;function w(r,e){e===void 0&&(e=0);var t=n.useRef(!1),u=n.useRef(),i=n.useRef(r),o=n.useCallback(function(){return t.current},[]),a=n.useCallback(function(){t.current=!1,u.current&&clearTimeout(u.current),u.current=setTimeout(function(){t.current=!0,i.current()},e)},[e]),c=n.useCallback(function(){t.current=null,u.current&&clearTimeout(u.current)},[]);return n.useEffect(function(){i.current=r},[r]),n.useEffect(function(){return a(),c},[e]),[o,c,a]}function L(r,e,t){e===void 0&&(e=0),t===void 0&&(t=[]);var u=w(r,e),i=u[0],o=u[1],a=u[2];return n.useEffect(a,t),[i,o]}var _=function(r,e,t){if(!E)return[e,b,b];if(!r)throw new Error("useLocalStorage key may not be falsy");var u=t?t.raw?function(s){return s}:t.deserializer:JSON.parse,i=n.useRef(function(s){try{var l=t?t.raw?String:t.serializer:JSON.stringify,f=localStorage.getItem(s);return f!==null?u(f):(e&&localStorage.setItem(s,l(e)),e)}catch{return e}}),o=n.useState(function(){return i.current(r)}),a=o[0],c=o[1];n.useLayoutEffect(function(){return c(i.current(r))},[r]);var d=n.useCallback(function(s){try{var l=typeof s=="function"?s(a):s;if(typeof l>"u")return;var f=void 0;t?t.raw?typeof l=="string"?f=l:f=JSON.stringify(l):t.serializer?f=t.serializer(l):f=JSON.stringify(l):f=JSON.stringify(l),localStorage.setItem(r,f),c(u(f))}catch{}},[r,c]),v=n.useCallback(function(){try{localStorage.removeItem(r),c(void 0)}catch{}},[r,c]);return[a,d,v]};const O=_;function $(){var r=n.useState(g()),e=r[0],t=r[1];return n.useEffect(function(){if(!(typeof e<"u")){var u=requestAnimationFrame(function(){t(g())});return function(){return cancelAnimationFrame(u)}}},[]),e}export{$ as a,N as b,L as c,O as d,h as u};
