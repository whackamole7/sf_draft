import{r as n}from"./react-8dbf0ba9.js";import{e as v}from"./@xobotyi-c2000ea3.js";var d=function(){},y=typeof window<"u",S=function(r,e){return typeof e=="boolean"?e:!r},R=function(r){return n.useReducer(S,r)};const h=R;function E(r,e){e===void 0&&(e=0);var t=n.useRef(!1),u=n.useRef(),o=n.useRef(r),l=n.useCallback(function(){return t.current},[]),s=n.useCallback(function(){t.current=!1,u.current&&clearTimeout(u.current),u.current=setTimeout(function(){t.current=!0,o.current()},e)},[e]),i=n.useCallback(function(){t.current=null,u.current&&clearTimeout(u.current)},[]);return n.useEffect(function(){o.current=r},[r]),n.useEffect(function(){return s(),i},[e]),[l,i,s]}function C(r,e,t){e===void 0&&(e=0),t===void 0&&(t=[]);var u=E(r,e),o=u[0],l=u[1],s=u[2];return n.useEffect(s,t),[o,l]}var z=function(r,e,t){if(!y)return[e,d,d];if(!r)throw new Error("useLocalStorage key may not be falsy");var u=t?t.raw?function(c){return c}:t.deserializer:JSON.parse,o=n.useRef(function(c){try{var f=t?t.raw?String:t.serializer:JSON.stringify,a=localStorage.getItem(c);return a!==null?u(a):(e&&localStorage.setItem(c,f(e)),e)}catch{return e}}),l=n.useState(function(){return o.current(r)}),s=l[0],i=l[1];n.useLayoutEffect(function(){return i(o.current(r))},[r]);var g=n.useCallback(function(c){try{var f=typeof c=="function"?c(s):c;if(typeof f>"u")return;var a=void 0;t?t.raw?typeof f=="string"?a=f:a=JSON.stringify(f):t.serializer?a=t.serializer(f):a=JSON.stringify(f):a=JSON.stringify(f),localStorage.setItem(r,a),i(u(a))}catch{}},[r,i]),m=n.useCallback(function(){try{localStorage.removeItem(r),i(void 0)}catch{}},[r,i]);return[s,g,m]};const J=z;function N(){var r=n.useState(v()),e=r[0],t=r[1];return n.useEffect(function(){if(!(typeof e<"u")){var u=requestAnimationFrame(function(){t(v())});return function(){return cancelAnimationFrame(u)}}},[]),e}export{h as a,C as b,J as c,N as u};
