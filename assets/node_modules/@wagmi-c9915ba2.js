import{E as as}from"./eventemitter3-81bfab7c.js";import{s as nr,c as os,a as is,p as cs}from"./zustand-a8dc020c.js";import{W as jn}from"./isows-a61938fa.js";function en(e,t={}){const{fees:n=e.fees,formatters:r=e.formatters,serializers:s=e.serializers}=t;return{...e,fees:n,formatters:r,serializers:s}}const $c=en({id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),us="1.20.0",ls=e=>e,pe=e=>e,ds=()=>`viem@${us}`;class g extends Error{constructor(t,n={}){var a;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:ds()});const r=n.cause instanceof g?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof g&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return rr(this,t)}}function rr(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?rr(e.cause,t):t?null:e}class fs extends g{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class hs extends g{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class ps extends g{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function z(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function $(e){return z(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function ne(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}class sr extends g{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class ar extends g{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function be(e,{dir:t,size:n=32}={}){return typeof e=="string"?V(e,{dir:t,size:n}):bs(e,{dir:t,size:n})}function V(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new ar({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function bs(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new ar({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}const ms=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function J(e,t={}){return typeof e=="number"||typeof e=="bigint"?A(e,t):typeof e=="string"?tn(e,t):typeof e=="boolean"?or(e,t):$e(e,t)}function or(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Y(n,{size:t.size}),be(n,{size:t.size})):n}function $e(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=ms[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Y(r,{size:t.size}),be(r,{dir:"right",size:t.size})):r}function A(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const c=typeof e=="bigint"?"n":"";throw new fs({max:a?`${a}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?be(i,{size:r}):i}const ys=new TextEncoder;function tn(e,t={}){const n=ys.encode(e);return $e(n,t)}const gs=new TextEncoder;function K(e,t={}){return typeof e=="number"||typeof e=="bigint"?vs(e,t):typeof e=="boolean"?ws(e,t):z(e)?nn(e,t):W(e,t)}function ws(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Y(n,{size:t.size}),be(n,{size:t.size})):n}const q={zero:48,nine:57,A:65,F:70,a:97,f:102};function In(e){if(e>=q.zero&&e<=q.nine)return e-q.zero;if(e>=q.A&&e<=q.F)return e-(q.A-10);if(e>=q.a&&e<=q.f)return e-(q.a-10)}function nn(e,t={}){let n=e;t.size&&(Y(n,{size:t.size}),n=be(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let o=0,i=0;o<s;o++){const c=In(r.charCodeAt(i++)),l=In(r.charCodeAt(i++));if(c===void 0||l===void 0)throw new g(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);a[o]=c*16+l}return a}function vs(e,t){const n=A(e,t);return nn(n)}function W(e,t={}){const n=gs.encode(e);return typeof t.size=="number"?(Y(n,{size:t.size}),be(n,{dir:"right",size:t.size})):n}function Y(e,{size:t}){if($(e)>t)throw new ps({givenSize:$(e),maxSize:t})}function dt(e,t={}){const{signed:n}=t;t.size&&Y(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Ps(e,t={}){let n=e;if(t.size&&(Y(n,{size:t.size}),n=ne(n)),ne(n)==="0x00")return!1;if(ne(n)==="0x01")return!0;throw new hs(n)}function I(e,t={}){return Number(dt(e,t))}function ir(e,t={}){let n=nn(e);return t.size&&(Y(n,{size:t.size}),n=ne(n,{dir:"right"})),new TextDecoder().decode(n)}const cr={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function ur(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?I(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?I(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?cr[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function lr(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:ur(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}function _(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}const xs={"0x0":"reverted","0x1":"success"};function Cs(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>_(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?I(e.transactionIndex):null,status:e.status?xs[e.status]:null,type:e.type?cr[e.type]||e.type:null}}const Es={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function ft(e){return{...e,gas:typeof e.gas<"u"?A(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?A(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?A(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?A(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?A(e.nonce):void 0,type:typeof e.type<"u"?Es[e.type]:void 0,value:typeof e.value<"u"?A(e.value):void 0}}class se extends g{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class It extends g{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class ks extends g{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class As extends g{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class dr extends g{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}const Ts={gwei:9,wei:18},$s={ether:-9,wei:9},Os={ether:-18,gwei:-9};function at(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function B(e,t="wei"){return at(e,$s[t])}class ce extends g{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(ce,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ce,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ot extends g{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${B(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(ot,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Ft extends g{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${B(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Ft,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Bt extends g{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Mt extends g{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Mt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Nt extends g{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Nt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Rt extends g{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Rt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Dt extends g{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Dt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class zt extends g{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(zt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class _t extends g{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(_t,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class it extends g{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${B(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${B(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(it,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class ht extends g{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}const Ss=/^0x[a-fA-F0-9]{40}$/;function U(e){return Ss.test(e)}function G(e){return typeof e[0]=="string"?rn(e):js(e)}function js(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function rn(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Is(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Fn=/^tuple(?<array>(\[(\d*)\])*)$/;function Lt(e){let t=e.type;if(Fn.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=Lt(a),s<n-1&&(t+=", ")}const r=Is(Fn,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Lt({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Ee(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Lt(s),r!==n-1&&(t+=", ")}return t}function Fs(e){return e.type==="function"?`function ${e.name}(${Ee(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${Ee(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Ee(e.inputs)})`:e.type==="error"?`error ${e.name}(${Ee(e.inputs)})`:e.type==="constructor"?`constructor(${Ee(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function C(e,t,n){return r=>{var s;return((s=e[t.name||n])==null?void 0:s.call(e,r))??t(e,r)}}function H(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Js(e.type);return`${e.name}(${pt(e.inputs,{includeName:t})})`}function pt(e,{includeName:t=!1}={}){return e?e.map(n=>Bs(n,{includeName:t})).join(t?", ":","):""}function Bs(e,{includeName:t}){return e.type.startsWith("tuple")?`(${pt(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class Ms extends g{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Bn extends g{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class sn extends g{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${pt(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class bt extends g{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Ns extends g{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Rs extends g{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${$(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Ds extends g{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class fr extends g{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class zs extends g{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class _s extends g{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Mn extends g{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class ct extends g{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Ls extends g{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class Us extends g{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${H(t.abiItem)}\`, and`,`\`${n.type}\` in \`${H(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Gs extends g{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class ae extends g{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${pt(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class me extends g{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${H(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class qs extends g{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Ws extends g{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Hs extends g{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Js extends g{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class Vs extends g{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}function Ks(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!a)throw new g("Unable to normalize signature.");return s}const hr=e=>{const t=(()=>typeof e=="string"?e:Fs(e))();return Ks(t)},Zs=e=>hr(e);function Nn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function pr(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Rn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Xs(e,t){pr(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ye=BigInt(2**32-1),Dn=BigInt(32);function Ys(e,t=!1){return t?{h:Number(e&Ye),l:Number(e>>Dn&Ye)}:{h:Number(e>>Dn&Ye)|0,l:Number(e&Ye)|0}}function Qs(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=Ys(e[s],t);[n[s],r[s]]=[a,o]}return[n,r]}const ea=(e,t,n)=>e<<n|t>>>32-n,ta=(e,t,n)=>t<<n|e>>>32-n,na=(e,t,n)=>t<<n-32|e>>>64-n,ra=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sa=e=>e instanceof Uint8Array,aa=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),oa=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!oa)throw new Error("Non little-endian hardware is not supported");function ia(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function br(e){if(typeof e=="string"&&(e=ia(e)),!sa(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class ca{clone(){return this._cloneInto()}}function ua(e){const t=r=>e().update(br(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const[mr,yr,gr]=[[],[],[]],la=BigInt(0),ke=BigInt(1),da=BigInt(2),fa=BigInt(7),ha=BigInt(256),pa=BigInt(113);for(let e=0,t=ke,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],mr.push(2*(5*r+n)),yr.push((e+1)*(e+2)/2%64);let s=la;for(let a=0;a<7;a++)t=(t<<ke^(t>>fa)*pa)%ha,t&da&&(s^=ke<<(ke<<BigInt(a))-ke);gr.push(s)}const[ba,ma]=Qs(gr,!0),zn=(e,t,n)=>n>32?na(e,t,n):ea(e,t,n),_n=(e,t,n)=>n>32?ra(e,t,n):ta(e,t,n);function ya(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const i=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=zn(l,u,1)^n[i],h=_n(l,u,1)^n[i+1];for(let p=0;p<50;p+=10)e[o+p]^=d,e[o+p+1]^=h}let s=e[2],a=e[3];for(let o=0;o<24;o++){const i=yr[o],c=zn(s,a,i),l=_n(s,a,i),u=mr[o];s=e[u],a=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let i=0;i<10;i++)n[i]=e[o+i];for(let i=0;i<10;i++)e[o+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=ba[r],e[1]^=ma[r]}n.fill(0)}class an extends ca{constructor(t,n,r,s=!1,a=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Nn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=aa(this.state)}keccak(){ya(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Rn(this);const{blockLen:n,state:r}=this;t=br(t);const s=t.length;for(let a=0;a<s;){const o=Math.min(n-this.pos,s-a);for(let i=0;i<o;i++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Rn(this,!1),pr(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Nn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Xs(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:o}=this;return t||(t=new an(n,r,s,o,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const ga=(e,t,n)=>ua(()=>new an(t,e,n)),wa=ga(1,136,256/8);function F(e,t){const n=t||"hex",r=wa(z(e,{strict:!1})?K(e):e);return n==="bytes"?r:J(r)}const va=e=>F(K(e)),on=e=>va(Zs(e));function T(e,t,n,{strict:r}={}){return z(e,{strict:!1})?xa(e,t,n,{strict:r}):Pa(e,t,n,{strict:r})}function wr(e,t){if(typeof t=="number"&&t>0&&t>$(e)-1)throw new sr({offset:t,position:"start",size:$(e)})}function vr(e,t,n){if(typeof t=="number"&&typeof n=="number"&&$(e)!==n-t)throw new sr({offset:n,position:"end",size:$(e)})}function Pa(e,t,n,{strict:r}={}){wr(e,t);const s=e.slice(t,n);return r&&vr(s,t,n),s}function xa(e,t,n,{strict:r}={}){wr(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&vr(s,t,n),s}function ye(e,t){if(e.length!==t.length)throw new Ds({expectedLength:e.length,givenLength:t.length});const n=Ca({params:e,values:t}),r=un(n);return r.length===0?"0x":r}function Ca({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(cn({param:e[r],value:t[r]}));return n}function cn({param:e,value:t}){const n=mt(e.type);if(n){const[r,s]=n;return ka(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Sa(t,{param:e});if(e.type==="address")return Ea(t);if(e.type==="bool")return Ta(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return $a(t,{signed:r})}if(e.type.startsWith("bytes"))return Aa(t,{param:e});if(e.type==="string")return Oa(t);throw new qs(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function un(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=$(i)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(A(t+s,{size:32})),r.push(i),s+=$(i)):n.push(i)}return G([...n,...r])}function Ea(e){if(!U(e))throw new se({address:e});return{dynamic:!1,encoded:V(e.toLowerCase())}}function ka(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Hs(e);if(!r&&e.length!==t)throw new Ns({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let o=0;o<e.length;o++){const i=cn({param:n,value:e[o]});i.dynamic&&(s=!0),a.push(i)}if(r||s){const o=un(a);if(r){const i=A(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?G([i,o]):i}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:G(a.map(({encoded:o})=>o))}}function Aa(e,{param:t}){const[,n]=t.type.split("bytes"),r=$(e);if(!n){let s=e;return r%32!==0&&(s=V(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:G([V(A(r,{size:32})),s])}}if(r!==parseInt(n))throw new Rs({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:V(e,{dir:"right"})}}function Ta(e){return{dynamic:!1,encoded:V(or(e))}}function $a(e,{signed:t}){return{dynamic:!1,encoded:A(e,{size:32,signed:t})}}function Oa(e){const t=tn(e),n=Math.ceil($(t)/32),r=[];for(let s=0;s<n;s++)r.push(V(T(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:G([V(A($(t),{size:32})),...r])}}function Sa(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=Array.isArray(e)?s:a.name,i=cn({param:a,value:e[o]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?un(r):G(r.map(({encoded:s})=>s))}}function mt(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const ja=e=>F(K(e)),ln=e=>T(ja(hr(e)),0,4);function qe({abi:e,args:t=[],name:n}){const r=z(n,{strict:!1}),s=e.filter(o=>r?o.type==="function"?ln(o)===n:o.type==="event"?on(o)===n:!1:"name"in o&&o.name===n);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const o of s){if(!("inputs"in o))continue;if(!t||t.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==t.length)continue;if(t.every((c,l)=>{const u="inputs"in o&&o.inputs[l];return u?Ut(c,u):!1})){if(a&&"inputs"in a&&a.inputs){const c=Pr(o.inputs,a.inputs,t);if(c)throw new Us({abiItem:o,type:c[0]},{abiItem:a,type:c[1]})}a=o}}return a||s[0]}function Ut(e,t){const n=typeof e,r=t.type;switch(r){case"address":return U(e);case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Ut(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Ut(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Pr(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return Pr(s.components,a.components,n[r]);const o=[s.type,a.type];if((()=>o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes")?U(n[r]):!1)())return o}}function We({abi:e,eventName:t,args:n}){var i;let r=e[0];if(t&&(r=qe({abi:e,args:n,name:t}),!r))throw new Mn(t,{docsPath:"/docs/contract/encodeEventTopics"});if(r.type!=="event")throw new Mn(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=H(r),a=on(s);let o=[];if(n&&"inputs"in r){const c=(i=r.inputs)==null?void 0:i.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(n)?n:Object.values(n).length>0?(c==null?void 0:c.map(u=>n[u.name]))??[]:[];l.length>0&&(o=(c==null?void 0:c.map((u,d)=>Array.isArray(l[d])?l[d].map((h,p)=>Ln({param:u,value:l[d][p]})):l[d]?Ln({param:u,value:l[d]}):null))??[])}return[a,...o]}function Ln({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return F(K(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Vs(e.type);return ye([e],[t])}function yt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:i,transport:c})=>{i==="success"&&t===a&&(n[o]=c.request)})),a=>n[a]||e.request}async function xr(e,{address:t,abi:n,args:r,eventName:s,fromBlock:a,strict:o,toBlock:i}){const c=yt(e,{method:"eth_newFilter"}),l=s?We({abi:n,args:r,eventName:s}):void 0,u=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?A(a):a,toBlock:typeof i=="bigint"?A(i):i,topics:l}]});return{abi:n,args:r,eventName:s,id:u,request:c(u),strict:o,type:"event"}}function N(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}function Q({abi:e,args:t,functionName:n}){let r=e[0];if(n&&(r=qe({abi:e,args:t,name:n}),!r))throw new ct(n,{docsPath:"/docs/contract/encodeFunctionData"});if(r.type!=="function")throw new ct(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const s=H(r),a=ln(s),o="inputs"in r&&r.inputs?ye(r.inputs,t??[]):void 0;return rn([a,o??"0x"])}const Cr={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ia={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Fa={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function dn(e,t){const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=F(W(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());return`0x${s.join("")}`}function nt(e,t){if(!U(e))throw new se({address:e});return dn(e,t)}function gt(e,t){if(t==="0x"&&e.length>0)throw new bt;if($(t)&&$(t)<32)throw new sn({data:t,params:e,size:$(t)});return Ba({data:t,params:e})}function Ba({data:e,params:t}){const n=[];let r=0;for(let s=0;s<t.length;s++){if(r>=$(e))throw new sn({data:e,params:t,size:$(e)});const a=t[s],{consumed:o,value:i}=ue({data:e,param:a,position:r});n.push(i),r+=o}return n}function ue({data:e,param:t,position:n}){const r=mt(t.type);if(r){const[a,o]=r;return Na(e,{length:a,param:{...t,type:o},position:n})}if(t.type==="tuple")return La(e,{param:t,position:n});if(t.type==="string")return _a(e,{position:n});if(t.type.startsWith("bytes"))return Da(e,{param:t,position:n});const s=T(e,n,n+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return za(s,{param:t});if(t.type==="address")return Ma(s);if(t.type==="bool")return Ra(s);throw new Ws(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function Ma(e){return{consumed:32,value:dn(T(e,-20))}}function Na(e,{param:t,length:n,position:r}){if(!n){const o=I(T(e,r,r+32,{strict:!0})),i=I(T(e,o,o+32,{strict:!0}));let c=0;const l=[];for(let u=0;u<i;++u){const d=ue({data:T(e,o+32),param:t,position:c});c+=d.consumed,l.push(d.value)}return{value:l,consumed:32}}if(ut(t)){const o=mt(t.type),i=!(o!=null&&o[0]);let c=0;const l=[];for(let u=0;u<n;++u){const d=I(T(e,r,r+32,{strict:!0})),h=ue({data:T(e,d),param:t,position:i?c:u*32});c+=h.consumed,l.push(h.value)}return{value:l,consumed:32}}let s=0;const a=[];for(let o=0;o<n;++o){const i=ue({data:e,param:t,position:r+s});s+=i.consumed,a.push(i.value)}return{value:a,consumed:s}}function Ra(e){return{consumed:32,value:Ps(e)}}function Da(e,{param:t,position:n}){const[r,s]=t.type.split("bytes");if(!s){const o=I(T(e,n,n+32,{strict:!0})),i=I(T(e,o,o+32,{strict:!0}));return i===0?{consumed:32,value:"0x"}:{consumed:32,value:T(e,o+32,o+32+i,{strict:!0})}}return{consumed:32,value:T(e,n,n+parseInt(s),{strict:!0})}}function za(e,{param:t}){const n=t.type.startsWith("int");return{consumed:32,value:parseInt(t.type.split("int")[1]||"256")>48?dt(e,{signed:n}):I(e,{signed:n})}}function _a(e,{position:t}){const n=I(T(e,t,t+32,{strict:!0})),r=I(T(e,n,n+32,{strict:!0}));return r===0?{consumed:32,value:""}:{consumed:32,value:ir(ne(T(e,n+32,n+32+r,{strict:!0})))}}function La(e,{param:t,position:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(ut(t)){const o=I(T(e,n,n+32,{strict:!0}));for(let i=0;i<t.components.length;++i){const c=t.components[i],l=ue({data:T(e,o),param:c,position:a});a+=l.consumed,s[r?i:c==null?void 0:c.name]=l.value}return{consumed:32,value:s}}for(let o=0;o<t.components.length;++o){const i=t.components[o],c=ue({data:e,param:i,position:n+a});a+=c.consumed,s[r?o:i==null?void 0:i.name]=c.value}return{consumed:a,value:s}}function ut(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(ut);const n=mt(e.type);return!!(n&&ut({...e,type:n[1]}))}function Er({abi:e,data:t}){const n=T(t,0,4);if(n==="0x")throw new bt;const s=[...e||[],Ia,Fa].find(a=>a.type==="error"&&n===ln(H(a)));if(!s)throw new fr(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?gt(s.inputs,T(t,4)):void 0,errorName:s.name}}const j=(e,t,n)=>JSON.stringify(e,(r,s)=>{const a=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,a):a},n);function kr({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?j(t[a]):t[a]}`).join(", ")})`}function fn(e,t="wei"){return at(e,Ts[t])}function He(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Ua extends g{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Ga extends g{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",He(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class qa extends g{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var f;const p=He({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${fn(h)} ${((f=s==null?void 0:s.nativeCurrency)==null?void 0:f.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${B(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${B(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${B(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class Ar extends g{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Tr extends g{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Wa extends g{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class $r extends g{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var b;const p=n?N(n):void 0,f=He({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${fn(h)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${B(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${B(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${B(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class hn extends g{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const c=qe({abi:n,args:r,name:o}),l=c?kr({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,u=c?H(c,{includeName:!0}):void 0,d=He({address:s&&ls(s),function:u,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=i}}class Gt extends g{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,i,c;if(n&&n!=="0x")try{o=Er({abi:t,data:n});const{abiItem:u,errorName:d,args:h}=o;if(d==="Error")c=h[0];else if(d==="Panic"){const[p]=h;c=Cr[p]}else{const p=u?H(u,{includeName:!0}):void 0,f=u&&h?kr({abiItem:u,args:h,includeFunctionName:!1,includeName:!1}):void 0;i=[p?`Error: ${p}`:"",f&&f!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${f}`:""]}}catch(u){a=u}else s&&(c=s);let l;a instanceof fr&&(l=a.signature,i=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=l}}class Ha extends g{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class pn extends g{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class re extends g{constructor({body:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${pe(a)}`,t&&`Request body: ${j(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=a}}class Ja extends g{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${pe(r)}`,`Request body: ${j(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class bn extends g{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${pe(r)}`,`Request body: ${j(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class qt extends g{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${pe(n)}`,`Request body: ${j(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Va=-1;class M extends g{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:a}){super(a,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof bn?t.code:n??Va}}class ge extends M{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Oe extends M{constructor(t){super(t,{code:Oe.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Se extends M{constructor(t){super(t,{code:Se.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Se,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class je extends M{constructor(t){super(t,{code:je.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ie extends M{constructor(t){super(t,{code:Ie.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class de extends M{constructor(t){super(t,{code:de.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(de,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class oe extends M{constructor(t){super(t,{code:oe.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Fe extends M{constructor(t){super(t,{code:Fe.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class fe extends M{constructor(t){super(t,{code:fe.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Be extends M{constructor(t){super(t,{code:Be.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Be,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Me extends M{constructor(t){super(t,{code:Me.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Me,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ne extends M{constructor(t){super(t,{code:Ne.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Re extends M{constructor(t){super(t,{code:Re.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Re,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class L extends ge{constructor(t){super(t,{code:L.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(L,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class De extends ge{constructor(t){super(t,{code:De.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(De,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ze extends ge{constructor(t){super(t,{code:ze.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(ze,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class _e extends ge{constructor(t){super(t,{code:_e.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(_e,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Le extends ge{constructor(t){super(t,{code:Le.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Le,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class he extends ge{constructor(t){super(t,{code:he.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(he,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ka extends M{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Za=3;function Ue(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const{code:i,data:c,message:l,shortMessage:u}=e instanceof pn?e:e instanceof g?e.walk(h=>"data"in h)||e.walk():{},d=(()=>e instanceof bt?new Ha({functionName:a}):[Za,de.code].includes(i)&&(c||l||u)?new Gt({abi:t,data:typeof c=="object"?c.data:c,functionName:a,message:u??l}):e)();return new hn(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}class we extends g{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class Xa extends g{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h}){var f;const p=He({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${fn(h)} ${((f=s==null?void 0:s.nativeCurrency)==null?void 0:f.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${B(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${B(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${B(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}function mn(e,t){const n=(e.details||"").toLowerCase(),r=e.walk(s=>s.code===ce.code);return r instanceof g?new ce({cause:e,message:r.details}):ce.nodeMessage.test(n)?new ce({cause:e,message:e.details}):ot.nodeMessage.test(n)?new ot({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ft.nodeMessage.test(n)?new Ft({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Bt.nodeMessage.test(n)?new Bt({cause:e,nonce:t==null?void 0:t.nonce}):Mt.nodeMessage.test(n)?new Mt({cause:e,nonce:t==null?void 0:t.nonce}):Nt.nodeMessage.test(n)?new Nt({cause:e,nonce:t==null?void 0:t.nonce}):Rt.nodeMessage.test(n)?new Rt({cause:e}):Dt.nodeMessage.test(n)?new Dt({cause:e,gas:t==null?void 0:t.gas}):zt.nodeMessage.test(n)?new zt({cause:e,gas:t==null?void 0:t.gas}):_t.nodeMessage.test(n)?new _t({cause:e}):it.nodeMessage.test(n)?new it({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new ht({cause:e})}function Ya(e,{docsPath:t,...n}){const r=(()=>{const s=mn(e,n);return s instanceof ht?e:s})();return new Xa(r,{docsPath:t,...n})}function yn(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const i of o)i in e&&(n[i]=e[i]),a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i])&&r(a[i])}const s=t(e||{});return r(s),n}function Je(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?N(t):void 0;if(o&&!U(o.address))throw new se({address:o.address});if(a&&!U(a))throw new se({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Ua;if(r&&r>2n**256n-1n)throw new ot({maxFeePerGas:r});if(s&&r&&s>r)throw new it({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Qa extends g{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class gn extends g{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class eo extends g{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${B(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Or extends g{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function Z(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var u,d,h;const a=r??"latest",o=s??!1,i=n!==void 0?A(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]}):c=await e.request({method:"eth_getBlockByNumber",params:[i||a,o]}),!c)throw new Or({blockHash:t,blockNumber:n});return(((h=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.block)==null?void 0:h.format)||lr)(c)}async function wn(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function to(e,t){return Sr(e,t)}async function Sr(e,t){var a,o,i;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee)=="function"){const c=n||await C(e,Z,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return dt(c)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):C(e,Z,"getBlock")({}),C(e,wn,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new gn;const u=l-c.baseFeePerGas;return u<0n?0n:u}}async function no(e,t){return Wt(e,t)}async function Wt(e,t){var h,p;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var f,b;return typeof((f=r==null?void 0:r.fees)==null?void 0:f.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(o<1)throw new Qa;const c=10**(((h=o.toString().split(".")[1])==null?void 0:h.length)??0),l=f=>f*BigInt(Math.ceil(o*c))/BigInt(c),u=n||await C(e,Z,"getBlock")({});if(typeof((p=r==null?void 0:r.fees)==null?void 0:p.estimateFeesPerGas)=="function")return r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:s,type:a});if(a==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new gn;const f=s!=null&&s.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await Sr(e,{block:u,chain:r,request:s}),b=l(u.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+f,maxPriorityFeePerGas:f}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await C(e,wn,"getGasPrice")({}))}}async function jr(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?A(r):n]});return I(s)}function ro(e){if(e.type)return e.type;if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new Ga({transaction:e})}async function wt(e,t){const{account:n=e.account,chain:r,gas:s,nonce:a,type:o}=t;if(!n)throw new we;const i=N(n),c=await C(e,Z,"getBlock")({blockTag:"latest"}),l={...t,from:i.address};if(typeof a>"u"&&(l.nonce=await C(e,jr,"getTransactionCount")({address:i.address,blockTag:"pending"})),typeof o>"u")try{l.type=ro(l)}catch{l.type=typeof c.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(l.type==="eip1559"){const{maxFeePerGas:u,maxPriorityFeePerGas:d}=await Wt(e,{block:c,chain:r,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<d)throw new eo({maxPriorityFeePerGas:d});l.maxPriorityFeePerGas=d,l.maxFeePerGas=u}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new gn;const{gasPrice:u}=await Wt(e,{block:c,chain:r,request:l,type:"legacy"});l.gasPrice=u}return typeof s>"u"&&(l.gas=await C(e,vn,"estimateGas")({...l,account:{address:i.address,type:"json-rpc"}})),Je(l),l}async function vn(e,t){var s,a,o;const n=t.account??e.account;if(!n)throw new we({docsPath:"/docs/actions/public/estimateGas"});const r=N(n);try{const{accessList:i,blockNumber:c,blockTag:l,data:u,gas:d,gasPrice:h,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:b,to:y,value:m,...w}=r.type==="local"?await wt(e,t):t,k=(c?A(c):void 0)||l;Je(t);const x=(o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:o.format,E=(x||ft)({...yn(w,{format:x}),from:r.address,accessList:i,data:u,gas:d,gasPrice:h,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:b,to:y,value:m}),O=await e.request({method:"eth_estimateGas",params:k?[E,k]:[E]});return BigInt(O)}catch(i){throw Ya(i,{...t,account:r,chain:e.chain})}}async function so(e,{abi:t,address:n,args:r,functionName:s,...a}){const o=Q({abi:t,args:r,functionName:s});try{return await C(e,vn,"estimateGas")({data:o,to:n,...a})}catch(i){const c=a.account?N(a.account):void 0;throw Ue(i,{abi:t,address:n,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:c==null?void 0:c.address})}}const Un="/docs/contract/decodeEventLog";function Ve({abi:e,data:t,strict:n,topics:r}){const s=n??!0,[a,...o]=r;if(!a)throw new zs({docsPath:Un});const i=e.find(f=>f.type==="event"&&a===on(H(f)));if(!(i&&"name"in i)||i.type!=="event")throw new _s(a,{docsPath:Un});const{name:c,inputs:l}=i,u=l==null?void 0:l.some(f=>!("name"in f&&f.name));let d=u?[]:{};const h=l.filter(f=>"indexed"in f&&f.indexed);for(let f=0;f<h.length;f++){const b=h[f],y=o[f];if(!y)throw new me({abiItem:i,param:b});d[b.name||f]=ao({param:b,value:y})}const p=l.filter(f=>!("indexed"in f&&f.indexed));if(p.length>0){if(t&&t!=="0x")try{const f=gt(p,t);if(f)if(u)d=[...d,...f];else for(let b=0;b<p.length;b++)d[p[b].name]=f[b]}catch(f){if(s)throw f instanceof sn?new ae({abiItem:i,data:f.data,params:f.params,size:f.size}):f}else if(s)throw new ae({abiItem:i,data:"0x",params:p,size:0})}return{eventName:c,args:Object.values(d).length>0?d:void 0}}function ao({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(gt([e],t)||[])[0]}async function Pn(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const l=c??!1,u=o??(a?[a]:void 0);let d=[];u&&(d=[u.flatMap(p=>We({abi:[p],eventName:p.name,args:i}))],a&&(d=d[0]));let h;return n?h=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):h=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?A(r):r,toBlock:typeof s=="bigint"?A(s):s}]}),h.map(p=>{var f;try{const{eventName:b,args:y}=u?Ve({abi:u,data:p.data,topics:p.topics,strict:l}):{eventName:void 0,args:void 0};return _(p,{args:y,eventName:b})}catch(b){let y,m;if(b instanceof ae||b instanceof me){if(l)return;y=b.abiItem.name,m=(f=b.abiItem.inputs)==null?void 0:f.some(w=>!("name"in w&&w.name))}return _(p,{args:m?[]:{},eventName:y})}}).filter(Boolean)}async function Ir(e,{abi:t,address:n,args:r,blockHash:s,eventName:a,fromBlock:o,toBlock:i,strict:c}){const l=a?qe({abi:t,name:a}):void 0,u=l?void 0:t.filter(d=>d.type==="event");return C(e,Pn,"getLogs")({address:n,args:r,blockHash:s,event:l,events:u,fromBlock:o,toBlock:i,strict:c})}const Et="/docs/contract/decodeFunctionResult";function ve({abi:e,args:t,functionName:n,data:r}){let s=e[0];if(n&&(s=qe({abi:e,args:t,name:n}),!s))throw new ct(n,{docsPath:Et});if(s.type!=="function")throw new ct(void 0,{docsPath:Et});if(!s.outputs)throw new Ls(s.name,{docsPath:Et});const a=gt(s.outputs,r);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const oo="modulepreload",io=function(e){return"/sf_draft/"+e},Gn={},co=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=io(a),a in Gn)return;Gn[a]=!0;const o=a.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const d=s[u];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${i}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":oo,o||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),o)return new Promise((u,d)=>{l.addEventListener("load",u),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},Ht=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Fr=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],Br=[...Fr,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],uo=[...Fr,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],qn=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Wn=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],lo=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],fo="0x82ad56cb";function Pe({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new It({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new It({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ho(e,{docsPath:t,...n}){const r=(()=>{const s=mn(e,n);return s instanceof ht?e:s})();return new $r(r,{docsPath:t,...n})}const kt=new Map;function xn({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&e(d).then(h=>{var p;s&&Array.isArray(h)&&h.sort(s);for(let f=0;f<u.length;f++){const{pendingPromise:b}=u[f];(p=b.resolve)==null||p.call(b,[h[f],h])}}).catch(h=>{var p;for(let f=0;f<u.length;f++){const{pendingPromise:b}=u[f];(p=b.reject)==null||p.call(b,h)}})},o=()=>kt.delete(t),i=()=>c().map(({args:u})=>u),c=()=>kt.get(t)||[],l=u=>kt.set(t,[...c(),u]);return{flush:o,async schedule(u){const d={},h=new Promise((b,y)=>{d.resolve=b,d.reject=y});return(n==null?void 0:n([...i(),u]))&&a(),c().length>0?(l({args:u,pendingPromise:d}),h):(l({args:u,pendingPromise:d}),setTimeout(a,r),h)}}}async function Ke(e,t){var m,w,v,k;const{account:n=e.account,batch:r=!!((m=e.batch)!=null&&m.multicall),blockNumber:s,blockTag:a="latest",accessList:o,data:i,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:f,...b}=t,y=n?N(n):void 0;try{Je(t);const P=(s?A(s):void 0)||a,E=(k=(v=(w=e.chain)==null?void 0:w.formatters)==null?void 0:v.transactionRequest)==null?void 0:k.format,S=(E||ft)({...yn(b,{format:E}),from:y==null?void 0:y.address,accessList:o,data:i,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:p,value:f});if(r&&po({request:S}))try{return await bo(e,{...S,blockNumber:s,blockTag:a})}catch(D){if(!(D instanceof dr)&&!(D instanceof It))throw D}const ee=await e.request({method:"eth_call",params:P?[S,P]:[S]});return ee==="0x"?{data:void 0}:{data:ee}}catch(x){const P=mo(x),{offchainLookup:E,offchainLookupSignature:O}=await co(()=>Promise.resolve().then(()=>hi),void 0);if((P==null?void 0:P.slice(0,10))===O&&p)return{data:await E(e,{data:P,to:p})};throw ho(x,{...t,account:y,chain:e.chain})}}function po({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(fo)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function bo(e,t){var b;const{batchSize:n=1024,wait:r=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:o,multicallAddress:i,to:c}=t;let l=i;if(!l){if(!e.chain)throw new dr;l=Pe({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?A(s):void 0)||a,{schedule:h}=xn({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(y){return y.reduce((w,{data:v})=>w+(v.length-2),0)>n*2},fn:async y=>{const m=y.map(k=>({allowFailure:!0,callData:k.data,target:k.to})),w=Q({abi:Ht,args:[m],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{data:w,to:l},d]});return ve({abi:Ht,args:[m],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:p,success:f}]=await h({data:o,to:c});if(!f)throw new pn({data:p});return p==="0x"?{data:void 0}:{data:p}}function mo(e){if(!(e instanceof g))return;const t=e.walk();return typeof t.data=="object"?t.data.data:t.data}async function X(e,{abi:t,address:n,args:r,functionName:s,...a}){const o=Q({abi:t,args:r,functionName:s});try{const{data:i}=await C(e,Ke,"call")({data:o,to:n,...a});return ve({abi:t,args:r,functionName:s,data:i||"0x"})}catch(i){throw Ue(i,{abi:t,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}async function yo(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=o.account?N(o.account):void 0,c=Q({abi:t,args:r,functionName:a});try{const{data:l}=await C(e,Ke,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...o});return{result:ve({abi:t,args:r,functionName:a,data:l||"0x"}),request:{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}}}catch(l){throw Ue(l,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:a,sender:i==null?void 0:i.address})}}const At=new Map,Hn=new Map;let go=0;function xe(e,t,n){const r=++go,s=()=>At.get(e)||[],a=()=>{const u=s();At.set(e,u.filter(d=>d.id!==r))},o=()=>{const u=Hn.get(e);s().length===1&&u&&u(),a()},i=s();if(At.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const c={};for(const u in t)c[u]=(...d)=>{var p,f;const h=s();if(h.length!==0)for(const b of h)(f=(p=b.fns)[u])==null||f.call(p,...d)};const l=n(c);return typeof l=="function"&&Hn.set(e,l),o}async function lt(e){return new Promise(t=>setTimeout(t,e))}function Ze(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const c=await(n==null?void 0:n(i))??r;await lt(c);const l=async()=>{s&&(await e({unpoll:a}),await lt(r),l())};l()})(),a}const wo=new Map,vo=new Map;function Po(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,wo),r=t(e,vo);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function xo(e,{cacheKey:t,cacheTime:n=1/0}){const r=Po(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Co=e=>`blockNumber.${e}`;async function Xe(e,{cacheTime:t=e.cacheTime,maxAge:n}={}){const r=await xo(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Co(e.uid),cacheTime:n??t});return BigInt(r)}async function vt(e,{filter:t}){const n="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map(s=>{var a;if(typeof s=="string")return s;try{const{eventName:o,args:i}="abi"in t&&t.abi?Ve({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return _(s,{args:i,eventName:o})}catch(o){let i,c;if(o instanceof ae||o instanceof me){if("strict"in t&&t.strict)return;i=o.abiItem.name,c=(a=o.abiItem.inputs)==null?void 0:a.some(l=>!("name"in l&&l.name))}return _(s,{args:c?[]:{},eventName:i})}}).filter(Boolean)}async function Pt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Eo(e,{abi:t,address:n,args:r,batch:s=!0,eventName:a,onError:o,onLogs:i,poll:c,pollingInterval:l=e.pollingInterval,strict:u}){return(typeof c<"u"?c:e.transport.type!=="webSocket")?(()=>{const f=j(["watchContractEvent",n,r,s,e.uid,a,l]),b=u??!1;return xe(f,{onLogs:i,onError:o},y=>{let m,w,v=!1;const k=Ze(async()=>{var x;if(!v){try{w=await C(e,xr,"createContractEventFilter")({abi:t,address:n,args:r,eventName:a,strict:b})}catch{}v=!0;return}try{let P;if(w)P=await C(e,vt,"getFilterChanges")({filter:w});else{const E=await C(e,Xe,"getBlockNumber")({});m&&m!==E?P=await C(e,Ir,"getContractEvents")({abi:t,address:n,args:r,eventName:a,fromBlock:m+1n,toBlock:E,strict:b}):P=[],m=E}if(P.length===0)return;if(s)y.onLogs(P);else for(const E of P)y.onLogs([E])}catch(P){w&&P instanceof oe&&(v=!1),(x=y.onError)==null||x.call(y,P)}},{emitOnBegin:!0,interval:l});return async()=>{w&&await C(e,Pt,"uninstallFilter")({filter:w}),k()}})})():(()=>{let f=!0,b=()=>f=!1;return(async()=>{try{const y=a?We({abi:t,eventName:a,args:r}):[],{unsubscribe:m}=await e.transport.subscribe({params:["logs",{address:n,topics:y}],onData(w){var k;if(!f)return;const v=w.result;try{const{eventName:x,args:P}=Ve({abi:t,data:v.data,topics:v.topics,strict:u}),E=_(v,{args:P,eventName:x});i([E])}catch(x){let P,E;if(x instanceof ae||x instanceof me){if(u)return;P=x.abiItem.name,E=(k=x.abiItem.inputs)==null?void 0:k.some(S=>!("name"in S&&S.name))}const O=_(v,{args:E?[]:{},eventName:P});i([O])}},onError(w){o==null||o(w)}});b=m,f||b()}catch(y){o==null||o(y)}})(),b})()}function Mr({chain:e,currentChainId:t}){if(!e)throw new As;if(t!==e.id)throw new ks({chain:e,currentChainId:t})}function ko(e,{docsPath:t,...n}){const r=(()=>{const s=mn(e,n);return s instanceof ht?e:s})();return new qa(r,{docsPath:t,...n})}async function Ge(e){const t=await e.request({method:"eth_chainId"});return I(t)}async function Cn(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function En(e,t){var b,y,m,w;const{account:n=e.account,chain:r=e.chain,accessList:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,...p}=t;if(!n)throw new we({docsPath:"/docs/actions/wallet/sendTransaction"});const f=N(n);try{Je(t);let v;if(r!==null&&(v=await C(e,Ge,"getChainId")({}),Mr({currentChainId:v,chain:r})),f.type==="local"){const E=await C(e,wt,"prepareTransactionRequest")({account:f,accessList:s,chain:r,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,...p});v||(v=await C(e,Ge,"getChainId")({}));const O=(b=r==null?void 0:r.serializers)==null?void 0:b.transaction,S=await f.signTransaction({...E,chainId:v},{serializer:O});return await C(e,Cn,"sendRawTransaction")({serializedTransaction:S})}const k=(w=(m=(y=e.chain)==null?void 0:y.formatters)==null?void 0:m.transactionRequest)==null?void 0:w.format,P=(k||ft)({...yn(p,{format:k}),accessList:s,data:a,from:f.address,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h});return await e.request({method:"eth_sendTransaction",params:[P]})}catch(v){throw ko(v,{...t,account:f,chain:t.chain||void 0})}}async function Ao(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=Q({abi:t,args:r,functionName:a});return await C(e,En,"sendTransaction")({data:`${i}${s?s.replace("0x",""):""}`,to:n,...o})}async function To(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:A(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]})}const Jt=256;let Qe=Jt,et;function $o(e=11){if(!et||Qe+e>Jt*2){et="",Qe=0;for(let t=0;t<Jt;t++)et+=(256+Math.random()*256|0).toString(16).substring(1)}return et.substring(Qe,Qe+++e)}function Nr(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,key:r="base",name:s="Base Client",pollingInterval:a=4e3,type:o="base"}=e,i=e.chain,c=e.account?N(e.account):void 0,{config:l,request:u,value:d}=e.transport({chain:i,pollingInterval:a}),h={...l,...d},p={account:c,batch:t,cacheTime:n,chain:i,key:r,name:s,pollingInterval:a,request:u,transport:h,type:o,uid:$o()};function f(b){return y=>{const m=y(b);for(const v in p)delete m[v];const w={...b,...m};return Object.assign(w,{extend:f(w)})}}return Object.assign(p,{extend:f(p)})}function Vt(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{const c=async({error:l})=>{const u=typeof t=="function"?t({count:i,error:l}):t;u&&await lt(u),o({count:i+1})};try{const l=await e();s(l)}catch(l){if(i<n&&await r({count:i,error:l}))return c({error:l});a(l)}};o()})}const Rr=e=>"code"in e?e.code!==-1&&e.code!==-32004&&e.code!==-32005&&e.code!==-32042&&e.code!==-32603:e instanceof re&&e.status?e.status!==403&&e.status!==408&&e.status!==413&&e.status!==429&&e.status!==500&&e.status!==502&&e.status!==503&&e.status!==504:!1;function Oo(e,{retryDelay:t=150,retryCount:n=3}={}){return async r=>Vt(async()=>{try{return await e(r)}catch(s){const a=s;switch(a.code){case Oe.code:throw new Oe(a);case Se.code:throw new Se(a);case je.code:throw new je(a);case Ie.code:throw new Ie(a);case de.code:throw new de(a);case oe.code:throw new oe(a);case Fe.code:throw new Fe(a);case fe.code:throw new fe(a);case Be.code:throw new Be(a);case Me.code:throw new Me(a);case Ne.code:throw new Ne(a);case Re.code:throw new Re(a);case L.code:throw new L(a);case De.code:throw new De(a);case ze.code:throw new ze(a);case _e.code:throw new _e(a);case Le.code:throw new Le(a);case he.code:throw new he(a);case 5e3:throw new L(a);default:throw s instanceof g?s:new Ka(a)}}},{delay:({count:s,error:a})=>{var o;if(a&&a instanceof re){const i=(o=a==null?void 0:a.headers)==null?void 0:o.get("Retry-After");if(i!=null&&i.match(/\d/))return parseInt(i)*1e3}return~~(1<<s)*t},retryCount:n,shouldRetry:({error:s})=>!Rr(s)})}function xt({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:a,type:o},i){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:a,type:o},request:Oo(n,{retryCount:r,retryDelay:s}),value:i}}function So(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:a})=>xt({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:s,type:"custom"})}function Jn(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:a,retryDelay:o}=t;return({chain:i,pollingInterval:c=4e3,timeout:l})=>{let u=e,d=()=>{};const h=xt({key:n,name:r,async request({method:p,params:f}){const b=async(y=0)=>{const m=u[y]({chain:i,retryCount:0,timeout:l});try{const w=await m.request({method:p,params:f});return d({method:p,params:f,response:w,transport:m,status:"success"}),w}catch(w){if(d({error:w,method:p,params:f,transport:m,status:"error"}),Rr(w)||y===u.length-1)throw w;return b(y+1)}};return b()},retryCount:a,retryDelay:o,type:"fallback"},{onResponse:p=>d=p,transports:u.map(p=>p({chain:i,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};jo({chain:i,interval:p.interval??c,onTransports:f=>u=f,sampleCount:p.sampleCount,timeout:p.timeout,transports:u,weights:p.weights})}return h}}function jo({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:a,weights:o={}}){const{stability:i=.7,latency:c=.3}=o,l=[],u=async()=>{const d=await Promise.all(a.map(async f=>{const b=f({chain:e,retryCount:0,timeout:s}),y=Date.now();let m,w;try{await b.request({method:"net_listening"}),w=1}catch{w=0}finally{m=Date.now()}return{latency:m-y,success:w}}));l.push(d),l.length>r&&l.shift();const h=Math.max(...l.map(f=>Math.max(...f.map(({latency:b})=>b)))),p=a.map((f,b)=>{const y=l.map(x=>x[b].latency),w=1-y.reduce((x,P)=>x+P,0)/y.length/h,v=l.map(x=>x[b].success),k=v.reduce((x,P)=>x+P,0)/v.length;return k===0?[0,b]:[c*w+i*k,b]}).sort((f,b)=>b[0]-f[0]);n(p.map(([,f])=>a[f])),await lt(t),u()};u()}class Dr extends g{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function zr(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{r?i.abort():a(t)},n)),s(await e({signal:i==null?void 0:i.signal}))}catch(i){i.name==="AbortError"&&a(t),a(i)}finally{clearTimeout(o)}})()})}let Kt=0;async function Io(e,{body:t,fetchOptions:n={},timeout:r=1e4}){var i;const{headers:s,method:a,signal:o}=n;try{const c=await zr(async({signal:u})=>await fetch(e,{...n,body:Array.isArray(t)?j(t.map(h=>({jsonrpc:"2.0",id:h.id??Kt++,...h}))):j({jsonrpc:"2.0",id:t.id??Kt++,...t}),headers:{...s,"Content-Type":"application/json"},method:a||"POST",signal:o||(r>0?u:void 0)}),{errorInstance:new qt({body:t,url:e}),timeout:r,signal:!0});let l;if((i=c.headers.get("Content-Type"))!=null&&i.startsWith("application/json")?l=await c.json():l=await c.text(),!c.ok)throw new re({body:t,details:j(l.error)||c.statusText,headers:c.headers,status:c.status,url:e});return l}catch(c){throw c instanceof re||c instanceof qt?c:new re({body:t,details:c.message,url:e})}}const Tt=new Map;async function $t(e){let t=Tt.get(e);if(t)return t;const{schedule:n}=xn({id:e,fn:async()=>{const a=new jn(e),o=new Map,i=new Map,c=({data:u})=>{const d=JSON.parse(u),h=d.method==="eth_subscription",p=h?d.params.subscription:d.id,f=h?i:o,b=f.get(p);b&&b({data:u}),h||f.delete(p)},l=()=>{Tt.delete(e),a.removeEventListener("close",l),a.removeEventListener("message",c)};return a.addEventListener("close",l),a.addEventListener("message",c),a.readyState===jn.CONNECTING&&await new Promise((u,d)=>{a&&(a.onopen=u,a.onerror=d)}),t=Object.assign(a,{requests:o,subscriptions:i}),Tt.set(e,t),[t]}}),[r,[s]]=await n();return s}function Fo(e,{body:t,onResponse:n}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new Ja({body:t,url:e.url,details:"Socket is closed."});const r=Kt++,s=({data:a})=>{var i;const o=JSON.parse(a);typeof o.id=="number"&&r!==o.id||(n==null||n(o),t.method==="eth_subscribe"&&typeof o.result=="string"&&e.subscriptions.set(o.result,s),t.method==="eth_unsubscribe"&&e.subscriptions.delete((i=t.params)==null?void 0:i[0]))};return e.requests.set(r,s),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:r})),e}async function Bo(e,{body:t,timeout:n=1e4}){return zr(()=>new Promise(r=>le.webSocket(e,{body:t,onResponse:r})),{errorInstance:new qt({body:t,url:e.url}),timeout:n})}const le={http:Io,webSocket:Fo,webSocketAsync:Bo};function Mo(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:a="HTTP JSON-RPC",retryDelay:o}=t;return({chain:i,retryCount:c,timeout:l})=>{const{batchSize:u=1e3,wait:d=0}=typeof n=="object"?n:{},h=t.retryCount??c,p=l??t.timeout??1e4,f=e||(i==null?void 0:i.rpcUrls.default.http[0]);if(!f)throw new Dr;return xt({key:s,name:a,async request({method:b,params:y}){const m={method:b,params:y},{schedule:w}=xn({id:`${e}`,wait:d,shouldSplitBatch(P){return P.length>u},fn:P=>le.http(f,{body:P,fetchOptions:r,timeout:p}),sort:(P,E)=>P.id-E.id}),v=async P=>n?w(P):[await le.http(f,{body:P,fetchOptions:r,timeout:p})],[{error:k,result:x}]=await v(m);if(k)throw new bn({body:m,error:k,url:f});return x},retryCount:h,retryDelay:o,timeout:p,type:"http"},{fetchOptions:r,url:e})}}function kn(e,t){var r,s,a;if(!(e instanceof g))return!1;const n=e.walk(o=>o instanceof Gt);return n instanceof Gt?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||(a=n.reason)!=null&&a.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Cr[50]):!1}function _r(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return z(t)?t:null}function rt(e){let t=new Uint8Array(32).fill(0);if(!e)return $e(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=_r(n[r]),a=s?K(s):F(W(n[r]),"bytes");t=F(G([t,a]),"bytes")}return $e(t)}function No(e){return`[${e.slice(2)}]`}function Ro(e){const t=new Uint8Array(32).fill(0);return e?_r(e)||F(W(e)):$e(t)}function Ct(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(W(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=W(s[a]);o.byteLength>255&&(o=W(No(Ro(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Do(e,{blockNumber:t,blockTag:n,coinType:r,name:s,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Pe({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=Q({abi:Wn,functionName:"addr",...r!=null?{args:[rt(s),BigInt(r)]}:{args:[rt(s)]}}),c=await C(e,X,"readContract")({address:o,abi:Br,functionName:"resolve",args:[J(Ct(s)),i],blockNumber:t,blockTag:n});if(c[0]==="0x")return null;const l=ve({abi:Wn,args:r!=null?[rt(s),BigInt(r)]:void 0,functionName:"addr",data:c[0]});return l==="0x"||ne(l)==="0x00"?null:l}catch(i){if(kn(i,"resolve"))return null;throw i}}class zo extends g{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class Ae extends g{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class An extends g{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class _o extends g{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Lo=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Uo=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Go=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,qo=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Wo(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Vn(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Lr({uri:e,gatewayUrls:t}){const n=Go.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Vn(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Vn(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(Lo),{protocol:o,subpath:i,target:c,subtarget:l=""}=(a==null?void 0:a.groups)||{},u=o==="ipns:/"||i==="ipns/",d=o==="ipfs:/"||i==="ipfs/"||Uo.test(e);if(e.startsWith("http")&&!u&&!d){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${r}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(qo,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new An({uri:e})}function Ur(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new zo({data:e});return e.image||e.image_url||e.image_data}async function Ho({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Tn({gatewayUrls:e,uri:Ur(n)})}catch{throw new An({uri:t})}}async function Tn({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Lr({uri:t,gatewayUrls:e});if(r||await Wo(n))return n;throw new An({uri:t})}function Jo(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new Ae({reason:"Only EIP-155 supported"});if(!o)throw new Ae({reason:"Chain ID not found"});if(!c)throw new Ae({reason:"Contract address not found"});if(!s)throw new Ae({reason:"Token ID not found"});if(!i)throw new Ae({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function Vo(e,{nft:t}){if(t.namespace==="erc721")return X(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return X(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new _o({namespace:t.namespace})}async function Ko(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Zo(e,{gatewayUrls:t,record:n}):Tn({uri:n,gatewayUrls:t})}async function Zo(e,{gatewayUrls:t,record:n}){const r=Jo(n),s=await Vo(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=Lr({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const l=i?atob(a.replace("data:application/json;base64,","")):a,u=JSON.parse(l);return Tn({uri:Ur(u),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Ho({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function Gr(e,{blockNumber:t,blockTag:n,name:r,key:s,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Pe({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=await C(e,X,"readContract")({address:o,abi:Br,functionName:"resolve",args:[J(Ct(r)),Q({abi:qn,functionName:"text",args:[rt(r),s]})],blockNumber:t,blockTag:n});if(i[0]==="0x")return null;const c=ve({abi:qn,functionName:"text",data:i[0]});return c===""?null:c}catch(i){if(kn(i,"resolve"))return null;throw i}}async function Xo(e,{blockNumber:t,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:a}){const o=await C(e,Gr,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a});if(!o)return null;try{return await Ko(e,{record:o,gatewayUrls:r})}catch{return null}}async function Yo(e,{address:t,blockNumber:n,blockTag:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Pe({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const o=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const[i,c]=await C(e,X,"readContract")({address:a,abi:uo,functionName:"reverse",args:[J(Ct(o))],blockNumber:n,blockTag:r});return t.toLowerCase()!==c.toLowerCase()?null:i}catch(i){if(kn(i,"reverse"))return null;throw i}}async function Qo(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Pe({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await C(e,X,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[J(Ct(r))],blockNumber:t,blockTag:n});return o}async function ei(e){const t=yt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function qr(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),l=yt(e,{method:"eth_newFilter"});let u=[];c&&(u=[c.flatMap(h=>We({abi:[h],eventName:h.name,args:n}))],r&&(u=u[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?A(a):a,toBlock:typeof i=="bigint"?A(i):i,...u.length?{topics:u}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:d,request:l(d),strict:o,toBlock:i,type:"event"}}async function Wr(e){const t=yt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function ti(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?A(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function ni(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?A(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),I(a)}async function ri(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?A(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]});if(a!=="0x")return a}function si(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function ai(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?A(n):void 0,o=await e.request({method:"eth_feeHistory",params:[A(t),a||r,s]});return si(o)}async function oi(e,{filter:t}){const n=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>{var a;try{const{eventName:o,args:i}="abi"in t&&t.abi?Ve({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return _(s,{args:i,eventName:o})}catch(o){let i,c;if(o instanceof ae||o instanceof me){if("strict"in t&&t.strict)return;i=o.abiItem.name,c=(a=o.abiItem.inputs)==null?void 0:a.some(l=>!("name"in l&&l.name))}return _(s,{args:c?[]:{},eventName:i})}}).filter(Boolean)}class ii extends g{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:a,urls:o}){var i;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(i=n.metaMessages)!=null&&i.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(c=>`    ${pe(c)}`)],`  Sender: ${a}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class ci extends g{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${pe(n)}`,`Response: ${j(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class ui extends g{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function li(e,t){if(!U(e))throw new se({address:e});if(!U(t))throw new se({address:t});return e.toLowerCase()===t.toLowerCase()}const di="0x556f1830",Hr={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function fi(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:a}=Er({data:r,abi:[Hr]}),[o,i,c,l,u]=a;try{if(!li(s,o))throw new ui({sender:o,to:s});const d=await Jr({data:c,sender:o,urls:i}),{data:h}=await Ke(e,{blockNumber:t,blockTag:n,data:G([l,ye([{type:"bytes"},{type:"bytes"}],[d,u])]),to:s});return h}catch(d){throw new ii({callbackSelector:l,cause:d,data:r,extraData:u,sender:o,urls:i})}}async function Jr({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let a=0;a<n.length;a++){const o=n[a],i=o.includes("{data}")?"GET":"POST",c=i==="POST"?{data:e,sender:t}:void 0;try{const l=await fetch(o.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),method:i});let u;if((s=l.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?u=(await l.json()).data:u=await l.text(),!l.ok){r=new re({body:c,details:u!=null&&u.error?j(u.error):l.statusText,headers:l.headers,status:l.status,url:o});continue}if(!z(u)){r=new ci({result:u,url:o});continue}return u}catch(l){r=new re({body:c,details:l.message,url:o})}}throw r}const hi=Object.freeze(Object.defineProperty({__proto__:null,ccipFetch:Jr,offchainLookup:fi,offchainLookupAbiItem:Hr,offchainLookupSignature:di},Symbol.toStringTag,{value:"Module"})),pi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function mi({domain:e,message:t,primaryType:n,types:r}){const s=typeof e>"u"?{}:e,a={EIP712Domain:Qr({domain:s}),...r};Yr({domain:s,message:t,primaryType:n,types:a});const o=["0x1901"];return s&&o.push(yi({domain:s,types:a})),n!=="EIP712Domain"&&o.push(Vr({data:t,primaryType:n,types:a})),F(G(o))}function yi({domain:e,types:t}){return Vr({data:e,primaryType:"EIP712Domain",types:t})}function Vr({data:e,primaryType:t,types:n}){const r=Kr({data:e,primaryType:t,types:n});return F(r)}function Kr({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[gi({primaryType:t,types:n})];for(const a of n[t]){const[o,i]=Xr({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(o),s.push(i)}return ye(r,s)}function gi({primaryType:e,types:t}){const n=J(wi({primaryType:e,types:t}));return F(n)}function wi({primaryType:e,types:t}){let n="";const r=Zr({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function Zr({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])Zr({primaryType:a.type,types:t},n);return n}function Xr({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},F(Kr({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},F(r)];if(n==="string")return[{type:"bytes32"},F(J(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>Xr({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},F(ye(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}function Yr({domain:e,message:t,primaryType:n,types:r}){const s=r,a=(o,i)=>{for(const c of o){const{name:l,type:u}=c,d=u,h=i[l],p=d.match(bi);if(p&&(typeof h=="number"||typeof h=="bigint")){const[y,m,w]=p;A(h,{signed:m==="int",size:parseInt(w)/8})}if(d==="address"&&typeof h=="string"&&!U(h))throw new se({address:h});const f=d.match(pi);if(f){const[y,m]=f;if(m&&$(h)!==parseInt(m))throw new Gs({expectedSize:parseInt(m),givenSize:$(h)})}const b=s[d];b&&a(b,h)}};if(s.EIP712Domain&&e&&a(s.EIP712Domain,e),n!=="EIP712Domain"){const o=s[n];a(o,t)}}function Qr({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const Ot="/docs/contract/encodeDeployData";function es({abi:e,args:t,bytecode:n}){if(!t||t.length===0)return n;const r=e.find(a=>"type"in a&&a.type==="constructor");if(!r)throw new Ms({docsPath:Ot});if(!("inputs"in r))throw new Bn({docsPath:Ot});if(!r.inputs||r.inputs.length===0)throw new Bn({docsPath:Ot});const s=ye(r.inputs,t);return rn([n,s])}const vi=`Ethereum Signed Message:
`;function Pi(e,t){const n=(()=>typeof e=="string"?W(e):e.raw instanceof Uint8Array?e.raw:K(e.raw))(),r=W(`${vi}${n.length}`);return F(G([r,n]),t)}function xi(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Ci(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?I(e.nonce):void 0,storageProof:e.storageProof?xi(e.storageProof):void 0}}async function Ei(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?A(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,o||a]});return Ci(i)}async function ki(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?A(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function $n(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){var u,d,h;const o=r||"latest",i=n!==void 0?A(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,A(a)]}):(i||o)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,A(a)]})),!c)throw new Ar({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(((h=(d=(u=e.chain)==null?void 0:u.formatters)==null?void 0:d.transaction)==null?void 0:h.format)||ur)(c)}async function Ai(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([C(e,Xe,"getBlockNumber")({}),t?C(e,$n,"getBlockNumber")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function Zt(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Tr({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||Cs)(n)}async function Ti(e,t){var b;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,contracts:o,multicallAddress:i}=t,c=r??(typeof((b=e.batch)==null?void 0:b.multicall)=="object"&&e.batch.multicall.batchSize||1024);let l=i;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=Pe({blockNumber:s,chain:e.chain,contract:"multicall3"})}const u=[[]];let d=0,h=0;for(let y=0;y<o.length;y++){const{abi:m,address:w,args:v,functionName:k}=o[y];try{const x=Q({abi:m,args:v,functionName:k});h+=(x.length-2)/2,c>0&&h>c&&u[d].length>0&&(d++,h=(x.length-2)/2,u[d]=[]),u[d]=[...u[d],{allowFailure:!0,callData:x,target:w}]}catch(x){const P=Ue(x,{abi:m,address:w,args:v,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw P;u[d]=[...u[d],{allowFailure:!0,callData:"0x",target:w}]}}const p=await Promise.allSettled(u.map(y=>C(e,X,"readContract")({abi:Ht,address:l,args:[y],blockNumber:s,blockTag:a,functionName:"aggregate3"}))),f=[];for(let y=0;y<p.length;y++){const m=p[y];if(m.status==="rejected"){if(!n)throw m.reason;for(let v=0;v<u[y].length;v++)f.push({status:"failure",error:m.reason,result:void 0});continue}const w=m.value;for(let v=0;v<w.length;v++){const{returnData:k,success:x}=w[v],{callData:P}=u[y][v],{abi:E,address:O,functionName:S,args:ee}=o[f.length];try{if(P==="0x")throw new bt;if(!x)throw new pn({data:k});const D=ve({abi:E,args:ee,data:k,functionName:S});f.push(n?{result:D,status:"success"}:D)}catch(D){const Sn=Ue(D,{abi:E,address:O,args:ee,docsPath:"/docs/contract/multicall",functionName:S});if(!n)throw Sn;f.push({error:Sn,result:void 0,status:"failure"})}}}if(f.length!==o.length)throw new g("multicall results mismatch");return f}const $i="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Oi(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Si(e,t){const n=z(e)?K(e):e,r=z(t)?K(t):t;return Oi(n,r)}async function ts(e,{address:t,hash:n,signature:r,...s}){const a=z(r)?r:J(r);try{const{data:o}=await C(e,Ke,"call")({data:es({abi:lo,args:[t,n,a],bytecode:$i}),...s});return Si(o??"0x0","0x1")}catch(o){if(o instanceof $r)return!1;throw o}}async function ji(e,{address:t,message:n,signature:r,...s}){const a=Pi(n);return ts(e,{address:t,hash:a,signature:r,...s})}async function Ii(e,{address:t,signature:n,message:r,primaryType:s,types:a,domain:o,...i}){const c=mi({message:r,primaryType:s,types:a,domain:o});return ts(e,{address:t,hash:c,signature:n,...i})}function ns(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const i=typeof a<"u"?a:e.transport.type!=="webSocket";let c;return i?(()=>{const d=j(["watchBlockNumber",e.uid,t,n,o]);return xe(d,{onBlockNumber:r,onError:s},h=>Ze(async()=>{var p;try{const f=await C(e,Xe,"getBlockNumber")({cacheTime:0});if(c){if(f===c)return;if(f-c>1&&n)for(let b=c+1n;b<f;b++)h.onBlockNumber(b,c),c=b}(!c||f>c)&&(h.onBlockNumber(f,c),c=f)}catch(f){(p=h.onError)==null||p.call(h,f)}},{emitOnBegin:t,interval:o}))})():(()=>{let d=!0,h=()=>d=!1;return(async()=>{try{const{unsubscribe:p}=await e.transport.subscribe({params:["newHeads"],onData(f){var y;if(!d)return;const b=dt((y=f.result)==null?void 0:y.number);r(b,c),c=b},onError(f){s==null||s(f)}});h=p,d||h()}catch(p){s==null||s(p)}})(),h})()}async function Fi(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,timeout:a}){const o=j(["waitForTransactionReceipt",e.uid,n]);let i,c,l,u=!1;return new Promise((d,h)=>{a&&setTimeout(()=>h(new Wa({hash:n})),a);const p=xe(o,{onReplaced:r,resolve:d,reject:h},f=>{const b=C(e,ns,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(y){if(u)return;let m=y;const w=v=>{b(),v(),p()};try{if(l){if(t>1&&(!l.blockNumber||m-l.blockNumber+1n<t))return;w(()=>f.resolve(l));return}if(i||(u=!0,await Vt(async()=>{i=await C(e,$n,"getTransaction")({hash:n}),i.blockNumber&&(m=i.blockNumber)},{delay:({count:v})=>~~(1<<v)*200,retryCount:6}),u=!1),l=await C(e,Zt,"getTransactionReceipt")({hash:n}),t>1&&(!l.blockNumber||m-l.blockNumber+1n<t))return;w(()=>f.resolve(l))}catch(v){if(i&&(v instanceof Ar||v instanceof Tr))try{c=i,u=!0;const k=await Vt(()=>C(e,Z,"getBlock")({blockNumber:m,includeTransactions:!0}),{delay:({count:E})=>~~(1<<E)*200,retryCount:6,shouldRetry:({error:E})=>E instanceof Or});u=!1;const x=k.transactions.find(({from:E,nonce:O})=>E===c.from&&O===c.nonce);if(!x||(l=await C(e,Zt,"getTransactionReceipt")({hash:x.hash}),t>1&&(!l.blockNumber||m-l.blockNumber+1n<t)))return;let P="replaced";x.to===c.to&&x.value===c.value?P="repriced":x.from===x.to&&x.value===0n&&(P="cancelled"),w(()=>{var E;(E=f.onReplaced)==null||E.call(f,{reason:P,replacedTransaction:c,transaction:x,transactionReceipt:l}),f.resolve(l)})}catch(k){w(()=>f.reject(k))}else w(()=>f.reject(v))}}})})})}function Bi(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const l=typeof i<"u"?i:e.transport.type!=="webSocket",u=o??!1;let d;return l?(()=>{const f=j(["watchBlocks",e.uid,n,r,u,c]);return xe(f,{onBlock:s,onError:a},b=>Ze(async()=>{var y;try{const m=await C(e,Z,"getBlock")({blockTag:t,includeTransactions:u});if(m.number&&(d!=null&&d.number)){if(m.number===d.number)return;if(m.number-d.number>1&&n)for(let w=(d==null?void 0:d.number)+1n;w<m.number;w++){const v=await C(e,Z,"getBlock")({blockNumber:w,includeTransactions:u});b.onBlock(v,d),d=v}}(!(d!=null&&d.number)||t==="pending"&&!(m!=null&&m.number)||m.number&&m.number>d.number)&&(b.onBlock(m,d),d=m)}catch(m){(y=b.onError)==null||y.call(b,m)}},{emitOnBegin:r,interval:c}))})():(()=>{let f=!0,b=()=>f=!1;return(async()=>{try{const{unsubscribe:y}=await e.transport.subscribe({params:["newHeads"],onData(m){var k,x,P;if(!f)return;const v=(((P=(x=(k=e.chain)==null?void 0:k.formatters)==null?void 0:x.block)==null?void 0:P.format)||lr)(m.result);s(v,d),d=v},onError(m){a==null||a(m)}});b=y,f||b()}catch(y){a==null||a(y)}})(),b})()}function Mi(e,{address:t,args:n,batch:r=!0,event:s,events:a,onError:o,onLogs:i,poll:c,pollingInterval:l=e.pollingInterval,strict:u}){const d=typeof c<"u"?c:e.transport.type!=="webSocket",h=u??!1;return d?(()=>{const b=j(["watchEvent",t,n,r,e.uid,s,l]);return xe(b,{onLogs:i,onError:o},y=>{let m,w,v=!1;const k=Ze(async()=>{var x;if(!v){try{w=await C(e,qr,"createEventFilter")({address:t,args:n,event:s,events:a,strict:h})}catch{}v=!0;return}try{let P;if(w)P=await C(e,vt,"getFilterChanges")({filter:w});else{const E=await C(e,Xe,"getBlockNumber")({});m&&m!==E?P=await C(e,Pn,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:m+1n,toBlock:E}):P=[],m=E}if(P.length===0)return;if(r)y.onLogs(P);else for(const E of P)y.onLogs([E])}catch(P){w&&P instanceof oe&&(v=!1),(x=y.onError)==null||x.call(y,P)}},{emitOnBegin:!0,interval:l});return async()=>{w&&await C(e,Pt,"uninstallFilter")({filter:w}),k()}})})():(()=>{let b=!0,y=()=>b=!1;return(async()=>{try{const m=a??(s?[s]:void 0);let w=[];m&&(w=[m.flatMap(k=>We({abi:[k],eventName:k.name,args:n}))],s&&(w=w[0]));const{unsubscribe:v}=await e.transport.subscribe({params:["logs",{address:t,topics:w}],onData(k){var P;if(!b)return;const x=k.result;try{const{eventName:E,args:O}=Ve({abi:m,data:x.data,topics:x.topics,strict:h}),S=_(x,{args:O,eventName:E});i([S])}catch(E){let O,S;if(E instanceof ae||E instanceof me){if(u)return;O=E.abiItem.name,S=(P=E.abiItem.inputs)==null?void 0:P.some(D=>!("name"in D&&D.name))}const ee=_(x,{args:S?[]:{},eventName:O});i([ee])}},onError(k){o==null||o(k)}});y=v,b||y()}catch(m){o==null||o(m)}})(),y})()}function Ni(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const l=j(["watchPendingTransactions",e.uid,t,a]);return xe(l,{onTransactions:r,onError:n},u=>{let d;const h=Ze(async()=>{var p;try{if(!d)try{d=await C(e,Wr,"createPendingTransactionFilter")({});return}catch(b){throw h(),b}const f=await C(e,vt,"getFilterChanges")({filter:d});if(f.length===0)return;if(t)u.onTransactions(f);else for(const b of f)u.onTransactions([b])}catch(f){(p=u.onError)==null||p.call(u,f)}},{emitOnBegin:!0,interval:a});return async()=>{d&&await C(e,Pt,"uninstallFilter")({filter:d}),h()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const p=h.result;r([p])},onError(h){n==null||n(h)}});u=d,l||u()}catch(d){n==null||n(d)}})(),u})()}function Ri(e){return{call:t=>Ke(e,t),createBlockFilter:()=>ei(e),createContractEventFilter:t=>xr(e,t),createEventFilter:t=>qr(e,t),createPendingTransactionFilter:()=>Wr(e),estimateContractGas:t=>so(e,t),estimateGas:t=>vn(e,t),getBalance:t=>ti(e,t),getBlock:t=>Z(e,t),getBlockNumber:t=>Xe(e,t),getBlockTransactionCount:t=>ni(e,t),getBytecode:t=>ri(e,t),getChainId:()=>Ge(e),getContractEvents:t=>Ir(e,t),getEnsAddress:t=>Do(e,t),getEnsAvatar:t=>Xo(e,t),getEnsName:t=>Yo(e,t),getEnsResolver:t=>Qo(e,t),getEnsText:t=>Gr(e,t),getFeeHistory:t=>ai(e,t),estimateFeesPerGas:t=>no(e,t),getFilterChanges:t=>vt(e,t),getFilterLogs:t=>oi(e,t),getGasPrice:()=>wn(e),getLogs:t=>Pn(e,t),getProof:t=>Ei(e,t),estimateMaxPriorityFeePerGas:t=>to(e,t),getStorageAt:t=>ki(e,t),getTransaction:t=>$n(e,t),getTransactionConfirmations:t=>Ai(e,t),getTransactionCount:t=>jr(e,t),getTransactionReceipt:t=>Zt(e,t),multicall:t=>Ti(e,t),prepareTransactionRequest:t=>wt(e,t),readContract:t=>X(e,t),sendRawTransaction:t=>Cn(e,t),simulateContract:t=>yo(e,t),verifyMessage:t=>ji(e,t),verifyTypedData:t=>Ii(e,t),uninstallFilter:t=>Pt(e,t),waitForTransactionReceipt:t=>Fi(e,t),watchBlocks:t=>Bi(e,t),watchBlockNumber:t=>ns(e,t),watchContractEvent:t=>Eo(e,t),watchEvent:t=>Mi(e,t),watchPendingTransactions:t=>Ni(e,t)}}function Kn(e){const{key:t="public",name:n="Public Client"}=e;return Nr({...e,key:t,name:n,type:"publicClient"}).extend(Ri)}function Di(e,{abi:t,args:n,bytecode:r,...s}){const a=es({abi:t,args:n,bytecode:r});return En(e,{...s,data:a})}async function zi(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(r=>dn(r))}async function _i(e){return await e.request({method:"wallet_getPermissions"})}async function Li(e){return(await e.request({method:"eth_requestAccounts"})).map(n=>nt(n))}async function Ui(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}async function Gi(e,{account:t=e.account,message:n}){if(!t)throw new we({docsPath:"/docs/actions/wallet/signMessage"});const r=N(t);if(r.type==="local")return r.signMessage({message:n});const s=(()=>typeof n=="string"?tn(n):n.raw instanceof Uint8Array?J(n.raw):n.raw)();return e.request({method:"personal_sign",params:[s,r.address]})}async function qi(e,t){var l,u,d,h;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new we({docsPath:"/docs/actions/wallet/signTransaction"});const a=N(n);Je({account:a,...t});const o=await C(e,Ge,"getChainId")({});r!==null&&Mr({currentChainId:o,chain:r});const i=(r==null?void 0:r.formatters)||((l=e.chain)==null?void 0:l.formatters),c=((u=i==null?void 0:i.transactionRequest)==null?void 0:u.format)||ft;return a.type==="local"?a.signTransaction({...s,chainId:o},{serializer:(h=(d=e.chain)==null?void 0:d.serializers)==null?void 0:h.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:A(o),from:a.address}]})}async function Wi(e,{account:t=e.account,domain:n,message:r,primaryType:s,types:a}){if(!t)throw new we({docsPath:"/docs/actions/wallet/signTypedData"});const o=N(t),i={EIP712Domain:Qr({domain:n}),...a};if(Yr({domain:n,message:r,primaryType:s,types:i}),o.type==="local")return o.signTypedData({domain:n,primaryType:s,types:i,message:r});const c=j({domain:n??{},primaryType:s,types:i,message:r},(l,u)=>z(u)?u.toLowerCase():u);return e.request({method:"eth_signTypedData_v4",params:[o.address,c]})}async function Hi(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:A(t)}]})}async function Ji(e,t){return await e.request({method:"wallet_watchAsset",params:t})}function Vi(e){return{addChain:t=>To(e,t),deployContract:t=>Di(e,t),getAddresses:()=>zi(e),getChainId:()=>Ge(e),getPermissions:()=>_i(e),prepareTransactionRequest:t=>wt(e,t),requestAddresses:()=>Li(e),requestPermissions:t=>Ui(e,t),sendRawTransaction:t=>Cn(e,t),sendTransaction:t=>En(e,t),signMessage:t=>Gi(e,t),signTransaction:t=>qi(e,t),signTypedData:t=>Wi(e,t),switchChain:t=>Hi(e,t),watchAsset:t=>Ji(e,t),writeContract:t=>Ao(e,t)}}function Ki(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Nr({...e,key:t,name:n,transport:a=>r({...a,retryCount:0}),type:"walletClient"}).extend(Vi)}function Zi(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",retryDelay:s}=t;return({chain:a,retryCount:o,timeout:i})=>{var d;const c=t.retryCount??o,l=i??t.timeout??1e4,u=e||((d=a==null?void 0:a.rpcUrls.default.webSocket)==null?void 0:d[0]);if(!u)throw new Dr;return xt({key:n,name:r,async request({method:h,params:p}){const f={method:h,params:p},b=await $t(u),{error:y,result:m}=await le.webSocketAsync(b,{body:f,timeout:l});if(y)throw new bn({body:f,error:y,url:u});return m},retryCount:c,retryDelay:s,timeout:l,type:"webSocket"},{getSocket(){return $t(u)},async subscribe({params:h,onData:p,onError:f}){const b=await $t(u),{result:y}=await new Promise((m,w)=>le.webSocket(b,{body:{method:"eth_subscribe",params:h},onResponse(v){if(v.error){w(v.error),f==null||f(v.error);return}if(typeof v.id=="number"){m(v);return}v.method==="eth_subscription"&&p(v.params)}}));return{subscriptionId:y,async unsubscribe(){return new Promise(m=>le.webSocket(b,{body:{method:"eth_unsubscribe",params:[y]},onResponse:m}))}}}})}}const Xi=en({id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0}),Yi=en({id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}});var Qi=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured for connector "${t}".`),this.name="ChainNotConfiguredForConnectorError"}},te=class extends Error{constructor(){super(...arguments),this.name="ConnectorNotFoundError",this.message="Connector not found"}};function Zn(e){return typeof e=="string"?Number.parseInt(e,e.trim().substring(0,2)==="0x"?16:10):typeof e=="bigint"?Number(e):e}var rs=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ec=(e,t,n)=>(rs(e,t,"read from private field"),n?n.call(e):t.get(e)),tc=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},nc=(e,t,n,r)=>(rs(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),rc=class extends as{constructor({chains:e=[Yi,Xi],options:t}){super(),this.chains=e,this.options=t}getBlockExplorerUrls(e){const{default:t,...n}=e.blockExplorers??{};if(t)return[t.url,...Object.values(n).map(r=>r.url)]}isChainUnsupported(e){return!this.chains.some(t=>t.id===e)}setStorage(e){this.storage=e}};function sc(e){var n;if(!e)return"Injected";const t=r=>{if(r.isApexWallet)return"Apex Wallet";if(r.isAvalanche)return"Core Wallet";if(r.isBackpack)return"Backpack";if(r.isBifrost)return"Bifrost Wallet";if(r.isBitKeep)return"BitKeep";if(r.isBitski)return"Bitski";if(r.isBlockWallet)return"BlockWallet";if(r.isBraveWallet)return"Brave Wallet";if(r.isCoin98)return"Coin98 Wallet";if(r.isCoinbaseWallet)return"Coinbase Wallet";if(r.isDawn)return"Dawn Wallet";if(r.isDefiant)return"Defiant";if(r.isDesig)return"Desig Wallet";if(r.isEnkrypt)return"Enkrypt";if(r.isExodus)return"Exodus";if(r.isFordefi)return"Fordefi";if(r.isFrame)return"Frame";if(r.isFrontier)return"Frontier Wallet";if(r.isGamestop)return"GameStop Wallet";if(r.isHaqqWallet)return"HAQQ Wallet";if(r.isHyperPay)return"HyperPay Wallet";if(r.isImToken)return"ImToken";if(r.isHaloWallet)return"Halo Wallet";if(r.isKuCoinWallet)return"KuCoin Wallet";if(r.isMathWallet)return"MathWallet";if(r.isNovaWallet)return"Nova Wallet";if(r.isOkxWallet||r.isOKExWallet)return"OKX Wallet";if(r.isOktoWallet)return"Okto Wallet";if(r.isOneInchIOSWallet||r.isOneInchAndroidWallet)return"1inch Wallet";if(r.isOneKey)return"OneKey Wallet";if(r.isOpera)return"Opera";if(r.isPhantom)return"Phantom";if(r.isPortal)return"Ripio Portal";if(r.isRabby)return"Rabby Wallet";if(r.isRainbow)return"Rainbow";if(r.isSafePal)return"SafePal Wallet";if(r.isStatus)return"Status";if(r.isSubWallet)return"SubWallet";if(r.isTalisman)return"Talisman";if(r.isTally)return"Taho";if(r.isTokenPocket)return"TokenPocket";if(r.isTokenary)return"Tokenary";if(r.isTrust||r.isTrustWallet)return"Trust Wallet";if(r.isTTWallet)return"TTWallet";if(r.isXDEFI)return"XDEFI Wallet";if(r.isZeal)return"Zeal";if(r.isZerion)return"Zerion";if(r.isMetaMask)return"MetaMask"};if((n=e.providers)!=null&&n.length){const r=new Set;let s=1;for(const o of e.providers){let i=t(o);i||(i=`Unknown Wallet #${s}`,s+=1),r.add(i)}const a=[...r];return a.length?a:a[0]??"Injected"}return t(e)??"Injected"}var st,ac=class extends rc{constructor({chains:e,options:t}={}){const n={shimDisconnect:!0,getProvider(){if(typeof window>"u")return;const s=window.ethereum;return s!=null&&s.providers&&s.providers.length>0?s.providers[0]:s},...t};super({chains:e,options:n}),this.id="injected",tc(this,st,void 0),this.shimDisconnectKey=`${this.id}.shimDisconnect`,this.onAccountsChanged=s=>{s.length===0?this.emit("disconnect"):this.emit("change",{account:nt(s[0])})},this.onChainChanged=s=>{const a=Zn(s),o=this.isChainUnsupported(a);this.emit("change",{chain:{id:a,unsupported:o}})},this.onDisconnect=async s=>{var a;s.code===1013&&await this.getProvider()&&await this.getAccount()||(this.emit("disconnect"),this.options.shimDisconnect&&((a=this.storage)==null||a.removeItem(this.shimDisconnectKey)))};const r=n.getProvider();if(typeof n.name=="string")this.name=n.name;else if(r){const s=sc(r);n.name?this.name=n.name(s):typeof s=="string"?this.name=s:this.name=s[0]}else this.name="Injected";this.ready=!!r}async connect({chainId:e}={}){var t;try{const n=await this.getProvider();if(!n)throw new te;n.on&&(n.on("accountsChanged",this.onAccountsChanged),n.on("chainChanged",this.onChainChanged),n.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const r=await n.request({method:"eth_requestAccounts"}),s=nt(r[0]);let a=await this.getChainId(),o=this.isChainUnsupported(a);return e&&a!==e&&(a=(await this.switchChain(e)).id,o=this.isChainUnsupported(a)),this.options.shimDisconnect&&((t=this.storage)==null||t.setItem(this.shimDisconnectKey,!0)),{account:s,chain:{id:a,unsupported:o}}}catch(n){throw this.isUserRejectedRequestError(n)?new L(n):n.code===-32002?new fe(n):n}}async disconnect(){var t;const e=await this.getProvider();e!=null&&e.removeListener&&(e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&((t=this.storage)==null||t.removeItem(this.shimDisconnectKey)))}async getAccount(){const e=await this.getProvider();if(!e)throw new te;const t=await e.request({method:"eth_accounts"});return nt(t[0])}async getChainId(){const e=await this.getProvider();if(!e)throw new te;return e.request({method:"eth_chainId"}).then(Zn)}async getProvider(){const e=this.options.getProvider();return e&&nc(this,st,e),ec(this,st)}async getWalletClient({chainId:e}={}){const[t,n]=await Promise.all([this.getProvider(),this.getAccount()]),r=this.chains.find(s=>s.id===e);if(!t)throw new Error("provider is required.");return Ki({account:n,chain:r,transport:So(t)})}async isAuthorized(){var e;try{if(this.options.shimDisconnect&&!((e=this.storage)!=null&&e.getItem(this.shimDisconnectKey)))return!1;if(!await this.getProvider())throw new te;return!!await this.getAccount()}catch{return!1}}async switchChain(e){var r,s,a;const t=await this.getProvider();if(!t)throw new te;const n=A(e);try{return await Promise.all([t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),new Promise(o=>this.on("change",({chain:i})=>{(i==null?void 0:i.id)===e&&o()}))]),this.chains.find(o=>o.id===e)??{id:e,name:`Chain ${n}`,network:`${n}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(o){const i=this.chains.find(c=>c.id===e);if(!i)throw new Qi({chainId:e,connectorId:this.id});if(o.code===4902||((s=(r=o==null?void 0:o.data)==null?void 0:r.originalError)==null?void 0:s.code)===4902)try{if(await t.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:i.name,nativeCurrency:i.nativeCurrency,rpcUrls:[((a=i.rpcUrls.public)==null?void 0:a.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(i)}]}),await this.getChainId()!==e)throw new L(new Error("User rejected switch after adding network."));return i}catch(c){throw new L(c)}throw this.isUserRejectedRequestError(o)?new L(o):new he(o)}}async watchAsset({address:e,decimals:t=18,image:n,symbol:r}){const s=await this.getProvider();if(!s)throw new te;return s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,decimals:t,image:n,symbol:r}}})}isUserRejectedRequestError(e){return e.code===4001}};st=new WeakMap;var On=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},St=(e,t,n)=>(On(e,t,"read from private field"),n?n.call(e):t.get(e)),jt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},tt=(e,t,n,r)=>(On(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),oc=(e,t,n)=>(On(e,t,"access private method"),n);function Oc(e,t,{batch:n={multicall:{wait:32}},pollingInterval:r=4e3,rank:s,retryCount:a,retryDelay:o,stallTimeout:i}={}){if(!e.length)throw new Error("must have at least one chain");let c=[];const l={},u={};for(const d of e){let h=!1;for(const p of t){const f=p(d);f&&(h=!0,c.some(({id:b})=>b===d.id)||(c=[...c,f.chain]),l[d.id]=[...l[d.id]||[],...f.rpcUrls.http],f.rpcUrls.webSocket&&(u[d.id]=[...u[d.id]||[],...f.rpcUrls.webSocket]))}if(!h)throw new Error([`Could not find valid provider configuration for chain "${d.name}".
`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join(`
`))}return{chains:c,publicClient:({chainId:d})=>{const h=c.find(b=>b.id===d)??e[0],p=l[h.id];if(!p||!p[0])throw new Error(`No providers configured for chain "${h.id}"`);const f=Kn({batch:n,chain:h,transport:Jn(p.map(b=>Mo(b,{timeout:i})),{rank:s,retryCount:a,retryDelay:o}),pollingInterval:r});return Object.assign(f,{chains:c})},webSocketPublicClient:({chainId:d})=>{const h=c.find(b=>b.id===d)??e[0],p=u[h.id];if(!p||!p[0])return;const f=Kn({batch:n,chain:h,transport:Jn(p.map(b=>Zi(b,{timeout:i})),{rank:s,retryCount:a,retryDelay:o}),pollingInterval:r});return Object.assign(f,{chains:c})}}}var ic=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured${t?` for connector "${t}"`:""}.`),this.name="ChainNotConfigured"}},cc=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},uc=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}},lc=class extends Error{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}};function Xn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Xn(e[r],t[r]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const s=Object.keys(e);if(n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(a&&!Xn(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}var Xt=(e,{find:t,replace:n})=>e&&t(e)?n(e):typeof e!="object"?e:Array.isArray(e)?e.map(r=>Xt(r,{find:t,replace:n})):e instanceof Object?Object.entries(e).reduce((r,[s,a])=>({...r,[s]:Xt(a,{find:t,replace:n})}),{}):e;function dc(e){const t=JSON.parse(e);return Xt(t,{find:r=>typeof r=="string"&&r.startsWith("#bigint."),replace:r=>BigInt(r.replace("#bigint.",""))})}function Yn(e){return typeof e=="number"?e:e==="wei"?0:Math.abs(Os[e])}function Qn(e,t){return e.slice(0,t).join(".")||"."}function er(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function fc(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],a=[];return function(i,c){if(typeof c=="object")if(s.length){const l=er(s,this);l===0?s[s.length]=this:(s.splice(l),a.splice(l)),a[a.length]=i;const u=er(s,c);if(u!==0)return r?t.call(this,i,c,Qn(a,u)):`[ref=${Qn(a,u)}]`}else s[0]=c,a[0]=i;return n?e.call(this,i,c):c}}function hc(e,t,n,r){return JSON.stringify(e,fc((s,a)=>{const o=typeof a=="bigint"?`#bigint.${a.toString()}`:a;return(t==null?void 0:t(s,o))||o},r),n??void 0)}var pc={getItem:e=>"",setItem:(e,t)=>null,removeItem:e=>null};function bc({deserialize:e=dc,key:t="wagmi",serialize:n=hc,storage:r}){return{...r,getItem:(s,a=null)=>{const o=r.getItem(`${t}.${s}`);try{return o?e(o):a}catch(i){return console.warn(i),a}},setItem:(s,a)=>{if(a===null)r.removeItem(`${t}.${s}`);else try{r.setItem(`${t}.${s}`,n(a))}catch(o){console.error(o)}},removeItem:s=>r.removeItem(`${t}.${s}`)}}var tr="store",ie,Te,Yt,ss,mc=class{constructor({autoConnect:e=!1,connectors:t=[new ac],publicClient:n,storage:r=bc({storage:typeof window<"u"?window.localStorage:pc}),logger:s={warn:console.warn},webSocketPublicClient:a}){var l,u;jt(this,Yt),this.publicClients=new Map,this.webSocketPublicClients=new Map,jt(this,ie,void 0),jt(this,Te,void 0),this.args={autoConnect:e,connectors:t,logger:s,publicClient:n,storage:r,webSocketPublicClient:a};let o="disconnected",i;if(e)try{const d=r.getItem(tr),h=(l=d==null?void 0:d.state)==null?void 0:l.data;o=h!=null&&h.account?"reconnecting":"connecting",i=(u=h==null?void 0:h.chain)==null?void 0:u.id}catch{}const c=typeof t=="function"?t():t;c.forEach(d=>d.setStorage(r)),this.store=os(is(cs(()=>({connectors:c,publicClient:this.getPublicClient({chainId:i}),status:o,webSocketPublicClient:this.getWebSocketPublicClient({chainId:i})}),{name:tr,storage:r,partialize:d=>{var h,p;return{...e&&{data:{account:(h=d==null?void 0:d.data)==null?void 0:h.account,chain:(p=d==null?void 0:d.data)==null?void 0:p.chain}},chains:d==null?void 0:d.chains}},version:2}))),this.storage=r,tt(this,Te,r==null?void 0:r.getItem("wallet")),oc(this,Yt,ss).call(this),e&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var e,t;return(t=(e=this.data)==null?void 0:e.chain)==null?void 0:t.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(e){const t=typeof e=="function"?e(this.store.getState()):e;this.store.setState(t,!0)}clearState(){this.setState(e=>({...e,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var e,t;this.connector&&await((t=(e=this.connector).disconnect)==null?void 0:t.call(e)),tt(this,ie,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(St(this,ie))return;tt(this,ie,!0),this.setState(n=>{var r;return{...n,status:(r=n.data)!=null&&r.account?"reconnecting":"connecting"}});const e=St(this,Te)?[...this.connectors].sort(n=>n.id===St(this,Te)?-1:1):this.connectors;let t=!1;for(const n of e){if(!n.ready||!n.isAuthorized||!await n.isAuthorized())continue;const s=await n.connect();this.setState(a=>({...a,connector:n,chains:n==null?void 0:n.chains,data:s,status:"connected"})),t=!0;break}return t||this.setState(n=>({...n,data:void 0,status:"disconnected"})),tt(this,ie,!1),this.data}setConnectors(e){this.args={...this.args,connectors:e};const t=typeof e=="function"?e():e;t.forEach(n=>n.setStorage(this.args.storage)),this.setState(n=>({...n,connectors:t}))}getPublicClient({chainId:e}={}){let t=this.publicClients.get(-1);if(t&&(t==null?void 0:t.chain.id)===e||(t=this.publicClients.get(e??-1),t))return t;const{publicClient:n}=this.args;return t=typeof n=="function"?n({chainId:e}):n,this.publicClients.set(e??-1,t),t}setPublicClient(e){var n,r;const t=(r=(n=this.data)==null?void 0:n.chain)==null?void 0:r.id;this.args={...this.args,publicClient:e},this.publicClients.clear(),this.setState(s=>({...s,publicClient:this.getPublicClient({chainId:t})}))}getWebSocketPublicClient({chainId:e}={}){let t=this.webSocketPublicClients.get(-1);if(t&&(t==null?void 0:t.chain.id)===e||(t=this.webSocketPublicClients.get(e??-1),t))return t;const{webSocketPublicClient:n}=this.args;return t=typeof n=="function"?n({chainId:e}):n,t&&this.webSocketPublicClients.set(e??-1,t),t}setWebSocketPublicClient(e){var n,r;const t=(r=(n=this.data)==null?void 0:n.chain)==null?void 0:r.id;this.args={...this.args,webSocketPublicClient:e},this.webSocketPublicClients.clear(),this.setState(s=>({...s,webSocketPublicClient:this.getWebSocketPublicClient({chainId:t})}))}setLastUsedConnector(e=null){var t;(t=this.storage)==null||t.setItem("wallet",e)}};ie=new WeakMap;Te=new WeakMap;Yt=new WeakSet;ss=function(){const e=i=>{this.setState(c=>({...c,data:{...c.data,...i}}))},t=()=>{this.clearState()},n=i=>{this.setState(c=>({...c,error:i}))};this.store.subscribe(({connector:i})=>i,(i,c)=>{var l,u,d,h,p,f;(l=c==null?void 0:c.off)==null||l.call(c,"change",e),(u=c==null?void 0:c.off)==null||u.call(c,"disconnect",t),(d=c==null?void 0:c.off)==null||d.call(c,"error",n),i&&((h=i.on)==null||h.call(i,"change",e),(p=i.on)==null||p.call(i,"disconnect",t),(f=i.on)==null||f.call(i,"error",n))});const{publicClient:r,webSocketPublicClient:s}=this.args;(typeof r=="function"||typeof s=="function")&&this.store.subscribe(({data:i})=>{var c;return(c=i==null?void 0:i.chain)==null?void 0:c.id},i=>{this.setState(c=>({...c,publicClient:this.getPublicClient({chainId:i}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:i})}))})};var Qt;function Sc(e){const t=new mc(e);return Qt=t,t}function R(){if(!Qt)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return Qt}async function jc({chainId:e,connector:t}){const n=R(),r=n.connector;if(r&&t.id===r.id)throw new cc;try{n.setState(a=>({...a,status:"connecting"}));const s=await t.connect({chainId:e});return n.setLastUsedConnector(t.id),n.setState(a=>({...a,connector:t,chains:t==null?void 0:t.chains,data:s,status:"connected"})),n.storage.setItem("connected",!0),{...s,connector:t}}catch(s){throw n.setState(a=>({...a,status:a.connector?"connected":"disconnected"})),s}}async function Ic(){const e=R();e.connector&&await e.connector.disconnect(),e.clearState(),e.storage.removeItem("connected")}var yc=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],gc=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{name:"",type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}];function Ce({chainId:e}={}){const t=R();return e&&t.getPublicClient({chainId:e})||t.publicClient}function wc({chainId:e}={}){const t=R();return e&&t.getWebSocketPublicClient({chainId:e})||t.webSocketPublicClient}function Fc(e,t){const n=R(),r=async()=>t(Ce(e));return n.subscribe(({publicClient:a})=>a,r)}function Bc(e,t){const n=R(),r=async()=>t(wc(e));return n.subscribe(({webSocketPublicClient:a})=>a,r)}async function vc({chainId:e,contracts:t,blockNumber:n,blockTag:r,...s}){const a=Ce({chainId:e});if(!a.chains)throw new uc;if(e&&a.chain.id!==e)throw new ic({chainId:e});return a.multicall({allowFailure:s.allowFailure??!0,blockNumber:n,blockTag:r,contracts:t})}async function Pc({address:e,account:t,chainId:n,abi:r,args:s,functionName:a,blockNumber:o,blockTag:i}){return Ce({chainId:n}).readContract({abi:r,address:e,account:t,functionName:a,args:s,blockNumber:o,blockTag:i})}async function xc({contracts:e,blockNumber:t,blockTag:n,...r}){const{allowFailure:s=!0}=r;try{const a=Ce(),o=e.reduce((u,d,h)=>{const p=d.chainId??a.chain.id;return{...u,[p]:[...u[p]||[],{contract:d,index:h}]}},{}),i=()=>Object.entries(o).map(([u,d])=>vc({allowFailure:s,chainId:parseInt(u),contracts:d.map(({contract:h})=>h),blockNumber:t,blockTag:n})),c=(await Promise.all(i())).flat(),l=Object.values(o).flatMap(u=>u.map(({index:d})=>d));return c.reduce((u,d,h)=>(u&&(u[l[h]]=d),u),[])}catch(a){if(a instanceof hn)throw a;const o=()=>e.map(i=>Pc({...i,blockNumber:t,blockTag:n}));return s?(await Promise.allSettled(o())).map(i=>i.status==="fulfilled"?{result:i.value,status:"success"}:{error:i.reason,result:void 0,status:"failure"}):await Promise.all(o())}}async function Mc({address:e,chainId:t,formatUnits:n,token:r}){const s=R(),a=Ce({chainId:t});if(r){const l=async({abi:u})=>{const d={abi:u,address:r,chainId:t},[h,p,f]=await xc({allowFailure:!1,contracts:[{...d,functionName:"balanceOf",args:[e]},{...d,functionName:"decimals"},{...d,functionName:"symbol"}]});return{decimals:p,formatted:at(h??"0",Yn(n??p)),symbol:f,value:h}};try{return await l({abi:yc})}catch(u){if(u instanceof hn){const{symbol:d,...h}=await l({abi:gc});return{symbol:ir(ne(d,{dir:"right"})),...h}}throw u}}const o=[...s.publicClient.chains||[],...s.chains??[]],i=await a.getBalance({address:e}),c=o.find(l=>l.id===a.chain.id);return{decimals:(c==null?void 0:c.nativeCurrency.decimals)??18,formatted:at(i??"0",Yn(n??18)),symbol:(c==null?void 0:c.nativeCurrency.symbol)??"ETH",value:i}}function Cc(){const{data:e,connector:t,status:n}=R();switch(n){case"connected":return{address:e==null?void 0:e.account,connector:t,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:n};case"reconnecting":return{address:e==null?void 0:e.account,connector:t,isConnected:!!(e!=null&&e.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:n};case"connecting":return{address:e==null?void 0:e.account,connector:t,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:n};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:n}}}function Ec(){var s,a,o,i;const e=R(),t=(a=(s=e.data)==null?void 0:s.chain)==null?void 0:a.id,n=e.chains??[],r=[...((o=e.publicClient)==null?void 0:o.chains)||[],...n].find(c=>c.id===t)??{id:t,name:`Chain ${t}`,network:`${t}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:t?{...r,...(i=e.data)==null?void 0:i.chain,id:t}:void 0,chains:n}}async function Nc({chainId:e}){const{connector:t}=R();if(!t)throw new te;if(!t.switchChain)throw new lc({connector:t});return t.switchChain(e)}function Rc(e,{selector:t=n=>n}={}){const n=R(),r=()=>e(Cc());return n.subscribe(({data:a,connector:o,status:i})=>t({address:a==null?void 0:a.account,connector:o,status:i}),r,{equalityFn:nr})}function Dc(e,{selector:t=n=>n}={}){const n=R(),r=()=>e(Ec());return n.subscribe(({data:a,chains:o})=>{var i;return t({chainId:(i=a==null?void 0:a.chain)==null?void 0:i.id,chains:o})},r,{equalityFn:nr})}async function zc({chainId:e}={}){return await Ce({chainId:e}).getBlockNumber()}function _c(){return function(e){return e.rpcUrls.public.http[0]?{chain:e,rpcUrls:e.rpcUrls.public}:null}}export{ac as I,bc as a,Fc as b,Sc as c,Xn as d,Ce as e,Rc as f,Ec as g,Cc as h,jc as i,Ic as j,Bc as k,wc as l,zc as m,pc as n,Mc as o,Oc as p,$c as q,_c as r,Nc as s,U as t,Dc as w};
