import{j as i,r as g,a as Ke}from"./node_modules/react-b979d401.js";import{c as _a}from"./node_modules/react-dom-51b33027.js";import{L as va,H as ka}from"./node_modules/react-router-dom-7b89c0db.js";import{c as D}from"./node_modules/classnames-2be43c3e.js";import{c as wa,u as Ca,a as Pa,b as Sa,d as K,e as Ma,f as Aa,W as Ea,g as Da}from"./node_modules/wagmi-6b211b05.js";import{p as Ba,I as Ia,q as Oa,r as Fa,t as La}from"./node_modules/@wagmi-d942a9f7.js";import{Q as Nt,k as Ra,h as Na}from"./node_modules/react-toastify-745789d2.js";import{u as ja,a as Ua,b as Ha,c as qa,d as ut,e as jt}from"./node_modules/react-use-432ec6cc.js";import{S as $a,c as Wa}from"./node_modules/react-select-9fadf2f5.js";import{W as Va}from"./node_modules/react-tooltip-c088b562.js";import{b as lt,O as Ga,a as Ka,d as Ya,e as Oe,f as za}from"./node_modules/react-router-ca37d440.js";import{E as Qa}from"./node_modules/react-error-boundary-e90c37cb.js";import{R as Ut}from"./node_modules/react-modal-ff4351b4.js";import{i as ee,u as Be}from"./node_modules/swr-5760642d.js";import{B as me,H as Za,W as Xa,C as q,I as Ja,J as yt,K as Ye}from"./node_modules/@ethersproject-8d169c9e.js";import{_ as ei}from"./node_modules/react-fast-marquee-e8f46724.js";import{I as ti}from"./node_modules/react-icons-18752bc3.js";import{g as Ht,c as qt,f as _n,d as ni,a as vn,r as kn,b as wn,e as ai}from"./node_modules/@premia-7b213c84.js";import{f as Cn}from"./node_modules/date-fns-003c5fae.js";import{A as ii,a as si}from"./node_modules/@szhsin-37c522b7.js";import{r as ri}from"./node_modules/swiper-4105a6d8.js";import{u as $t}from"./node_modules/ethers-b4767e0b.js";import{L as oi}from"./node_modules/@lyrafinance-fff0e641.js";import"./node_modules/cross-fetch-11000567.js";import{A as re}from"./node_modules/@uniswap-3c81f8d2.js";import{S as pi}from"./node_modules/rc-slider-25b9c01d.js";import{R as ui,A as li,X as yi,Y as di,T as ci,a as mi,b as dn,C as Ti}from"./node_modules/recharts-10130ea6.js";import"./node_modules/scheduler-765c72db.js";import"./node_modules/@remix-run-06a34d2a.js";import"./node_modules/@tanstack-e13839cf.js";import"./node_modules/use-sync-external-store-a1b162f1.js";import"./node_modules/eventemitter3-2f4c80a1.js";import"./node_modules/@noble-efb69e2c.js";import"./node_modules/zustand-913a13f6.js";import"./node_modules/isows-320f3033.js";import"./node_modules/vite-plugin-node-polyfills-cb3ca294.js";import"./node_modules/clsx-1229b3e0.js";import"./node_modules/copy-to-clipboard-de72d289.js";import"./node_modules/toggle-selection-93f4ad84.js";import"./node_modules/@xobotyi-c2000ea3.js";import"./node_modules/@babel-0a888fcc.js";import"./node_modules/@emotion-3ff7488d.js";import"./node_modules/hoist-non-react-statics-23d96a9a.js";import"./node_modules/react-is-e8e5dbb3.js";import"./node_modules/stylis-79144faa.js";import"./node_modules/@floating-ui-1f2e0c5a.js";import"./node_modules/use-isomorphic-layout-effect-910d0b51.js";import"./node_modules/memoize-one-297ddbcb.js";import"./node_modules/prop-types-c8be5997.js";import"./node_modules/warning-883c7a3c.js";import"./node_modules/exenv-9baed461.js";import"./node_modules/react-lifecycles-compat-69166f5c.js";import"./node_modules/bech32-41b3abd9.js";import"./node_modules/js-sha3-ade8b073.js";import"./node_modules/bn.js-27e5e3c1.js";import"./node_modules/hash.js-db676fda.js";import"./node_modules/minimalistic-assert-7cc78341.js";import"./node_modules/inherits-2c87d58f.js";import"./node_modules/aes-js-63e6d53d.js";import"./node_modules/scrypt-js-711c64fd.js";import"./node_modules/react-transition-state-6c1bd24a.js";import"./node_modules/optimism-b75d32e9.js";import"./node_modules/@wry-dfc42599.js";import"./node_modules/ts-invariant-d7b1ef22.js";import"./node_modules/tslib-c8b1efb7.js";import"./node_modules/graphql-tag-51d2f030.js";import"./node_modules/graphql-6a9502bd.js";import"./node_modules/zen-observable-ts-47d5f8bb.js";import"./node_modules/symbol-observable-ea67d9ce.js";import"./node_modules/jsbi-a35364a5.js";import"./node_modules/tiny-invariant-bee4f299.js";import"./node_modules/decimal.js-light-6fe16ef2.js";import"./node_modules/big.js-da9df5c5.js";import"./node_modules/toformat-adc1203b.js";import"./node_modules/rc-util-3fdedbc0.js";import"./node_modules/react-resize-detector-dbe3c1b4.js";import"./node_modules/lodash-e099a798.js";import"./node_modules/react-smooth-d4bb8937.js";import"./node_modules/fast-equals-a0711cdd.js";import"./node_modules/victory-vendor-5e3e398c.js";import"./node_modules/d3-scale-4cce9527.js";import"./node_modules/internmap-7949acc8.js";import"./node_modules/d3-array-7d9b19f9.js";import"./node_modules/d3-time-format-aa787c71.js";import"./node_modules/d3-time-9ce187c0.js";import"./node_modules/d3-interpolate-8fa1f6ff.js";import"./node_modules/d3-color-6502c434.js";import"./node_modules/d3-format-ffdb8652.js";import"./node_modules/recharts-scale-170b47f7.js";import"./node_modules/d3-shape-9e788a4f.js";import"./node_modules/d3-path-41c4cb36.js";import"./node_modules/reduce-css-calc-98f203c9.js";import"./node_modules/css-unit-converter-9e08bb2c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const fi="/sf_draft/assets/Logo-258738bb.svg",Pn=({className:e})=>i.jsx("div",{className:D("Logo",e),children:i.jsx("a",{className:"Logo__link",href:"/index.html",children:i.jsx("img",{src:fi,alt:"Sharwa.Finance"})})});const Wt=({className:e,links:t,type:n})=>{const a=D(e,n&&`Links_${n}`);return i.jsx("div",{className:D("Links",a),children:t.map((s,r)=>{var l;const o=D("Links__item",s.isActive&&"active");return((l=s.to)==null?void 0:l.startsWith("http"))?i.jsx("a",{className:o,href:s.to,rel:"noreferrer",target:"_blank",children:s.name},s.to):i.jsx(va,{to:s.to,className:o,disabled:s.isDisabled,onClick:s.isDisabled&&(d=>d.preventDefault()),children:s.name},s.to??r)})})};const Sn=e=>{const[t,n]=g.useState(!1),a=g.useCallback(()=>{document.removeEventListener("click",a),n(!1),e&&e()},[]);return{isOpen:t,openPopup:()=>{t||(n(!0),setTimeout(()=>{document.addEventListener("click",a)},10))},closePopup:a}},bi="/sf_draft/assets/wallet-fce3adf9.svg",hi="/sf_draft/assets/link-c9833cec.svg",gi="/sf_draft/assets/cross_white-42eb5050.svg",xi="/sf_draft/assets/Arbitrum-299bccbf.svg",_i="/sf_draft/assets/Arbitrum-299bccbf.svg",ye=42161,dt=10,Vt=[ye],Gt={[ye]:{name:"Arbitrum",icon:xi},[dt]:{name:"Optimism",icon:_i,isDisabled:!0}},vi=e=>{let t=e.reason??e.message;return t==="Internal JSON-RPC error."&&(t=e.data.message),t},ki=e=>e.includes("User rejected the request")?"User rejected the request.":e.includes("user rejected transaction")?"User rejected transaction.":e.includes("Request of type 'wallet_switchEthereumChain' already pending")?"Switching network request is already pending.":e.includes("Connector already connected")?"Wallet is already connected.":e.includes("Already processing eth_requestAccounts")?"Please, log in to your wallet account.":e.includes("Too little received")?"Slippage set too low. Please consider increasing it for successful strategy purchase.":e.includes("Pausable: paused")?`Rysk system is currently paused.
Please try again shortly.`:e,ge=e=>{if(typeof e!="bigint")throw new TypeError(`Invalid BigInt: ${e}`)},Mn=e=>{if(typeof e!="number"&&typeof e!="string")throw new TypeError(`Invalid amount: ${e}`)},wi=e=>{if(typeof e!="string")throw new TypeError(`Invalid String: ${e}`)},Ci=(e,t,n)=>{t=An(t);const a=En(e)+"/tx/"+n;console.log(t.text,`
`,a),Nt.success(i.jsxs("div",{children:[i.jsx("div",{children:t.node}),i.jsx("br",{}),n&&i.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:"View transaction"})]}))},An=e=>{if(typeof e=="string"){const t=e;e={text:t,node:t}}return e},Pi=e=>{e=An(e),console.log(e.text),Nt.success(e.node)},Ee=(e,t)=>{const n=vi(e),a=ki(n);console.error(e),Nt.error(i.jsx("div",{children:a})),t&&t(!1)},ct=(e,t,n=[],a,s,r)=>(s&&s(!0),t(...n).then(o=>{console.log("Submitting:",o),o.wait().then(p=>{Ci(e,a,o.hash),s&&s(!1),r&&r(p)},p=>{Ee(p,s)})},o=>{Ee(o,s)})),Si=()=>{const e=[Oa];if(e.length!==Vt.length)throw new Error("Invalid number of wagmi chains.");const{chains:t,publicClient:n,webSocketPublicClient:a}=Ba(e,[Fa()]);return wa({autoConnect:!0,publicClient:n,webSocketPublicClient:a,connectors:[new Ia({chains:t,options:{name:"Injected",shimDisconnect:!0}})]})},En=e=>{switch(e){case ye:return"https://arbiscan.io";case dt:return"https://optimistic.etherscan.io";default:return"https://etherscan.io"}};const ve=g.forwardRef(function({children:t,className:n,style:a,isDisabled:s,onClick:r,type:o},p){const u=D(n,o&&`Button_${o}`),l=o==="complex";return i.jsx("button",{className:D("Button",u),ref:p,disabled:s,onClick:r,"data-text":t,style:a,children:l?i.jsx("span",{children:t.toString()}):t})}),Dn=g.createContext(null),z=()=>{var s;const e=g.useContext(Dn),{address:t,isConnected:n}=Ca();return{account:(s=e??t)==null?void 0:s.toLocaleLowerCase(),isConnected:n}};function Bn(){const{connect:e,connectors:t}=Pa({onError:s=>{Ee(s)}}),{disconnect:n}=Sa(),a=t[0];return{connectWallet:()=>e({connector:a}),disconnectWallet:n}}const Mi=()=>{const{isOpen:e,openPopup:t,closePopup:n}=Sn(),a=D(e&&"open"),s=K(),{account:r,isConnected:o}=z(),{connectWallet:p,disconnectWallet:u}=Bn(),[,l]=ja(),d=m=>m.slice(0,9)+"..."+m.slice(-15),y=()=>i.jsx(ve,{type:"complex",onClick:p,children:"Connect Wallet"}),c=()=>i.jsxs(i.Fragment,{children:[i.jsx("button",{className:"Wallet__header",onClick:()=>{t(),l(r)},children:i.jsxs("div",{className:"Wallet__address",children:[i.jsx("img",{src:bi,alt:"Wallet icon"}),i.jsx("span",{children:d(r)})]})}),i.jsxs("div",{className:"Wallet__body",onClick:m=>m.stopPropagation(),children:[i.jsx("button",{className:"close-btn",onClick:n,children:i.jsx("img",{src:gi,alt:"x"})}),i.jsxs("a",{className:"Wallet__link",href:`${En(s)}/address/${r}`,rel:"noreferrer",target:"_blank",children:[i.jsx("img",{src:hi,alt:"external link"}),i.jsx("span",{children:"View on explorer"})]}),i.jsx("div",{className:"Wallet__inner-address",children:"("+d(r)+")"}),i.jsx(ve,{className:"Wallet__button",onClick:u,children:"Disconnect wallet"})]})]});return i.jsx("div",{className:D("Wallet",a),children:o?c():y()})};const Ai="/sf_draft/assets/dropdown-fc81e803.svg",Ue=({className:e,options:t,defaultValue:n,defaultOption:a,onChange:s,iconNode:r,iconTextNode:o,...p})=>{const u=r||o,l=({children:c,...m})=>i.jsxs(Wa.Control,{...m,children:[r&&i.jsx("div",{className:"Selector__icon",children:r}),o&&i.jsx("div",{className:"Selector__icon Selector__icon_text",children:o}),c]}),d=c=>{const m=f=>f.value===c,T=t.find(f=>f.options);let b;return T?t.forEach(f=>{if(b)return;b=(f.options??[f]).find(m)}):b=t.find(m),b},y=D(e,u&&"Selector_with-icon");return i.jsx($a,{...p,options:t,defaultValue:a??d(n),onChange:s,className:D("Selector",y),classNamePrefix:"Selector",isClearable:!1,isSearchable:!1,components:{DropdownIndicator:({innerRef:c,innerProps:m})=>i.jsx("div",{ref:c,...m,className:"Selector__indicator Selector__dropdown-indicator",children:i.jsx("img",{src:Ai,alt:"dropdown icon"})}),Control:l}})},In=()=>{const{switchNetworkAsync:e}=Ma();return t=>{if(typeof t!="number"&&typeof t!="string")throw new TypeError(`Invalid chainId type: ${t} (${typeof t})`);const n=Gt[t].name;e(t).then(()=>{Pi(`Network switched to ${n} (${t})`)},a=>{Ee(a)})}};const fe=({children:e,hasDelay:t=!0,...n})=>i.jsx(Va,{place:"bottom-start",delayShow:t?150:0,delayHide:t?150:0,...n,children:e}),Ei=()=>{const e=K(),t=In(),n=Vt.map(s=>{const{name:r,icon:o,isDisabled:p}=Gt[s];return{value:s,label:i.jsxs("div",{className:"flex gap-x-7",children:[i.jsx("img",{src:o,alt:`${r} icon`}),i.jsx("span",{children:r})]}),isCurrent:s===e,isDisabled:p}}),a=n.find(s=>s.isCurrent);return i.jsxs("div",{className:"NetworkSwitcher",children:[i.jsx(Ue,{options:n,value:a,onChange:s=>{t(s.value)},isDisabled:!0}),i.jsx(fe,{anchorSelect:".NetworkSwitcher .Selector__option--is-disabled",content:"Coming soon"})]})},Di=()=>{const{isConnected:e}=z();return i.jsxs("div",{className:"CryptoGateway",children:[e&&i.jsx(Ei,{}),i.jsx(Mi,{})]})},Bi=()=>{const e=lt(),t=[{name:"Option Trading",to:"/terminal"},{name:"Legacy",to:"https://old.sharwa.finance/"}];return t.forEach(n=>{e.pathname.startsWith(n.to)&&(n.isActive=!0)}),i.jsxs("header",{className:"Header _container",children:[i.jsx(Pn,{}),i.jsx(Wt,{links:t}),i.jsx(Di,{})]})};const Ii=()=>{const e=Na({enter:"jellyIn",exit:"jellyOut"});return i.jsx(Ra,{limit:2,transition:e,position:"bottom-right",hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,draggable:!1})};const Oi=300,Fi=e=>{const t=Ua();g.useEffect(()=>{const n=window.innerWidth>1025?t:0;e?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${n}px`):setTimeout(()=>{document.body.style.overflow="unset",document.body.style.paddingRight=0},Oi)},[e,t])};Ut.setAppElement("#root");Ut.defaultStyles={};const mt=({children:e,className:t,isOpen:n,setIsOpen:a,isObligatory:s,reset:r})=>(Fi(n),g.useEffect(()=>{!n&&r&&r()},[n]),i.jsx(Ut,{className:D(t,"App-box"),isOpen:n,onRequestClose:()=>{s||a(!1)},overlayElement:(o,p)=>i.jsxs("div",{...o,children:[p,!s&&i.jsx("button",{className:"ReactModal__Close-btn"})]}),closeTimeoutMS:300,children:e})),Li=e=>{const{chainId:t}=e,[n]=g.useState(!0),a=In();return i.jsxs(mt,{className:"UnsupportedChainErrorModal",isOpen:n,isObligatory:!0,children:[i.jsxs("div",{className:"UnsupportedChainErrorModal__text text-inline",children:["Chain ",t," is not supported."]}),i.jsx("div",{className:"UnsupportedChainErrorModal__switch-btns",children:Vt.map(s=>{const r=Gt[s],{name:o,icon:p,isDisabled:u}=r;return i.jsxs(ve,{isDisabled:u,type:"stroke",onClick:()=>{a(s)},children:[i.jsx("img",{src:p,alt:`${o} icon`}),"Switch to ",o]},s)})})]})},Ri="AEZAKMI=",Ni=()=>{const[e,t]=g.useState(),n=lt(),a=r=>{t(r),console.log("GOD EYE MODE ENABLED:",r)},s=r=>{t(null),console.log(`GOD EYE MODE DISABLED${r?` (${r})`:""}`)};return g.useEffect(()=>{const r=n.pathname.split("/"),o=r[r.length-1];if(o.startsWith(Ri)){const p=o.split("=")[1];La(p)?a(p):s("Invalid wallet address")}},[n.pathname]),{godEyeAddress:e}},ji=({children:e})=>{const{godEyeAddress:t}=Ni();return i.jsx(Dn.Provider,{value:t,children:e})},Ui="/terminal/builder",et="0x683Ad8b899Cd14d8e077c9A623E8B3fEd65a8c09",Tt=600;const Hi="/sf_draft/assets/graph-b6757e0e.svg",qi="/sf_draft/assets/ETH-fe35d2b1.svg",$i="/sf_draft/assets/BTC-03fbacc9.svg",Wi="/sf_draft/assets/WETH-2ba67e25.svg",Vi="/sf_draft/assets/WBTC-f0287338.svg",Gi="/sf_draft/assets/LINK-6e99746a.svg",Ki="/sf_draft/assets/ARB-072a5ac2.svg",Yi="/sf_draft/assets/GMX-7124dbcb.svg",zi="/sf_draft/assets/wstETH-139c8ea6.svg",Qi="/sf_draft/assets/MAGIC-7fa5e467.svg",Zi="/sf_draft/assets/SOL-cd8e8342.svg",Xi="/sf_draft/assets/FXS-c5cc5930.svg",cn="/sf_draft/assets/USDC-5a7f3d86.svg",Ji="/sf_draft/assets/USDT-2e53b5e9.svg",es="/sf_draft/assets/DAI-b460716b.svg",De={[ye]:[{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",oracleAddress:"0x639fe6ab55c921f74e7fac1ee960c0b6293ba612",isAsset:!0,isETH:!0,icon:qi,isSwappable:!0,isWrappable:!0},{name:"Bitcoin",symbol:"BTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",oracleAddress:"0x6ce185860a4963106506c203335a2910413708e9",isAsset:!0,icon:$i,isWrappable:!0},{name:"Wrapped Ethereum",symbol:"WETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:Wi,isSwappable:!0},{name:"Wrapped Bitcoin",symbol:"WBTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:Vi,isSwappable:!0},{name:"Chainlink Token",symbol:"LINK",decimals:18,address:"0xf97f4df75117a78c1A5a0DBb814Af92458539FB4",oracleAddress:"0x86e53cf1b870786351da77a57575e79cb55812cb",isAsset:!0,icon:Gi},{name:"Arbitrum Token",symbol:"ARB",decimals:18,address:"0x912CE59144191C1204E64559FE8253a0e49E6548",oracleAddress:"0xb2a824043730fe05f3da2efafa1cbbe83fa548d6",isAsset:!0,icon:Ki},{name:"GMX Token",symbol:"GMX",decimals:18,address:"0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a",oracleAddress:"0xdb98056fecfff59d032ab628337a4887110df3db",isAsset:!0,icon:Yi},{name:"Wrapped liquid staked Ether 2.0",symbol:"wstETH",decimals:18,address:"0x0fBcbaEA96Ce0cF7Ee00A8c19c3ab6f5Dc8E1921",oracleAddress:"0x07c5b924399cc23c24a95c8743de4006a32b7f2a",isAsset:!0,icon:zi},{name:"MAGIC",symbol:"MAGIC",decimals:18,address:"0x539bdE0d7Dbd336b79148AA742883198BBF60342",oracleAddress:"0x47e55ccec6582838e173f252d08afd8116c2202d",isAsset:!0,icon:Qi},{name:"Solana",symbol:"SOL",decimals:18,address:"0xa26A142Bb3E9d5503b882D17cFf43a37b62ee1Be",oracleAddress:"0x24cea4b8ce57cda5058b924b9b9987992450590c",isAsset:!0,icon:Zi},{name:"Frax Share",symbol:"FXS",decimals:18,address:"0x9d2F299715D94d8A7E6F5eaa8E654E8c74a988A7",oracleAddress:"0x36a121448d74fa81450c992a1a44b9b7377cd3a5",isAsset:!0,icon:Xi},{name:"Dai",symbol:"DAI",decimals:18,address:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",icon:es,isSwappable:!0,isStable:!0},{name:"USD Coin",symbol:"USDC",decimals:6,address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",icon:cn,isSwappable:!0,isStable:!0},{name:"USDC.e",symbol:"USDC.e",decimals:6,address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",icon:cn,isSwappable:!0,isStable:!0},{name:"Tether",symbol:"USDT",decimals:6,address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",icon:Ji,isSwappable:!0,isStable:!0}]},it={},st={},mn=Object.keys(De);for(let e=0;e<mn.length;e++){const t=mn[e];it[t]={},st[t]={};let n=De[t];for(let a=0;a<n.length;a++){const s=n[a];it[t][s.symbol]=s,st[t][s.address.toLowerCase()]=s}}const ft={};for(let e=0;e<De[ye].length;e++){const t=De[ye][e];ft[t.symbol]=t.decimals}const Kt=De[ye].filter(e=>e.isAsset).map(e=>e.symbol),pe=(e,t)=>{if(!it[e])throw new Error(`No tokens found for chainId ${e}`);const a=it[e][t];if(!a)throw new Error(`Incorrect symbol "${t}" for chainId ${e}`);return a},It=(e,t)=>{if(!st[e])throw new Error(`No tokens found for chainId ${e}`);const a=st[e][t.toLowerCase()];if(!a)throw new Error(`Incorrect address "${t}" for chainId ${e}`);return a},ts=e=>{const t=De[e];if(!t)throw new Error(`No tokens found for chainId ${e}`);return t.filter(a=>a.isSwappable)},On=e=>pe(e,"USDC.e").address,Fn=e=>pe(ye,e).icon;const ie=({className:e,children:t,isSmall:n=!0,symbol:a="USDC",isHlight:s,style:r})=>{const o=K(),p=pe(o,a).icon,u=t,l=D(s&&"hlight",e);return i.jsxs("div",{className:D("Currency",l),style:r,children:[i.jsx("img",{src:p,alt:`${a} icon`,width:n?15:"auto"}),i.jsx("span",{children:u})]})},X=18,Tn=6,ns=8,as=8,Ve=6,Ln=2,Rn=3,le=(e,t=",")=>{Mn(e);const n=e.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,t),n.join(".")},is=e=>{if(Mn(e),!Nn(e))return 0;const t=e.toString(),n=t.indexOf("."),a=t.match(/[1-9]/)[0];return t.indexOf(a,n)-n},bt=(e,t=0,n=!1)=>{if(!Nn(e))return e;let a=e.toString(),s=a;const r=a.indexOf(".");if(a.length-r-1>t&&(s=Re(e,t),n&&Number(s)===0)){const p=is(e);s=Re(e,p)}return s},Nn=e=>e.toString().indexOf(".")!==-1,jn=(e,t)=>{let n=e.toString();const a=n.indexOf("."),s=a!==-1,r=s?n.length-a-1:0;return r<t&&(n+=+s?"":".",n+="0".repeat(t-r)),n},ss=e=>{const t=e.toString();return t.indexOf(".")!==-1?parseFloat(t):e},rs=e=>{const t=e.toString(),[n,a]=t.split(".");return a==="0".repeat(a==null?void 0:a.length)?n:t},os=(e,t)=>{var s;let n=e.toString().replace(/^\./g,"").replace(/[^0-9.]/g,"").replace(/^0\d/,"");return((s=n.match(/\./g))==null?void 0:s.length)>1&&(n=(o=>o.replace(/\.$/,""))(n)),n=bt(n,t?0:Ve),n},ze=(e,t,n)=>le(os(e,n),t),ke=(e,t=",")=>(wi(e),Number(e.split(t).join(""))),Re=(e,t=0)=>Math.round(e*10**t)/10**t,$=(e,t=X,n)=>{ge(e);let a=Number(e)/10**t;return typeof n<"u"&&(a=Math.round(a*10**n)/10**n),String(a).includes("e")?0:a},ht=(e,t)=>(ge(e),e*BigInt(10**t)),Yt=(e,t)=>(ge(e),e/BigInt(10**t)),G=(e,t=X)=>{if(t<Ve)throw new Error("Converting number to BigInt without expanding decimals is not safe.");const n=Math.floor(Number(e)*10**Ve);return ht(BigInt(n),t-Ve)},Z=(e,t=Ln,n=X,a=!1)=>{ge(e);let s=$(e,n);return s=bt(s,t),s=jn(s,t),a||(s=rs(s)),s=le(s),String(s)},ps=(e,t=Rn,n=X,a)=>{ge(e);let s=$(e,n);return s=bt(s,t,a),s=ss(s),s=le(s),String(s)},He=(e,t,n,a)=>{ge(e);const s=t?Z:ps;return ee(n)&&(n=t?Ln:Rn),s(e,n,a,!t)},zt=(e,t,n)=>{ge(e);const a=n-t;return(a<0?Yt:ht)(e,Math.abs(a))},te=(e,t)=>zt(e,t,X),ue=(e,t)=>zt(e,X,t),Un=(e,t,n=X)=>{ge(e);const a=$(e,n)*t;return G(a,n)},Pe=(e,t,n=X)=>(e=ht(e,n),e/t),Ce=(e,t,n=X)=>{const a=e*t;return Yt(a,X)},Hn=(e,t,n=X)=>{ge(e);const a=n-t,s=Yt(e,a);return ht(s,a)},be=e=>(ge(e),e<0n?-e:e),Ne=e=>-be(e),xe=e=>{if(typeof e!="object")throw new Error(`Invalid bigNumberData: ${e}`);const t={};for(const n in e){let a=e[n];me.isBigNumber(a)&&(a=a.toBigInt()),t[n]=a}return t},Qe=e=>{const t=ke(e);return G(t)},us=e=>{const t=$(e);return ze(t)},qn=g.createContext(null),tt=()=>g.useContext(qn),ls=()=>{var l;const e=tt(),[t,n]=g.useState(!1),a=g.useRef(null),s=g.useRef(null),r=g.useRef(null),o=()=>{var m,T,b;const d=(m=r.current)==null?void 0:m.clientWidth,y=((T=a.current)==null?void 0:T.clientWidth)-d;return((b=s.current)==null?void 0:b.clientWidth)>y},p=Ha();g.useEffect(()=>{n(o())},[(l=s.current)==null?void 0:l.width,p]);const u=()=>Kt.map(d=>{if(!e)return null;const y=e[d],c=Z(y,void 0,void 0,!0);return i.jsx("div",{className:"TokenPricesPanel__item",children:i.jsx(ie,{isHlight:!0,symbol:d,children:i.jsxs("span",{children:["$",c]})})},d)});return i.jsxs("div",{className:D("TokenPricesPanel",t&&"marquee_rendered"),ref:a,children:[i.jsx("div",{className:"TokenPricesPanel__icon",ref:r,children:i.jsx("img",{src:Hi,alt:"Graph icon"})}),i.jsx("div",{className:"TokenPricesPanel__items",ref:s,children:t?i.jsx(ei,{pauseOnHover:!0,autoFill:!0,children:u()}):u()})]})},ys=()=>{const e=lt(),t=[{name:"Option Strategies",to:"/terminal/builder"}];return t.forEach(n=>{e.pathname.endsWith(n.to)&&(n.isActive=!0)}),i.jsxs("div",{className:"Terminal",children:[i.jsx(ls,{}),i.jsx(Wt,{links:t,type:"border"}),i.jsx(Ga,{})]})};function gt(e,t={maxValue:void 0,placeholder:"",isDisabled:!1,isFocused:!1},n=[ze,ke]){const[a,s]=e,{maxValue:r,placeholder:o,isDisabled:p,isFocused:u}=t,[l,d]=n,[y,c]=g.useState(!1),m=g.useRef(null);return{node:i.jsx("input",{autoFocus:u,type:"text",ref:m,value:a,disabled:p,placeholder:o,onChange:T=>{r&&d(T.target.value)>r?s(l(r)):s(l(T.target.value))},onFocus:()=>{c(!0)},onBlur:()=>{c(!1)}}),hasFocus:y,ref:m}}const ds=e=>{const{value:t,setValue:n,maxValue:a,formatInputStringFns:s,hasError:r,isDisabled:o,unitStr:p,placeholder:u}=e,l=gt([t,n],{maxValue:a,placeholder:u,isDisabled:o},s),d=D(e.className,l.hasFocus&&"hlight",r&&"error",o&&"disabled");return i.jsxs("div",{className:D("InputFamily Input",d),onClick:()=>{l.ref.current.focus()},children:[l.node,i.jsx("div",{className:"Input__unit",children:p})]})},Me="#46956A",se="#C75E4B",fn="#D99445",Ot="#6988FF",at="#747FA6",Bt="#3A4466",cs="≈",xt={positive:"+",negative:"–",neutral:""},ne="Limited",ce="Unlimited",Fe="Bullish",Ft="Bearish",_e="Neutral",de={"Long Call":{stats:{outlooks:[Fe],profit:ce,loss:ne,description:"When you believe that the price of the underlying asset will rise."},structure:[1],key:1,color:Me},"Short Call":{stats:{outlooks:[Ft],profit:ne,loss:ce,description:"When you believe that the price of the underlying asset will fall."},structure:[-1],key:101,color:se},"Covered Call":{stats:{outlooks:[Fe],profit:ne,loss:ce,description:"When you believe that the price of the underlying asset will rise."},structure:[-1],key:201,color:se},"Long Put":{stats:{outlooks:[Ft],profit:ce,loss:ne,description:"When you believe that the price of the underlying asset fall."},structure:[2],key:2,color:Me},"Short Put":{stats:{outlooks:[Fe],profit:ne,loss:ce,description:"When you believe that the price of the underlying asset will rise."},structure:[-2],key:102,color:se},"Long Strangle":{stats:{outlooks:[_e],profit:ce,loss:ne,description:"When you believe that the price of the underlying asset will rise or fall."},structure:[1,2],key:3,color:fn},"Short Strangle":{stats:{outlooks:[_e],profit:ne,loss:ce,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:103,color:se},"Covered Strangle":{stats:{outlooks:[_e,Fe],profit:ne,loss:ce,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:203,color:se},"Long Straddle":{stats:{outlooks:[_e],profit:ce,loss:ne,description:"When you believe that the price of the underlying asset changes when the direction of the change could be either up or down."},structure:[1,2],key:4,color:fn},"Short Straddle":{stats:{outlooks:[_e],profit:ne,loss:ce,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:104,color:se},"Covered Straddle":{stats:{outlooks:[_e,Fe],profit:ne,loss:ce,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:204,color:se},"Iron Butterfly":{stats:{outlooks:[_e],profit:ne,loss:ne,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:5,color:Ot,plural:"Iron Butterflies"},"Iron Condor":{stats:{outlooks:[_e],profit:ne,loss:ne,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:6,color:Ot},"Bull Call Spread":{color:Me},"Bear Put Spread":{color:se}},ms={[Fe]:Me,[_e]:Ot,[Ft]:se},$n=Object.keys(de).filter(e=>de[e].key),Ts={Lyra_ETH:0,Lyra_BTC:1,Hegic:2,Rysk:3,Premia:4},Lt=.003,fs=.005,Wn={PARENT_COMPLEX:"parent_complex",PARENT_SIMPLE:"parent_simple",CHILD:"child"},bs=e=>{const{amountStrState:t,strategy:n}=e,[a,s]=t,r=de[n].plural??`${n}s`;return i.jsxs("div",{className:"BuilderForm__field BuilderForm__field_amount",children:[i.jsx("div",{className:"BuilderForm__field-header",children:"Enter Amount"}),i.jsx("div",{className:"BuilderForm__field-body",children:i.jsx(ds,{value:a,setValue:s,unitStr:r})})]})},hs=e=>{const{assetState:t,isDisabled:n}=e,[a,s]=t,r=Kt.map(o=>({value:o,label:i.jsx(ie,{symbol:o,isHlight:!0,children:o})}));return i.jsxs("div",{className:"BuilderForm__field BuilderForm__field_asset",children:[i.jsx("div",{className:"BuilderForm__field-header",children:"Asset"}),i.jsx("div",{className:"BuilderForm__field-body",children:i.jsx(Ue,{options:r,defaultValue:a,isDisabled:n,onChange:o=>{s(o.value)}})})]})},gs="/sf_draft/assets/strategy-selector-icon-1e15875d.svg",xs=e=>{const{strategyState:t,isDisabled:n}=e,[a,s]=t,r=$n.map(o=>({value:o,label:o}));return i.jsxs("div",{className:"BuilderForm__field BuilderForm__field_strategy",children:[i.jsxs("div",{className:"BuilderForm__field-header",children:["Strategy",i.jsx("div",{className:"BuilderForm__field-tip tip","data-tooltip-id":"BuilderForm_WhenPurchaseTooltip",children:"When purchase"})]}),i.jsx("div",{className:"BuilderForm__field-body",children:i.jsx(Ue,{options:r,defaultValue:a,onChange:o=>{s(o.value)},iconNode:i.jsx("img",{src:gs,alt:"Strategy selector icon"}),className:"Selector_thin-options",isDisabled:n})})]})};const we=e=>{const{style:t,hasLeftMargin:n}=e;return i.jsx("div",{className:"Spinner",children:i.jsx(ti,{className:"Spinner__icon",style:{marginLeft:n?7:0,...t}})})},Qt=(e,t,n=i.jsx(we,{}))=>t?n:e,_t=(e,t,n=i.jsx(we,{}))=>t?n:e(),J=(e="—",t,n)=>i.jsx("span",{className:D("muted",n&&"muted_light"),style:{fontSize:t?13:"inherit"},children:e}),Zt=e=>e.charAt(0).toUpperCase()+e.slice(1),_s={[ye]:"https://arb-mainnet.g.alchemy.com/v2/",[dt]:""},Vn=e=>({VITE_ALCHEMY_API_KEY_42161:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",VITE_PREMIA_API_KEY_42161:"sharwa_3ZgugmeGTvPgPXmuxuEeho4J",BASE_URL:"/sf_draft",MODE:"production",DEV:!1,PROD:!0,SSR:!1})[`VITE_ALCHEMY_API_KEY_${e}`],vs=e=>{const t=_s[e],n=Vn(e);return`${t}${n}`},V=e=>{const t=Vn(e);if(!t)throw new Error(`No Alchemy api key found for chainId ${e}`);return new Za(e,t)},he=()=>{if(!window.ethereum)throw new Error("No Ethereum provider found");return new Xa(window.ethereum).getSigner()},ks=[{inputs:[{internalType:"address",name:"_exchanger",type:"address"},{internalType:"address",name:"_buildManager",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"buildManager",outputs:[{internalType:"contract IBuildManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module[]",name:"moduleArray",type:"tuple[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"exchanger",outputs:[{internalType:"contract IExchanger",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"module",outputs:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"exchangerAddress",type:"address"}],name:"setExchanger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module",name:"modData",type:"tuple"}],name:"setModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],ws=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Cs=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Ps=[{inputs:[{internalType:"address",name:"_proxySeller",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"}],name:"OpenPositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proxySeller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ss=[{inputs:[{internalType:"contract ERC20",name:"_usdc",type:"address"},{internalType:"contract ERC20",name:"_weth",type:"address"},{internalType:"contract ERC20",name:"_wbtc",type:"address"},{internalType:"contract IBeyondPricer",name:"_pricer",type:"address"},{internalType:"contract IOptionExchange",name:"_optionExchange",type:"address"},{internalType:"contract IAlphaPortfolioValuesFeed",name:"_portfolioValuesFeed",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],indexed:!1,internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],name:"OpenPositionByRyskFinance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromRyskFinance",outputs:[{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],name:"encodeFromRyskFinance",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionExchange",outputs:[{internalType:"contract IOptionExchange",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"portfolioValuesFeed",outputs:[{internalType:"contract IAlphaPortfolioValuesFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IBeyondPricer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wbtc",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"weth",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ms=[{inputs:[{internalType:"contract IPoolFactory",name:"_poolFactory",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"address",name:"vaultAddress",type:"address"},{indexed:!1,internalType:"address",name:"collateralToken",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{components:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],indexed:!1,internalType:"struct IPoolFactory.PoolKey",name:"poolKey",type:"tuple"},{indexed:!1,internalType:"UD60x18",name:"size",type:"uint256"},{indexed:!1,internalType:"bool",name:"isBuy",type:"bool"},{indexed:!1,internalType:"uint256",name:"premiumLimit",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"}],name:"OpenPositionByPremia",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromPremia",outputs:[{internalType:"address",name:"vaultAddress",type:"address"},{components:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],internalType:"struct IPoolFactory.PoolKey",name:"poolKey",type:"tuple"},{internalType:"UD60x18",name:"size",type:"uint256"},{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"uint256",name:"premiumLimit",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"vaultAddress",type:"address"},{components:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],internalType:"struct IPoolFactory.PoolKey",name:"poolKey",type:"tuple"},{internalType:"UD60x18",name:"size",type:"uint256"},{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"uint256",name:"premiumLimit",type:"uint256"}],name:"encodeFromPremia",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolFactory",outputs:[{internalType:"contract IPoolFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],As=[{inputs:[{internalType:"address",name:"_erc721Address",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"TakeProfitSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"TakeProfitUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkTakeProfit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc721Contract",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveTakeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getExpirationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPayOffAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveTakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveTakes",type:"uint256"}],name:"setMaxActiveTakes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"setTakeProfit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"updateTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Es=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ds=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Bs=[{inputs:[{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_roleManager",type:"address"},{internalType:"address",name:"_weth9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes",name:"swapData",type:"bytes"}],name:"calculateMsgValue",outputs:[{internalType:"uint256",name:"value",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"msgValue",type:"uint256"}],name:"checkMsgValue",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromExchange",outputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],name:"encodeFromExchange",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"roleManager",outputs:[{internalType:"contract RoleManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"weth9",outputs:[{internalType:"contract IWETH9",name:"",type:"address"}],stateMutability:"view",type:"function"}],Is=[{inputs:[{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"contract IPositionsManager",name:"_manager",type:"address"},{internalType:"uint256",name:"_maxLockupPeriod",type:"uint256"},{internalType:"contract ICoverPool",name:"_coverPool",type:"address"},{internalType:"uint256",name:"_benchmark",type:"uint256"},{internalType:"contract IHegicStrategy[]",name:"initialStrategies",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Expired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Paid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Replenished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"acceptedStrategy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"addStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"benchmark",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"connectStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"coverPool",outputs:[{internalType:"contract ICoverPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"lockedByStrategy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lockedLiquidity",outputs:[{internalType:"enum IOperationalTreasury.LockedLiquidityState",name:"state",type:"uint8"},{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"},{internalType:"uint32",name:"expiration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedPremium",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"contract IPositionsManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLockupPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"mayBeAcceptedAtEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"account",type:"address"}],name:"payOff",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"replenish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setBenchmark",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalLocked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lockedLiquidityID",type:"uint256"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],Os=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"HEGIC_POOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"}],name:"createOptionFor",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721Metadata",name:"_uriBuilder",type:"address"}],name:"setURIBuilder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uriBuilder",outputs:[{internalType:"contract IERC721Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"}],Fs=[{inputs:[{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"contract IPremiumCalculator",name:"_pricer",type:"address"},{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint8",name:"_spotDecimals",type:"uint8"},{internalType:"uint16",name:"_priceScale",type:"uint16"},{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"},{internalType:"uint48",name:"_exerciseWindowDuration",type:"uint48"},{internalType:"contract LimitController",name:"_limitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],indexed:!1,internalType:"struct IHegicStrategy.StrategyData",name:"data",type:"tuple"},{indexed:!1,internalType:"uint256",name:"negativepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positivepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"Acquired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"limit",type:"uint256"}],name:"SetLimit",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"",type:"bytes[]"}],name:"calculateNegativepnlAndPositivepnl",outputs:[{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"connect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"create",outputs:[{internalType:"uint32",name:"expiration",type:"uint32"},{internalType:"uint256",name:"negativePNL",type:"uint256"},{internalType:"uint256",name:"positivePNL",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exerciseWindowDuration",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"period",type:"uint32"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"getAvailableContracts",outputs:[{internalType:"uint256",name:"available",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLockedByStrategy",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isPayoffAvailable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"k",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"limitController",outputs:[{internalType:"contract LimitController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"optionID",type:"uint256"}],name:"payOffAmount",outputs:[{internalType:"uint256",name:"profit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positionExpiration",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IPremiumCalculator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48",name:"value",type:"uint48"}],name:"setK",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract LimitController",name:"value",type:"address"}],name:"setLimitController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IPremiumCalculator",name:"value",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"strategyData",outputs:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Ls=[{inputs:[{internalType:"int256[5]",name:"initialCoefficients",type:"int256[5]"},{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"uint256",name:"_tokenDecimals",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[3]",name:"values",type:"uint256[3]"}],name:"SetBorders",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetCoefficients",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountCall",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountPut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"values",type:"uint8"}],name:"SetDiscountSpread",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetImpliedVolRate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[4]",name:"values",type:"uint256[4]"}],name:"SetImpliedVolRates",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"min",type:"uint256"},{indexed:!1,internalType:"uint256",name:"max",type:"uint256"}],name:"SetPeriodLimits",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetSettlementFeeShare",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetStrikePercentage",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"strike",type:"uint256"}],name:"calculatePremium",outputs:[{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"coefficients",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"setCoefficients",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Rs=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Ns=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],js=[{inputs:[{internalType:"address",name:"_lyraRegister",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardAlreadySettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"BoardExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardIsFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum IOptionMarket.NonZeroValues",name:"valueType",type:"uint8"}],name:"ExpectedNonZeroValue",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"InvalidStrikeId",type:"error"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"fullQuotes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"}],Us=[{inputs:[{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"},{internalType:"address",name:"_underlyingAsset",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"uint256",name:"rfr",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{components:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],internalType:"struct Types.OptionParams",name:"_optionParams",type:"tuple"},{internalType:"address",name:"_authority",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidAmount",type:"error"},{inputs:[],name:"InvalidDecimals",type:"error"},{inputs:[],name:"InvalidShareAmount",type:"error"},{inputs:[],name:"IssuanceFailed",type:"error"},{inputs:[],name:"LiabilitiesGreaterThanAssets",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NotHandler",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"OptionStrikeInvalid",type:"error"},{inputs:[],name:"ReactorAlreadyExists",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TradingNotPaused",type:"error"},{inputs:[],name:"TradingPaused",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{inputs:[],name:"WithdrawExceedsLiquidity",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrowReturned",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"}],name:"BuybackOption",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"DepositEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"InitiateWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256",name:"deltaChange",type:"int256"}],name:"RebalancePortfolioDelta",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralReturned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLost",type:"uint256"},{indexed:!1,internalType:"address",name:"closer",type:"address"}],name:"SettleVault",type:"event"},{anonymous:!1,inputs:[],name:"TradingPaused",type:"event"},{anonymous:!1,inputs:[],name:"TradingUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"WithdrawalEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrow",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"}],name:"WriteOption",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lpCollateralDifference",type:"uint256"},{internalType:"bool",name:"addToLpBalance",type:"bool"}],name:"adjustCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"optionsValue",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"bool",name:"isSale",type:"bool"}],name:"adjustVariables",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"bufferPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"auth",type:"bool"}],name:"changeHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"checkBuffer",outputs:[{internalType:"int256",name:"bufferRemaining",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAllocated",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"completeWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"depositEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"depositEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depositReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint256",name:"unredeemedShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralLiabilities",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"executeEpochCalculation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExternalDelta",outputs:[{internalType:"int256",name:"externalDelta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getHedgingReactors",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"isPut",type:"bool"},{internalType:"uint256",name:"underlyingPrice",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"expiration",type:"uint256"}],name:"getImpliedVolatility",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNAV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPortfolioDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVolatilityFeed",outputs:[{internalType:"contract VolatilityFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"seller",type:"address"}],name:"handlerBuybackOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"handlerIssue",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerIssueAndWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"hedgingReactors",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"initiateWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isTradingPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPriceDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTimeDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionParams",outputs:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"partitionedFunds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseTradingAndRequest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"pauseUnpauseTrading",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingDeposits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingWithdrawals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"uint256",name:"reactorIndex",type:"uint256"}],name:"rebalancePortfolioDelta",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"},{internalType:"bool",name:"_override",type:"bool"}],name:"removeHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resetEphemeralValues",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bufferPercentage",type:"uint256"}],name:"setBufferPercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralCap",type:"uint256"}],name:"setCollateralCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_reactorAddress",type:"address"}],name:"setHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxPriceDeviationThreshold",type:"uint256"}],name:"setMaxPriceDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxTimeDeviationThreshold",type:"uint256"}],name:"setMaxTimeDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_newMinCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMinPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMinExpiry",type:"uint128"},{internalType:"uint128",name:"_newMaxExpiry",type:"uint128"}],name:"setNewOptionParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"}],name:"settleVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdrawalEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdrawalReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"shares",type:"uint128"}],stateMutability:"view",type:"function"}],Hs=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidExpiry",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesAltered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesApproved",type:"event"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"approvedOptions",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"changeOptionBuyOrSell",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"expirations",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExpirations",outputs:[{internalType:"uint64[]",name:"",type:"uint64[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"bool",name:"isPut",type:"bool"}],name:"getOptionDetails",outputs:[{internalType:"uint128[]",name:"",type:"uint128[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"getOptionStores",outputs:[{components:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct OptionCatalogue.OptionStores",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isBuyable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isSellable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"issueNewSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],name:"optionDetails",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"optionStores",outputs:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"}],qs=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_pricer",type:"address"},{internalType:"address",name:"_addressbook",type:"address"},{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_feeRecipient",type:"address"},{internalType:"address",name:"_catalogue",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CloseSizeTooLarge",type:"error"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"ForbiddenAction",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NonExistentOtoken",type:"error"},{inputs:[],name:"NonWhitelistedOtoken",type:"error"},{inputs:[],name:"NothingToClose",type:"error"},{inputs:[],name:"OperatorNotApproved",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"PoolFeeNotSet",type:"error"},{inputs:[],name:"PremiumTooSmall",type:"error"},{inputs:[],name:"SeriesNotBuyable",type:"error"},{inputs:[],name:"SeriesNotSellable",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TokenImbalance",type:"error"},{inputs:[],name:"TooMuchSlippage",type:"error"},{inputs:[],name:"TradeTooLarge",type:"error"},{inputs:[],name:"TradeTooSmall",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{inputs:[],name:"UnauthorisedSender",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"}],name:"OptionsIssued",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"}],name:"OptionsRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsSold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOptionExchange",type:"address"},{indexed:!1,internalType:"address",name:"otoken",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"OtokenMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"}],name:"RedemptionSent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"addressbook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bool",name:"",type:"bool"}],name:"approvedCollateral",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"catalogue",outputs:[{internalType:"contract OptionCatalogue",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isApproved",type:"bool"}],name:"changeApprovedCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint128",name:"strikeDecimalConverted",type:"uint128"},{internalType:"bool",name:"isSell",type:"bool"}],name:"checkHash",outputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"createOtoken",outputs:[{internalType:"address",name:"series",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDelta",outputs:[{internalType:"int256",name:"delta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"getOptionDetails",outputs:[{internalType:"address",name:"",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"",type:"tuple"},{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolDenominatedValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"_delta",type:"int256"}],name:"hedgeDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"heldTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum CombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct CombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct CombinedActions.OperationProcedures[]",name:"_operationProcedures",type:"tuple[]"}],name:"operate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolFees",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract BeyondPricer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_series",type:"address[]"},{internalType:"uint256[]",name:"amountOutMinimums",type:"uint256[]"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_catalogue",type:"address"}],name:"setOptionCatalogue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"}],name:"setPoolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pricer",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_minTradeSize",type:"uint256"},{internalType:"uint256",name:"_maxTradeSize",type:"uint256"}],name:"setTradeSizeLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOptionExchange",type:"address"},{internalType:"address[]",name:"otokens",type:"address[]"}],name:"transferOtokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"update",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],$s=[{inputs:[{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_authority",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyExpired",type:"error"},{inputs:[],name:"HealthyVault",type:"error"},{inputs:[],name:"InsufficientBalance",type:"error"},{inputs:[],name:"InvalidCollateral",type:"error"},{inputs:[],name:"InvalidDecimals",type:"error"},{inputs:[],name:"NoVault",type:"error"},{inputs:[],name:"NonExistentSeries",type:"error"},{inputs:[],name:"NotExpired",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[],name:"NotLiquidityPool",type:"error"},{inputs:[],name:"NotOperator",type:"error"},{inputs:[],name:"SeriesAddressAlreadySet",type:"error"},{inputs:[],name:"SeriesInfoAlreadySet",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"VaultAlreadySet",type:"error"},{inputs:[],name:"VaultExpired",type:"error"},{inputs:[],name:"VaultNotLiquidated",type:"error"},{inputs:[],name:"WithdrawExceedsLiquidity",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"putLower",type:"uint64"},{indexed:!1,internalType:"uint64",name:"putUpper",type:"uint64"},{indexed:!1,internalType:"uint64",name:"callLower",type:"uint64"},{indexed:!1,internalType:"uint64",name:"callUpper",type:"uint64"}],name:"HealthThresholdsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"bool",name:"auth",type:"bool"}],name:"KeeperUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newLiquidityPool",type:"address"}],name:"LiquidityPoolUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"isOperator",type:"bool"}],name:"OperatorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"OptionTokenCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"closedAmount",type:"uint256"}],name:"OptionsContractClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"optionsAmount",type:"uint256"}],name:"OptionsContractOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralReturned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountLost",type:"uint256"}],name:"OptionsContractSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"underlyingAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeAmount",type:"uint256"}],name:"SeriesRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountLiquidated",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLiquidated",type:"uint256"}],name:"VaultLiquidationRegistered",type:"event"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"adjustCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"adjustCollateralCaller",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callLowerHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"callUpperHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"checkVaultHealth",outputs:[{internalType:"bool",name:"isBelowMin",type:"bool"},{internalType:"bool",name:"isAboveMax",type:"bool"},{internalType:"uint256",name:"healthFactor",type:"uint256"},{internalType:"uint256",name:"upperHealthFactor",type:"uint256"},{internalType:"uint256",name:"collatRequired",type:"uint256"},{internalType:"address",name:"collatAsset",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"close",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"series",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_series",type:"tuple"}],name:"getIssuanceHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"uint256",name:"expiration",type:"uint256"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"uint256",name:"strike",type:"uint256"},{internalType:"address",name:"collateral",type:"address"}],name:"getOtoken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_series",type:"tuple"}],name:"getSeries",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"issuanceHash",type:"bytes32"}],name:"getSeriesAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"series",type:"address"}],name:"getSeriesInfo",outputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"issue",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateralAmount",type:"uint256"}],name:"open",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"putLowerHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"putUpperHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"registerLiquidatedVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"seriesInfo",outputs:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_putLower",type:"uint64"},{internalType:"uint64",name:"_putUpper",type:"uint64"},{internalType:"uint64",name:"_callLower",type:"uint64"},{internalType:"uint64",name:"_callUpper",type:"uint64"}],name:"setHealthThresholds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newLiquidityPool",type:"address"}],name:"setLiquidityPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_isOperator",type:"bool"}],name:"setOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"address",name:"_seriesAddress",type:"address"},{internalType:"bytes32",name:"_issuanceHash",type:"bytes32"}],name:"setSeriesInfoAndAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_seriesAddress",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"setVaultIds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"settle",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vaultCount",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"wCollatLiquidatedVault",outputs:[],stateMutability:"nonpayable",type:"function"}],Ws=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_addressBook",type:"address"},{internalType:"uint256",name:"_slippageGradient",type:"uint256"},{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IVNotFound",type:"error"},{inputs:[],name:"InvalidMultiplierValue",type:"error"},{inputs:[],name:"InvalidMultipliersArrayLength",type:"error"},{inputs:[],name:"InvalidTenorArrayLength",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__LogInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__LogInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__SqrtOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newBidAskIVSpread",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldBidAskIVSpread",type:"uint256"}],name:"BidAskIVSpreadChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newCollateralLendingRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldCollateralLendingRate",type:"uint256"}],name:"CollateralLendingRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newDeltaBandWidth",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldDeltaBandWidth",type:"uint256"}],name:"DeltaBandWidthChanged",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"newDeltaBorrowRates",type:"tuple"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"oldDeltaBorrowRates",type:"tuple"}],name:"DeltaBorrowRatesChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newFeePerContract",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldFeePerContract",type:"uint256"}],name:"FeePerContractChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaSellOptionFlatIV",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaSellOptionFlatIV",type:"uint256"}],name:"LowDeltaSellOptionFlatIVChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaThreshold",type:"uint256"}],name:"LowDeltaThresholdChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newRiskFreeRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldRiskFreeRate",type:"uint256"}],name:"RiskFreeRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newSlippageGradient",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldSlippageGradient",type:"uint256"}],name:"SlippageGradientChanged",type:"event"},{anonymous:!1,inputs:[],name:"SlippageGradientMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadCollateralMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadDeltaMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"TenorParamsSet",type:"event"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"bidAskIVSpread",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralLendingRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBandWidth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBorrowRates",outputs:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feePerContract",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_deltaBandWidth",type:"uint256"},{internalType:"uint16",name:"_numberOfTenors",type:"uint16"},{internalType:"uint16",name:"_maxTenorValue",type:"uint16"},{components:[{internalType:"int80[]",name:"callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadDeltaMultipliers",type:"int80[]"}],internalType:"struct BeyondPricer.DeltaBandMultipliers[]",name:"_tenorPricingParams",type:"tuple[]"}],name:"initializeTenorParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaSellOptionFlatIV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTenorValue",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"numberOfTenors",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bool",name:"isSell",type:"bool"},{internalType:"int256",name:"netDhvExposure",type:"int256"}],name:"quoteOptionPrice",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"int256",name:"totalDelta",type:"int256"},{internalType:"uint256",name:"totalFees",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bidAskIVSpread",type:"uint256"}],name:"setBidAskIVSpread",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"}],name:"setCollateralLendingRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],name:"setDeltaBorrowRates",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_feePerContract",type:"uint256"}],name:"setFeePerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaSellOptionFlatIV",type:"uint256"}],name:"setLowDeltaSellOptionFlatIV",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaThreshold",type:"uint256"}],name:"setLowDeltaThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_slippageGradient",type:"uint256"}],name:"setSlippageGradient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSlippageGradientMultipliers",type:"int80[]"}],name:"setSlippageGradientMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadCollateralMultipliers",type:"int80[]"}],name:"setSpreadCollateralMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadDeltaMultipliers",type:"int80[]"}],name:"setSpreadDeltaMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"slippageGradient",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Vs=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"},{internalType:"address",name:"_protocol",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IncorrectSeriesToRemove",type:"error"},{inputs:[],name:"MaxNetDhvExposureExceeded",type:"error"},{inputs:[],name:"NoShortPositions",type:"error"},{inputs:[],name:"NoVaultForShortPositions",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"seriesAddress",type:"address"}],name:"OptionHasExpiredInStores",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"SeriesNotExpired",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"underlying",type:"address"},{indexed:!0,internalType:"address",name:"strike",type:"address"},{indexed:!1,internalType:"int256",name:"delta",type:"int256"},{indexed:!1,internalType:"int256",name:"gamma",type:"int256"},{indexed:!1,internalType:"int256",name:"vega",type:"int256"},{indexed:!1,internalType:"int256",name:"theta",type:"int256"},{indexed:!1,internalType:"int256",name:"callPutsValue",type:"int256"}],name:"DataFullfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxNetDhvExposure",type:"uint256"}],name:"MaxNetDhvExposureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"int256",name:"oldNetDhvExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"newNetDhvExposure",type:"int256"}],name:"NetDhvExposureChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_underlying",type:"address"},{indexed:!1,internalType:"address",name:"_strike",type:"address"}],name:"RequestedUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"seriesAddress",type:"address"},{indexed:!1,internalType:"int256",name:"shortExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"longExposure",type:"int256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],indexed:!1,internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"StoresUpdated",type:"event"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"accountLiquidatedSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"addressAtIndexInSet",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"addressSetLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"cleanLooperManually",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"}],name:"fulfill",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddressSet",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strike",type:"address"}],name:"getPortfolioValues",outputs:[{components:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"gamma",type:"int256"},{internalType:"int256",name:"vega",type:"int256"},{internalType:"int256",name:"theta",type:"int256"},{internalType:"int256",name:"callPutsValue",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],internalType:"struct Types.PortfolioValues",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_a",type:"address"}],name:"isAddressInSet",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxNetDhvExposure",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPortfolioValuesFeed",name:"_migrateContract",type:"address"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"netDhvExposure",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"}],name:"requestPortfolioData",outputs:[{internalType:"bytes32",name:"id",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rfr",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_liquidityPool",type:"address"}],name:"setLiquidityPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"}],name:"setMaxNetDhvExposure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"_optionHashes",type:"bytes32[]"},{internalType:"int256[]",name:"_netDhvExposures",type:"int256[]"}],name:"setNetDhvExposures",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rfr",type:"uint256"}],name:"setRFR",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"storesForAddress",outputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"syncLooper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"},{internalType:"address",name:"_seriesAddress",type:"address"}],name:"updateStores",outputs:[],stateMutability:"nonpayable",type:"function"}],Gs=[{inputs:[{internalType:"address",name:"_oracle",type:"address"},{internalType:"address",name:"_addressBook",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!1,internalType:"uint256",name:"dust",type:"uint256"}],name:"CollateralDustUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"feeRecipient",type:"address"}],name:"FeeRecipientUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"FeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"liquidationMultiplier",type:"uint256"}],name:"LiquidationMultiplierUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"MaxPriceAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newValue",type:"uint256"}],name:"MaxPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oracleDeviation",type:"uint256"}],name:"OracleDeviationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"product",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"spotShock",type:"uint256"}],name:"SpotShockUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"}],name:"TimeToExpiryAdded",type:"event"},{inputs:[],name:"AUCTION_TIME",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"}],name:"getCollateralDust",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"getExcessCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"getExpiredPayoutRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFeeInformation",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"getMarginRequired",outputs:[{components:[{internalType:"int256",name:"value",type:"int256"}],internalType:"struct FixedPointInt256.FixedPointInt",name:"",type:"tuple"},{components:[{internalType:"int256",name:"value",type:"int256"}],internalType:"struct FixedPointInt256.FixedPointInt",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_timeToExpiry",type:"uint256"}],name:"getMaxPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_shortAmount",type:"uint256"},{internalType:"uint256",name:"_strikePrice",type:"uint256"},{internalType:"uint256",name:"_underlyingPrice",type:"uint256"},{internalType:"uint256",name:"_shortExpiryTimestamp",type:"uint256"},{internalType:"uint256",name:"_collateralDecimals",type:"uint256"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getNakedMarginRequired",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOracleDeviation",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getSpotShock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getTimesToExpiry",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"isLiquidatable",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidationMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"contract OracleInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_dust",type:"uint256"}],name:"setCollateralDust",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_liquidationMultiplier",type:"uint256"}],name:"setLiquidationMultiplier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_deviation",type:"uint256"}],name:"setOracleDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_shockValue",type:"uint256"}],name:"setSpotShock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256[]",name:"_timesToExpiry",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"setUpperBoundValues",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_timeToExpiry",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"updateUpperBoundValue",outputs:[],stateMutability:"nonpayable",type:"function"}],Ks=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnOtoken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"expiryTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOtokenDetails",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_underlyingAsset",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"uint256",name:"_strikePrice",type:"uint256"},{internalType:"uint256",name:"_expiryTimestamp",type:"uint256"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isPut",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintOtoken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ys=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"isSet",type:"bool"}],name:"AccountOperatorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"CallExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isRestricted",type:"bool"}],name:"CallRestricted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollateralAssetDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollateralAssetWithdrawed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"donator",type:"address"},{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Donated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldFullPauser",type:"address"},{indexed:!0,internalType:"address",name:"newFullPauser",type:"address"}],name:"FullPauserUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LongOtokenDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LongOtokenWithdrawed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"}],name:"NakedCapUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldPartialPauser",type:"address"},{indexed:!0,internalType:"address",name:"newPartialPauser",type:"address"}],name:"PartialPauserUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"redeemer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"address",name:"collateralAsset",type:"address"},{indexed:!1,internalType:"uint256",name:"otokenBurned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"payout",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ShortOtokenBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ShortOtokenMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"SystemFullyPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"SystemPartiallyPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"vaultOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"auctionPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralPayout",type:"uint256"},{indexed:!1,internalType:"uint256",name:"debtAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"address",name:"series",type:"address"}],name:"VaultLiquidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"vaultType",type:"uint256"}],name:"VaultOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"oTokenAddress",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"payout",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"vaultType",type:"uint256"}],name:"VaultSettled",type:"event"},{inputs:[],name:"addressbook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"calculator",outputs:[{internalType:"contract MarginCalculatorInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callRestricted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_expiry",type:"uint256"}],name:"canSettleAssets",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"clearVaultLiquidationDetails",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"donate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"fullPauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accountOwner",type:"address"}],name:"getAccountVaultCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getConfiguration",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getNakedCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getNakedPoolBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"getPayout",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getProceed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVault",outputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVaultLiquidationDetails",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVaultWithDetails",outputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"hasExpired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_owner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"isLiquidatable",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isOperator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"isSettlementAllowed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum Actions.ActionType",name:"actionType",type:"uint8"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Actions.ActionArgs[]",name:"_actions",type:"tuple[]"}],name:"operate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"contract OracleInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialPauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract MarginPoolInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"refreshConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_isRestricted",type:"bool"}],name:"setCallRestriction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_fullPauser",type:"address"}],name:"setFullPauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_cap",type:"uint256"}],name:"setNakedCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_isOperator",type:"bool"}],name:"setOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_partialPauser",type:"address"}],name:"setPartialPauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_fullyPaused",type:"bool"}],name:"setSystemFullyPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_partiallyPaused",type:"bool"}],name:"setSystemPartiallyPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"systemFullyPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"systemPartiallyPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whitelist",outputs:[{internalType:"contract WhitelistInterface",name:"",type:"address"}],stateMutability:"view",type:"function"}],zs=[{inputs:[{internalType:"address",name:"vaultRegistry",type:"address"},{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"bool",name:"isCall",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"Proxy__ImplementationIsNotContract",type:"error"},{inputs:[],name:"Vault__SettingsUpdateIsEmpty",type:"error"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"VAULT_TYPE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Qs=[{inputs:[{internalType:"address",name:"diamond",type:"address"},{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"DoublyLinkedList__InvalidInput",type:"error"},{inputs:[],name:"DoublyLinkedList__NonExistentEntry",type:"error"},{inputs:[],name:"ERC165Base__InvalidInterfaceId",type:"error"},{inputs:[],name:"Proxy__ImplementationIsNotContract",type:"error"},{inputs:[{internalType:"UD60x18",name:"x",type:"uint256"}],name:"UD60x18_IntoUD50x28_Overflow",type:"error"},{stateMutability:"payable",type:"fallback"}],Zs=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],Xs=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Js=[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Ge={[ye]:{TxBuilder:{address:"0x9daA79Dbf6CD067D207194661779677B5Ee29DCF",abi:ks},TxBuilderOpen_Hegic:{address:"0xb94fe302bF6B707027706996887299120449B6ec",abi:Ps},TxBuilderOpen_Lyra_BTC:{address:"0x74c9F3Fd89406DBf66cd856d7e5Baa790437d61b",abi:ws},TxBuilderOpen_Lyra_ETH:{address:"0xF399516F22c4C6BfdA1A4d858Ea188912B846B5c",abi:Cs},TxBuilderOpen_Rysk:{address:"0xd824D637174B3D3eEdab2C7a66f3B246c8B7B7f1",abi:Ss},TxBuilderOpen_Premia:{address:"0xcaeCf0e9d03bB4AF9907221A55f822F50c64b032",abi:Ms},Exchanger:{address:"0x03E34a4d1F2B88579521086876E781479A544610",abi:Bs},StopOrder_Hegic:{address:"0x83ca705E8eEE363b16935D5FCbC3514530d41C74",abi:As},StopOrder_Lyra_BTC:{address:"0xDE51a10A711412353e825623F58F56d9D0EA98cF",abi:Es},StopOrder_Lyra_ETH:{address:"0x06a6815b91c88BDa19832Ada861077e123C34FFb",abi:Ds},Hegic_OperationalTreasury:{address:"0xec096ea6eB9aa5ea689b0CF00882366E92377371",abi:Is},Hegic_PositionManager:{address:"0x5fe380d68fee022d8acd42dc4d36fbfb249a76d5",abi:Os},Hegic_Strategy:{abi:Fs},Hegic_PriceCalculator:{abi:Ls},Lyra_OptionToken_BTC:{address:"0x0e97498F3d91756Ec7F2d244aC97F6Ea9f4eBbC3",abi:Rs},Lyra_OptionToken_ETH:{address:"0xe485155ce647157624C5E2A41db45A9CC88098c3",abi:Ns},Lyra_Quoter:{address:"0x23236b4c7772636b5224df56Be8168A2f42df31C",abi:js},Rysk_LiquidityPool:{address:"0x217749d9017cB87712654422a1F5856AAA147b80",abi:Us},Rysk_OptionCatalogue:{address:"0x44227Dc2a1d71FC07DC254Dfd42B1C44aFF12168",abi:Hs},Rysk_OptionExchange:{address:"0xC117bf3103bd09552F9a721F0B8Bce9843aaE1fa",abi:qs},Rysk_OptionRegistry:{address:"0x8Bc23878981a207860bA4B185fD065f4fd3c7725",abi:$s},Rysk_BeyondPricer:{address:"0xeA5Fb118862876f249Ff0b3e7fb25fEb38158def",abi:Ws},Rysk_AlphaPortfolioValuesFeed:{address:"0xc7abaec336098cd0dcd98b67cb14d3b18e1c68a8",abi:Vs},Rysk_MarginCalculator:{address:"0x268544e8dc0b016aabda5dfa633c7ec4362aed45",abi:Gs},Rysk_Otoken:{abi:Ks},Rysk_OpynController:{address:"0x594bd4ec29f7900ae29549c140ac53b5240d4019",abi:Ys},Premia_Vault:{abi:zs},Premia_Pool:{abi:Qs},ChainlinkOracle:{abi:Xs},UniswapQuoter:{address:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",abi:Js}},[dt]:{}},er=()=>{for(const e in Ge){const t=Ge[e],n=De[e];n&&(n.forEach(a=>{a.isETH||(t[a.symbol]={address:a.address,abi:Zs})}),Ge[e]={...t})}};er();const W=(e,t)=>{if(!Ge[e])throw new Error(`Unknown chainId ${e}`);const n=Ge[e][t];if(!n)throw new Error(`Unknown contract "${t}" for chainId ${e}`);return[n.address,n.abi]},Xt=(e,t)=>W(e,t)[0],nt=(e,t)=>W(e,t)[1],tr=(e,t,n,a,s,r)=>{const o=ue(a,t.decimals),p=new q(...W(e,t.symbol),he());ct(e,p.approve,[n,me.from(o)],`${t.symbol} approved.`,s,r)},nr=async(e,t,n,a,s)=>{ge(s);const r=new q(...W(e,t.symbol),V(e)),o=ue(s,t.decimals);return(await r.allowance(n,a)).toBigInt()>=o},Jt=(e,t)=>{const n=ft[t];return ue(e,n)},en=(e,t)=>{const n=ft[t];return te(e,n)},ar=e=>e.startsWith("W"),Gn=(e,t)=>{const n=e.address!==t.address,a=e.isETH!==t.isETH;return n||a},vt=e=>Math.abs(e)===1,qe=e=>e>0,tn=e=>!!e.find(t=>!qe(t)),ir=e=>!!e.find(t=>qe(t)),sr=e=>!!e.find(t=>t),rr=(e,t,n)=>{let a;const s=`W${n}`,r=t.split(" ")[0];return!vt(e)||r==="Short"?a=["USDC.e"]:r==="Covered"?a=[s]:r==="Iron"&&(a=["USDC.e",s]),a},or=e=>{const t=e.includes("Straddle"),n=e==="Iron Butterfly";if(t)return[0,1];if(n)return[1,2]},pr=(e,t)=>{if(!(e!=null&&e[0].market))return;if(e.length>1){const a=e.find(s=>s.market===t);if(a)return a}return e[0]},kt=(e,t)=>new q(...W(e,`TxBuilderOpen_${t}`),V(e)),ur=e=>{const t=new q(...W(e,"TxBuilderOpen_Hegic"),V(e)),n=new q(...W(e,"TxBuilderOpen_Lyra_BTC"),V(e)),a=new q(...W(e,"TxBuilderOpen_Lyra_ETH"),V(e)),s=new q(...W(e,"TxBuilderOpen_Rysk"),V(e)),r=new q(...W(e,"TxBuilderOpen_Premia"),V(e));return{Hegic:t,Lyra_ETH:a,Lyra_BTC:n,Rysk:s,Premia:r}},lr=(e,t,n)=>{if(!t)return n;let a=0,s=0;return e.map(o=>qe(o)?t[a++]:n[s++])},yr=e=>{const t=Object.keys(e);return t?!!t.find(a=>!e[a][0].isAbsent):!1},Kn=(e,t)=>{var a;return(a=e==null?void 0:e.decomposition)!=null&&a.length?!!e.decomposition.find(s=>{if(!s)return;const r=s.marketToken,o=t??e.paymentToken;return!r||!o?!1:Gn(r,o)}):!1},ae=1e3,nn=60,rt=60,ot=24,Yn=e=>e*ot*rt*nn*ae,dr=e=>Math.floor(e/ae/nn/rt/ot),Ie=e=>Math.floor(e/ae),cr=e=>{const t=e/ae/nn/rt,n=Math.floor(t%ot),a=Math.floor(t/ot),s=Math.floor(t*rt);return n===0&&a===0?`${s}m`:`${a}d:${n}h`};const mr="/sf_draft/assets/Hegic-a7e6545a.svg",Tr="/sf_draft/assets/Hegic_circled-26df614a.svg",fr="/sf_draft/assets/Hegic_circled-light-9256df54.svg",br="/sf_draft/assets/Lyra-0ebc1db3.svg",hr="/sf_draft/assets/Lyra_circled-1da5fd25.svg",gr="/sf_draft/assets/Lyra_circled-light-a90bfa71.svg",xr="/sf_draft/assets/Rysk-42fd3216.svg",_r="/sf_draft/assets/Rysk_circled-80c8292c.svg",vr="/sf_draft/assets/Rysk_circled-light-d3dd627c.svg",kr="/sf_draft/assets/Premia-57f34f07.svg",wr="/sf_draft/assets/Premia_circled-d7a0395a.svg",Cr="/sf_draft/assets/Premia_circled-d7a0395a.svg",an={Hegic:{common:mr,circled:Tr,circledLight:fr},Lyra:{common:br,circled:hr,circledLight:gr},Rysk:{common:xr,circled:_r,circledLight:vr},Premia:{common:kr,circled:wr,circledLight:Cr}},Rt=["delta","vega","gamma","theta"],bn=8,Pr=[7,14,30,60,90],pt=Pr.map(Yn),wt=1e4,Sr=.003,Mr=()=>pt.map((t,n)=>{const a=new Date(Date.now()+t),s=n===0,r=n===pt.length-1,o=a.getUTCHours()>=bn,p=a.getUTCDate();return s&&o&&a.setUTCDate(p+1),r&&!o&&a.setUTCDate(p-1),a.setUTCHours(bn),a.setUTCMinutes(0),a.setUTCSeconds(0),a.setUTCMilliseconds(0),a.getTime()}),Ar=e=>e?e.liveBoards().map(n=>n.expiryTimestamp*ae):[],Er=async e=>{const t=new q(...W(e,"Rysk_LiquidityPool"),V(e)),n=new q(...W(e,"Rysk_OptionCatalogue"),V(e)),{minExpiry:a,maxExpiry:s}=await t.optionParams();return n.getExpirations().then(r=>r.map(p=>Number(p)*ae).filter(p=>{const u=Number(a)*ae,l=Number(s)*ae;if(!(p<Date.now())&&!(p-Date.now()<u)&&!(p-Date.now()>l))return!0}))},Dr=async(e,t)=>{let n;try{n=[...Mr(),...Ar(t),...await Er(e)]}catch(a){console.log(a)}return n},Br=e=>{const{strategyStructure:t,dateListState:n,chosenDateState:a,lyraMarket:s,updateTriggers:r,resetTriggers:o,isDisabled:p,updateUnstableField:u}=e,l=K(),{account:d}=z(),[y,c]=n,[m,T]=g.useState(!1),[b,f]=a,x=()=>{T(!0),Dr(l,s).then(M=>{if(!M)return;const U=Ht(M).sort(qt);c(U),T(!1)})},h=()=>{f(null)};g.useEffect(()=>{x()},r),g.useEffect(()=>{h()},o);const v=(M,U="d MMM")=>{const E=M-Date.now();return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"BuilderForm__date-value",children:Cn(M,U)}),i.jsx("div",{className:"BuilderForm__date-period",children:cr(E)})]})},C=y.map(M=>({value:M,label:v(M)})),I=b&&C.find(M=>M.value===b);return i.jsxs("div",{className:"BuilderForm__field BuilderForm__field_date",children:[i.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),i.jsx("div",{className:"BuilderForm__field-body",children:t.map((M,U)=>{const E=qe(M),R=vt(M),O=Qt(i.jsx(Ue,{className:"Selector_thin-options",placeholder:"Choose Date",isDisabled:p||!d,options:C,value:I,formatOptionLabel:({value:S},{selectValue:N,context:B})=>{var k;if(B==="menu")return v(S);const _=((k=N[0])==null?void 0:k.value)===S?"d MMM hh a":"d MMM";return v(S,_)},onChange:S=>{f(S.value)},iconTextNode:i.jsxs("span",{className:D({positive:E,negative:!E},"block"),style:{width:25},children:[E?"Buy":"Sell",i.jsx("br",{}),R?"Call":"Put"]})},U),m,i.jsx(we,{},U));return u(U,O),O})})]})},sn=(e,t,n,a)=>{const[s,r]=n.split(".");let o=e[s],p=t[s];return r&&(o=o&&o[r],p=p&&p[r]),qt(o,p,a)},Ir=(e,t)=>(n,a)=>sn(n,a,e,t),Ct=(e,t,n)=>{if(!e||!Object.keys(e).length)return{...t};if(!t)return;const a={...e};n||(n=Object.keys(e));for(let s=0;s<n.length;s++){const[r,o]=n[s].split("."),p=o?e[r][o]:e[r],u=o?t[r][o]:t[r],l=p+u;o?(a[r]||(a[r]={}),a[r][o]=l):a[r]=l}return a};const Or=(e,t,n)=>e?n>t:n<t,Ze=(e,t,n=X)=>Un(e,1+t,n),$e=(e,t,n)=>{const a=Pe(t,be(n))*100n,s=G(-100),r=G(100);return e===null?a:e?a<s?s:a:a>r?r:a},zn=()=>({delta:void 0,vega:void 0,gamma:void 0,theta:void 0,rho:void 0}),Qn=(e,t)=>{const n=Ct(e,t);for(const a in n){const s=n[a];n[a]=s?Re(s,3):void 0}return n},Fr=(e,t,n)=>{if(e===null)return null;const a=Math.abs(e);let s=t?a:-a;return n||(s=-s),s},rn=(e,t=X)=>Math.round($(e,t));function hn(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function Lr(){const[e,t]=g.useState(hn());return g.useEffect(()=>{function n(){t(hn())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const Pt=(e=768)=>{const{width:t}=Lr();return t<e},Rr=({getParentNode:e,getChildNodes:t})=>{const[n,a]=qa(!1),s=D(n&&"expanded"),r=e(s,a),o=t(s);return i.jsxs(i.Fragment,{children:[r,...o]})};const Zn=({children:e,transitionTimeout:t=250,renderHeader:n=({state:a})=>a.isEnter?"Hide":"Show"})=>i.jsx("div",{className:"Accordion",children:i.jsx(ii,{transition:!0,transitionTimeout:t,children:i.jsx(si,{header:n,children:e})})});const Xe=({isVertical:e})=>i.jsx("div",{className:D("Divider",e&&"vertical")});class Xn{constructor(t){const{titleData:n,itemsData:a}=t,s=Object.keys(n);this.titleData=n,this.itemsData=a,this.dataKeys=s}}class Nr extends Xn{constructor(t){super(t),this.getTitleRow=this.getTitleRow.bind(this),this.getItemsRows=this.getItemsRows.bind(this)}getTitleRow(){const t=this._getCells(this.titleData,!0);return i.jsxs("tr",{children:[...t]})}getItemsRows(){const t=this.itemsData.map(n=>{const a=this._getItemRow(n);return i.jsx(Ke.Fragment,{children:a},n.id)});return i.jsx(Ke.Fragment,{children:t},"rows")}_getCells(t,n){return this.dataKeys.map(a=>{const s=t[a]??J();return n?i.jsx("th",{children:s},a):i.jsx("td",{children:s},a)})}_getItemRow(t){const n=!!t.children,a=this._getCells(t),s=(o,p)=>i.jsxs("tr",{className:D("Table__item",n&&"expandable",o),onClick:p,children:[...a]});return n?this._getExpandableRow(t,s):s()}_getExpandableRow(t,n){const a=s=>t.children.map(o=>{const p=this._getCells(o);return i.jsxs("tr",{className:D("Table__child-item",s),children:[...p]},o.id)});return i.jsx(Rr,{getParentNode:n,getChildNodes:a},t.id)}}class jr extends Xn{constructor(t){super(t),this._getItem=this._getItem.bind(this)}getItems(){return this.itemsData.map(this._getItem)}_renderItemRows(t){const n=t.omittedKeys;return this.dataKeys.map(s=>{const r=t[s];return n&&!!n.find(p=>s===p)||ee(r)?null:i.jsxs("div",{className:D("Table__item-row info-row",s),children:[i.jsx("div",{className:"info-row__title",children:this.titleData[s]}),i.jsx("div",{className:"info-row__value",children:r===null?J():r})]})})}_getItem(t){return i.jsxs("div",{className:"Table__item App-box",children:[this._renderItemRows(t),t.children&&i.jsxs(i.Fragment,{children:[i.jsx(Xe,{}),i.jsx(Zn,{transitionTimeout:500,renderHeader:({state:n})=>`${n.isEnter?"Hide":"Show"} full strategy`,children:t.children.map(n=>i.jsxs(i.Fragment,{children:[i.jsx(Xe,{}),i.jsx("div",{className:"Table__child-item",children:this._renderItemRows(n)})]}))})]})]})}}const Jn=({structureData:e,className:t,children:n})=>{const a=Pt(576),s=p=>{if(!p){const u=new Nr(e),{getTitleRow:l,getItemsRows:d}=u;p=[i.jsx("thead",{children:l()},"head"),i.jsx("tbody",{children:d()},"body")]}return i.jsx("div",{className:"Table__desktop",children:i.jsx("table",{children:p})})},r=()=>{const u=new jr(e).getItems();return i.jsx("div",{className:"Table__mobile",children:u})},o=()=>a?r():s();return i.jsx("div",{className:D("Table",t),children:n!=null&&n.length?s(n):o()})};const ea="/sf_draft/assets/direction_up-3632497a.svg",ta="/sf_draft/assets/direction_down-6f961d86.svg",na=({strikeData:e,priceNode:t,isPriceHlight:n,isSmall:a})=>{const{market:s,isCall:r,isBuy:o}=e,p=an[s].circled,u=o?ea:ta;return i.jsxs("div",{className:D("Brief","PriceBrief",a&&"small"),children:[i.jsxs("div",{className:"PriceBrief__icons Brief__icons",children:[i.jsx("div",{className:"Brief__icon",children:i.jsx("img",{src:p,alt:`${s}`})}),i.jsx("div",{className:"Brief__icon",children:i.jsx("img",{src:u,alt:`${o?"Long":"Short"}`})})]}),i.jsx("div",{className:D("PriceBrief__info-card",{positive:o,negative:!o}),children:r?"Call":"Put"}),i.jsx("div",{className:D("PriceBrief__price",n&&"hlight"),children:t})]})},Ur=e=>{const{id:t,amountStr:n,strikeMarketsDataArr:a,chosenStrikeData:s,setChosenStrikeData:r,isOpen:o,close:p}=e,[u,l]=g.useState([]),d=()=>{const f=[];a.forEach((x,h)=>{const v=G(ke(n));x.utils.calcPremium(v).then(C=>{x.premiumData=C,f[h]=C,l([...f])})})};if(g.useEffect(()=>{l([]),a&&d()},[a,n]),!a)return null;const y=23,m=80-y,b=200-y;return i.jsx("div",{className:D("StrikeInfoBox",o&&"open"),style:{zIndex:9-t*2},children:i.jsxs(Jn,{onClick:f=>f.stopPropagation(),children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:i.jsx("div",{style:{minWidth:b},children:"Market"})}),i.jsx("th",{children:i.jsx("div",{style:{minWidth:m},children:"Source"})}),i.jsx("th",{children:i.jsx("div",{style:{minWidth:m},children:"Delta"})}),i.jsx("th",{children:i.jsx("div",{style:{minWidth:m},children:"Vega"})}),i.jsx("th",{children:i.jsx("div",{style:{minWidth:m},children:"Gamma"})}),i.jsx("th",{children:i.jsx("div",{style:{minWidth:m},children:"Theta"})}),i.jsx("th",{children:i.jsx("div",{style:{width:m},children:"Rho"})})]})}),i.jsx("tbody",{children:a.sort(Ir("premiumData.inUSDC")).map((f,x)=>{const{greeks:h,source:v}=f,C=u[x],I=!C||C.isDisabled,M=f===s;return i.jsxs("tr",{className:D("StrikeInfoBox__strike-option",I&&"disabled",M&&"chosen"),children:[i.jsxs("td",{children:[i.jsx("button",{className:"StrikeInfoBox__strike-option-overlay-btn",onClick:()=>{r(f),p()},disabled:I}),i.jsx(na,{strikeData:f,priceNode:_t(()=>C===null?J("No liquidity",!0):`$${Z(C.inUSDC)}`,ee(C)),isPriceHlight:!0})]}),i.jsx("td",{children:v??"AMM"}),Object.keys(h).map(U=>{const E=h[U];return i.jsx("td",{children:E??J()},U)})]},f.market)})})]})})};const Je=e=>{const{children:t}=e;return i.jsx("div",{className:"InnerWarning",children:t})};ri();const Hr=e=>{const{id:t,className:n,isUnited:a,spaceBetween:s,isDraggable:r,breakpoints:o,handleInit:p,slideClassName:u,children:l}=e,d=g.useRef(null),y=`${a?`.${n}`:`#${t}`}`,c={spaceBetween:s,allowTouchMove:r,breakpoints:o,navigation:{enabled:!0,prevEl:`${y} .Carousel__nav-btn_prev`,nextEl:`${y} .Carousel__nav-btn_next`},on:{init:m=>{m.el.style.overflow="clip visible",p&&p(m)}}};return g.useEffect(()=>{const m=d.current;m&&(Object.assign(m,c),m.initialize())},[d,c]),i.jsxs("div",{className:D("Carousel",n),id:t,children:[i.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_prev"}),i.jsx("swiper-container",{init:!1,ref:d,children:l==null?void 0:l.map((m,T)=>i.jsx("swiper-slide",{class:u,children:m},T))}),i.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_next"})]})};const qr=e=>{const{asset:t}=e;return i.jsx(Hr,{slidesPerView:"auto",breakpoints:{768:{slidesPerView:"auto"},576:{slidesPerView:7,grid:{fill:"row",rows:2}},520:{slidesPerView:6,grid:{fill:"row",rows:2}},380:{slidesPerView:5,grid:{fill:"row",rows:2}},0:{slidesPerView:4,spaceBetween:4,grid:{fill:"row",rows:2}}},spaceBetween:5,className:"StrikeCarousel",isDraggable:!1,isUnited:!0,slideClassName:`StrikeCarousel__slide_${t}`,children:e.children})},on=e=>Object.keys(e).map(Number),$r=e=>{const t={},n=e.map(s=>s.strike);return Ht(n).forEach(s=>{const r=e.filter(p=>p.strike===s),o=rn(s);t[o]=r}),t},Wr=e=>e.map($r),Vr=e=>{const t=[];return e.forEach(a=>{const s=on(a);t.push(...s)}),Ht(t)},Gr=e=>{const t=Vr(e);return e.map(a=>{const s=on(a),r={...a};return t.forEach(o=>{s.indexOf(o)===-1&&(r[o]=[{strike:G(o),isAbsent:!0}])}),r})};const Kr=e=>{const{currentPrice:t,isFirst:n}=e;return i.jsx("div",{className:D("StrikeCurrentPriceItem","StrikeChooser__item",n&&"StrikeCurrentPriceItem_first"),children:i.jsxs("span",{children:["$",le(t)]})})};const Yr="/sf_draft/assets/cross_grey-42dbd9c5.svg",zr=e=>{const{isITM:t}=e;return i.jsx("div",{className:D("StrikeAbsentItem","StrikeChooser__item",t&&"StrikeChooser__item_ITM"),children:i.jsx("img",{src:Yr,alt:"Absent"})})},pn=e=>{const t=tt();return(t==null?void 0:t[e])??0n},Qr=({className:e,id:t,isAutoSelectEnabled:n,structureKey:a,asset:s,amountStr:r,strikesData:o,chosenStrikeData:p,setChosenStrikeData:u})=>{const{isConnected:l}=z(),d=pn(s),y=Math.floor($(d)),c=t===0,m=Pt(),[T,b]=g.useState(null),f=S=>{const N={};for(const B in S){const _=S[B][0],{isCurrentPrice:k,isAbsent:A}=_;k&&A||(N[B]=S[B])}return N},x=()=>{const S=f(o);let N;for(const B in o){const w=o[B][0];if(w.isCurrentPrice||y===w.strike){w.isCurrentPrice=!0,N=w;break}}return N||(S[y]=[{strike:d,isCurrentPrice:!0,isAbsent:!0}]),S},h=()=>{if(o){if(!yr(o))return{strikes:[],dataArr:[]};let S=x();const N=on(S).sort(qt),B=Object.values(S).sort((w,_)=>{const k=w[0],A=_[0];return sn(k,A,"strike")});return{strikes:N,dataArr:B}}return{}},{strikes:v,dataArr:C}=h(),I=!!(v!=null&&v.length),{openPopup:M,closePopup:U,isOpen:E}=Sn(()=>b(null)),R=()=>i.jsx(qr,{asset:s,children:v.map((S,N)=>{const B=C[N],w=B[0],{isCurrentPrice:_,isAbsent:k}=w;if(_&&k)return i.jsx(Kr,{currentPrice:S,isFirst:c},"current_price");const A=vt(a),L=Or(A,S,y);if(k)return i.jsx(zr,{isITM:L},N);const P=p&&p.strike===G(S),j=P&&p.market,F=T===B;return i.jsxs(ve,{className:D("StrikeChooser__item",L&&"StrikeChooser__item_ITM",P&&"chosen",F&&"open",_&&D("StrikeCurrentPriceItem",c&&"StrikeCurrentPriceItem_first")),style:{cursor:"pointer"},type:"stroke",onClick:H=>{E&&H.stopPropagation(),b(B),M()},children:[P&&i.jsx("div",{className:"StrikeChooser__item-market",children:i.jsx("img",{src:an[j].circledLight,alt:`${j} icon`})}),i.jsxs("span",{children:["$",le(S)]})]},S)})}),O=()=>o?I?i.jsx("div",{className:"StrikeChooser__items",style:{zIndex:10-t*2},children:R()}):i.jsx(Je,{children:"No Liquidity"}):i.jsxs(Je,{children:[l?"C":"Connect wallet and c","hoose expiration date to view strikes"]});return i.jsxs("div",{className:D("StrikeChooser",e,m&&!o&&"hidden"),children:[O(),i.jsx(Ur,{id:t,amountStr:r,strikeMarketsDataArr:T,chosenStrikeData:p,setChosenStrikeData:u,isOpen:E,close:U})]})},Zr={[ye]:{short:{CALL_100_BTC:"0x527d1086C3DD22FcdB338F69D47A1e4bFE11E539",CALL_100_ETH:"0x09a4B65b3144733f1bFBa6aEaBEDFb027a38Fb60",CALL_110_BTC:"0x377191F680b52ce3d0060388fEF01be7ef68e3d5",CALL_110_ETH:"0xF48f571DdD77dba9Ae10fefF6df04484685091D9",CALL_120_BTC:"0x8Fb8529695237D4004cffb21499e7E49E982786a",CALL_120_ETH:"0x96416b82C9DFA7649570c784Eb0D0FFcDE361cFE",CALL_130_BTC:"0x32563D6151891c0A8d56eD644AcDEa6FE5f4E4eB",CALL_130_ETH:"0xf8b8b54bE1Eb37E76873670Ac9DE3C28b507142C",PUT_100_BTC:"0xA8DF600289bEc25602741756f55f27ffFDAB69a6",PUT_100_ETH:"0xaA0DfBFb8dA7f45BB41c0fB68B71FAEB959B22aa",PUT_70_BTC:"0x7066286C1AA0FeBE0f63eF8a44F6Fea9F05FFBE0",PUT_70_ETH:"0x35EF16F3c329a54050Ca120145340dfC2b4F9541",PUT_80_BTC:"0x06c3Ba025bEd24Ea38c2BdDA4bcD2A7F9f5C30e1",PUT_80_ETH:"0x77C8d12d9E2D21f6eE02E8ccA332fDe4BE5C2465",PUT_90_BTC:"0xe115beD3b0752BBbbEF5C423021b464bBF93dC2c",PUT_90_ETH:"0x6B7e5906F53d8bB365f4A6fA776Fd0f0caf57881","CALL-SPREAD_10_BTC":"0x5D0bc0d08e8A7C09d10df9BB2498f1d4aB986e6A","CALL-SPREAD_10_ETH":"0x5c59f7ec23C0Bace3B1959C99A43FFd30078E5bE","CALL-SPREAD_20_BTC":"0x597cdD5D4CEC7FA2851Cc0cfd93d6915c926a107","CALL-SPREAD_20_ETH":"0x4490ad3c0c1A61061E88a3eaD661bFe16225A370","CALL-SPREAD_30_BTC":"0xc822F483dAE467721123eA60D3D233e7ac68802f","CALL-SPREAD_30_ETH":"0x610D7feB49DD18BBC20E4dbe600c53E1cDf6d9F1","PUT-SPREAD_10_BTC":"0x45b9D63F1998ca31151981792849a64342C88631","PUT-SPREAD_10_ETH":"0xc4C3b5050D574CBF3eE0b613104cF5C4E47625d4","PUT-SPREAD_20_BTC":"0x606e34C7008f1425C3a69446de4cAd3D7c6fd96D","PUT-SPREAD_20_ETH":"0xa1c290D16E2290EA536a13Ba7cc3Df0000A0f1A6","PUT-SPREAD_30_BTC":"0x71D89f44C71252f319Cd9652f7886c3834685A58","PUT-SPREAD_30_ETH":"0x8F11Ed84e9Dc76db4392b428A0eAF98Ce72c3752"},medShort:{CALL_100_BTC:"0x20ee3e61e8f1eB8ae959abf5F78bA8731d010Ac3",CALL_100_ETH:"0x6418C3514923a6464A26A2ffA5f17bF1efC96a21",CALL_110_BTC:"0xaFA483B18FE66251C8306C7018028f674F653012",CALL_110_ETH:"0xaF38a4d9153B149F05FA85C2cCFAaA677c99040E",CALL_120_BTC:"0xFe35F1AB7e18930d4316B86fCefBCF053bf44A45",CALL_120_ETH:"0x1060e80c1156060a1E8DdB9C64Afe74564865Ee2",CALL_130_BTC:"0xe4DB400BFC4D627559D592db4ca2839cb87Fbbfc",CALL_130_ETH:"0xc00103524932d86770d4F671107b0E170BD0fe6c",PUT_100_BTC:"0xE0f083fd87ebAEBFCfa8236098048105d32639E4",PUT_100_ETH:"0x2739A4C003080A5B3Ade22b92c3321EDa2Da3A9e",PUT_70_BTC:"0x52442a8C632D4c998A8BDBf44A70481AA5599b0e",PUT_70_ETH:"0x48EcF46Aa51992a064aB172439ABFE182F39b478",PUT_80_BTC:"0xb02343D33d2447870E38b3452Ef59d0De7b3289d",PUT_80_ETH:"0xb58ccd922B57422d0497904B7D9fccB922b8aaDf",PUT_90_BTC:"0x7d0c3FDF0e8A6f475Ed1834ae05fDa1E519fd227",PUT_90_ETH:"0x3e2a0fE32Cc000d87D9e5D6ed8b3D64e9c74C752","CALL-SPREAD_10_BTC":"0x6FF946F2BB609B63910a774E193F29CdE7E8fD5f","CALL-SPREAD_10_ETH":"0x0ac1995C43B5566760AD1D88B812f3e51e12eCc6","CALL-SPREAD_20_BTC":"0x7E8e5eaD9A1b8F0533F614a736214a95835c79d7","CALL-SPREAD_20_ETH":"0x1068daF4CD8fDe2000B6FbE8Ec94F106dc08a40E","CALL-SPREAD_30_BTC":"0x3b4900D5a20dbEbCE44eDF8f6B68Dae32E990Ed0","CALL-SPREAD_30_ETH":"0x24db3145F45aAF2c54f586C66b801c42c8658671","PUT-SPREAD_10_BTC":"0x88386f02c46d8D7b2C9E4aEf3b4246A438F72693","PUT-SPREAD_10_ETH":"0x31e6Cd148fe51830E7a97262eE9cf52Fe5256B08","PUT-SPREAD_20_BTC":"0x72Ac8A96b8E79466AdcE711EcBD1Ec5968b371C8","PUT-SPREAD_20_ETH":"0x9e1072E5119C9345d9543a5Ba1EFeDBAE9bEF2AD","PUT-SPREAD_30_BTC":"0x01381e0EDdB57678257179d2cB472C3e8e54202c","PUT-SPREAD_30_ETH":"0xE8dD9Cc3A4Bd078f3D36043f259381d5B50D4B45"},medLong:{CALL_100_BTC:"0x21a4b4441AA957735902507A72A58A3a1Caaa0dC",CALL_100_ETH:"0xE377A1a97237b3B89a96d8B731A2ab10d5DaC16C",CALL_110_BTC:"0x6c46e2531a42F618F2ae452971DC9a7c6AD48D15",CALL_110_ETH:"0x05458B7d9531EaD242290De60bEaa3cC10C87560",CALL_120_BTC:"0xe259410Bbfb45CE89FDA81ec0A97d36Da8Db4374",CALL_120_ETH:"0x79F87E88088293FE34dEf4eBe71fBFa5367220B4",CALL_130_BTC:"0x27806482457FC98F9C2e724b5E604C66BB5ba121",CALL_130_ETH:"0xae2F4e15564995af79b7dd2378B2680f7Facc342",PUT_100_BTC:"0x035b965c5B7bC20E00358ACF1794d2248eA1932A",PUT_100_ETH:"0xf711D0BC60F37cA28845BA623ccd9C635E5073A1",PUT_70_BTC:"0x55c4532e1790592120b7b27436842caD203E7CD3",PUT_70_ETH:"0xF55F6d98e2F48F8D46757D5A6e225bf0ADC9651C",PUT_80_BTC:"0x8dD239e0e51BCAAd503b06D818ce811e7D99c1Af",PUT_80_ETH:"0xdF30cdb7abb3Ca707b82359A349D3b0C94d4a421",PUT_90_BTC:"0xE56BEAfAe4731A21eF83fe81F63b95055e81E374",PUT_90_ETH:"0x33a4B4403B8C6349371CbDf539138D78ec0Aab66","CALL-SPREAD_10_BTC":"0x8e3063D5dCbe66E58053C3Bc8E0BC8dDFe43D585","CALL-SPREAD_10_ETH":"0xBB318170Ce1c2dc79B564f33F92BacaadaBd22de","CALL-SPREAD_20_BTC":"0x324be893029D982c187F0333E7aa1d44365d2676","CALL-SPREAD_20_ETH":"0xb89d7eB2bc675347BEb685ff1bE1557E983beFe1","CALL-SPREAD_30_BTC":"0x530289340C6d2Ef02140054Ae7F91C293fd586CF","CALL-SPREAD_30_ETH":"0x929d20D9e1A6A90bf057857C8BA09271f1BaadA2","PUT-SPREAD_10_BTC":"0x7267091cFc9825a4A1dF36C26d412FeFD788d935","PUT-SPREAD_10_ETH":"0x2B93645f310E016c1a6d1738DCec0f18621F71d0","PUT-SPREAD_20_BTC":"0x9ab2f8530150799CDdAC35799d18Ad2fe05Bf8c3","PUT-SPREAD_20_ETH":"0x4EE21aB8bc165Cd3e6C45676F9f64426Ffc2d67b","PUT-SPREAD_30_BTC":"0xBa883223A1757eEB781d02C383926c308d4843f4","PUT-SPREAD_30_ETH":"0xf87C8C7587055FA62082E8ed447fe68D98805fF2"},long:{CALL_100_BTC:"0xc07fBf677f417bb9FfDD8248A74c7FBcCFaDAe9e",CALL_100_ETH:"0x2727B807D22fCAeB7F900F49894054Ed92b9125B",CALL_110_BTC:"0x14d25367102A931E2E2F587F4ED94087dc585fd0",CALL_110_ETH:"0xE53a20c824cEAB8151AF8Fc92E7Eb689cFbD1231",CALL_120_BTC:"0xBAbccB37338488AFBaBECAE2C3D21b9a71289A73",CALL_120_ETH:"0xB7b36483B256290435a060805bdF15B3f2b122eb",CALL_130_BTC:"0x9fA4DFfBE3B129988e0d09536b0E2D74F6bF7D91",CALL_130_ETH:"0x4dC39763ccC861dB1c8e80c34C0079c9A12f03E4",PUT_100_BTC:"0xEd46f602212d1CbaCd699C876b4A49761421bf97",PUT_100_ETH:"0x015FAA9aF7599e6cea597EBC7e7e04A149a3E992",PUT_70_BTC:"0xa26541ccE18CcC6E21360562d34044ceb3B5A40e",PUT_70_ETH:"0x5BBe6C4A66D4a48442dc0837a0eA859a11D7766C",PUT_80_BTC:"0xFD203c73851986ad7e7B99457AeafF3d98e76228",PUT_80_ETH:"0x7FD5E8B2Ef25A105bf6B1c45f62d8925Eaa068Bc",PUT_90_BTC:"0x02d730e3dEb3B5876fE2Cba59423ef1Db8211DA1",PUT_90_ETH:"0x3031EA515c2274024D93A8D3BfA91ce920E1192E","CALL-SPREAD_10_BTC":"0x0c1C4D9dFd51093bE1e4Bab1b565113B339835F6","CALL-SPREAD_10_ETH":"0xCe5e136688A1553C67b3B39Ff5366595dD0F771E","CALL-SPREAD_20_BTC":"0x7b92a9f268bab14F0FAee4337B01D563AE132Bc3","CALL-SPREAD_20_ETH":"0xe3F646CB987a9d16eb71B8d0883744e55c95862a","CALL-SPREAD_30_BTC":"0x223b806Bab0CA844a91b247fE0Ba179E11EAA728","CALL-SPREAD_30_ETH":"0x199DB958f00F150438E5b9276ff30617D3f83ebF","PUT-SPREAD_10_BTC":"0x66F54921b32cCA36767D2C272Dda64D5152B92C4","PUT-SPREAD_10_ETH":"0xfcd40dDe82b699D455B3D073196d580227C2Fba6","PUT-SPREAD_20_BTC":"0x8c77f5427B40ab2414dC9bca48c74928BFe17Dd1","PUT-SPREAD_20_ETH":"0xbAe8114E3A2EA5aF5e2b3c8F6FF37714f6D4afFB","PUT-SPREAD_30_BTC":"0x6D79b82701e4017887d499Ba131FD336ceA6A4CC","PUT-SPREAD_30_ETH":"0x9945Eb8ac1F4c524fe7Da710ff3068969A329fBA"}}},Xr={[ye]:{PUT_100_BTC:"0x4567600c2c813322F0CBb358a8d083296A7eEA37",PUT_100_ETH:"0xB72FC913e45522cD721252476fEfB7F50a65E23A",PUT_70_BTC:"0x3aFbaf00a6C42e6BE67f8a618b17fB3D441C1898",PUT_70_ETH:"0xf3625e26cb920f762dEC8DB4fE4845E9384313C0",PUT_80_BTC:"0x9C3BBe90191F8311939A34737c02A6B49e27caA5",PUT_80_ETH:"0x58051Cb78094551afC202C50085B13bF00BF624E",PUT_90_BTC:"0x56A2dC3fAc4bE0A1716c938295e141195e4A1cb3",PUT_90_ETH:"0x1AF37c8412bCdAa6C6dD4D2E2aDae2B8292603D4",CALL_100_BTC:"0xAA4483Da5c4D17830dE9a843d07C37b3eC028d9F",CALL_100_ETH:"0xC62a0b7e480a23BdCfe13EA08BDAceDc278a14C1",CALL_110_BTC:"0x04BFC83f6277cf50dFB032EFd348316aACbD7863",CALL_110_ETH:"0x6316BC5f5dF141ae88C436Fe6047D334f1B7e485",CALL_120_BTC:"0x965Ded687bc0Da3388c6925e0Eb330bD44629B77",CALL_120_ETH:"0x321F8A71e8268f50eBd2f748D524E7750AD70798",CALL_130_BTC:"0x4b350b7457b54C5A76828f81472f2719D801D0D5",CALL_130_ETH:"0xffdc9da896d3301DE596b16a389138B70b1CBAdb","CALL-SPREAD_10_BTC":"0xD3872581C3f7DE832Ecc9Aa51eb525AC9Ffc41d2","CALL-SPREAD_10_ETH":"0x3BC74C993e1E85ffB5e242402aEc3e90DCfa249f","CALL-SPREAD_20_BTC":"0x7f6a7d60c6f7ac50BD0efA677D397d9cd61fC3a9","CALL-SPREAD_20_ETH":"0x8C335E897B04B2Ca569Ec733f6242cDe33917094","CALL-SPREAD_30_BTC":"0x631c5EFb3e9D2536F9c9c9d7635e2B01363C51C5","CALL-SPREAD_30_ETH":"0xAe4897D4d3742F7f9C6A1eA01447EA3061bD6de2","PUT-SPREAD_10_BTC":"0xa4A32102a2c1d3Bf01A73B66571B440795835ff5","PUT-SPREAD_10_ETH":"0x5a4Dc7011CA0be61c42957cDC36D508d45010D8B","PUT-SPREAD_20_BTC":"0x0cC3559beCa7bB605348B1a7B4D90963672C880a","PUT-SPREAD_20_ETH":"0xeb38c2Ba3125733e9636eAB7C3c2e7a2C4A11534","PUT-SPREAD_30_BTC":"0x4CE72803543da3f563Ef76592945C57FBE7fce38","PUT-SPREAD_30_ETH":"0xDB044975100aE87d0eEDd804D9E6083a8406fdAe"}},un=e=>{const t=Zr[e];if(!t)throw new Error(`No Hegic strategies found for chainId ${e}`);return t},Jr=(e,t)=>{const n=un(e),a=dr(t);if(a<7||a>90)return;let s;return a<14?s=n.short:a<30?s=n.medShort:a<60?s=n.medLong:a<=90&&(s=n.long),s},eo=e=>{const t={},n=un(e);return Object.values(n).forEach((a,s)=>{const r=Object.keys(t)[s];for(const o in a){const p=a[o];t[`${o}_${r}`]=p}}),t},to=e=>{const t=un(e),n=[];return Object.values(t).forEach(a=>{n.push(...Object.values(a))}),n},no=(e,t)=>{const n=Xr[e];if(!n)throw new Error(`No Hegic Price Calculator address found for chainId ${e}`);const a=n[t];if(!a)throw new Error(`No Hegic Price Calculator address found for strategy key ${t}`);return a},aa=(e,t,n)=>{const a=nt(e,`Hegic_${n}`);return new q(t,a,V(e))},ao=(e,t)=>{const n=no(e,t);return aa(e,n,"PriceCalculator")},ia=(e,t)=>aa(e,t,"Strategy"),sa=.005*10**5,ln=(e,t,n,a)=>{const s=It(e,t),r=It(e,n),o=ue(a,s.decimals);return t===n||o===0n||s.isStable&&r.isStable?new Promise(l=>{l(a)}):new q(...W(e,"UniswapQuoter"),he()).callStatic.quoteExactInput($t.solidityPack(["address","uint24","address"],[t,sa,n]),o).then(l=>{const d=l.toBigInt();return te(d,r.decimals)}).catch(l=>{console.log(`Swapping ${s.symbol} to ${r.symbol} error!

`,l)})},Se=(e,t,n)=>{const a=On(e);return ln(e,t,a,n)},io=(e,t,n)=>{const a=On(e);return ln(e,a,t,n)},so=(e,t)=>$t.solidityPack(["address","uint24","address"],[e,sa,t]);class St{constructor(t){this.getMarketToken=n=>pe(n,t)}}class ro extends St{constructor(){super("USDC.e")}calcDeltaByAssetPrice(t,n){const{isCall:a,strike:s,amount:r}=t,o=$(r);return a?s<n?o:0:s>n?-o:0}calcDeltaByStrikeScale(t,n){const{isCall:a,amount:s}=t;return a?Number(n)<100?s:0:Number(n)>100?-s:0}}const yn=new ro,ra={PROTOCOL_NAME:"Hegic"},oo=async(e,t,n)=>{if(!po(t))return[];const{assetPrice:s}=n,{expiry:r}=t,o=r-Date.now();t={...t,period:o};const p=Jr(e,o);return p?await uo(e,p,t,s):[]},po=e=>{const{isBuy:t}=e;if(t)return!0},uo=async(e,t,n,a)=>{const{amount:s}=n,r=[],o=Object.keys(t);for(let u=0;u<o.length;u++){const l=o[u],d={strategyKey:l,strategyAddress:t[l]};if(!await lo(e,n,d))continue;const c=mo(e,d,n,a),m=c.utils.calcPremium(s).then(T=>({...c,premiumData:T})).catch();r.push(m)}return await Promise.all(r).then(ho)},lo=async(e,t,n)=>{const{asset:a,isCall:s}=t,{strategyKey:r,strategyAddress:o}=n,p=yo(r,a,s),u=await co(e,o,t);if(p&&u)return!0},yo=(e,t,n)=>{const[a,,s]=e.split("_");return!(a.includes("SPREAD")||n!==(a==="CALL")||s!==t)},co=async(e,t,n)=>{const{asset:a,amount:s,period:r}=n;let o;const p=new q(t,nt(e,"Hegic_Strategy"),V(e)),u=Ie(r);try{const l=(await p.getAvailableContracts(u,[])).toBigInt(),d=ft[a],y=ue(s,d);o=l>=y}catch{}return o},mo=(e,t,n,a)=>{const{isCall:s,asset:r}=n,{strategyKey:o}=t,[,p]=o.split("_"),u=bo(p,a),l=To(e,t,n),d=yn.calcDeltaByStrikeScale(n,p);return{market:"Hegic",protocolName:ra.PROTOCOL_NAME,asset:r,strike:u,isCurrentPrice:p==="100",isCall:s,isBuy:!0,greeks:{delta:d,vega:void 0,gamma:void 0,theta:void 0,rho:void 0},utils:l}},To=(e,t,n)=>{const{strategyKey:a,strategyAddress:s}=t,{asset:r,period:o}=n;return{calcPremium:async l=>fo(e,a,n,l),getBuilderParams:async(l,d,y)=>{const c=Jt(l,r),m=d.premiumData.inMarketToken,T=Hn(m,y);return kt(e,ra.PROTOCOL_NAME).encodeFromHegic(s,c,Ie(o),T,[])}}},fo=async(e,t,n,a)=>{const{asset:s,period:r}=n,o=yn.getMarketToken(e),p=Jt(a,s),u=ao(e,t),l=Ie(r),d=await u.calculatePremium(l,p,0).then(BigInt),y=te(d,o.decimals);return{inUSDC:await Se(e,o.address,y),inMarketToken:y,marketToken:o}},bo=(e,t)=>{const n=$(t),a=Math.floor(n*(e/100));return G(a)},ho=e=>e.filter(t=>t&&t.premiumData);class go extends St{constructor(){super("USDC.e")}getLyra(t){return new oi({provider:V(t)})}getSoftMaxCollateral(t,n,a){const s=(d,y=18)=>$t.parseUnits(d.toFixed(y).toString(),y),r=me.from(10).pow(18),o=2.5,p=a?t.strikePrice:t.strike().strikePrice,u=(t.newSize??t.size).mul(p).div(r).mul(s(o)).div(r);return n.max?n.max:u.gt(n.min)?u:n.min}async queryFormatCollateral(t,n,a){if(!n)return null;n=xe(n);const{isBase:s,liquidationPrice:r,max:o,min:p}=n,u=`W${a}`,l=pe(t,s?u:"USDC.e"),d=await Se(t,l.address,n.amount??0n);return{inMarketToken:n.amount,marketToken:l,inUSDC:d,isBase:s,liquidationPrice:r,min:p,max:o}}}const Le=new go,Ae={PROTOCOL_NAME:{ETH:"Lyra_ETH",BTC:"Lyra_BTC"},ACCEPTABLE_DISABLED_REASONS:["NotEnoughCollateral","TooMuchCollateral","EmptyCollateral","InsufficientQuoteBalance","InsufficientQuoteAllowance","InsufficientBaseBalance","InsufficientBaseAllowance","IncorrectOwner"],TRADE_SLIPPAGE:.0015,PREMIUM_SLIPPAGE:.02},xo=async(e,t,n)=>{const{lyraMarket:a,account:s}=n;if(!a)return[];const{expiry:r}=t,o=_o(a,r);return o?await vo(e,a,t,o,s):[]},_o=(e,t)=>{var s;const n=(s=e.liveBoards().find(r=>r.expiryTimestamp===Ie(t)))==null?void 0:s.id;return n?e.liveBoardsMap[n]:void 0},vo=async(e,t,n,a,s)=>{const{amount:r}=n,o=a.strikes.map(u=>{const l=ko(e,t,u,n,s);return l.utils.calcPremiumWithGreeks(r).then(y=>({...l,...y})).catch()});return await Promise.all(o).then(wo)},ko=(e,t,n,a,s)=>{const{asset:r,isCall:o,isBuy:p}=a,{strikeId:u,strikePrice:l}=n,d=u.toNumber(),y=l.toBigInt(),c=Co(e,t,d,a,s);return{market:"Lyra",protocolName:Ae.PROTOCOL_NAME[r],asset:r,strike:y,isCall:o,isBuy:p,utils:c}},wo=e=>e.filter(t=>t&&t.premiumData),Co=(e,t,n,a,s)=>{const{asset:r,isCall:o,isBuy:p}=a,u=Le.getMarketToken(e),l=(T,b)=>t.trade(s,n,o,p,me.from(T),Ae.TRADE_SLIPPAGE,b),d=async(T,b)=>{const f=Jt(T,r),x=await l(f),h=()=>{const E=p?"maxTotalCost":"minTotalCost",R=x.params[0][E].toBigInt();return Ze(R,Ae.PREMIUM_SLIPPAGE)},v=()=>{const E={};for(const R in x.greeks){const O=x.greeks[R];E[R]=$(O.toBigInt(),X,3)}return E},C=h();if(!Po(C,x))return null;const M={inUSDC:await Se(e,u.address,C),inMarketToken:C,marketToken:u},U=v();return b?M:{premiumData:M,greeks:U}};return{calcPremium:async T=>d(T,!0),calcPremiumWithGreeks:d,getCollateralData:async(T,b)=>{const f=await l(T,b),{collateral:x}=f;return x&&!x.max&&(x.max=Le.getSoftMaxCollateral(f,x)),Le.queryFormatCollateral(e,x,r)},getBuilderParams:async(T,b,f)=>{const x=kt(e,Ae.PROTOCOL_NAME[r]),v=(await l(T,b)).params[0],C=b.premiumData.InMarketToken,I=Hn(C,f);return x.encodeFromLyra([v.strikeId,v.positionId,v.iterations,v.optionType,v.amount,v.setCollateralTo,v.minTotalCost,I,et])}}},Po=(e,t)=>{if(e&&(a=>{const s=Ae.ACCEPTABLE_DISABLED_REASONS.find(r=>r===a);if(!a||s)return!0})(t.disabledReason))return!0},Mt={PROTOCOL_NAME:"Rysk",SLIPPAGE:.003,EMPTY_SERIES:{expiration:1n,strike:1n,isPut:!0,collateral:re,underlying:re,strikeAsset:re},OPERATION_TYPES:{Opyn:0,Rysk:1},RYSK_ACTION_TYPES:{Issue:0,Buy:1,Sell:2,Close:3}};class So extends St{constructor(){super("USDC"),this._queryDhvExposure=this._queryDhvExposure.bind(this),this._calcExpiredPremium=this._calcExpiredPremium.bind(this),this.getMarketToken=this.getMarketToken.bind(this),this.getIsExpired=this.getIsExpired.bind(this),this.getIsSellPremiumTooSmall=this.getIsSellPremiumTooSmall.bind(this),this.calcPremiumWithGreeks=this.calcPremiumWithGreeks.bind(this),this.queryFees=this.queryFees.bind(this)}async _queryDhvExposure(t,n){return new q(...W(t,"Rysk_AlphaPortfolioValuesFeed"),V(t)).netDhvExposure(Ja(["uint64","uint128","bool"],[n.expiration,n.strike,n.isPut])).then(s=>BigInt(s))}async _calcExpiredPremium(t,n,a){const s=new q(...W(t,"Rysk_MarginCalculator"),V(t)),r=this.getMarketToken(t),o=await s.getExpiredPayoutRate(n).then(u=>te(BigInt(u),r.decimals)).catch(()=>null);return o===null?null:Ce(a,o)}getIsExpired(t){return t.expiration*ae<Date.now()}getIsSellPremiumTooSmall(t,n){return be(t)>>3n<=n}async calcPremiumWithGreeks(t,n,a,s,r,o){const p=!s,u=this.getMarketToken(t),l=this.getIsExpired(n);let d;if(l)d=this._calcExpiredPremium(t,n.address,a).then(T=>T===null?null:{delta:null,premiumInMarketToken:T});else{const T=new q(...W(t,"Rysk_BeyondPricer"),V(t)),b=await this._queryDhvExposure(t,n);d=T.quoteOptionPrice(n,a,p,b).then(async f=>{f=xe(f);const{totalPremium:x,totalFees:h}=f;if(!o&&p&&this.getIsSellPremiumTooSmall(x,h))return null;const v=$(f.totalDelta,void 0,3),C=Ze(x+h,Mt.SLIPPAGE,u.decimals),I=te(C,u.decimals);return{delta:v,premiumInMarketToken:I}}).catch(()=>null)}const y=await d;if(y===null)return null;const{delta:c,premiumInMarketToken:m}=y;return Se(t,u.address,m).then(T=>{const b={marketToken:u,inMarketToken:m,inUSDC:T};return r?b:{premiumData:b,greeks:{delta:c,vega:void 0,gamma:void 0,theta:void 0,rho:void 0}}})}getOptionSeries(t,n,a,s,r=void 0,o=void 0){const p=pe(t,"USDC").address,u=pe(t,"WETH").address;return{expiration:Ie(n),strike:a,isPut:!s,strikeAsset:p,underlying:u,collateral:o??p,address:r}}async queryFees(t,n){const s=await(async()=>{const o=new q(...W(t,"Rysk_BeyondPricer"),V(t)),p=this.getMarketToken(t),u=(await o.feePerContract()).toBigInt();return te(u,p.decimals)})();return Ce(n,s)}async calcPnlWithGreeks(t,n,a,s,r,o){const p=this.calcPremiumWithGreeks(t,n,a,!r,!1,!0).then(h=>{if(h===null)return null;const{inUSDC:v,inMarketToken:C}=h.premiumData;return r||(h.premiumData.inUSDC=-v,h.premiumData.inMarketToken=-C),h}),u=this.queryFees(t,a),[l,d]=await Promise.all([p,u]);if(l===null)return null;const{premiumData:y,greeks:c}=l;c.delta=Fr(c.delta,!n.isPut,r);const{inUSDC:m}=y,T=r&&m===0n,b=Ce(a,o),f=T?-b:m-b-d;return{pnl:{inUSDC:f,inPercentage:$e(r,f,b),closePrice:Pe(m,a)},greeks:c}}async validateOptionSeries(t,n,a){return await new q(...W(t,"Rysk_OptionExchange"),V(t)).checkHash({...a,strike:ue(a.strike,8)},a.strike,!n).then(()=>!0).catch(()=>!1)}}const Te=new So,Mo=async(e,t,n)=>{if(!await Ao(e,t))return[];const{account:s}=n,o=(await Eo(e,t)).map(async u=>Do(e,t,u,s));return await Promise.all(o).then(_n)},Ao=async(e,t)=>{const n=()=>{const{asset:o}=t;if(o==="ETH")return!0};return!await(async()=>new q(...W(e,"Rysk_OptionExchange"),V(e)).paused())()&&n()},Eo=async(e,t)=>{const{expiry:n,isCall:a}=t;return(await new q(...W(e,"Rysk_OptionCatalogue"),V(e)).getOptionDetails(Ie(n),!a)).map(p=>BigInt(p))},Do=async(e,t,n,a)=>{const{asset:s,amount:r,isCall:o,isBuy:p}=t,u=Bo(e,t,n,a),l=await u.calcPremiumWithGreeks(r);if(!l)return null;const{premiumData:d,greeks:y}=l;return{market:"Rysk",protocolName:Mt.PROTOCOL_NAME,source:"DHV",asset:s,strike:n,isCall:o,isBuy:p,premiumData:d,greeks:y,utils:u,isComingSoon:!p,marketLink:"https://app.rysk.finance/"}},Bo=(e,t,n,a)=>{const{expiry:s,isCall:r,isBuy:o}=t,p=Te.getOptionSeries(e,s,n,r),u=async y=>l(y,!0),l=async(y,c)=>await Io(e,t,y,p)?Te.calcPremiumWithGreeks(e,p,y,o,c):null;return{calcPremium:u,calcPremiumWithGreeks:l,getBuilderParams:async(y,c)=>{const{PROTOCOL_NAME:m,OPERATION_TYPES:T,RYSK_ACTION_TYPES:b}=Mt,f=kt(e,m),{premiumData:x}=c,h=Te.getMarketToken(e),v=x.inMarketToken,C=ue(v,h.decimals);let I;if(o)I=[{actionType:b.Issue,owner:re,secondAddress:re,asset:re,vaultId:0,amount:0,optionSeries:p,indexOrAcceptablePremium:0,data:re},{actionType:b.Buy,owner:re,secondAddress:a,asset:re,vaultId:0,amount:y,optionSeries:p,indexOrAcceptablePremium:C,data:re}];else throw new Error("Selling Rysk options is currently unavailable");return await f.encodeFromRyskFinance([{operation:T.Rysk,operationQueue:I}]).catch(console.log)}}},Io=async(e,t,n,a)=>{const{isBuy:s}=t,{validateOptionSeries:r}=Te,[o,p]=await Promise.all([Oo(e,n),r(e,s,a)]);return!!(o&&p)},Oo=async(e,t)=>{const{minAmount:n,maxAmount:a}=await Fo(e);if(t>=n&&t<=a)return!0},Fo=async e=>{const t=new q(...W(e,"Rysk_OptionExchange"),V(e)),[n,a]=await Promise.all([t.minTradeSize(),t.maxTradeSize()]);return{minAmount:BigInt(n),maxAmount:BigInt(a)}};class Lo extends St{constructor(){super(),this.queryPremia=this.queryPremia.bind(this),this.queryDynamicContract=this.queryDynamicContract.bind(this),this._unfoldPremiaArgument=this._unfoldPremiaArgument.bind(this),this._getClosingQuoteOptions=this._getClosingQuoteOptions.bind(this),this._bestQuoteByProvider=this._bestQuoteByProvider.bind(this)}async queryPremia(t){const n={VITE_ALCHEMY_API_KEY_42161:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",VITE_PREMIA_API_KEY_42161:"sharwa_3ZgugmeGTvPgPXmuxuEeho4J",BASE_URL:"/sf_draft",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[`VITE_PREMIA_API_KEY_${t}`];return await ni.Premia.initialize({chainId:t,provider:vs(t),signer:he(),apiKey:n,useTestnet:!1})}async queryDynamicContract(t,n,a){const s=await this._unfoldPremiaArgument(t);return a=Zt(a),new q(n,nt(s.chainId,`Premia_${a}`),V(s.chainId))}async queryVaultContract(t,n){const a=await this._unfoldPremiaArgument(t),s=(await a.vaults.getVaults(n))[0].address;return await this.queryDynamicContract(a,s,"Vault")}async queryClosingQuote(t,n){const a=await this._unfoldPremiaArgument(t),s=this._getClosingQuoteOptions(n),r=await a.options.quotesByProvider(s),o=this._bestQuoteByProvider(r);return o&&(o.isBuy=!n.isBuy),o}calcClosingPremium(t,n){const{amount:a}=t,s=en(n.isBuy?n.price+n.takerFee:n.price-n.takerFee,t.base.symbol);return Ce(s,a)}async _unfoldPremiaArgument(t){let n=t;return typeof t=="number"&&(n=await this.queryPremia(chainId)),n}_getClosingQuoteOptions(t){return{...t,isBuy:!t.isBuy,poolAddress:t.address,token:t.base,referrer:et}}_bestQuoteByProvider(t){if(!t)return null;let n;for(const a in t){const s=t[a][0];if(!s)continue;const r=BigInt(s.price),o=(n==null?void 0:n.price)??0n;r>o&&(n={...s,providerType:a})}return n}}const je=new Lo,oa={PROTOCOL_NAME:"Premia"},Ro=async(e,t,n)=>{const{assetPrice:a}=n,s=await je.queryPremia(e);return await No(s,t,a)},No=async(e,t,n)=>{const s=jo(e,n).map(o=>Uo(e,t,o));return await Promise.allSettled(s).then(vn).then(o=>o.filter(p=>p))},jo=(e,t)=>{const n=$(t);return e.options.getSuggestedStrikes(n).map(s=>G(s))},Uo=async(e,t,n)=>{const{asset:a,amount:s,isCall:r,isBuy:o,expiry:p}=t,l={token:pe(e.chainId,a).address,size:s,strike:n,maturity:Ie(p),isCall:r,isBuy:o,referrer:et},d=await e.options.quotesByProvider(l).then(y=>{var c;return(c=y.vault)==null?void 0:c[0]}).catch(console.log);if(d){const y=Ho(e,t,d);return{market:"Premia",protocolName:oa.PROTOCOL_NAME,source:"Vault",asset:a,strike:n,isCall:r,isBuy:o,greeks:zn(),utils:y,isComingSoon:!o,marketLink:"https://app.premia.blue/"}}},Ho=(e,t,n)=>{const{asset:a,isBuy:s,isCall:r}=t,{chainId:o}=e,p=r?a:"USDC.e";let u=pe(o,p);return u.isWrappable&&(u=pe(o,`W${p}`)),{calcPremium:async y=>{let c;try{c=await e.vaults.getQuote(n.provider,n.poolKey,y,s,n.taker)}catch{}if(!c)return null;const m=te(c,u.decimals);return{inUSDC:await Se(o,u.address,m),inMarketToken:m,marketToken:u}},getBuilderParams:async(y,c)=>{const{premiumData:m}=c,T=ue(m.inMarketToken,m.marketToken.decimals);return await kt(o,oa.PROTOCOL_NAME).encodeFromPremia(n.provider,n.poolKey,y,s,T)}}},qo=e=>{const{asset:t,strategy:n,amountStr:a,chosenDate:s,strategyStructure:r,hasSell:o,strikesDataArrState:p,chosenStrikesState:u,areStrikesLoadingState:l,lyraMarket:d,updateTriggers:y,resetTriggers:c,updateUnstableField:m}=e,T=K(),{account:b}=z(),[f,x]=p,[h,v]=u,[C,I]=l,M=pn(t),U=()=>{I(!0);const O=[];r.forEach((S,N)=>{f[N]=[];const B={asset:t,amount:Qe(a),expiry:s,isCall:vt(S),isBuy:qe(S)},w={account:b,lyraMarket:d,assetPrice:M},_=Promise.allSettled([oo(T,B,w),xo(T,B,w),Mo(T,B,w),Ro(T,B,w)]).then(vn).then(A=>A.forEach(k)).catch(console.log);O.push(_);const k=A=>{f[N].push(...A)}}),Promise.all(O).then(()=>{const S=Wr(f),N=Gr(S);x([...N]),I(!1)})},E=()=>{v([])},R=()=>{x([])};return g.useEffect(()=>{E(),R()},c),g.useEffect(()=>{s&&U()},y),i.jsxs("div",{className:D("BuilderForm__field","BuilderForm__field_strike",!o&&"col-span-2"),children:[i.jsx("div",{className:"BuilderForm__field-header",children:i.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_StrikeTooltip",children:"Strike"})}),i.jsx("div",{className:"BuilderForm__field-body",children:r.map((O,S)=>{const N=or(n),B=N&&N.indexOf(S)!==-1,w=Qt(i.jsx(Qr,{id:S,isAutoSelectEnabled:r.length===1,structureKey:O,asset:t,amountStr:a,strikesData:f[S],chosenStrikeData:h[S],setChosenStrikeData:_=>{if(h[S]=_,B){const k=$(_.strike),A=_.market;N.filter(P=>P!==S).forEach(P=>{const j=pr(f[P][k],A);h[P]=j})}v([...h])}},S),C,i.jsx(we,{},S));return m(S,w),w})})]})};const $o=e=>{const{liqPrice:t,isLiqPriceLoading:n,isInLastHalf:a}=e,s=i.jsx("span",{className:"muted_light",children:"..."}),r=i.jsx("span",{className:"muted_light",children:"—"}),o=()=>`$${Z(t)}`;return i.jsxs("div",{className:D("CollateralLiqPrice",a&&"CollateralLiqPrice_down"),children:["Liq. Price:",i.jsxs("span",{className:"CollateralLiqPrice__val",children:[n&&s,!n&&(t?o():r)]})]})};const Wo=({min:e,max:t,collateralData:n,handleClick:a})=>i.jsx("div",{className:"CollateralRangeBtns",children:[e,t].map((s,r)=>{const o=n.isBase,p=le(Re($(s),Ve)),u=He(s,n.marketToken.isStable),l=r===0;return i.jsxs(Ke.Fragment,{children:[i.jsxs("button",{onClick:()=>a(p),children:[o?"":"$",u]},r),l?"—":""]},r)})});const Vo=({collateralData:e,collateralAmountStr:t,onChange:n})=>{const{isBase:a}=e,s=a?1:0,r=$(e.min,X,s),o=$(e.max,X,s),p=ke(t),u=a?.01:1;return i.jsx("div",{className:"CollateralSlider",children:i.jsx(pi,{defaultValue:0,value:p,min:r,max:o,step:u,onChange:n})})},Go=e=>{const{isInLastHalf:t,getCollateralData:n,collateralData:a,setCollateralData:s,collateralTokens:r,chosenStrike:o,updateTriggers:p,resetTriggers:u}=e,[l,d]=g.useState(""),[y,c]=g.useState(r[0]),[m,T]=g.useState(!1),[b,f]=g.useState(!1),x=()=>{d(""),c(r[0]),s(null)},h=()=>{d(""),s(null)};g.useEffect(()=>{x()},u),g.useEffect(()=>{o&&(T(!0),h(),v(!0))},[o,y]);const v=E=>{let R;if(!E&&l){const O=ke(l);R=G(O)}n(y,R).then(O=>{s(O),T(!1),f(!1)})};ut(()=>{m||(f(!0),v())},Tt,[l,...p]);const C=gt([l,d],{placeholder:"0"}),I=r.map(E=>({value:E,label:i.jsx(ie,{symbol:E,isHlight:!0,children:E})})),M=D(C.hasFocus&&"hlight"),U=()=>i.jsxs(i.Fragment,{children:[a&&i.jsx($o,{liqPrice:a.liquidationPrice,isLiqPriceLoading:b,isInLastHalf:t}),_t(()=>i.jsxs("div",{className:"CollateralChooser__input-container",children:[i.jsx("div",{className:"CollateralChooser__input",children:C.node}),a&&i.jsx(Wo,{min:a.min,max:a.max,collateralData:a,handleClick:E=>{d(E)}}),a&&i.jsx(Vo,{collateralData:a,collateralAmountStr:l,onChange:E=>{const R=ze(E);d(R)}})]}),m),i.jsx("div",{className:"CollateralChooser__token-selector",children:i.jsx(Ue,{options:I,defaultValue:y,isDisabled:I.length===1,onChange:E=>{c(E.value)}},`CollateralChooser__token-selector_${y}`)})]});return i.jsx("div",{className:D("CollateralChooser",M),children:o?o.isComingSoon?i.jsxs(Je,{children:[o.market," is coming soon"]}):U():i.jsx(Je,{children:"Strike required"})})},Ko=e=>{const{asset:t,amountStr:n,strategy:a,strategyStructure:s,hasSell:r,chosenStrikes:o,collateralDataArrState:p,updateTriggers:u,resetTriggers:l,updateUnstableField:d}=e,[y,c]=p,m=()=>{c([])};g.useEffect(()=>{m()},l);const T=(f,x)=>{y[f]=x,c([...y])},b=(f,x,h)=>{const v=o[f];if(!v||!v.utils.getCollateralData)return new Promise(()=>{});const C=G(ke(n)),I=ar(x),M=me.from(h??0);return v.utils.getCollateralData(C,{isBaseCollateral:I,setToCollateral:M})};return r?i.jsxs("div",{className:"BuilderForm__field BuilderForm__field_collateral",children:[i.jsx("div",{className:"BuilderForm__field-header",children:i.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),i.jsx("div",{className:"BuilderForm__field-body",children:s.map((f,x)=>{if(qe(f))return i.jsx("div",{className:"BuilderForm__field-empty-row",children:J()},x);const v=o[x],C=rr(f,a,t),I=x>(s.length-1)/2,M=i.jsx(Go,{isInLastHalf:I,collateralTokens:C,collateralData:y[x],setCollateralData:U=>T(x,U),getCollateralData:(U,E)=>b(x,U,E),chosenStrike:v,updateTriggers:u,resetTriggers:l},x);return d(x,M),M})})]}):null};const Yo=e=>{const{strategyStructure:t,unstableFields:n,chosenStrikes:a,strikesDataArr:s,areStrikesLoading:r}=e;return Pt()?i.jsxs("div",{className:"BuilderMobileContainer BuilderForm__field",children:[i.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),i.jsx("div",{className:"BuilderForm__field-body",children:t.map((p,u)=>{const l=r||!!s[u],d=!!a[u],y=!!n.collateral[u],c=u===t.length-1;return i.jsxs("div",{className:"BuilderMobileContainer__item",children:[i.jsx("div",{className:D("BuilderMobileContainer__item-date",l&&"mb-7"),children:n.date[u]}),i.jsx("div",{className:"BuilderMobileContainer__item-strike",children:n.strike[u]}),y&&d&&i.jsxs("div",{className:D("BuilderMobileContainer__item-collateral"),children:[i.jsx("div",{className:"BuilderMobileContainer__item-title",children:i.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),n.collateral[u]]}),l&&!c&&i.jsx(Xe,{})]},u)})})]}):null},zo=e=>{const{assetState:t,strategyState:n,amountStrState:a,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}=e,[l]=t,[d]=n,[y]=a,[c]=r,m=de[d].structure,T=tn(m),b=g.useState(!1),[f]=b,[x]=p,[h]=o,v=K(),C=Le.getLyra(v),[I,M]=g.useState(void 0),U=()=>{M(void 0);const B=`W${l}`;C.markets().then(w=>{const _=w.find(k=>k.baseToken.symbol===B);M(_??null)})};g.useEffect(()=>{U()},[l]);const E={date:[I],strike:[c],collateral:[y]},R={date:[l,d],strike:[l,d,c],collateral:[l,d,c],unstableFields:[d]},[O,S]=g.useState({date:[],strike:[],collateral:[]}),N=(B,w,_)=>{O[B][w]=_};return g.useEffect(()=>{S({date:[],strike:[],collateral:[]})},R.unstableFields),i.jsxs("div",{className:"BuilderForm__fields",children:[i.jsx(hs,{assetState:t,isDisabled:f}),i.jsx(xs,{strategyState:n,isDisabled:f}),i.jsx(bs,{amountStrState:a,strategy:d}),i.jsx(Br,{strategyStructure:m,dateListState:s,chosenDateState:r,lyraMarket:I,updateTriggers:E.date,resetTriggers:R.date,isDisabled:f,updateUnstableField:(B,w)=>{N("date",B,w)}}),i.jsx(qo,{asset:l,strategy:d,amountStr:y,chosenDate:c,strategyStructure:m,hasSell:T,strikesDataArrState:o,chosenStrikesState:p,areStrikesLoadingState:b,lyraMarket:I,updateTriggers:E.strike,resetTriggers:R.strike,updateUnstableField:(B,w)=>{N("strike",B,w)}}),i.jsx(Ko,{asset:l,strategy:d,amountStr:y,strategyStructure:m,hasSell:T,chosenStrikes:x,collateralDataArrState:u,updateTriggers:E.collateral,resetTriggers:R.collateral,updateUnstableField:(B,w)=>{N("collateral",B,w)}}),i.jsx(Yo,{strategyStructure:m,unstableFields:O,chosenStrikes:x,strikesDataArr:h,areStrikesLoading:f})]})},Qo=()=>i.jsxs(fe,{id:"BuilderForm_StrikeTooltip",children:[i.jsx("h6",{children:"Hegic Options (American options)"}),i.jsxs("p",{className:"my-5",children:["They require manual exercise before ",i.jsx("br",{}),"the expiration date. ",i.jsx("br",{}),"There are no secondary markets; out-",i.jsx("br",{}),"of-the-money options can't be sold."]}),i.jsx("h6",{children:"Lyra (European options)"}),i.jsxs("p",{className:"my-5",children:["They are only exercised automatically ",i.jsx("br",{}),"at the expiration date. ",i.jsx("br",{}),"Secondary markets are available; out-",i.jsx("br",{}),"of-the-money options can be sold."]})]});const Zo=({strategy:e})=>{const t=de[e],{outlooks:n,profit:a,loss:s,description:r}=t.stats;return i.jsxs(fe,{className:"WhenPurchaseTooltip",id:"BuilderForm_WhenPurchaseTooltip",place:"bottom-end",children:[i.jsxs("div",{className:"WhenPurchaseTooltip__header",children:[i.jsx("h2",{className:"WhenPurchaseTooltip__title",children:e}),i.jsx("div",{className:"WhenPurchaseTooltip__outlooks",children:n.map(o=>{const p=ms[o];return i.jsx("div",{className:"WhenPurchaseTooltip__outlook",style:{color:p},children:o},o)})})]}),i.jsxs("div",{className:"WhenPurchaseTooltip__body",children:[i.jsx("h3",{className:"WhenPurchaseTooltip__subtitle",children:"When purchase"}),i.jsx("p",{className:"WhenPurchaseTooltip__description",children:r}),i.jsx("div",{className:"WhenPurchaseTooltip__stats",children:[a,s].map((o,p)=>{const u=p===0?"Profit":"Loss";return i.jsxs("div",{className:"WhenPurchaseTooltip__stats-item",children:[i.jsx("div",{className:"WhenPurchaseTooltip__stats-item-name",children:u}),i.jsx("div",{className:"WhenPurchaseTooltip__stats-item-value",children:o})]},`${u}_${o}`)})})]})]})},Xo=()=>i.jsxs(fe,{id:"BuilderForm_CollateralTooltip",children:["This refers to the amount ",i.jsx("br",{}),"you’re setting aside ",i.jsx("br",{}),"as collateral for selling options"]}),Jo=()=>i.jsxs(fe,{id:"BuilderForm_MaxCostTooltip",children:["This is the highest amount ",i.jsx("br",{}),"you’ll pay for buying options. ",i.jsx("br",{}),"If the option price rises ",i.jsx("br",{}),"beyond this, your transaction ",i.jsx("br",{}),"will be reverted."]}),ep=()=>i.jsxs(fe,{id:"BuilderForm_MinReceivedTooltip",children:["This is the least amount you’re ",i.jsx("br",{}),"assured to receive when ",i.jsx("br",{}),"selling options. If the option ",i.jsx("br",{}),"price drops beyond this point, ",i.jsx("br",{}),"your transaction will ",i.jsx("br",{}),"be reverted."]}),tp=()=>i.jsxs(fe,{id:"BuilderForm_YouPayWarningTooltip",children:["Apparently, the collateral you've set ",i.jsx("br",{}),"is too small. This may result in instant ",i.jsx("br",{}),"liquidation of the position."]}),np=()=>i.jsxs(fe,{id:"Builder_PremiumTooltip",children:[i.jsx("h6",{children:"Negative Premium"}),i.jsxs("div",{style:{margin:"3px 0 5px"},children:["Indicates the amount of USDC you ",i.jsx("br",{}),"have paid as an option buyer."]}),i.jsx("h6",{children:"Positive Premium"}),i.jsxs("div",{style:{margin:"3px 0"},children:["Denotes the amount of USDC you ",i.jsx("br",{}),"have received as an option seller."]})]}),ap=({strategy:e})=>i.jsxs("div",{className:"BuilderTooltips",children:[i.jsx(Qo,{}),i.jsx(Zo,{strategy:e}),i.jsx(Xo,{}),i.jsx(np,{}),i.jsx(Jo,{}),i.jsx(ep,{}),i.jsx(tp,{})]});const ip=({collateralCost:e,getCostNode:t})=>i.jsxs("div",{className:"BuilderCalculations__item",children:[i.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"}),i.jsx("div",{className:D("BuilderCalculations__item-value",e&&e.inUSDC!==0n&&"tip"),"data-tooltip-id":"BuilderForm__CollateralCostDecompositionTooltip",children:t(e)})]}),sp=({maxCost:e,getCostNode:t})=>i.jsxs("div",{className:"TradeCostValue",children:[i.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MaxCostTooltip",children:"Max. Cost"}),i.jsx("div",{className:D("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MaxCostDecompositionTooltip",children:t(e,xt.negative)})]}),rp=({netCost:e,getCostNode:t})=>{const n=(e==null?void 0:e.inUSDC)<0?"negative":(e==null?void 0:e.inUSDC)>0?"positive":"neutral",a=xt[n];return i.jsxs("div",{className:"TradeCostValue",children:[i.jsx("div",{className:"BuilderCalculations__item-name",children:"Net. Cost"}),i.jsx("div",{className:D("BuilderCalculations__item-value",n),children:t(e,a)})]})},op=({minReceived:e,getCostNode:t})=>i.jsxs("div",{className:"TradeCostValue",children:[i.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MinReceivedTooltip",children:"Min. Received"}),i.jsx("div",{className:D("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MinReceivedDecompositionTooltip",children:t(e,xt.positive)})]});const pp=({hasBuy:e,hasSell:t,getCostNode:n,maxCost:a,minReceived:s,netCost:r})=>{const o={plus:i.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:18},children:"+"}),equal:i.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:17},children:"="})},p=e&&t;return i.jsxs("div",{className:"TradeCostItem BuilderCalculations__item",children:[e&&i.jsx(sp,{maxCost:a,getCostNode:n}),p&&o.plus,t&&i.jsx(op,{minReceived:s,getCostNode:n}),p&&i.jsxs(i.Fragment,{children:[o.equal,i.jsx(rp,{netCost:r,getCostNode:n})]})]})},At=(e,t=2,n,a)=>{const s=$(e,n);return lp(s,t,a)},up=(e,t=2,n)=>At(e,t,n,!0),lp=(e,t=2,n)=>{const a=n?"+":"",s=e<0?"–":e>0?a:"";return e=Math.abs(e),e=Re(e,t),e=jn(e,t),`${s}$${le(e)}`},yp=({hasBuy:e,hasSell:t,hasChosenStrike:n,maxCost:a,minReceived:s,netCost:r,collateralCost:o})=>{const p=(u,l)=>!n||ee(u)||(u==null?void 0:u.inUSDC)===0n?"$0":_t(()=>{const d=be(u.inUSDC);return`${l??""}${At(d)}`},!u);return i.jsxs("div",{className:"BuilderCostItems BuilderCalculations__items",children:[i.jsx(pp,{hasBuy:e,hasSell:t,getCostNode:p,maxCost:a,minReceived:s,netCost:r}),t&&i.jsx(ip,{collateralCost:o,getCostNode:p})]})};const pa=({id:e,decompositionArr:t,...n})=>i.jsx(fe,{className:"TooltipDecomposition",id:e,place:"bottom-end",...n,children:t.map((a,s)=>{const r=s===t.length-1;return i.jsxs(Ke.Fragment,{children:[i.jsxs("div",{className:"TooltipDecomposition__item",children:[i.jsx("div",{className:"TooltipDecomposition__item-name",children:a.nameNode}),i.jsx("div",{className:"TooltipDecomposition__item-value",children:a.valueNode})]}),!r&&i.jsx(Xe,{})]},s)})}),dp=({id:e,priceDecompositionArr:t})=>{const a=(()=>t.map(r=>{const o=r.marketToken.isStable,p=i.jsx(ie,{symbol:r.marketToken.symbol,isHlight:!0,children:He(r.inMarketToken,o)}),u=`$${Z(r.inUSDC,2)}`;return{nameNode:p,valueNode:u}}))();return i.jsx(pa,{id:e,decompositionArr:a})},cp=({maxCost:e,minReceived:t,collateralCost:n})=>{const a=[{id:"BuilderForm__MaxCostDecompositionTooltip",decomposition:e==null?void 0:e.decomposition,isZero:(e==null?void 0:e.inUSDC)===0n},{id:"BuilderForm__MinReceivedDecompositionTooltip",decomposition:t==null?void 0:t.decomposition,isZero:(t==null?void 0:t.inUSDC)===0n},{id:"BuilderForm__CollateralCostDecompositionTooltip",decomposition:n==null?void 0:n.decomposition,isZero:(n==null?void 0:n.inUSDC)===0n}];return i.jsx("div",{className:"CostDecompositionTooltips",children:a.map(s=>!s.decomposition||s.isZero?null:i.jsx(dp,{id:s.id,priceDecompositionArr:s.decomposition},s.id))})};const ua="/sf_draft/assets/pen-7561a00e.svg",mp="/sf_draft/assets/confirm-d9cebec0.svg",Tp=({slippage:e,setSlippage:t})=>{const n=T=>`${Re(T*100,6)}`,[a,s]=g.useState(n(e)),[r,o]=g.useState(!1),{node:p,ref:u,hasFocus:l}=gt([a,s],{maxValue:100}),d=()=>{const T=n(Lt);s(T)},y=()=>{const T=Number(a)/100;t(T)},c=()=>{const T=u.current,b=T.value.includes(".");let f=(T.value.length+1)*8.5;b&&(f-=4),T.style.width=f+"px"},m=()=>{(!a||Number(a)===0)&&d(),y(),r||(o(!0),setTimeout(()=>{o(!1)},200))};return g.useEffect(()=>{c()},[a]),g.useEffect(()=>{l||m()},[l]),i.jsxs("div",{className:"SlippageInput",onClick:()=>{var T;r||(T=u.current)==null||T.focus()},children:[i.jsxs("div",{className:D("SlippageInput__input-container",l&&"focused"),children:[p,i.jsx("span",{className:"SlippageInput__unit",children:"%"})]}),i.jsx("button",{className:"SlippageInput__btn",children:i.jsx("img",{src:l?mp:ua,alt:"Edit slippage"})})]})},fp=({swapSlippageState:e})=>{const[t,n]=e;return i.jsxs("div",{className:"SwapSlippageField info-row",children:[i.jsx("div",{className:"info-row__title",children:"Slippage"}),i.jsx("div",{className:"info-row__value",children:i.jsx(Tp,{slippage:t,setSlippage:n})})]})},bp=({strategy:e,amountStr:t,chosenStrikesState:n,collateralDataArrState:a,youPayState:s,swapSlippageState:r})=>{const o=de[e].structure,p=tn(o),u=ir(o),[l,d]=s,[y,c]=n,[m,T]=a,[b]=r,[f,x]=g.useState(null),[h,v]=g.useState(null),[C,I]=g.useState(null),[M,U]=g.useState(null),[E,R]=g.useState(null),O=sr(y),S=!!m.find(P=>P),N=P=>{y[P]=null,m[P]=null,c([...y]),T([...m])};g.useEffect(()=>{!!(l!=null&&l.paymentToken)&&R(Kn(l))},[l]);const B={sum:P=>P.reduce((F,H,Q)=>{if(Q===0)return{inUSDC:H.inUSDC,decomposition:[H]};const oe=F.decomposition;return oe[Q]={marketToken:H.marketToken,inMarketToken:H.inMarketToken,inUSDC:H.inUSDC},{inUSDC:F.inUSDC+H.inUSDC,decomposition:oe}},P[0]),separateBuyFromSell:P=>{const j=[],F=[];return P.forEach(H=>{H&&(H.isBuy?j.push(H):F.push(H))}),{buyCosts:j,sellCosts:F}},getArgsForHandler:P=>{const{reset:j}=w[P],{isAllowed:F,update:H}=k[P];return[j,F,H]}},w={collateral:{reset:()=>{U({inUSDC:0n})}},trade:{reset:()=>{x(null),v(null),I(null)}},youPay:{reset:()=>{d(null)}}},_={collateral:{calc:()=>{const P=m.filter(F=>F);return B.sum(P)}},trade:{calc:()=>{if(!t)return;const P=[],j=G(ke(t));return y.forEach((F,H)=>{F&&P.push(F.utils.calcPremium(j).then(Q=>Q?(F.premiumData=Q,F.amount=j,Q.isBuy=F.isBuy,Q):(N(H),null)))}),Promise.all(P).then(F=>{const{buyCosts:H,sellCosts:Q}=B.separateBuyFromSell(F);return{maxCost:B.sum(H),minReceived:B.sum(Q)}})}},youPay:{calc:()=>{const P=()=>({inUSDC:f.inUSDC,decomposition:f.decomposition}),j=()=>{if(M!=null&&M.inUSDC)return{inUSDC:M.inUSDC+((f==null?void 0:f.inUSDC)??0n),decomposition:lr(o,f==null?void 0:f.decomposition,M.decomposition),shouldSwap:E}},F=oe=>{const Y=Dt=>Ze(Dt,b),Et=Dt=>Ze(Dt,fs),{inUSDC:ha}=oe,ga=Y(ha),xa=Et(ga);return oe.inUSDC=xa,oe},H=p?j():P();return F(H)}}},k={collateral:{triggers:[m],isAllowed:S&&O,update:()=>{const P=_.collateral.calc();U(P)}},trade:{triggers:[y],debouncedTriggers:[t],isAllowed:O,update:()=>{_.trade.calc().then(P=>{const{maxCost:j,minReceived:F}=P;x(j),v(F);const H={inUSDC:((F==null?void 0:F.inUSDC)??0n)-((j==null?void 0:j.inUSDC)??0n)};I(H)})}},youPay:{triggers:[C,M,b],isAllowed:!!(p?C!=null&&C.inUSDC&&(M!=null&&M.inUSDC):C!=null&&C.inUSDC),update:()=>{const P=_.youPay.calc();d(P)}}},A=(P,j,F)=>{P(),j&&F()};return Object.keys(k).forEach(P=>{const j=()=>{A(...B.getArgsForHandler(P))},F=[...k[P].triggers],H=k[P].debouncedTriggers&&[...k[P].debouncedTriggers];H&&ut(j,Tt,H),g.useEffect(j,F)}),i.jsxs("div",{className:D("BuilderCost",p&&"has-sell"),children:[i.jsxs("div",{className:"BuilderCost__content",children:[i.jsx(yp,{hasBuy:u,hasSell:p,hasChosenStrike:O,maxCost:f,minReceived:h,netCost:C,collateralCost:M}),E&&i.jsx(fp,{swapSlippageState:r})]}),i.jsx(cp,{maxCost:f,minReceived:h,collateralCost:M})]})};const hp=({decompositionData:e})=>i.jsx("div",{className:"GreeksDecompositionTooltips",children:Rt.map(t=>{const n=e[t];if(!n||!n.length)return null;const s=`BuilderForm_${Zt(t)}DecompositionTooltip`;return i.jsx(pa,{id:s,decompositionArr:n},s)})}),gp=({chosenStrikes:e})=>{const t={};Rt.forEach(p=>{t[p]=[]});const n=(p,u)=>{const l=p.greeks[u],d=rn(p.strike),y={nameNode:i.jsx(na,{strikeData:p,priceNode:`$${le(d)}`}),valueNode:l??J()};t[u].push(y)},a=()=>i.jsx("div",{className:"BuilderCalculations__items",children:Rt.map(p=>{const u=Zt(p),l=e.reduce((y,c)=>{if(!c)return y;n(c,p);const m=c.greeks[p];return(y??0)+m},void 0),d=l||l===0;return d||(t[p]=null),i.jsxs("div",{className:"BuilderCalculations__item",children:[i.jsx("div",{className:"BuilderCalculations__item-name",children:u}),i.jsx("div",{className:D("BuilderCalculations__item-value",d&&"tip"),"data-tooltip-id":`BuilderForm_${u}DecompositionTooltip`,children:d?bt(l,3):J()})]},p)})}),s=()=>i.jsx(Zn,{renderHeader:({state:p})=>`${p.isEnter?"Hide":"Show"} greeks`,children:a()}),o=Pt(576);return i.jsxs("div",{className:"BuilderGreeks",children:[o?s():a(),i.jsx(hp,{decompositionData:t})]})};const xp=({youPayState:e,paymentToken:t})=>{const n=K(),[a,s]=e,r=()=>a.inUSDC<0?new Promise(d=>{d(null)}):io(n,t.address,a.inUSDC),o={triggers:[a],isAllowed:!!(a&&t&&ee(a.inPaymentToken)),update:()=>{const d=()=>{setTimeout(()=>{s({...a})},1e3)};r().then(y=>{a.paymentToken=t,a.inPaymentToken=y,d()})}},p={triggers:[t.symbol],isAllowed:!!a,reset:()=>{a.inPaymentToken=void 0,s({...a})}};g.useEffect(()=>{o.isAllowed&&o.update()},[...o.triggers]),g.useEffect(()=>{p.isAllowed&&p.reset()},[...p.triggers]);const u={getNegativeValueNode:()=>i.jsx(ie,{children:i.jsx("span",{className:"negative tip","data-tooltip-id":"BuilderForm_YouPayWarningTooltip",children:Z(a.inUSDC,0)})}),getPaymentTokenNode:()=>He(a.inPaymentToken,a.paymentToken.isStable),getUsdcNode:()=>At(a.inUSDC),getApproximatelySymbolNode:()=>i.jsx("span",{className:"muted_light mx-5",style:{fontSize:16},children:cs})};return(()=>!a||!t?J():a.inPaymentToken===null?u.getNegativeValueNode():ee(a.inPaymentToken)?i.jsx(we,{}):i.jsxs(ie,{isHlight:!0,symbol:t.symbol,children:[u.getPaymentTokenNode(),u.getApproximatelySymbolNode(),u.getUsdcNode()]}))()};const _p=({className:e,options:t,defaultOption:n,defaultValue:a,onChange:s,...r})=>i.jsx(Ue,{className:D("SelectorInline",e),options:t,defaultOption:n,defaultValue:a,onChange:s,...r}),vp=e=>{const{account:t}=z();return e.map(a=>{let{data:s}=Aa({address:t,token:a.isETH?null:a.address,watch:!0});return s||(s={value:0n}),{...s,address:a.address,symbol:a.symbol,isETH:a.isETH,isStable:a.isStable}})},kp=e=>{const{isConnected:t,account:n}=z(),a=K(),s=vp(e),{data:r}=Be(t&&[n,"useTokenBalancesUSDC",s],async()=>{const o=[],p=[];return s.forEach((u,l)=>{u&&(u.inTokenDecimals=u.value,u.inDefaultDecimals=te(u.value,u.decimals),p.push(Se(a,u.address,u.inDefaultDecimals).then(d=>{o[l]={...u,inUSDC:d}}).catch(d=>{console.log(`Swapping ${u.symbol} to USDC error.

`+d),o[l]=null})))}),await Promise.all(p),o});return r??[]},wp=({paymentTokens:e,paymentToken:t,setPaymentToken:n})=>{const{isConnected:a,account:s}=z(),r=kp(e),o=()=>{const d=r.find(y=>y.symbol===t.symbol);d!==t.balance&&n({...t,balance:d})};g.useEffect(()=>{o()},[r,s]);const p=d=>a?d===null?J("Error"):ee(d)||ee(d.inUSDC)?i.jsx(we,{}):`$${Z(d.inUSDC,0)}`:J(),u=e.map((d,y)=>{const c=r[y],m=p(c);return{label:i.jsxs("div",{className:"PaymentTokenSelector__item",children:[i.jsx("div",{className:"PaymentTokenSelector__item-name",children:i.jsx(ie,{symbol:d.symbol,isHlight:!0,children:d.symbol})}),i.jsx("div",{className:"PaymentTokenSelector__item-value",children:m})]}),value:d.symbol,balance:c}}),l=[{label:i.jsxs("div",{className:"PaymentTokenSelector__item",children:[i.jsx("div",{children:"Asset"}),i.jsx("div",{children:"Balance, $"})]}),options:u}];return i.jsx(_p,{className:"PaymentTokenSelector",options:l,defaultValue:t.symbol,onChange:d=>{n({symbol:d.value,balance:d.balance})}},s)},Cp=({paymentToken:e,setPaymentToken:t,youPayState:n,confirmButtonNode:a})=>{const{isConnected:s}=z(),r=K(),o=ts(r),p=()=>{if(!s)return J();if(e.balance===null)return J("Error");if(ee(e.balance))return i.jsx(we,{});const u=e.balance.value===0n?0:void 0;return i.jsx(ie,{symbol:e.symbol,isHlight:!0,children:He(e.balance.inDefaultDecimals,e.isStable,u)})};return i.jsxs("div",{className:"BuilderSwap",children:[i.jsxs("div",{className:"BuilderCalculations__items",children:[i.jsxs("div",{className:"BuilderCalculations__item",children:[i.jsx("div",{className:"BuilderCalculations__item-name",children:"Select Payment method"}),i.jsx("div",{className:"BuilderCalculations__item-value",children:i.jsx(wp,{paymentTokens:o,paymentToken:e,setPaymentToken:t})})]}),i.jsxs("div",{className:"BuilderCalculations__item",children:[i.jsx("div",{className:"BuilderCalculations__item-name",children:"You pay"}),i.jsx("div",{className:"BuilderCalculations__item-value",children:i.jsx(xp,{youPayState:n,paymentToken:e})})]}),i.jsxs("div",{className:"BuilderCalculations__item",children:[i.jsx("div",{className:"BuilderCalculations__item-name",children:"Balance"}),i.jsx("div",{className:"BuilderCalculations__item-value",children:p()})]})]}),a]})},Pp=(e,t,n,a,s,r,o)=>{const{isConnected:p}=z(),{connectWallet:u}=Bn(),l=tn(t),d=n.length!==t.length||!n.every(h=>h),y=!!a.find(h=>h&&h.inMarketToken===0n),c=n.find(h=>h==null?void 0:h.isComingSoon),m=()=>{if(!e)return"Enter Amount";if(d)return"Fill out the Strike fields";if(l&&y)return"Fill out the Collateral fields";if(!s)return"Please, wait...";if(s>r)return"Insufficient balance"},T=()=>!p||c?!0:!m(),b=()=>{const h="Buy Strategy";return p?c?`Visit ${c.market} app`:m()??h:"Connect wallet"},f=()=>{if(!p){u();return}if(c){window.open(c.marketLink);return}o()};return i.jsx(ve,{className:"BuilderForm__button",onClick:f,isDisabled:!T(),children:b()})},Sp=({strategy:e,amountStr:t,youPayState:n,chosenStrikesState:a,collateralDataArrState:s,openBuyModal:r,swapSlippageState:o})=>{var x;const p=K(),[u,l]=jt("builder-payment-token","ETH"),[d,y]=g.useState({symbol:u});g.useEffect(()=>{if(l(d.symbol),!d.address){const h=pe(p,d.symbol);y({...d,...h})}},[d]);const[c]=a,[m]=s,[T]=n,b=de[e].structure,f=Pp(t,b,c,m,T==null?void 0:T.inPaymentToken,(x=d.balance)==null?void 0:x.inDefaultDecimals,r);return i.jsxs("div",{className:"BuilderCalculations",children:[i.jsx(gp,{chosenStrikes:c}),i.jsx(bp,{strategy:e,amountStr:t,chosenStrikesState:a,collateralDataArrState:s,youPayState:n,swapSlippageState:o}),i.jsx(Cp,{youPayState:n,paymentToken:d,setPaymentToken:y,confirmButtonNode:f})]})};const Mp=({stagesArr:e})=>i.jsx("div",{className:"Stages",children:e.map(t=>i.jsx("div",{className:D("Stages__item",t.isActive&&"active"),children:t.name},t.name))}),la=(e,t,n,a=s=>{})=>{const{account:s}=z(),r=K(),o=pe(r,e);return{check:async()=>o.isETH?new Promise(u=>u(!0)).then(a):nr(r,o,s,t,n).then(a),approve:async(u,l)=>{if(o.isETH)throw new Error("Trying to approve ETH");return tr(r,o,t,n,u,l)}}},Ap=(e,t,n,a,s,r={setIsLoading:()=>{},closeModal:()=>{},addPendingPosition:()=>{}})=>{const o=K(),p=de[e],{setIsLoading:u,closeModal:l,addPendingPosition:d}=r,{paymentToken:y,decomposition:c}=a,m=y.isETH,[T,b]=g.useState({moduleArr:[],parametersArr:[],swapDataArr:[],productType:p.key}),[f,x]=g.useState([]),h=()=>f.reduce((O,S)=>O+S,0n),v=new q(...W(o,"TxBuilder"),he()),C=(R,O)=>{const S=Ts[R.protocolName];return v.module(S).then(N=>{T.moduleArr[O]=N})},I=async(R,O)=>{const S=n[O],N={setToCollateral:S&&me.from(S.inMarketToken),isBaseCollateral:S==null?void 0:S.isBase,premiumData:R.premiumData};return R.utils.getBuilderParams(R.amount,N,y.decimals).then(_=>{T.parametersArr[O]=_})},M=(R,O)=>{const S=new q(...W(o,"Exchanger"),V(o)),N=c[O],B=N.marketToken,w=so(y.address,B.address),_=N.inMarketToken,k=Gn(y,B);return ln(o,B.address,y.address,_).then(A=>Ze(A,s)).then(A=>{const L=ue(A,y.decimals),P=ue(_,B.decimals);return m&&(f.push(L),x([...f])),S.encodeFromExchange({path:w,tokenIn:y.address,tokenOut:B.address,amountIn:L,amountOutMinimum:P,isETH:m,swap:k}).then(j=>{T.swapDataArr[O]=j})})},U=()=>{const R=[];return t.forEach((O,S)=>{R.push(C(O,S),I(O,S),M(O,S))}),Promise.all(R).then(()=>{b({...T})}).catch(O=>{throw console.log(O),u(!1),new Error("Something went wrong")})};return()=>{u(!0);const{amount:R,asset:O}=t[0];return U().then(()=>{const S=$(R),N=S!==1,B=p.plural??`${e}s`,w=N?B:e,A={text:`${S} ${O} ${w} opened.`,node:i.jsxs(ie,{symbol:O,children:[S," ",w," opened."]})};return ct(o,v.consolidationOfTransactions,[T.moduleArr,T.parametersArr,T.swapDataArr,T.productType,f.length?{value:h()}:{}],A,u,l)}).then(()=>{x([])}).catch(Ee)}},ya=()=>({opening:[],closing:[]}),We=g.createContext(ya()),Ep=(e,t)=>{const[n,a]=e;for(const s in n){const r=n[s];if(r.length){const o=r.filter(p=>p.market!==t);n[s]=o,a({...n})}}},Dp=({isOpen:e,setIsOpen:t,asset:n,strategy:a,amountStr:s,chosenStrikes:r,collateralDataArr:o,youPay:p,swapSlippage:u})=>{const l=K(),d=de[a],[y,c]=g.useState(!1),[m,T]=g.useState(null),[b,f]=g.useContext(We),x=Ap(a,r,o,p,u,{setIsLoading:c,closeModal:()=>t(!1),addPendingPosition:A=>{A.isOpening=!0,b.opening.push(A),f({...b})}}),h=Kn(p),C=["Approve","Buy"].map(A=>({name:A,isActive:m===A})),{paymentToken:I,inPaymentToken:M}=p,U=He(M,I.isStable),E=I.symbol,R=`${U} ${E}`,O={Approve:`Approve ${R}`,Buy:`Pay ${R}`},S=new q(...W(l,"Exchanger"),he()),N=la(E,S.address,M,A=>{T(A?"Buy":"Approve")}),B=()=>{T(null),N.check()};g.useEffect(()=>{e&&B()},[e,p]);const w=()=>{if(!m)return"Please, wait...";if(y){if(m==="Approve")return`Approving ${E}...`;if(m==="Buy")return`Buying ${a}...`}},_={approve:()=>{N.approve(c,B)},buy:x},k={getBtnText:()=>w()??O[m],getIsBtnEnabled:()=>!w(),getBtnOnClick:()=>{switch(m){case"Approve":return _.approve;case"Buy":return _.buy}}};return i.jsxs(mt,{className:"BuyBuildModal",isOpen:e,setIsOpen:t,children:[i.jsx(Mp,{stagesArr:C}),i.jsx("h1",{className:"BuyBuildModal__title",children:m??i.jsx(we,{})}),i.jsxs("div",{className:"BuyBuildModal__strategy",children:["Strategy",i.jsxs("div",{className:"BuyBuildModal__strategy-info",children:[i.jsx("span",{className:"BuyBuildModal__strategy-name",style:{color:d.color},children:a}),i.jsx(Xe,{isVertical:!0}),i.jsx(ie,{className:"BuyBuildModal__strategy-amount",symbol:n,isHlight:!0,children:s})]})]}),h&&i.jsx("div",{className:"BuyBuildModal__footer",children:i.jsxs("p",{className:"BuyBuildModal__hint",children:["Sharwa.Finance will auto-convert your ",R," into tokens compatible with the options protocols where your positions are to be opened, using Uniswap v3."]})}),i.jsx(ve,{className:"BuyBuildModal__button",isDisabled:!k.getIsBtnEnabled(),onClick:k.getBtnOnClick(),children:k.getBtnText()})]})},Bp=({assetState:e,strategyState:t,amountStrState:n,dateListState:a,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p})=>{const u=g.useState(null),[l]=u,[d,y]=g.useState(!1),c=jt("Builder-swap-slippage",Lt),[m,T]=c;Ip(m)||T(Lt);const[b]=e,[f]=t,[x]=n,[h]=o,[v]=p,C=()=>{y(!0)};return i.jsxs("div",{className:"BuilderForm App-box",children:[i.jsx(zo,{assetState:e,strategyState:t,amountStrState:n,dateListState:a,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p}),i.jsx(Sp,{strategy:f,amountStr:x,youPayState:u,chosenStrikesState:o,collateralDataArrState:p,openBuyModal:C,swapSlippageState:c}),(l==null?void 0:l.inPaymentToken)&&i.jsx(Dp,{isOpen:d,setIsOpen:y,asset:b,strategy:f,amountStr:x,chosenStrikes:h,collateralDataArr:v,youPay:l,swapSlippage:m}),i.jsx(ap,{strategy:f})]})},Ip=e=>!(typeof e!="number"||e>1||e<0);const Op=({asset:e,strategy:t,amountStr:n,chosenStrikes:a,collateralDataArr:s})=>{var w;const r=de[t].structure,o=g.useRef(null),p=ke(n),u={amount:p,strikes:a.map(_=>$((_==null?void 0:_.strike)??0n)),premiums:a.map(_=>{const k=_==null?void 0:_.premiumData.inUSDC;return k&&$(k)}),strategies:r,collaterals:s,isReady:p&&a.length===r.length&&a.every(_=>_)},l=e==="ETH",d=l?.3:.2,y=l?5:10,c=100,m=pn(e),T=$(m),b=T&&Math.round(T/y)*y,f=(_,k)=>{const A=u.strategies[_],L=u.premiums[_],P=u.strikes[_],j=u.amount,F=u.collaterals[_],H=(F==null?void 0:F.liquidationPrice)&&$(F.liquidationPrice),Q=F&&$(F.inMarketToken),oe=F==null?void 0:F.isBase;let Y;if(L){switch(A){case 1:k<P?Y=-L:Y=(k-P)*j-L;break;case 2:k>P?Y=-L:Y=(P-k)*j-L;break;case-1:if(H&&k>H)oe?Y=-(Q*H)+L:Y=-Q+L;else if(oe){const Et=(P-T)*j+L;k>P?Y=Et:Y=(k-T)*j+L}else k<P?Y=L:Y=(P-k)*j+L;break;case-2:H&&k<H?oe?Y=-(Q*H)+L:Y=-Q+L:k>P?Y=L:Y=(k-P)*j+L;break}if(Y)return Number(Y)}},h=(()=>{if(!u)return;const _=u.strikes.reduce((F,H)=>(F+H)/2,u.strikes[0]),k=window.innerWidth>480?d:d-.05,A=Math.round(_*(1-k)/100)*100,L=Math.round(_*(1+k)/100)*100,P=[];for(let F=0;F<(L-A)/y;F++){const H=A+F*y;P.push(H)}const j=[];return u.strategies.forEach((F,H)=>{P.forEach((Q,oe)=>{const Y=f(H,Q);H===0?j.push({closePrice:Q,pnl:Y}):j[oe].pnl=j[oe].pnl+Y})}),j})(),v=(w=h.reduce((_,k)=>k.pnl>_.pnl?k:_,h[0]))==null?void 0:w.pnl,C=v&&le(v.toFixed(0)),M=(()=>{if(!h)return;const _=Math.max(...h.map(L=>L.pnl)),k=Math.min(...h.map(L=>L.pnl));if(_<=0)return 0;if(k>=0)return 1;const A=_/(_-k);return isNaN(A)?0:A})(),U=({value:_,cx:k,cy:A})=>{const L=_[1];let P;return L<0?P=se:L>0?P=Me:P=at,i.jsx("circle",{cx:k,cy:A,r:5,style:{opacity:"0.9"},fill:P})},E=_=>{const{active:k,payload:A,label:L}=_,P=k&&A&&A.length&&Number(A[0].value.toFixed(2));return k&&A&&A.length?i.jsxs("div",{className:"react-tooltip",children:[i.jsx(ie,{currencyName:e,isHlight:!0,isSmall:!0,children:le(L)}),i.jsxs("p",{children:["PnL ",i.jsx("span",{className:D({positive:P>0,negative:P<0}),children:`${P!==0?P>0?"+":"-":""}$${le(Math.abs(P))}`})]})]}):null},R=_=>le(_),O={fill:at,fontSize:13},S=Bt,[N,B]=g.useState(null);return g.useEffect(()=>{if(o.current&&h){let _;const k=Math.round(c/(o.current.clientWidth/h.length));k<20?_=19:_=Math.floor(k/20)*20-1,B(_)}},[o.current,h,window.innerWidth]),i.jsx("div",{className:"BuilderPositionChart App-box",ref:o,children:u.isReady?i.jsx(ui,{children:i.jsxs(li,{data:h,margin:{left:(C==null?void 0:C.length)*7.5-40,right:15,top:15},children:[i.jsx(yi,{dataKey:"closePrice",interval:N,tickFormatter:R,tick:O,stroke:S}),i.jsx(di,{dataKey:"pnl",tickFormatter:R,tick:O,stroke:S,padding:{bottom:15}}),i.jsx(ci,{cursor:{stroke:at},content:i.jsx(E,{})}),i.jsx(mi,{type:"monotone",dot:!1,dataKey:"pnl",stroke:"url(#splitColor)",activeDot:i.jsx(U,{}),fill:"url(#splitColorTransparent)"}),i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"splitColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:M,stopColor:Me,stopOpacity:1}),i.jsx("stop",{offset:M,stopColor:se,stopOpacity:1})]}),i.jsxs("linearGradient",{id:"splitColorTransparent",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:M,stopColor:Me,stopOpacity:.3}),i.jsx("stop",{offset:M,stopColor:se,stopOpacity:.3})]})]}),i.jsx(dn,{x:b,stroke:Bt,strokeDasharray:"3 3",label:{value:"Current Price",fill:Bt,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}}),u.collaterals.length&&u.collaterals.map(_=>{if(!_||!_.liquidationPrice)return;const k=$(_.liquidationPrice),A=Math.round(k/y)*y;return i.jsx(dn,{x:A,stroke:se,strokeDasharray:"3 3",label:{value:"Liq. Price",fill:se,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}},k)}),i.jsx(Ti,{stroke:"rgba(58, 68, 102, 0.15)"})]})}):i.jsx(Je,{children:"Fill out the Strike fields to view position chart"})})},Fp=e=>{const{assetState:t}=e,n=g.useState("Long Call"),a=g.useState("1"),s=g.useState([]),r=g.useState(null),o=g.useState([]),p=g.useState([]),u=g.useState([]),[l]=t,[d]=n,[y]=a,[c]=p,[m]=u;return i.jsxs("div",{className:"BuilderDashboard",children:[i.jsx(Bp,{assetState:t,strategyState:n,amountStrState:a,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}),i.jsx(Op,{asset:l,strategy:d,amountStr:y,chosenStrikes:c,collateralDataArr:m})]})},Lp=6,Rp=()=>{const{isConnected:e,account:t}=z(),n=K(),a=new q(...W(n,"TxBuilder"),V(n)),{data:s,error:r}=Be(e&&[t,"useBuilderPositionsStructure"],async()=>{const o=[],p=await jp(a,t),u=[];for(let l=0;l<p.length;l++){const d=p[l],{buildID:y,productType:c}=xe(d.args),T={strategy:$n.find(h=>de[h].key===Number(c)),buildId:y,childPositionsStructure:[]},b=Np(n,y),f=[];for(const h in b)b[h].forEach(C=>{C.then(I=>{Hp(I,h,T.childPositionsStructure)}),f.push(C)});const x=Promise.all(f).then(()=>{o.push(T)});u.push(x),await kn(u,Lp,p.length,l)}return o},{refreshInterval:2e4});return r?(console.log(`Builder Positions error:
`,r),null):s},Np=(e,t)=>{const{Hegic:n,Lyra_ETH:a,Lyra_BTC:s,Rysk:r,Premia:o}=ur(e),{OpenPositionByHegic:p}=n.filters,{OpenPositionByLyra:u}=a.filters,{OpenPositionByLyra:l}=s.filters,{OpenPositionByRyskFinance:d}=r.filters,{OpenPositionByPremia:y}=o.filters,c=[n.queryFilter(p(t))],m=[a.queryFilter(u(t)),s.queryFilter(l(t))],T=[r.queryFilter(d(t))],b=[o.queryFilter(y(t))];return{Hegic:c,Lyra:m,Rysk:T,Premia:b}},jp=(e,t)=>{const{CreateBuild:n}=e.filters;return e.queryFilter(n(null,t)).then(s=>{const r=s.map(o=>Up(o,e.provider));return Promise.all(r).then(o=>s.filter((u,l)=>{if(o[l])return!0}).reverse())})},Up=(e,t)=>t.getBlock(e.blockNumber).then(n=>{const a=pt[pt.length-1],s=Date.now()-a-Yn(1);if(n.timestamp*ae>s)return!0}),Hp=(e,t,n)=>{e.forEach(a=>{let s=Number(a.args.tokenID);if(t==="Premia"){const r=a.args;s=`${r.vaultAddress}_${r.isBuy?"LONG":"SHORT"}`}if(t==="Rysk"){const r=a.args.operationProcedures[0].operationQueue[0].optionSeries;s=`${r.underlying}_${$(BigInt(r.strike))}_${r.isPut?"PUT":"CALL"}`}n.push({market:t,id:s})})},qp=13,da=e=>{const{isConnected:t,account:n}=z(),a=K(),s=tt(),[r,o]=g.useState(void 0),p=()=>{r&&o(void 0)},u=new q(...W(a,"Hegic_PositionManager"),V(a)),{error:l,mutate:d}=Be(t&&s&&[n,"useHegicPositions"],async()=>{const y=[],c=to(a),m=$p(u,n),b=(await u.queryFilter(m)).map(f=>f.args.tokenId);if(b.length){const f=[];for(let x=0;x<c.length;x++){const h=c[x],v=ia(a,h),C=Wp(h,b),I=v.queryFilter(C).then(M=>Promise.all(M.map(U=>Vp(a,U,n,s).then(E=>{E&&y.push(E)}))));f.push(I),await kn(f,qp,c.length,x)}}o(y??[]),e&&e()},{refreshInterval:wt});return g.useEffect(()=>{p(),n&&d()},[n,t]),l&&console.log(`Fetching Hegic positions error:
`,l),r},$p=(e,t)=>({address:e.address,topics:[yt("Transfer(address,address,uint256)"),null,Ye(t,32)]}),Wp=(e,t)=>{const n=[yt("Acquired(uint256,(uint128,uint128),uint256,uint256,uint256,bytes[])"),t.map(s=>Ye(s,32))];return{address:e,topics:n}},Vp=async(e,t,n,a)=>{const s=t.address,r=xe(t.decode(t.data,t.topics));r.data=xe(r.data);const o=new q(...W(e,"Hegic_OperationalTreasury"),V(e)),p=await o.lockedLiquidity(r.id);if(!(p.state!==0))return;const{asset:l,isCall:d,isSpread:y,isBuy:c,strikeScale:m}=Gp(e,s);Object.assign(r,{asset:l,isCall:d,isSpread:y,isBuy:c});const T=en(r.data.amount,l),b=a[l],f=Kp(r,m);Object.assign(r,{strike:f});const{premium:x,pnl:h}=await Yp(e,r,s),v=Pe(be(x),T),C=h.inPercentage===G(-100),I=p.expiration*ae,M=zp(r,b);return{id:Number(r.id),market:"Hegic",asset:l,amount:T,strike:f,isCall:d,isSpread:y,isBuy:c,premium:x,pnl:h,entryPrice:v,expiry:I,greeks:M,utils:{calcPnl:async()=>new Promise(E=>{E(h)})},actions:{close:async()=>{const E=he();return o.connect(E).payOff(r.id,n)},isClosingDisabled:C}}},Gp=(e,t)=>{const n=eo(e),a=Object.keys(n).find(l=>n[l]===t),[s,r,o]=a.split("_"),p=s.includes("CALL"),u=s.includes("SPREAD");return{asset:o,isCall:p,isSpread:u,isBuy:!0,strikeScale:r}},Kp=(e,t)=>{const n=te(e.data.strike,ns);let a=n/100n*BigInt(t);return e.isSpread&&(a=n),a},Yp=async(e,t,n)=>{const a=ia(e,n),s=Ne(te(t.positivepnl,Tn)),o=te(BigInt(await a.payOffAmount(t.id)),Tn)+s,p={inUSDC:o,inPercentage:$e(t.isBuy,o,s)};return{premium:s,pnl:p}},zp=(e,t)=>{const n={strike:e.strike,isCall:e.isCall,amount:e.data.amount};return{delta:yn.calcDeltaByAssetPrice(n,t),vega:void 0,gamma:void 0,theta:void 0,rho:void 0}},ca=e=>{const{account:t,isConnected:n}=z(),[a,s]=g.useState(void 0),r=()=>{a&&s(void 0)},o=K(),p=Le.getLyra(o),{error:u,mutate:l}=Be(n&&[t,"useLyraPositions"],async()=>{const d=await p.positions(t);if(!d){s([]);return}const y=d.filter(Xp),c=[];for(let m=0;m<y.length;m++){const T=y[m];c.push(await Qp(o,T))}return s(c),e&&e(),c},{refreshInterval:wt});return g.useEffect(()=>{r(),t&&l().then(s)},[t,n]),u&&console.log(`Fetching Lyra positions error:
`,u),a},Qp=async(e,t)=>{const{id:n,strikePrice:a,isCall:s,isLong:r,size:o,expiryTimestamp:p}=xe(t),u=p*ae,{asset:l,premium:d,greeks:y,collateral:c}=await Zp(e,t);t.premium=d;const m=await gn(t,o),{closePrice:T}=m,b=Pe(be(d),o);return{id:n,market:"Lyra",asset:l,amount:o,strike:a,isCall:s,isBuy:r,premium:d,collateral:c,pnl:m,entryPrice:b,closePrice:T,expiry:u,greeks:y,utils:{calcPnl:async x=>{const{TRADE_SLIPPAGE:h}=Ae,v=await t.trade(!r,me.from(x),h);return await gn(t,x,v)}},actions:{close:async x=>{const h={referrer:et},v=await t.close(me.from(x),TRADE_SLIPPAGE,h);if(v.isDisabled){Ee(new Error(v.disabledReason));return}return he().sendTransaction(v.tx)},addToCollateral:async x=>{const h=c.inMarketToken+x,v=await t.trade(r,me.from(0),TRADE_SLIPPAGE,{position:t,setToCollateral:me.from(h)});if(v.isDisabled){Ee(new Error(v.disabledReason));return}return he().sendTransaction(v.tx)},isAddingToCollateralDisabled:!(c!=null&&c.liquidationPrice)}}},gn=async(e,t,n)=>{const{isLong:a,premium:s}=e,{TRADE_SLIPPAGE:r}=Ae;t||(t=e.size),n||(n=await e.trade(!a,me.from(t),r));const o=n.pnl().toBigInt(),p=$e(a,o,s);return{inUSDC:o,inPercentage:p,closePrice:n.pricePerOption.toBigInt()}},Zp=async(e,t)=>{const n=()=>t.marketName.split("-USDC")[0],a=()=>t.trades().reduce((u,l)=>(l=xe(l),l.isBuy?u-l.premium:u+l.premium),0n),s=()=>{const{delta:o,theta:p,rho:u}=t.liveOption(),{vega:l,gamma:d}=t.liveStrike(),y={delta:o,vega:l,gamma:d,theta:p,rho:u};for(const c in y){const m=y[c];y[c]=$(m.toBigInt(),X,3)}return y},r=async()=>{const o=t.collateral&&xe(t.collateral);if(o)return Le.queryFormatCollateral(e,o,n())};return{asset:n(),premium:a(),greeks:s(),collateral:await r()}},Xp=e=>{const{size:t,expiryTimestamp:n}=xe(e),a=t===0n,s=n*ae<Date.now();if(!a&&!s)return!0},ma=(e,t,n)=>{const a=nt(e,"Rysk_Otoken");return new q(t,a,n?he():V(e))},Jp=e=>{const t=K(),{account:n,isConnected:a}=z(),[s,r]=g.useState(void 0),o=()=>{s&&r(void 0)},p=new q(...W(t,"Rysk_OptionExchange"),V(t)),{error:u,mutate:l}=Be(a&&[n,"useRyskPositions"],async()=>{const d=eu(p,n),y=await tu(p,d),c=nu(t,y),T=Object.values(c).map(b=>iu(t,b,n));await Promise.all(T).then(b=>b.filter(f=>f)).then(b=>{r(b??[])}),e&&e()},{refreshInterval:wt});return g.useEffect(()=>{o(),n&&l()},[n,a]),u&&console.log(`Fetching Rysk positions error:
`,u),s},eu=(e,t)=>{const n=a=>({address:e.address,topics:[yt(`Options${a?"Bought":"Sold"}(address,address,uint256,uint256,uint256)`),null,Ye(t,32)]});return{buyFilter:n(!0),sellFilter:n(!1)}},tu=async(e,t)=>{const n=p=>p.map(l=>(l.args={...l.args,isBuy:!0},l)),{buyFilter:a,sellFilter:s}=t,[r,o]=await Promise.all([e.queryFilter(a).then(n),e.queryFilter(s)]);return{buyEvents:r,sellEvents:o}},nu=(e,t)=>{const n={},{buyEvents:a,sellEvents:s}=t,r=[...a,...s],o=Te.getMarketToken(e),p=async l=>{const d=await l.getTransactionReceipt(),y=Xt(e,"Rysk_OptionRegistry"),c=d.logs.find(b=>b.address===y);if(!c)return null;const m=wn(c,["uint"]);return m?m[0].toBigInt():null};r.forEach(l=>{const{isBuy:d,optionAmount:y,premium:c,fee:m,series:T}=xe(l.args),b=d?y:Ne(y),f=te(c,o.decimals),x=d?Ne(f):f,h=te(m,6),v=Pe(f+h,b),C=Ce(v,b),I=d?y:0n,M=d?C:0n;n[T]?(n[T].amount+=b,n[T].premium+=x,n[T].amountSum+=I,n[T].contractValueSum+=M):n[T]={isBuy:d,amount:b,premium:x,amountSum:I,contractValueSum:M,seriesAddress:T,vaultIdPromise:p(l),event:l}});const u=l=>{const{amountSum:d,contractValueSum:y}=l;return d===0n?null:Pe(y,d)};return Object.values(n).forEach(l=>{l.amount<0n&&(l.amount=be(l.amount),l.isBuy=!1),l.entryPrice=u(l)}),{...n}},au=async(e,t,n,a)=>{let s;return n?s=(await e.balanceOf(a)).toBigInt()>0n:s=t>0n,s},iu=async(e,t,n)=>{const{seriesAddress:a,amount:s,premium:r,entryPrice:o,isBuy:p,vaultIdPromise:u}=t;if(!p)return null;const l=ma(e,a);if(!await au(l,s,p,n))return null;const y=l.getOtokenDetails().then(S=>{const[,N,,B,w,_]=S,k=BigInt(B),A=Number(w),L=!_,[,P]=It(e,N).symbol.split("W"),j=te(k,8),F=A*ae;return{isCall:L,asset:P,strike:j,expiry:F}}),[c,{isCall:m,asset:T,strike:b,expiry:f}]=await Promise.all([u,y]),x=Te.getOptionSeries(e,f,b,m,a),h=[e,x,s,r,p,o],v=await Te.calcPnlWithGreeks(...h);if(!v)return null;const{pnl:C,greeks:I}=v,M=su(...h),E=Te.getIsExpired(x)?!1:!await ou(e,p,x),R=E||C.closePrice===0n;return{market:"Rysk",id:a,asset:T,amount:s,strike:b,isCall:m,isBuy:p,premium:r,expiry:f,pnl:C,entryPrice:o,closePrice:R?void 0:C.closePrice,greeks:I,utils:{calcPnl:M},actions:{close:ru(e,s,x,c,n),isClosingDisabled:E}}},su=(e,t,n,a,s,r)=>async p=>(await Te.calcPnlWithGreeks(e,t,p??n,a,s,r)).pnl,ru=(e,t,n,a,s)=>{const{address:r}=n,o=ue(t,8),p=Te.getIsExpired(n),u=new q(...W(e,"Rysk_OpynController"),he()),l=new q(...W(e,"Rysk_OptionExchange"),he()),d=async m=>{const T=ue(m,8),b=ma(e,r,!0);return(await b.allowance(s,l.address)).toBigInt()>=T?ai():b.approve(l.address,T)};return p?async()=>{const T=[{actionType:8,owner:re,secondAddress:s,asset:r,vaultId:0n,amount:o,index:0n,data:re}];return u.operate(T)}:async m=>{await d(m).then(h=>h==null?void 0:h.wait());const{OPERATION_TYPES:T,RYSK_ACTION_TYPES:b,EMPTY_SERIES:f}=Mt,x=[{operation:T.Rysk,operationQueue:[{actionType:b.Sell,owner:re,secondAddress:s,asset:r,vaultId:0n,amount:m,optionSeries:f,indexOrAcceptablePremium:0n,data:re}]}];return l.operate(x)}},ou=async(e,t,n)=>await Te.validateOptionSeries(e,!t,n),pu=e=>{const t=K(),{account:n,isConnected:a}=z(),[s,r]=g.useState(void 0),o=()=>{s&&r(void 0)},{error:p,mutate:u}=Be(a&&[n,"usePremiaPositions"],async()=>{const l=await je.queryPremia(t),d=await l.users.getOptionPositionsExtendedForUser(n,!0),y=!ee(await l.subgraph.getAllPairs());n&&!y&&console.log("Premia graph's not working =/"),d.length&&console.log(l);const c=d.map(uu).map(T=>yu(l,T)),m=await Promise.all(c).then(_n);r(m),e&&e()},{refreshInterval:wt});return g.useEffect(()=>{o(),n&&u()},[n,a]),p&&console.log(`Fetching Premia positions error:
`,p),s},uu=e=>{const{size:t,maturity:n,strike:a,isBuy:s,premiumPaid:r,premiumReceived:o}=e,p=BigInt(r),u=BigInt(o),l={asset:lu(e),amount:BigInt(t),premium:s?p:u,partialClosingPremium:s?u:p,expiry:n*ae,strike:BigInt(a)};return{...e,...l}},lu=e=>{const t=e.base;return t.isWrappedNative?t.symbol.split("W")[1]:t.symbol},yu=async(e,t)=>{let n=t.premium;n===0n&&(n=await du(e,t));const a=Pe(n,t.amount);t.entryPrice=a;const{asset:s,amount:r,expiry:o,isCall:p,isBuy:u,strike:l,address:d,base:y}=t,c=p?await Se(e.chainId,y.address,n):n,m=await je.queryClosingQuote(e,t),T=en(BigInt(m.price),s),b=await xn(e,t,m),f=Date.now()>o;return{market:"Premia",id:d,asset:s,amount:r,strike:l,isCall:p,isBuy:u,premium:c,expiry:o,pnl:b,entryPrice:a,closePrice:T,greeks:zn(),utils:{calcPnl:async h=>{const v={...t,amount:h};return await xn(e,v)}},actions:{close:mu(e,t,b.inMarketToken),isClosingDisabled:!f&&!t.closingQuote}}},du=async(e,t)=>{const n=o=>{const p=wn(o,["uint256","bool","uint256"]);return p==null?void 0:p[2].toBigInt()};return(await cu(e,t)).map(n).reduce((o,p)=>o+(p??0n),0n)-t.partialClosingPremium},cu=async(e,t)=>{const{address:n,base:a}=t,s=Xt(e.chainId,"TxBuilderOpen_Premia"),r=await je.queryVaultContract(e,a.address),o={address:r.address,topics:[yt("Trade(address,address,uint256,bool,uint256,uint256,uint256,uint256)"),Ye(s,32),Ye(n,32)]};return await r.queryFilter(o)},xn=async(e,t,n)=>{const{address:a,amount:s,isCall:r,isBuy:o,entryPrice:p,expiry:u,base:l}=t,d=Ce(p,s);let y;n||(n=await je.queryClosingQuote(e,t)),t.closingQuote=n;const c=je.calcClosingPremium(t,n);if(Date.now()>u||!c){const v=await e.options.getProfitLoss(a,o,Pe(d,s));y=Ce(v,s)}else y=o?c-d:d-c;const T=y>0n,b=$e(o,y,d),f=r?await Se(e.chainId,l.address,be(y)):y;return{inUSDC:T?f:Ne(f),inPercentage:b,inMarketToken:y}},mu=(e,t)=>{const{address:n,amount:a,isBuy:s,expiry:r,closingQuote:o}=t,{buy:p,sell:u,exercise:l,settle:d,fillQuote:y}=e.pools;let c;const m=Date.now()>r,T=(o==null?void 0:o.providerType)==="orderbook";return m?s?c=l:c=d:T?c=y:s?c=u:c=p,async b=>{const f=BigInt(o.price),x=Ce(f,b),h=e.pricing.premiumLimit(x,Sr,o.isBuy),v={quote:o,signature:o==null?void 0:o.signature,size:b??a,premiumLimit:h,referrer:et};if(T){const C=await e.orders.isQuoteValid(o);console.log(C)}return console.log(v,c),c=c.bind(e.pools),c(n,m?void 0:v,e.signer)}},{PARENT_COMPLEX:Tu,PARENT_SIMPLE:fu,CHILD:Ta}=Wn,bu=e=>{const t=g.useContext(We),n=y=>()=>{Ep(t,y)},a={Hegic:da(n("Hegic")),Lyra:ca(n("Lyra")),Rysk:Jp(n("Rysk")),Premia:pu(n("Premia"))},s=Object.values(a),r=s.every(y=>ee(y)),o=s.every(y=>!ee(y)),p=Rp();if(!p||r)return;const l=p.map(y=>{const{childPositionsStructure:c}=y,m=[],T=c.length===1;for(let b=0;b<c.length;b++){const{id:f,market:x}=c[b],h=a[x];if(!h)return;const v=h.findIndex(I=>I.id===f),C=h[v];C&&(m.push(C),h[v].role=Ta)}if(m.length)if(T){const b={...m[0]};return{...y,...b,role:fu}}else{const b=xu(m),f=m[0].asset;return{...y,childPositions:m,asset:f,...b,role:Tu}}}).filter(y=>!ee(y));return o&&e&&e(),gu(l,a)},hu=e=>{if(!e.length)return null;const t={premium:0n,collateral:{inUSDC:0n},pnl:{inUSDC:0n},greeks:{},isTotal:!0},n=e.reduce((r,o,p)=>{var l;const u=Ct(r,o,["premium","pnl.inUSDC"]);return u.greeks=Qn(r.greeks,o.greeks),(l=o.collateral)!=null&&l.inUSDC&&(u.collateral.inUSDC+=o.collateral.inUSDC),u},t),a=()=>$e(null,n.pnl.inUSDC,n.premium),s=e.length===1;return n.pnl.inPercentage=s?e[0].pnl.inPercentage:a(),n},gu=(e,t)=>{const n=[],a=[];Object.values(t).forEach(p=>{p&&a.push(...p)});const r=a.filter(p=>p.role!==Ta).map(p=>{const{isCall:u,isSpread:l,isBuy:d}=p;return{strategy:`${l?u?"Bull":"Bear":d?"Long":"Short"} ${u?"Call":"Put"} ${l?"Spread":""}`.trim(),...p}});n.push(...e,...r);const o=hu(a);return o&&n.push(o),n},xu=e=>{const t=e.reduce((n,a)=>{const s=Ct(n,a,["amount","premium","pnl.inUSDC"]);return s.greeks=Qn(n.greeks,a.greeks),s.collaterals=a.collateral?[...n.collaterals,a.collateral]:n.collaterals,s},{amount:0n,premium:0n,collaterals:[],pnl:{inUSDC:0n},greeks:{delta:0,vega:0,gamma:0,theta:0,rho:0}});return t.pnl.inPercentage=$e(null,t.pnl.inUSDC,t.premium),t.expiry=e[0].expiry,t};const _u=({position:e,openCloseModal:t})=>{const[n]=g.useContext(We);if(!e.actions)return null;const{isClosingDisabled:a}=e.actions,s=n.closing.find(o=>o.id===e.id),r=()=>{t(e)};return i.jsx("div",{className:"BuilderPositionCloseBtn",children:Qt(i.jsx(ve,{className:"close-btn",type:"micro",isDisabled:a,onClick:r,children:"Close"}),s)})},vu=({handleClick:e})=>i.jsx("button",{onClick:e,className:"shrink-0",children:i.jsx("img",{src:ua,alt:"Update Collateral"})}),fa=({market:e,strikeParams:t,isSmall:n})=>{const{strike:a,isCall:s,isBuy:r,expiry:o}=t,p=an[e].circled,u=r?ea:ta,l=Cn(o,"dMMMyy").toUpperCase(),d=rn(a),c=`${l}-${d}-${s?"C":"P"}`;return i.jsxs("div",{className:D("Brief","SeriesBrief",n&&"small"),children:[i.jsxs("div",{className:"Brief__icons",children:[i.jsx("div",{className:"Brief__icon",children:i.jsx("img",{src:p,alt:`${e}`})}),i.jsx("div",{className:"Brief__icon",children:i.jsx("img",{src:u,alt:`${r?"Long":"Short"}`})})]}),i.jsx("div",{className:"SeriesBrief__string",children:c})]})},{PARENT_COMPLEX:ku,CHILD:wu}=Wn,Cu={strategy:"Strategy",amount:"Amount",series:"Series",collateral:i.jsx("span",{"data-tooltip-id":"BuilderForm_CollateralTooltip",className:"tip",children:"Collateral"}),pnl:"PnL",entryPrice:"Entry Price",closePrice:"Close Price",liqPrice:"Liq. Price",delta:"Delta",vega:"Vega",gamma:"Gamma",theta:"Theta",rho:"Rho",closeBtn:""},Pu=({positions:e,openCollateralModal:t,openCloseModal:n,isLoadingComplete:a})=>{const{isConnected:s}=z(),r=y=>{const{role:c,isOpening:m,isTotal:T}=y,b=c===ku,f=c===wu,x=()=>{if(f)return"";if(T)return J("Total",!1,!0);const{strategy:w}=y,_=de[w],k=_==null?void 0:_.color,A=i.jsx("svg",{className:"icon-dropdown",xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",children:i.jsx("path",{d:"M2 5L6.5 9L11 5",stroke:k,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});return i.jsxs("span",{className:"flex items-center gap-x-4",style:{color:k},children:[m&&i.jsx(we,{}),w,b&&A]})},h=()=>{const{asset:w,amount:_}=y;if(_)return i.jsx(ie,{symbol:w,children:$(_)})},v=()=>{const{market:w,strike:_}=y;if(b)return i.jsx("div",{className:"BuilderPositionsTable__strike-msg",children:J("Click to see strikes")});if(_)return i.jsx(fa,{market:w,strikeParams:y})},C=()=>{const{premium:w}=y,_=w<0n,k=Z(be(w)),A=`${_?"–":"+"}$${k}`;return i.jsx("span",{className:D({positive:!_,negative:_}),children:A})},I=()=>{const{collateral:w,collaterals:_,actions:k}=y;if(!w&&(!_||!_.length))return;const A=L=>T?L.inUSDC?i.jsxs("span",{children:["$",Z(L.inUSDC)]}):void 0:i.jsx(ie,{symbol:L.marketToken.symbol,children:He(L.inMarketToken,L.marketToken.isStable)},L.isBase);return b?M(_,A):k&&!k.isAddingToCollateralDisabled?i.jsxs("div",{className:"flex items-center gap-x-3",children:[A(w),i.jsx(vu,{handleClick:()=>t(y)})]}):A(w)},M=(w,_)=>{const k={base:{},stable:{}},A=P=>{const{isBase:j}=P,F=j?"base":"stable";k[F]={...Ct(k[F],P,["inMarketToken","inUSDC"]),isBase:j}};w.forEach(A);const L=Object.values(k).map(_);return i.jsx("div",{className:"flex flex-col gap-y-5",children:L})},U=()=>{if(!y.pnl)return;const{inUSDC:w,inPercentage:_}=y.pnl,k=w<0?xt.negative:"",A=be(_),L=$(A)<1?1:0,P=Z(A,L);return i.jsxs("div",{className:D({positive:w>0n,negative:w<0n,muted:w===0n}),children:[i.jsx("span",{style:{color:at,marginRight:5},children:At(w)}),`(${k}${P}%)`]})},E=()=>{const{entryPrice:w}=y;if(!ee(w))return`$${Z(w)}`},R=()=>{const{closePrice:w}=y;if(!ee(w))return`$${Z(w)}`},O=()=>{const{collateral:w}=y;if(!(!w||!w.liquidationPrice))return`$${Z(w.liquidationPrice)}`},S=()=>{const{greeks:w}=y;if(T)for(const _ in w)w[_]||(w[_]=void 0);return w},N=()=>b?y.childPositions.map(r):void 0,B=()=>m?"":i.jsx(_u,{openCloseModal:n,position:y});return{id:`${y.buildId}_${y.id}`,strategy:x(),amount:h(),series:v(),premium:C(),collateral:I(),pnl:U(),entryPrice:E(),closePrice:R(),liqPrice:O(),...S(),children:N(),closeBtn:B(),omittedKeys:(b||T)&&["series","closeBtn"]}},o=Cu,p=e==null?void 0:e.map(r),u={titleData:o,itemsData:p},l=[{name:"Active",isActive:!0}],d=()=>{let y;return s?!e||!a?y="Loading...":e.length||(y="No open positions"):y="No wallet connected",i.jsx("div",{className:"App-box BuilderPositionsTable__message",style:a?{}:{marginBottom:10},children:J(y)})};return i.jsxs("div",{className:"BuilderPositionsTable",children:[i.jsxs("div",{className:"BuilderPositionsTable__header",children:[i.jsx(Wt,{links:l,type:"border"}),J("*The table displays estimated PnL values. To view the actual PnL, click on the «Close» button",!0)]}),e!=null&&e.length?i.jsxs(i.Fragment,{children:[!a&&d(),i.jsx(Jn,{structureData:u})]}):d()]})};const ba=e=>{const{value:t,setValue:n,maxValue:a,placeholder:s,isDisabled:r,isFocused:o,hasError:p,formatInputStringFns:u=[ze,ke],title:l,presentedValue:d,presentedValueTitle:y,iconData:c,unitStr:m}=e,T=gt([t,n],{maxValue:a,placeholder:s,isDisabled:r,isFocused:o},u),b=D(e.className,T.hasFocus&&"hlight",p&&"error",r&&"disabled"),f=u[0];return i.jsxs("div",{className:D("InputFamily InputComplexNumeric",b),onClick:()=>{T.ref.current.focus()},children:[i.jsxs("div",{className:"InputComplexNumeric__header",children:[i.jsx("div",{className:"InputComplexNumeric__title",children:l}),d&&i.jsxs("button",{className:"InputComplexNumeric__presented-value",onClick:x=>{x.stopPropagation(),n(f(d))},children:[i.jsxs("span",{className:"InputComplexNumeric__presented-value-title",children:[y,":"]}),f(d)]}),c&&i.jsx("div",{className:"InputComplexNumeric__icon",children:i.jsx("img",{src:c.src,alt:c.alt??"icon"})})]}),i.jsxs("div",{className:"InputComplexNumeric__body",children:[i.jsx("div",{className:"InputComplexNumeric__input-wrapper",children:T.node}),i.jsxs("div",{className:"InputComplexNumeric__helper",children:[a&&i.jsx("button",{className:"InputComplexNumeric__max-btn",disabled:r,onClick:x=>{x.stopPropagation(),n(ze(a))},children:"Max"}),m&&i.jsx("div",{className:"InputComplexNumeric__unit",children:m})]})]})]})},Su=({position:e,isOpen:t,setIsOpen:n})=>{var h;const a=K(),[s,r]=g.useState(""),[o,p]=g.useState(!1),[u,l]=g.useState(null),d=((h=e==null?void 0:e.collateral)==null?void 0:h.marketToken)??{symbol:"ETH"},y=Fn(d.symbol),c=la(d==null?void 0:d.symbol,Xt(a,"Lyra_Quoter"),Qe(s),l),m=()=>{l(null),c.check()};if(g.useEffect(()=>{l(null)},[s]),ut(()=>{s&&m()},Tt,[s]),!e||!e.collateral)return null;const T=()=>{if(!s)return"Enter Amount";if(u===null)return"Please, wait...";if(o)return u?"Updating Collateral...":`Approving ${d.symbol}...`},b=()=>!T(),f=()=>{const v=u?"Add Collateral":`Approve ${s} ${d.symbol}`;return T()??v},x=()=>{if(!u){c.approve(p,m);return}const v=Qe(s);ct(a,e.actions.addToCollateral,[v],{text:`${s} ${d.symbol} added.`,node:i.jsxs(ie,{symbol:d.symbol,children:[s," added to collateral."]})},p,()=>n(!1))};return i.jsxs(mt,{className:"PositionCollateralModal",isOpen:t,setIsOpen:n,reset:()=>{r(""),l(null)},children:[i.jsx("h1",{children:"Edit Collateral"}),i.jsx(ba,{value:s,setValue:r,title:"Add Amount",iconData:{src:y},isFocused:!0}),i.jsx(ve,{isDisabled:!b(),onClick:x,children:f()})]})};const Mu=({position:e,isOpen:t,setIsOpen:n})=>{const a=K(),[s,r]=g.useState(""),[o,p]=g.useState(void 0),[u,l]=g.useState(!1),[d,y]=g.useContext(We),c=()=>{const k=us(e.amount);r(k)},m=k=>{p(void 0),e.utils.calcPnl(k).then(p)};if(g.useEffect(()=>{t&&e&&c()},[t]),ut(()=>{e&&s&&m(Qe(s))},Tt,[s]),!e||!e.actions)return null;const T=k=>{if(k)d.closing.push({id:e.id,market:e.market});else{const A=d.closing.findIndex(L=>L.id===e.id);A!==-1&&d.closing.splice(A,1)}y({...d})},{close:b}=e.actions,{asset:f,amount:x,strategy:h,isCall:v,isBuy:C}=e,I=h??`${C?"Long":"Short"} ${v?"Call":"Put"}`,M=i.jsxs(ie,{symbol:f,children:[s," ",I," closed."]}),E={text:`${s} ${f} ${I} closed.`,node:M},R=Qe(s),O=o==null?void 0:o.inUSDC,S=()=>{ct(a,b,[R],E,l,()=>{T(!0),n(!1)})},N=()=>{if(!s)return"Enter Amount";if(u)return"Closing Strategy..."},B=()=>N()??"Close Strategy",w=()=>!N(),_=Fn(f);return i.jsxs(mt,{className:"ClosePositionModal",isOpen:t,setIsOpen:n,reset:()=>{r(""),p(void 0)},children:[i.jsxs("div",{className:"ClosePositionModal__body",children:[i.jsx("h1",{children:"Close Strategy"}),i.jsxs("div",{className:"info-row",children:[i.jsx("div",{className:"info-row__title",children:"Series"}),i.jsx("div",{className:"info-row__value",children:i.jsx(fa,{market:e.market,strikeParams:e})})]}),e.market!=="Hegic"&&i.jsx(ba,{value:s,setValue:r,title:"Amount",iconData:{src:_},isFocused:!0,maxValue:$(x)})]}),i.jsxs("div",{className:"ClosePositionModal__footer",children:[i.jsxs("div",{className:"info-row",children:[i.jsx("div",{className:"info-row__title",children:"PnL"}),i.jsx("div",{className:D("info-row__value",{positive:O>0n,negative:O<0n}),children:_t(()=>up(O),ee(O))})]}),i.jsx(ve,{isDisabled:!w(),onClick:S,children:B()})]})]})},Au=()=>{const{account:e}=z(),[t,n]=g.useState(!1),a=()=>{t||n(!0)};g.useEffect(()=>{n(!1)},[e]);const s=bu(a),r=s==null?void 0:s.sort((b,f)=>f.isTotal?-1:b.isTotal?1:sn(b,f,"pnl.inUSDC",-1)),[o,p]=g.useState(null),[u,l]=g.useState(!1),[d,y]=g.useState(!1),c=b=>{p(b),l(!0)},m=b=>{p(b),y(!0)},[T]=g.useContext(We);return T.opening&&r&&[...T.opening,...r],i.jsxs("div",{className:"BuilderPositions",children:[i.jsx("h1",{className:"BuilderPositions__title",children:"My Positions"}),i.jsx(Pu,{positions:r,isLoadingComplete:t,openCollateralModal:c,openCloseModal:m}),i.jsx(Su,{isOpen:u,setIsOpen:l,position:o}),i.jsx(Mu,{isOpen:d,setIsOpen:y,position:o})]})},Eu=()=>{const e=jt("asset","ETH"),[t,n]=g.useState({});return g.useEffect(()=>{n(ya())},[]),i.jsx(We.Provider,{value:[t,n],children:i.jsxs("div",{className:"Builder",children:[i.jsx(Fp,{assetState:e}),i.jsx(Au,{})]})})};const Du=()=>{const e=da(),t=ca(),{ETH:n,BTC:a}=tt()??{};return console.log(n,a),g.useEffect(()=>{e&&console.log(e),t&&console.log(t)},[e,t]),G(1),G(1,8),Un(G(1),2),be(G(-1)),Ne(G(1)),Ne(G(-1)),zt(G(1,10),10,8),ue(G(1),8),te(G(1,8),8),$(1000000000000000000n),$(1000n,3),Z(G(1e3)),Z(G(1e3),0),Z(G(1e3),5),Z(G(1e3,8),2,8),i.jsxs("div",{className:"Sandbox",children:[i.jsx("h3",{className:"text-center",children:"Page for calculations testing"}),i.jsxs("p",{children:["Default Decimals: ",i.jsx("span",{style:{color:"white"},children:X})]}),i.jsx("div",{style:{margin:"10px 0"},children:t==null?void 0:t.map(s=>{const r=s.premium,o=Z(r);return i.jsxs("div",{children:[o," ",i.jsxs("span",{className:"muted",children:["(",s.asset,")"]})]},s.id)})})]})};const Bu=()=>{K();const{account:e,isConnected:t}=z(),n=tt();return g.useEffect(()=>{},[e]),g.useEffect(()=>{},[n]),g.useEffect(()=>{},[]),i.jsxs("div",{className:"RyskSandbox",children:[i.jsx("h1",{children:"Rysk.Finance SDK"}),i.jsx("div",{className:"text-center muted_light",children:"Uncomment needed functions and watch console"})]})},Iu=()=>{const e=lt(),t=Ka();return g.useEffect(()=>{e.pathname.endsWith("terminal")&&t("/terminal/builder")},[e.pathname]),i.jsxs(Ya,{children:[i.jsxs(Oe,{path:"/terminal",element:i.jsx(ys,{}),children:[i.jsx(Oe,{path:"builder",element:i.jsx(Eu,{})}),i.jsx(Oe,{path:"margin-trading",element:i.jsx("div",{children:"Margin Trading"})})]}),i.jsx(Oe,{path:"/sandbox",element:i.jsx(Du,{})}),i.jsx(Oe,{path:"/rysk-sandbox",element:i.jsx(Bu,{})}),i.jsx(Oe,{path:"*",element:i.jsx(za,{to:Ui,replace:!0})})]})},Ou=()=>i.jsxs("div",{className:"Tooltips",children:[i.jsx(fe,{id:"Tooltip_default"}),i.jsx(fe,{place:"bottom-end",id:"Tooltip_bottom-end"})]});const Fu="/sf_draft/assets/Discord-f7d998b5.svg",Lu="/sf_draft/assets/Gitbook-c728118d.svg",Ru="/sf_draft/assets/Github-d50e83d6.svg",Nu="/sf_draft/assets/Mirror-095740c8.svg",ju="/sf_draft/assets/Dune-cc12c29c.svg",Uu="/sf_draft/assets/Twitter-5cfdd2f4.svg",Hu=()=>{const e=[{name:"Discord",icon:Fu,url:"https://discord.gg/5DGZ7rzSfS"},{name:"Gitbook",icon:Lu,url:"https://docs.sharwa.finance/"},{name:"Github",icon:Ru,url:"https://github.com/SharwaFinance"},{name:"Mirror",icon:Nu,url:"https://mirror.xyz/sharwa-finance.eth"},{name:"Dune",icon:ju,url:"https://dune.com/sharwa_finance/aggregator"},{name:"Twitter",icon:Uu,url:"https://twitter.com/SharwaFinance"}];return i.jsx("footer",{className:"Footer",children:i.jsxs("div",{className:"Footer__content _container",children:[i.jsx(Pn,{}),i.jsx("div",{className:"Footer__smedia-items",children:e.map(t=>i.jsx("a",{className:"Footer__smedia-item",target:"_blank",rel:"noreferrer",href:t.url,children:i.jsx("img",{src:t.icon,alt:`${t.name} logo`})},t.name))})]})})};const qu=({children:e})=>i.jsx("div",{className:"GlobalStickyMessage",children:e}),$u=async(e,t)=>{const a=(await Wu(e,t).latestAnswer()).toBigInt();return te(a,as)},Wu=(e,t)=>{const n=nt(e,"ChainlinkOracle"),a=pe(e,t).oracleAddress;if(!a)throw new Error(`No oracle address set for asset ${t}`);return new q(a,n,V(e))},Vu=()=>{const e=K(),{data:t,error:n}=Be("useTokenPricesConfig",{fetcher:async()=>{const a={},s=[];return Kt.forEach(r=>{s.push($u(e,r).then(o=>{a[r]=o}))}),await Promise.all(s),a},refreshInterval:60*1e3,refreshWhenHidden:!0,revalidateOnFocus:!1});return n?(console.log(n),null):t},Gu=({children:e})=>{const t=Vu();return i.jsx(qn.Provider,{value:t,children:e})};function Ku(){const{chain:e}=Da(),t=()=>i.jsxs(i.Fragment,{children:[i.jsx(Bi,{}),i.jsx("main",{className:"_container",children:i.jsx(Iu,{})}),i.jsx(Hu,{}),i.jsx(qu,{children:"Sharwa.Finance is in alpha. Use at your own risk"})]}),n=()=>i.jsx(Li,{chainId:e.id});return e!=null&&e.unsupported?n():t()}function Yu(){return i.jsx(Qa,{fallbackRender:null,children:i.jsxs(i.Fragment,{children:[i.jsx(Ii,{}),i.jsx(Ou,{}),i.jsx(Ea,{config:Si(),children:i.jsx(ka,{children:i.jsx(ji,{children:i.jsx(Gu,{children:i.jsx(Ku,{})})})})})]})})}_a.createRoot(document.getElementById("root")).render(i.jsx(Ke.StrictMode,{children:i.jsx(Yu,{})}));
