import{j as n,r as x,a as ze}from"./node_modules/react-0beb1837.js";import{c as sn}from"./node_modules/react-dom-f51d7a2d.js";import{L as rn,H as on}from"./node_modules/react-router-dom-1eb4decd.js";import{c as I}from"./node_modules/classnames-e401d0a3.js";import{c as pn,u as un,a as ln,b as yn,d as V,e as dn,f as cn,W as mn,g as Tn}from"./node_modules/wagmi-427ba1d9.js";import{p as fn,I as bn,q as hn,r as xn,t as Cn}from"./node_modules/@wagmi-3a69b90e.js";import{U as gn}from"./node_modules/@uniswap-19584686.js";import{L as _n}from"./node_modules/@lyrafinance-ef6a9e5c.js";import"./node_modules/cross-fetch-9ac157bd.js";import{W as kn,G as vn,C as X,B as Z}from"./node_modules/@ethersproject-21b0065b.js";import{Q as Ze,k as wn,h as Sn}from"./node_modules/react-toastify-e7feefbe.js";import{S as An,c as Dn}from"./node_modules/react-select-83f54f62.js";import{W as Mn}from"./node_modules/react-tooltip-07244895.js";import{b as je,O as Bn,a as Pn,d as En,e as Se,f as In}from"./node_modules/react-router-f49d1790.js";import{u as On,a as kt,b as Qe}from"./node_modules/react-use-e60a89c2.js";import{R as Xe}from"./node_modules/react-modal-2d0f1c8c.js";import{i as se,u as vt}from"./node_modules/swr-8e41e7a7.js";import{I as Fn}from"./node_modules/react-icons-314c56b9.js";import{f as jn}from"./node_modules/date-fns-8fa817a4.js";import{r as Ln}from"./node_modules/swiper-4105a6d8.js";import{u as Je}from"./node_modules/ethers-0817d50b.js";import{S as Nn}from"./node_modules/rc-slider-d30c4979.js";import{A as Rn,a as Un}from"./node_modules/@szhsin-5a864415.js";import{R as Hn,A as $n,X as Wn,Y as qn,T as Gn,a as Vn,b as Tt,C as Yn}from"./node_modules/recharts-b13151e6.js";import"./node_modules/scheduler-765c72db.js";import"./node_modules/@remix-run-06a34d2a.js";import"./node_modules/@tanstack-bdb8aa03.js";import"./node_modules/use-sync-external-store-357101f6.js";import"./node_modules/@noble-c8e7831c.js";import"./node_modules/eventemitter3-50fd48f0.js";import"./node_modules/zustand-bfa6df6a.js";import"./node_modules/graphql-tag-9568edd7.js";import"./node_modules/graphql-6a9502bd.js";import"./node_modules/@apollo-b7627a8e.js";import"./node_modules/optimism-96b4f7fa.js";import"./node_modules/@wry-af370e25.js";import"./node_modules/ts-invariant-d603e89e.js";import"./node_modules/zen-observable-ts-47d5f8bb.js";import"./node_modules/symbol-observable-f2ed883d.js";import"./node_modules/bech32-d582637e.js";import"./node_modules/js-sha3-dbfebf46.js";import"./node_modules/bn.js-c7c4c633.js";import"./node_modules/hash.js-b2e4d6cd.js";import"./node_modules/minimalistic-assert-7cc78341.js";import"./node_modules/inherits-2c87d58f.js";import"./node_modules/aes-js-5c71d223.js";import"./node_modules/scrypt-js-1f67d6a9.js";import"./node_modules/clsx-1229b3e0.js";import"./node_modules/@babel-9a9b6246.js";import"./node_modules/@emotion-3832f1f0.js";import"./node_modules/hoist-non-react-statics-23d96a9a.js";import"./node_modules/react-is-e8e5dbb3.js";import"./node_modules/stylis-79144faa.js";import"./node_modules/@floating-ui-1f2e0c5a.js";import"./node_modules/use-isomorphic-layout-effect-43379cc7.js";import"./node_modules/memoize-one-297ddbcb.js";import"./node_modules/@xobotyi-c2000ea3.js";import"./node_modules/prop-types-8f2621af.js";import"./node_modules/warning-883c7a3c.js";import"./node_modules/exenv-9baed461.js";import"./node_modules/react-lifecycles-compat-47a97bfa.js";import"./node_modules/rc-util-eaebf3dd.js";import"./node_modules/react-transition-state-95c75a42.js";import"./node_modules/react-resize-detector-79dc3fae.js";import"./node_modules/lodash-ec1dd1a5.js";import"./node_modules/react-smooth-9b35e92d.js";import"./node_modules/fast-equals-a0711cdd.js";import"./node_modules/victory-vendor-5e3e398c.js";import"./node_modules/d3-scale-4cce9527.js";import"./node_modules/internmap-7949acc8.js";import"./node_modules/d3-array-7d9b19f9.js";import"./node_modules/d3-time-format-aa787c71.js";import"./node_modules/d3-time-9ce187c0.js";import"./node_modules/d3-interpolate-8fa1f6ff.js";import"./node_modules/d3-color-6502c434.js";import"./node_modules/d3-format-ffdb8652.js";import"./node_modules/recharts-scale-170b47f7.js";import"./node_modules/decimal.js-light-6fe16ef2.js";import"./node_modules/d3-shape-9e788a4f.js";import"./node_modules/d3-path-41c4cb36.js";import"./node_modules/reduce-css-calc-b5aecdeb.js";import"./node_modules/css-unit-converter-9e08bb2c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();const Kn="/sf_draft/assets/Logo-258738bb.svg",wt=({className:e})=>n.jsx("div",{className:I("Logo",e),children:n.jsx("a",{className:"Logo__link",href:"/index.html",children:n.jsx("img",{src:Kn,alt:"Sharwa.Finance"})})});const St=e=>{const{className:t,links:a,type:i}=e,s=I(t,`Links_${i}`);return n.jsx("div",{className:I("Links",s),children:a.map(r=>{const o=I("Links__item",r.isActive&&"active");return n.jsx(rn,{to:r.to,className:o,disabled:r.isDisabled,onClick:r.isDisabled&&(u=>u.preventDefault()),children:r.name},r.to)})})};const At=e=>{const[t,a]=x.useState(!1),i=x.useCallback(()=>{document.removeEventListener("click",i),a(!1),e&&e()},[]);return{isOpen:t,openPopup:()=>{t||(a(!0),setTimeout(()=>{document.addEventListener("click",i)},10))},closePopup:i}},zn="/sf_draft/assets/wallet-fce3adf9.svg",Zn="/sf_draft/assets/link-c9833cec.svg",Qn="/sf_draft/assets/cross_white-42eb5050.svg",Xn="/sf_draft/assets/Arbitrum-299bccbf.svg",Jn="/sf_draft/assets/Arbitrum-299bccbf.svg",pe=42161,_e=10,et=[pe],tt={[pe]:{name:"Arbitrum",icon:Xn},[_e]:{name:"Optimism",icon:Jn,isDisabled:!0}},ea=[{inputs:[{internalType:"address",name:"_exchanger",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct TxBuilder.Module[]",name:"moduleArray",type:"tuple[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"exchanger",outputs:[{internalType:"contract Exchanger",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"module",outputs:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextBuildID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"exchangerAddress",type:"address"}],name:"setExchanger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct TxBuilder.Module",name:"modData",type:"tuple"}],name:"setModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],ta=[{inputs:[{internalType:"address",name:"_lyra_eth",type:"address"},{internalType:"address",name:"_lyra_btc",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"},{internalType:"address",name:"_lyra_ethErc721",type:"address"},{internalType:"address",name:"_lyra_btcErc721",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"ClosePositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"}],name:"ClosePositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum BaseOptionBuilder.ProtocolType[]",name:"protocolsArrays",type:"uint8[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"positionID",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct ILyra.TradeInputParameters",name:"params",type:"tuple"},{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"positionID",type:"uint256"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum ILyra.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct ILyra.TradeInputParameters",name:"params",type:"tuple"},{internalType:"uint256",name:"premium",type:"uint256"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_btc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_btcErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_eth",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lyra_ethErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextBuildID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],na=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],aa=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],ia=[{inputs:[{internalType:"address",name:"_operationalTreasury",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premuim",type:"uint256"}],name:"OpenPositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],sa=[{inputs:[{internalType:"address",name:"_erc721Address",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"TakeProfitSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"TakeProfitUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkTakeProfit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc721Contract",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveTakeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getExpirationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPayOffAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveTakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveTakes",type:"uint256"}],name:"setMaxActiveTakes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"setTakeProfit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"updateTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ra=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],oa=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],pa=[{inputs:[{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_roleManager",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes",name:"swapData",type:"bytes"}],name:"calculateMsgValue",outputs:[{internalType:"uint256",name:"value",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"msgValue",type:"uint256"}],name:"checkMsgValue",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromExchange",outputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct Exchanger.ExchangeData",name:"data",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct Exchanger.ExchangeData",name:"data",type:"tuple"}],name:"encodeFromExchange",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"roleManager",outputs:[{internalType:"contract RoleManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],ua=[{inputs:[{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"contract IPositionsManager",name:"_manager",type:"address"},{internalType:"uint256",name:"_maxLockupPeriod",type:"uint256"},{internalType:"contract ICoverPool",name:"_coverPool",type:"address"},{internalType:"uint256",name:"_benchmark",type:"uint256"},{internalType:"contract IHegicStrategy[]",name:"initialStrategies",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Expired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Paid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Replenished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"acceptedStrategy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"addStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"benchmark",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"connectStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"coverPool",outputs:[{internalType:"contract ICoverPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"lockedByStrategy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lockedLiquidity",outputs:[{internalType:"enum IOperationalTreasury.LockedLiquidityState",name:"state",type:"uint8"},{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"},{internalType:"uint32",name:"expiration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedPremium",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"contract IPositionsManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLockupPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"mayBeAcceptedAtEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"account",type:"address"}],name:"payOff",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"replenish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setBenchmark",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalLocked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lockedLiquidityID",type:"uint256"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],la=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"HEGIC_POOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"}],name:"createOptionFor",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721Metadata",name:"_uriBuilder",type:"address"}],name:"setURIBuilder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uriBuilder",outputs:[{internalType:"contract IERC721Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"}],ya=[{inputs:[{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"contract IPremiumCalculator",name:"_pricer",type:"address"},{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint8",name:"_spotDecimals",type:"uint8"},{internalType:"uint16",name:"_priceScale",type:"uint16"},{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"},{internalType:"uint48",name:"_exerciseWindowDuration",type:"uint48"},{internalType:"contract LimitController",name:"_limitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],indexed:!1,internalType:"struct IHegicStrategy.StrategyData",name:"data",type:"tuple"},{indexed:!1,internalType:"uint256",name:"negativepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positivepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"Acquired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"limit",type:"uint256"}],name:"SetLimit",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"",type:"bytes[]"}],name:"calculateNegativepnlAndPositivepnl",outputs:[{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"connect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"create",outputs:[{internalType:"uint32",name:"expiration",type:"uint32"},{internalType:"uint256",name:"negativePNL",type:"uint256"},{internalType:"uint256",name:"positivePNL",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exerciseWindowDuration",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"period",type:"uint32"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"getAvailableContracts",outputs:[{internalType:"uint256",name:"available",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLockedByStrategy",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isPayoffAvailable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"k",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"limitController",outputs:[{internalType:"contract LimitController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"optionID",type:"uint256"}],name:"payOffAmount",outputs:[{internalType:"uint256",name:"profit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positionExpiration",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IPremiumCalculator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48",name:"value",type:"uint48"}],name:"setK",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract LimitController",name:"value",type:"address"}],name:"setLimitController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IPremiumCalculator",name:"value",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"strategyData",outputs:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],da=[{inputs:[{internalType:"int256[5]",name:"initialCoefficients",type:"int256[5]"},{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"uint256",name:"_tokenDecimals",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[3]",name:"values",type:"uint256[3]"}],name:"SetBorders",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetCoefficients",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountCall",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountPut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"values",type:"uint8"}],name:"SetDiscountSpread",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetImpliedVolRate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[4]",name:"values",type:"uint256[4]"}],name:"SetImpliedVolRates",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"min",type:"uint256"},{indexed:!1,internalType:"uint256",name:"max",type:"uint256"}],name:"SetPeriodLimits",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetSettlementFeeShare",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetStrikePercentage",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"strike",type:"uint256"}],name:"calculatePremium",outputs:[{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"coefficients",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"setCoefficients",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],ca=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],ma=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Ta=[{inputs:[{internalType:"address",name:"_lyraRegister",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardAlreadySettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"BoardExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardIsFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum IOptionMarket.NonZeroValues",name:"valueType",type:"uint8"}],name:"ExpectedNonZeroValue",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"InvalidStrikeId",type:"error"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"fullQuotes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"}],fa=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],ft=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ke=1e3,nt=60,De=60,Me=24,ba=e=>e*Me*De*nt*ke,ha=e=>Math.floor(e/ke/nt/De/Me),Le=e=>Math.floor(e/ke),xa=e=>{const t=e/ke/nt/De,a=Math.floor(t%Me),i=Math.floor(t/Me),s=Math.floor(t*De);return a===0&&i===0?`${s}m`:`${i}d:${a}h`},Ca={[pe]:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",[_e]:""},me=e=>{const t=Ca[e];if(!t)throw new Error(`No Alchemy api keys found for chainId ${e}`);return new vn(e,t)},ga=e=>new _n({provider:me(e)}),Ne=()=>{if(!window.ethereum)throw new Error("No Ethereum provider found");return new kn(window.ethereum).getSigner()},_a="/sf_draft/assets/ETH-fe35d2b1.svg",ka="/sf_draft/assets/BTC-03fbacc9.svg",va="/sf_draft/assets/WETH-2ba67e25.svg",wa="/sf_draft/assets/WBTC-f0287338.svg",bt="/sf_draft/assets/USDC-5a7f3d86.svg",Sa="/sf_draft/assets/USDT-2e53b5e9.svg",Aa="/sf_draft/assets/DAI-b460716b.svg",Re={[pe]:[{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",isETH:!0,icon:_a,isSwappable:!0},{name:"Bitcoin",symbol:"BTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:ka},{name:"Wrapped Ethereum",symbol:"WETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:va,isSwappable:!0},{name:"Wrapped Bitcoin",symbol:"WBTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:wa,isSwappable:!0},{name:"Dai",symbol:"DAI",decimals:18,address:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",icon:Aa,isSwappable:!0,isStable:!0},{name:"USD Coin",symbol:"USDC",decimals:6,address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",icon:bt,isSwappable:!0,isStable:!0},{name:"USDC.e",symbol:"USDC.e",decimals:6,address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",icon:bt,isSwappable:!0,isStable:!0},{name:"Tether",symbol:"USDT",decimals:6,address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",icon:Sa,isSwappable:!0,isStable:!0}]},Be={},Pe={},ht=Object.keys(Re);for(let e=0;e<ht.length;e++){const t=ht[e];Be[t]={},Pe[t]={};let a=Re[t];for(let i=0;i<a.length;i++){const s=a[i];Be[t][s.symbol]=s,Pe[t][s.address]=s}}const re=(e,t)=>{if(!Be[e])throw new Error(`No tokens found for chainId ${e}`);const i=Be[e][t];if(!i)throw new Error(`Incorrect symbol "${t}" for chainId ${e}`);return i},xt=(e,t)=>{if(!Pe[e])throw new Error(`No tokens found for chainId ${e}`);const i=Pe[e][t];if(!i)throw new Error(`Incorrect address "${t}" for chainId ${e}`);return i},Da=e=>{const t=Re[e];if(!t)throw new Error(`No tokens found for chainId ${e}`);return t.filter(i=>i.isSwappable)},Dt=e=>re(e,"USDC.e").address,ge={[pe]:{TxBuilderOpen:{address:"0x1e9a254A4D914C474821aEFbd902Dc0E9A51572b",abi:ea},TxBuilderClose:{address:"0xe5EaFFd06db43E73C5D3a7608F6901680BDB93a2",abi:ta},TxBuilderOpen_Lyra_BTC:{address:"0xD2dD21AaadC39e6AB94E593FA6A6F09B168Ca8Af",abi:na},TxBuilderOpen_Lyra_ETH:{address:"0x96D9aa5bABEE8fad2c214ebd3d05940D53F82A65",abi:aa},TxBuilderOpen_Hegic:{address:"0x519225178c0751973CFE2783367039cf7AC1Ee61",abi:ia},StopOrder_Hegic:{address:"0x83ca705E8eEE363b16935D5FCbC3514530d41C74",abi:sa},StopOrder_Lyra_BTC:{address:"0xDE51a10A711412353e825623F58F56d9D0EA98cF",abi:ra},StopOrder_Lyra_ETH:{address:"0x06a6815b91c88BDa19832Ada861077e123C34FFb",abi:oa},Exchanger:{address:"0x3765D6a221e52E3eB0c0b306caC97362E81AE875",abi:pa},Hegic_OperationalTreasury:{address:"0xec096ea6eB9aa5ea689b0CF00882366E92377371",abi:ua},Hegic_PositionManager:{address:"0x5fe380d68fee022d8acd42dc4d36fbfb249a76d5",abi:la},Hegic_Strategy:{abi:ya},Hegic_PriceCalculator:{abi:da},Lyra_OptionToken_BTC:{address:"0x0e97498F3d91756Ec7F2d244aC97F6Ea9f4eBbC3",abi:ca},Lyra_OptionToken_ETH:{address:"0xe485155ce647157624C5E2A41db45A9CC88098c3",abi:ma},Lyra_Quoter:{address:"0x23236b4c7772636b5224df56Be8168A2f42df31C",abi:Ta},Chainlink_BTC:{address:"0x6ce185860a4963106506C203335A2910413708e9",abi:ft},Chainlink_ETH:{address:"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612",abi:ft},Uniswap_Quoter:{address:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",abi:gn.abi}},[_e]:{}},Ma=()=>{for(const e in ge){const t=ge[e],a=Re[e];a&&(a.forEach(i=>{i.isETH||(t[i.symbol]={address:i.address,abi:fa})}),ge[e]={...t})}};Ma();const oe=(e,t)=>{if(!ge[e])throw new Error(`Unknown chainId ${e}`);const a=ge[e][t];if(!a)throw new Error(`Unknown contract "${t}" for chainId ${e}`);return[a.address,a.abi]},Mt=(e,t)=>oe(e,t)[1],Ba={[pe]:{short:{CALL_100_BTC:"0x527d1086C3DD22FcdB338F69D47A1e4bFE11E539",CALL_100_ETH:"0x09a4B65b3144733f1bFBa6aEaBEDFb027a38Fb60",CALL_110_BTC:"0x377191F680b52ce3d0060388fEF01be7ef68e3d5",CALL_110_ETH:"0xF48f571DdD77dba9Ae10fefF6df04484685091D9",CALL_120_BTC:"0x8Fb8529695237D4004cffb21499e7E49E982786a",CALL_120_ETH:"0x96416b82C9DFA7649570c784Eb0D0FFcDE361cFE",CALL_130_BTC:"0x32563D6151891c0A8d56eD644AcDEa6FE5f4E4eB",CALL_130_ETH:"0xf8b8b54bE1Eb37E76873670Ac9DE3C28b507142C",PUT_100_BTC:"0xA8DF600289bEc25602741756f55f27ffFDAB69a6",PUT_100_ETH:"0xaA0DfBFb8dA7f45BB41c0fB68B71FAEB959B22aa",PUT_70_BTC:"0x7066286C1AA0FeBE0f63eF8a44F6Fea9F05FFBE0",PUT_70_ETH:"0x35EF16F3c329a54050Ca120145340dfC2b4F9541",PUT_80_BTC:"0x06c3Ba025bEd24Ea38c2BdDA4bcD2A7F9f5C30e1",PUT_80_ETH:"0x77C8d12d9E2D21f6eE02E8ccA332fDe4BE5C2465",PUT_90_BTC:"0xe115beD3b0752BBbbEF5C423021b464bBF93dC2c",PUT_90_ETH:"0x6B7e5906F53d8bB365f4A6fA776Fd0f0caf57881","CALL-SPREAD_10_BTC":"0x5D0bc0d08e8A7C09d10df9BB2498f1d4aB986e6A","CALL-SPREAD_10_ETH":"0x5c59f7ec23C0Bace3B1959C99A43FFd30078E5bE","CALL-SPREAD_20_BTC":"0x597cdD5D4CEC7FA2851Cc0cfd93d6915c926a107","CALL-SPREAD_20_ETH":"0x4490ad3c0c1A61061E88a3eaD661bFe16225A370","CALL-SPREAD_30_BTC":"0xc822F483dAE467721123eA60D3D233e7ac68802f","CALL-SPREAD_30_ETH":"0x610D7feB49DD18BBC20E4dbe600c53E1cDf6d9F1","PUT-SPREAD_10_BTC":"0x45b9D63F1998ca31151981792849a64342C88631","PUT-SPREAD_10_ETH":"0xc4C3b5050D574CBF3eE0b613104cF5C4E47625d4","PUT-SPREAD_20_BTC":"0x606e34C7008f1425C3a69446de4cAd3D7c6fd96D","PUT-SPREAD_20_ETH":"0xa1c290D16E2290EA536a13Ba7cc3Df0000A0f1A6","PUT-SPREAD_30_BTC":"0x71D89f44C71252f319Cd9652f7886c3834685A58","PUT-SPREAD_30_ETH":"0x8F11Ed84e9Dc76db4392b428A0eAF98Ce72c3752"},medShort:{CALL_100_BTC:"0x20ee3e61e8f1eB8ae959abf5F78bA8731d010Ac3",CALL_100_ETH:"0x6418C3514923a6464A26A2ffA5f17bF1efC96a21",CALL_110_BTC:"0xaFA483B18FE66251C8306C7018028f674F653012",CALL_110_ETH:"0xaF38a4d9153B149F05FA85C2cCFAaA677c99040E",CALL_120_BTC:"0xFe35F1AB7e18930d4316B86fCefBCF053bf44A45",CALL_120_ETH:"0x1060e80c1156060a1E8DdB9C64Afe74564865Ee2",CALL_130_BTC:"0xe4DB400BFC4D627559D592db4ca2839cb87Fbbfc",CALL_130_ETH:"0xc00103524932d86770d4F671107b0E170BD0fe6c",PUT_100_BTC:"0xE0f083fd87ebAEBFCfa8236098048105d32639E4",PUT_100_ETH:"0x2739A4C003080A5B3Ade22b92c3321EDa2Da3A9e",PUT_70_BTC:"0x52442a8C632D4c998A8BDBf44A70481AA5599b0e",PUT_70_ETH:"0x48EcF46Aa51992a064aB172439ABFE182F39b478",PUT_80_BTC:"0xb02343D33d2447870E38b3452Ef59d0De7b3289d",PUT_80_ETH:"0xb58ccd922B57422d0497904B7D9fccB922b8aaDf",PUT_90_BTC:"0x7d0c3FDF0e8A6f475Ed1834ae05fDa1E519fd227",PUT_90_ETH:"0x3e2a0fE32Cc000d87D9e5D6ed8b3D64e9c74C752","CALL-SPREAD_10_BTC":"0x6FF946F2BB609B63910a774E193F29CdE7E8fD5f","CALL-SPREAD_10_ETH":"0x0ac1995C43B5566760AD1D88B812f3e51e12eCc6","CALL-SPREAD_20_BTC":"0x7E8e5eaD9A1b8F0533F614a736214a95835c79d7","CALL-SPREAD_20_ETH":"0x1068daF4CD8fDe2000B6FbE8Ec94F106dc08a40E","CALL-SPREAD_30_BTC":"0x3b4900D5a20dbEbCE44eDF8f6B68Dae32E990Ed0","CALL-SPREAD_30_ETH":"0x24db3145F45aAF2c54f586C66b801c42c8658671","PUT-SPREAD_10_BTC":"0x88386f02c46d8D7b2C9E4aEf3b4246A438F72693","PUT-SPREAD_10_ETH":"0x31e6Cd148fe51830E7a97262eE9cf52Fe5256B08","PUT-SPREAD_20_BTC":"0x72Ac8A96b8E79466AdcE711EcBD1Ec5968b371C8","PUT-SPREAD_20_ETH":"0x9e1072E5119C9345d9543a5Ba1EFeDBAE9bEF2AD","PUT-SPREAD_30_BTC":"0x01381e0EDdB57678257179d2cB472C3e8e54202c","PUT-SPREAD_30_ETH":"0xE8dD9Cc3A4Bd078f3D36043f259381d5B50D4B45"},medLong:{CALL_100_BTC:"0x21a4b4441AA957735902507A72A58A3a1Caaa0dC",CALL_100_ETH:"0xE377A1a97237b3B89a96d8B731A2ab10d5DaC16C",CALL_110_BTC:"0x6c46e2531a42F618F2ae452971DC9a7c6AD48D15",CALL_110_ETH:"0x05458B7d9531EaD242290De60bEaa3cC10C87560",CALL_120_BTC:"0xe259410Bbfb45CE89FDA81ec0A97d36Da8Db4374",CALL_120_ETH:"0x79F87E88088293FE34dEf4eBe71fBFa5367220B4",CALL_130_BTC:"0x27806482457FC98F9C2e724b5E604C66BB5ba121",CALL_130_ETH:"0xae2F4e15564995af79b7dd2378B2680f7Facc342",PUT_100_BTC:"0x035b965c5B7bC20E00358ACF1794d2248eA1932A",PUT_100_ETH:"0xf711D0BC60F37cA28845BA623ccd9C635E5073A1",PUT_70_BTC:"0x55c4532e1790592120b7b27436842caD203E7CD3",PUT_70_ETH:"0xF55F6d98e2F48F8D46757D5A6e225bf0ADC9651C",PUT_80_BTC:"0x8dD239e0e51BCAAd503b06D818ce811e7D99c1Af",PUT_80_ETH:"0xdF30cdb7abb3Ca707b82359A349D3b0C94d4a421",PUT_90_BTC:"0xE56BEAfAe4731A21eF83fe81F63b95055e81E374",PUT_90_ETH:"0x33a4B4403B8C6349371CbDf539138D78ec0Aab66","CALL-SPREAD_10_BTC":"0x8e3063D5dCbe66E58053C3Bc8E0BC8dDFe43D585","CALL-SPREAD_10_ETH":"0xBB318170Ce1c2dc79B564f33F92BacaadaBd22de","CALL-SPREAD_20_BTC":"0x324be893029D982c187F0333E7aa1d44365d2676","CALL-SPREAD_20_ETH":"0xb89d7eB2bc675347BEb685ff1bE1557E983beFe1","CALL-SPREAD_30_BTC":"0x530289340C6d2Ef02140054Ae7F91C293fd586CF","CALL-SPREAD_30_ETH":"0x929d20D9e1A6A90bf057857C8BA09271f1BaadA2","PUT-SPREAD_10_BTC":"0x7267091cFc9825a4A1dF36C26d412FeFD788d935","PUT-SPREAD_10_ETH":"0x2B93645f310E016c1a6d1738DCec0f18621F71d0","PUT-SPREAD_20_BTC":"0x9ab2f8530150799CDdAC35799d18Ad2fe05Bf8c3","PUT-SPREAD_20_ETH":"0x4EE21aB8bc165Cd3e6C45676F9f64426Ffc2d67b","PUT-SPREAD_30_BTC":"0xBa883223A1757eEB781d02C383926c308d4843f4","PUT-SPREAD_30_ETH":"0xf87C8C7587055FA62082E8ed447fe68D98805fF2"},long:{CALL_100_BTC:"0xc07fBf677f417bb9FfDD8248A74c7FBcCFaDAe9e",CALL_100_ETH:"0x2727B807D22fCAeB7F900F49894054Ed92b9125B",CALL_110_BTC:"0x14d25367102A931E2E2F587F4ED94087dc585fd0",CALL_110_ETH:"0xE53a20c824cEAB8151AF8Fc92E7Eb689cFbD1231",CALL_120_BTC:"0xBAbccB37338488AFBaBECAE2C3D21b9a71289A73",CALL_120_ETH:"0xB7b36483B256290435a060805bdF15B3f2b122eb",CALL_130_BTC:"0x9fA4DFfBE3B129988e0d09536b0E2D74F6bF7D91",CALL_130_ETH:"0x4dC39763ccC861dB1c8e80c34C0079c9A12f03E4",PUT_100_BTC:"0xEd46f602212d1CbaCd699C876b4A49761421bf97",PUT_100_ETH:"0x015FAA9aF7599e6cea597EBC7e7e04A149a3E992",PUT_70_BTC:"0xa26541ccE18CcC6E21360562d34044ceb3B5A40e",PUT_70_ETH:"0x5BBe6C4A66D4a48442dc0837a0eA859a11D7766C",PUT_80_BTC:"0xFD203c73851986ad7e7B99457AeafF3d98e76228",PUT_80_ETH:"0x7FD5E8B2Ef25A105bf6B1c45f62d8925Eaa068Bc",PUT_90_BTC:"0x02d730e3dEb3B5876fE2Cba59423ef1Db8211DA1",PUT_90_ETH:"0x3031EA515c2274024D93A8D3BfA91ce920E1192E","CALL-SPREAD_10_BTC":"0x0c1C4D9dFd51093bE1e4Bab1b565113B339835F6","CALL-SPREAD_10_ETH":"0xCe5e136688A1553C67b3B39Ff5366595dD0F771E","CALL-SPREAD_20_BTC":"0x7b92a9f268bab14F0FAee4337B01D563AE132Bc3","CALL-SPREAD_20_ETH":"0xe3F646CB987a9d16eb71B8d0883744e55c95862a","CALL-SPREAD_30_BTC":"0x223b806Bab0CA844a91b247fE0Ba179E11EAA728","CALL-SPREAD_30_ETH":"0x199DB958f00F150438E5b9276ff30617D3f83ebF","PUT-SPREAD_10_BTC":"0x66F54921b32cCA36767D2C272Dda64D5152B92C4","PUT-SPREAD_10_ETH":"0xfcd40dDe82b699D455B3D073196d580227C2Fba6","PUT-SPREAD_20_BTC":"0x8c77f5427B40ab2414dC9bca48c74928BFe17Dd1","PUT-SPREAD_20_ETH":"0xbAe8114E3A2EA5aF5e2b3c8F6FF37714f6D4afFB","PUT-SPREAD_30_BTC":"0x6D79b82701e4017887d499Ba131FD336ceA6A4CC","PUT-SPREAD_30_ETH":"0x9945Eb8ac1F4c524fe7Da710ff3068969A329fBA"}}},Pa={[pe]:{PUT_100_BTC:"0x4567600c2c813322F0CBb358a8d083296A7eEA37",PUT_100_ETH:"0xB72FC913e45522cD721252476fEfB7F50a65E23A",PUT_70_BTC:"0x3aFbaf00a6C42e6BE67f8a618b17fB3D441C1898",PUT_70_ETH:"0xf3625e26cb920f762dEC8DB4fE4845E9384313C0",PUT_80_BTC:"0x9C3BBe90191F8311939A34737c02A6B49e27caA5",PUT_80_ETH:"0x58051Cb78094551afC202C50085B13bF00BF624E",PUT_90_BTC:"0x56A2dC3fAc4bE0A1716c938295e141195e4A1cb3",PUT_90_ETH:"0x1AF37c8412bCdAa6C6dD4D2E2aDae2B8292603D4",CALL_100_BTC:"0xAA4483Da5c4D17830dE9a843d07C37b3eC028d9F",CALL_100_ETH:"0xC62a0b7e480a23BdCfe13EA08BDAceDc278a14C1",CALL_110_BTC:"0x04BFC83f6277cf50dFB032EFd348316aACbD7863",CALL_110_ETH:"0x6316BC5f5dF141ae88C436Fe6047D334f1B7e485",CALL_120_BTC:"0x965Ded687bc0Da3388c6925e0Eb330bD44629B77",CALL_120_ETH:"0x321F8A71e8268f50eBd2f748D524E7750AD70798",CALL_130_BTC:"0x4b350b7457b54C5A76828f81472f2719D801D0D5",CALL_130_ETH:"0xffdc9da896d3301DE596b16a389138B70b1CBAdb","CALL-SPREAD_10_BTC":"0xD3872581C3f7DE832Ecc9Aa51eb525AC9Ffc41d2","CALL-SPREAD_10_ETH":"0x3BC74C993e1E85ffB5e242402aEc3e90DCfa249f","CALL-SPREAD_20_BTC":"0x7f6a7d60c6f7ac50BD0efA677D397d9cd61fC3a9","CALL-SPREAD_20_ETH":"0x8C335E897B04B2Ca569Ec733f6242cDe33917094","CALL-SPREAD_30_BTC":"0x631c5EFb3e9D2536F9c9c9d7635e2B01363C51C5","CALL-SPREAD_30_ETH":"0xAe4897D4d3742F7f9C6A1eA01447EA3061bD6de2","PUT-SPREAD_10_BTC":"0xa4A32102a2c1d3Bf01A73B66571B440795835ff5","PUT-SPREAD_10_ETH":"0x5a4Dc7011CA0be61c42957cDC36D508d45010D8B","PUT-SPREAD_20_BTC":"0x0cC3559beCa7bB605348B1a7B4D90963672C880a","PUT-SPREAD_20_ETH":"0xeb38c2Ba3125733e9636eAB7C3c2e7a2C4A11534","PUT-SPREAD_30_BTC":"0x4CE72803543da3f563Ef76592945C57FBE7fce38","PUT-SPREAD_30_ETH":"0xDB044975100aE87d0eEDd804D9E6083a8406fdAe"}},Ea=(e,t)=>{const a=Ba[e];if(!a)throw new Error(`No Hegic strategies found for chainId ${e}`);const i=ha(t);if(i<7||i>90)throw new Error(`No Hegic strategies found for period ${i} days`);let s;return i<14?s=a.short:i<30?s=a.medShort:i<60?s=a.medLong:i<=90&&(s=a.long),s},Ia=(e,t)=>{const a=Pa[e];if(!a)throw new Error(`No Hegic Price Calculator address found for chainId ${e}`);const i=a[t];if(!i)throw new Error(`No Hegic Price Calculator address found for strategy key ${t}`);return i},Oa=(e,t,a)=>{const i=Mt(e,`Hegic_${a}`);return new X(t,i,me(e))},Fa=(e,t)=>{const a=Ia(e,t);return Oa(e,a,"PriceCalculator")},ja=()=>{const e=[hn];if(e.length!==et.length)throw new Error("Invalid number of wagmi chains.");const{chains:t,publicClient:a,webSocketPublicClient:i}=fn(e,[xn()]);return pn({autoConnect:!0,publicClient:a,webSocketPublicClient:i,connectors:[new bn({chains:t,options:{name:"Injected",shimDisconnect:!0}})]})},Bt=e=>{switch(e){case pe:return"https://arbiscan.io";case _e:return"https://optimistic.etherscan.io";default:return"https://etherscan.io"}},La=async(e,t)=>{const a=oe(e,`Chainlink_${t}`),i=me(e);return(await new X(...a,i).latestAnswer()).toBigInt()};const he=x.forwardRef(function({children:t,className:a,style:i,isDisabled:s,onClick:r,type:o},p){const u=I(a,o&&`Button_${o}`),y=o==="complex";return n.jsx("button",{className:I("Button",u),ref:p,disabled:s,onClick:r,"data-text":t,style:i,children:y?n.jsx("span",{children:t.toString()}):t})}),Pt=x.createContext(null),K=()=>{const e=x.useContext(Pt),{address:t,isConnected:a}=un();return{account:e??t,isConnected:a}},Na=e=>{let t=e.reason??e.message;return t==="Internal JSON-RPC error."&&(t=e.data.message),t},Ra=e=>e.includes("User rejected the request")?"User rejected the request.":e.includes("Request of type 'wallet_switchEthereumChain' already pending")?"Switching network request is already pending.":e.includes("Connector already connected")?"Wallet is already connected.":e.includes("Already processing eth_requestAccounts")?"Please, log in to your wallet account.":e,ne=e=>{if(typeof e!="bigint")throw new TypeError(`Invalid BigInt: ${e}`)},Et=e=>{if(typeof e!="number"&&typeof e!="string")throw new TypeError(`Invalid amount: ${e}`)},Ua=e=>{if(typeof e!="string")throw new TypeError(`Invalid String: ${e}`)},Ha=(e,t,a)=>{const i=Bt(e)+"/tx/"+a;console.log(t,`
`,i),Ze.success(n.jsxs("div",{children:[t,n.jsx("br",{}),n.jsx("br",{}),a&&n.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:"View transaction"})]}))},$a=e=>{console.log(e),Ze.success(e)},Ee=(e,t)=>{const a=Na(e),i=Ra(a);console.error(e),Ze.error(n.jsxs("div",{children:["Error: ",e.code,n.jsx("br",{}),i,n.jsx("br",{}),n.jsx("br",{}),"Check the console for details."]})),t&&t(!1)};function It(){const{connect:e,connectors:t}=ln({onError:s=>{Ee(s)}}),{disconnect:a}=yn(),i=t[0];return{connectWallet:()=>e({connector:i}),disconnectWallet:a}}const Wa=()=>{const{isOpen:e,openPopup:t,closePopup:a}=At(),i=I(e&&"open"),s=V(),{account:r,isConnected:o}=K(),{connectWallet:p,disconnectWallet:u}=It(),y=c=>c.slice(0,9)+"..."+c.slice(-15),l=()=>n.jsx(he,{type:"complex",onClick:p,children:"Connect Wallet"}),d=()=>n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"Wallet__header",onClick:t,children:n.jsxs("div",{className:"Wallet__address",children:[n.jsx("img",{src:zn,alt:"Wallet icon"}),n.jsx("span",{children:y(r)})]})}),n.jsxs("div",{className:"Wallet__body",onClick:c=>c.stopPropagation(),children:[n.jsx("button",{className:"close-btn",onClick:a,children:n.jsx("img",{src:Qn,alt:"x"})}),n.jsxs("a",{className:"Wallet__link",href:`${Bt(s)}/address/${r}`,rel:"noreferrer",target:"_blank",children:[n.jsx("img",{src:Zn,alt:"external link"}),n.jsx("span",{children:"View on explorer"})]}),n.jsx("div",{className:"Wallet__inner-address",children:"("+y(r)+")"}),n.jsx(he,{className:"Wallet__button",onClick:u,children:"Disconnect wallet"})]})]});return n.jsx("div",{className:I("Wallet",i),children:o?d():l()})};const qa="/sf_draft/assets/dropdown-fc81e803.svg",xe=({className:e,options:t,defaultValue:a,defaultOption:i,onChange:s,iconNode:r,iconTextNode:o,...p})=>{const u=r||o,y=({children:c,...m})=>n.jsxs(Dn.Control,{...m,children:[r&&n.jsx("div",{className:"Selector__icon",children:r}),o&&n.jsx("div",{className:"Selector__icon Selector__icon_text",children:o}),c]}),l=c=>{const m=b=>b.value===c,A=t.find(b=>b.options);let M;return A?t.forEach(b=>{if(M)return;M=(b.options??[b]).find(m)}):M=t.find(m),M},d=I(e,u&&"Selector_with-icon");return n.jsx(An,{...p,options:t,defaultValue:i??l(a),onChange:s,className:I("Selector",d),classNamePrefix:"Selector",isClearable:!1,isSearchable:!1,components:{DropdownIndicator:({innerRef:c,innerProps:m})=>n.jsx("div",{ref:c,...m,className:"Selector__indicator Selector__dropdown-indicator",children:n.jsx("img",{src:qa,alt:"dropdown icon"})}),Control:y}})},Ot=()=>{const{switchNetworkAsync:e}=dn();return t=>{if(typeof t!="number"&&typeof t!="string")throw new TypeError(`Invalid chainId type: ${t} (${typeof t})`);const a=tt[t].name;e(t).then(()=>{$a(`Network switched to ${a} (${t})`)},i=>{Ee(i)})}};const J=({children:e,hasDelay:t=!0,...a})=>n.jsx(Mn,{place:"bottom-start",delayShow:t?150:0,delayHide:t?150:0,...a,children:e}),Ga=()=>{const e=V(),t=Ot(),a=et.map(s=>{const{name:r,icon:o,isDisabled:p}=tt[s];return{value:s,label:n.jsxs("div",{className:"flex gap-x-7",children:[n.jsx("img",{src:o,alt:`${r} icon`}),n.jsx("span",{children:r})]}),isCurrent:s===e,isDisabled:p}}),i=a.find(s=>s.isCurrent);return n.jsxs("div",{className:"NetworkSwitcher",children:[n.jsx(xe,{options:a,value:i,onChange:s=>{t(s.value)},isDisabled:!0}),n.jsx(J,{anchorSelect:".NetworkSwitcher .Selector__option--is-disabled",content:"Coming soon"})]})},Va=()=>{const{isConnected:e}=K();return n.jsxs("div",{className:"CryptoGateway",children:[e&&n.jsx(Ga,{}),n.jsx(Wa,{})]})},Ya=()=>{const e=je(),t=[{name:"Option Trading",to:"/terminal"}];return t.forEach(a=>{e.pathname.startsWith(a.to)&&(a.isActive=!0)}),n.jsxs("header",{className:"Header _container",children:[n.jsx(wt,{}),n.jsx(St,{links:t}),n.jsx(Va,{})]})};const Ka=()=>{const e=Sn({enter:"jellyIn",exit:"jellyOut"});return n.jsx(wn,{limit:2,transition:e,position:"bottom-right",hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,draggable:!1})};const za=300,Za=e=>{const t=On();x.useEffect(()=>{const a=window.innerWidth>1025?t:0;e?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${a}px`):setTimeout(()=>{document.body.style.overflow="unset",document.body.style.paddingRight=0},za)},[e,t])};Xe.setAppElement("#root");Xe.defaultStyles={};const Ft=({children:e,className:t,isOpen:a,setIsOpen:i,isObligatory:s})=>(Za(a),n.jsx(Xe,{className:I(t,"App-box"),isOpen:a,onRequestClose:()=>{s||i(!1)},overlayElement:(r,o)=>n.jsxs("div",{...r,children:[o,!s&&n.jsx("button",{className:"ReactModal__Close-btn"})]}),closeTimeoutMS:300,children:e})),Qa=e=>{const{chainId:t}=e,[a]=x.useState(!0),i=Ot();return n.jsxs(Ft,{className:"UnsupportedChainErrorModal",isOpen:a,isObligatory:!0,children:[n.jsxs("div",{className:"UnsupportedChainErrorModal__text text-inline",children:["Chain ",t," is not supported."]}),n.jsx("div",{className:"UnsupportedChainErrorModal__switch-btns",children:et.map(s=>{const r=tt[s],{name:o,icon:p,isDisabled:u}=r;return n.jsxs(he,{isDisabled:u,type:"stroke",onClick:()=>{i(s)},children:[n.jsx("img",{src:p,alt:`${o} icon`}),"Switch to ",o]},s)})})]})},Xa="AEZAKMI=",Ja=()=>{const[e,t]=x.useState(),a=je(),i=r=>{t(r),console.log("GOD EYE MODE ENABLED:",r)},s=r=>{t(null),console.log(`GOD EYE MODE DISABLED${r?` (${r})`:""}`)};return x.useEffect(()=>{const r=a.pathname.split("/"),o=r[r.length-1];if(o.startsWith(Xa)){const p=o.split("=")[1];Cn(p)?i(p):s("Invalid wallet address")}},[a.pathname]),{godEyeAddress:e}},ei=({children:e})=>{const{godEyeAddress:t}=Ja();return n.jsx(Pt.Provider,{value:t,children:e})},ti="/terminal/builder",ni="0x683Ad8b899Cd14d8e077c9A623E8B3fEd65a8c09";const jt=["ETH","BTC"],G=18,ai=18,ii=8,si=6,Lt={ETH:ai,BTC:ii},at=30,Ae=6,Nt=2,Rt=3,ri="/sf_draft/assets/graph-b6757e0e.svg";const ee=({className:e,children:t,isSmall:a=!0,symbol:i="USDC",isHlight:s})=>{const r=V(),o=re(r,i).icon,p=t,u=I(s&&"hlight",e);return n.jsxs("div",{className:I("Currency",u),children:[n.jsx("img",{src:o,alt:`${i} icon`,width:a?15:"auto"}),n.jsx("span",{children:p})]})},Q=(e,t=",")=>{Et(e);const a=e.toString().split(".");return a[0]=a[0].replace(/\B(?=(\d{3})+(?!\d))/g,t),a.join(".")},oi=e=>{Et(e);const t=e.toString(),a=t.indexOf(".");if(a!==-1){const i=t.match(/[1-9]/)[0];return t.indexOf(i,a)-a}return 0},Ue=(e,t,a)=>{let i=e.toString();if(se(t))return i;if(t===0)return i.split(".")[0];const s=i.indexOf(".");if(s!==-1){let o=i.length-s-1;if(o>t){const p=i.substr(0,i.length-(o-t));if(a)if(Number(p)===0){const u=oi(i);i=i.substr(0,i.length-(o-u))}else i=p;else i=p}}return i},pi=(e,t)=>{let a=e.toString();const i=a.indexOf("."),s=i!==-1,r=s?a.length-i-1:0;return r<t&&(a+=+s?"":".",a+="0".repeat(t-r)),a},ui=e=>{const t=e.toString();return t.indexOf(".")!==-1?parseFloat(t):e},li=e=>{const t=e.toString(),[a,i]=t.split(".");return i==="0".repeat(i==null?void 0:i.length)?a:t},yi=(e,t)=>{var s;let a=e.toString().replace(/^\./g,"").replace(/[^0-9.]/g,"").replace(/^0\d/,"");return((s=a.match(/\./g))==null?void 0:s.length)>1&&(a=(o=>o.replace(/\.$/,""))(a)),a=Ue(a,t?0:Ae),a},Ut=(e,t,a)=>Q(yi(e,a),t),le=(e,t=",")=>(Ua(e),Number(e.split(t).join(""))),q=(e,t=G,a)=>{ne(e);let i=Number(e)/10**t;return typeof a<"u"&&(i=Math.floor(i*10**a)/10**a),String(i).includes("e")?0:i},it=(e,t)=>(ne(e),e*BigInt(10**t)),Ht=(e,t)=>(ne(e),e/BigInt(10**t)),ye=(e,t=G)=>{if(t<Ae)throw new Error("Converting float to BigInt without expanding decimals is not safe.");const a=Math.floor(Number(e)*10**Ae);return it(BigInt(a),t-Ae)},te=(e,t=Nt,a=G)=>{ne(e);let i=q(e,a);return i=Ue(i,t),i=pi(i,t),i=li(i),i=Q(i),String(i)},$t=(e,t=Rt,a=G,i)=>{ne(e);let s=q(e,a);return s=Ue(s,t,i),s=ui(s),s=Q(s),String(s)},ve=(e,t,a,i)=>{ne(e);const s=t?te:$t;return se(a)&&(a=t?Nt:Rt),s(e,a,i,!t)},we=(e,t,a)=>{ne(e);const i=a-t;return(i<0?Ht:it)(e,Math.abs(i))},st=(e,t)=>we(e,t,G),qe=(e,t)=>we(e,G,t),di=(e,t)=>{ne(e);const a=q(e)*t;return ye(a)},Wt=(e,t,a=G)=>{ne(e);const i=a-t,s=Ht(e,i);return it(s,i)},ci=e=>fetch(e).then(t=>t.json()),mi=e=>{switch(e){case pe:return"https://gmx-server-mainnet.uw.r.appspot.com/prices";case _e:throw new Error("No url for Optimism");default:throw new Error(`Unknown chainId ${e}`)}},qt=()=>{const e=V(),t=mi(e),{data:a,error:i}=vt([t],{fetcher:ci,refreshInterval:1e3,shouldRetryOnError:!1});i&&console.log(i);for(const s in a){const r=a[s],o=BigInt(r);a[s]=o}return a},Ti=()=>{const e=V(),t=jt.map(i=>re(e,i)),a=qt();return n.jsxs("div",{className:"TokenPricesPanel",children:[n.jsx("div",{className:"TokenPricesPanel__icon",children:n.jsx("img",{src:ri,alt:"Graph icon"})}),n.jsx("div",{className:"TokenPricesPanel__items",children:t.map(i=>{if(!a)return null;let{address:s,symbol:r}=i;const o=a[s],p=te(o,2,at);return n.jsx("div",{className:"TokenPricesPanel__item",children:n.jsx(ee,{isHlight:!0,symbol:r,children:n.jsxs("span",{children:["$",p]})})},r)})})]})},fi=()=>{const e=je(),t=[{name:"Option Strategies",to:"/terminal/builder"}];return t.forEach(a=>{e.pathname.endsWith(a.to)&&(a.isActive=!0)}),n.jsxs("div",{className:"Terminal",children:[n.jsx(Ti,{}),n.jsx(St,{links:t,type:"border"}),n.jsx(Bn,{})]})};function Gt(e,t={maxValue:void 0,placeholder:"",isDisabled:!1},a=[Ut,le]){const[i,s]=e,{maxValue:r,placeholder:o,isDisabled:p}=t,[u,y]=a,[l,d]=x.useState(!1),c=x.useRef(null);return{node:n.jsx("input",{type:"text",ref:c,value:i,disabled:p,placeholder:o,onChange:m=>{r&&y(m.target.value)>r?s(u(r)):s(u(m.target.value))},onFocus:()=>{d(!0)},onBlur:()=>{d(!1)}}),hasFocus:l,ref:c}}const bi=e=>{const{value:t,setValue:a,maxValue:i,formatInputStringFns:s,hasError:r,isDisabled:o,unitStr:p,placeholder:u}=e,y=Gt([t,a],{maxValue:i,placeholder:u,isDisabled:o},s),l=I(e.className,y.hasFocus&&"hlight",r&&"error",o&&"disabled");return n.jsxs("div",{className:I("InputFamily Input",l),onClick:()=>{y.ref.current.focus()},children:[y.node,n.jsx("div",{className:"Input__unit",children:p})]})},be="#46956A",Y="#C75E4B",Ct="#D99445",Ge="#6988FF",$e="#747FA6",We="#3A4466",hi="",xi={positive:"+",negative:"-",neutral:""},W="Limited",z="Unlimited",fe="Bullish",Ve="Bearish",ie="Neutral",ue={"Long Call":{stats:{outlooks:[fe],profit:z,loss:W,description:"When you believe that the price ofthe underlying asset will rise."},structure:[1],key:1,color:be},"Short Call":{stats:{outlooks:[Ve],profit:W,loss:z,description:"When you believe that the price ofthe underlying asset will fall."},structure:[-1],key:101,color:Y},"Covered Call":{stats:{outlooks:[fe],profit:W,loss:z,description:"When you believe that the price ofthe underlying asset will rise."},structure:[-1],key:201,color:Y},"Long Put":{stats:{outlooks:[Ve],profit:z,loss:W,description:"When you believe that the price ofthe underlying asset fall."},structure:[2],key:2,color:be},"Short Put":{stats:{outlooks:[fe],profit:W,loss:z,description:"When you believe that the price ofthe underlying asset will rise."},structure:[-2],key:102,color:Y},"Long Strangle":{stats:{outlooks:[ie],profit:z,loss:W,description:"When you believe that the price ofthe underlying asset will rise orfall."},structure:[1,2],key:3,color:Ct},"Short Strangle":{stats:{outlooks:[ie],profit:W,loss:z,description:"When you believe that the price ofthe underlying asset wont rise orfall significantly."},structure:[-1,-2],key:103,color:Y},"Covered Strangle":{stats:{outlooks:[ie,fe],profit:W,loss:z,description:"When you believe that the price ofthe underlying asset isatorabove the strike price ofthe short call atexpiration."},structure:[-1,-2],key:203,color:Y},"Long Straddle":{stats:{outlooks:[ie],profit:z,loss:W,description:"When you believe that the price ofthe underlying asset changes when the direction ofthe change could beeither upordown."},structure:[1,2],key:4,color:Ct},"Short Straddle":{stats:{outlooks:[ie],profit:W,loss:z,description:"When you believe that the price ofthe underlying asset wont rise orfall significantly."},structure:[-1,-2],key:104,color:Y},"Covered Straddle":{stats:{outlooks:[ie,fe],profit:W,loss:z,description:"When you believe that the price ofthe underlying asset isatorabove the strike price ofthe short call atexpiration."},structure:[-1,-2],key:204,color:Y},"Iron Butterfly":{stats:{outlooks:[ie],profit:W,loss:W,description:"When you believe that the price ofthe underlying asset wont rise orfall significantly."},structure:[2,-2,-1,1],key:5,color:Ge,plural:"Iron Butterflies"},"Iron Condor":{stats:{outlooks:[ie],profit:W,loss:W,description:"When you believe that the price ofthe underlying asset wont rise orfall significantly."},structure:[2,-2,-1,1],key:6,color:Ge}},Ci={[fe]:be,[ie]:Ge,[Ve]:Y},gi=Object.keys(ue),_i={Lyra_ETH:0,Lyra_BTC:1,Hegic:2},Vt=.003,ki=e=>{const{amountStrState:t,strategy:a}=e,[i,s]=t,r=ue[a].plural??`${a}s`;return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_amount",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Enter Amount"}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(bi,{value:i,setValue:s,unitStr:r})})]})},vi=e=>{const{assetState:t,isDisabled:a}=e,[i,s]=t,r=jt.map(o=>({value:o,label:n.jsx(ee,{symbol:o,isHlight:!0,children:o})}));return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_asset",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Asset"}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(xe,{options:r,defaultValue:i,isDisabled:a,onChange:o=>{s(o.value)}})})]})},wi="/sf_draft/assets/strategy-selector-icon-1e15875d.svg",Si=e=>{const{strategyState:t,isDisabled:a}=e,[i,s]=t,r=gi.map(o=>({value:o,label:o}));return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_strategy",children:[n.jsxs("div",{className:"BuilderForm__field-header",children:["Strategy",n.jsx("div",{className:"BuilderForm__field-tip tip","data-tooltip-id":"BuilderForm_WhenPurchaseTooltip",children:"When purchase"})]}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(xe,{options:r,defaultValue:i,onChange:o=>{s(o.value)},iconNode:n.jsx("img",{src:wi,alt:"Strategy selector icon"}),className:"Selector_thin-options",isDisabled:a})})]})};const de=e=>{const{style:t,hasLeftMargin:a}=e;return n.jsx("div",{className:"Spinner",children:n.jsx(Fn,{className:"Spinner__icon",style:{marginLeft:a?7:0,...t}})})},rt=(e,t,a=n.jsx(de,{}))=>t?a:e,Yt=(e,t,a=n.jsx(de,{}))=>t?a:e(),ce=(e="",t)=>n.jsx("span",{className:"muted",style:{fontSize:t?13:"inherit"},children:e}),Kt=e=>e.charAt(0).toUpperCase()+e.slice(1),ot=(e,t)=>{const a=Number(e),i=Number(t);if(a>i)return 1;if(a==i)return 0;if(a<i)return-1},Ai=(e,t,a)=>{const i=e[a],s=t[a];return ot(i,s)},pt=e=>e.filter((a,i)=>e.indexOf(a)===i),He=e=>Math.abs(e)===1,Ce=e=>e>0,ut=e=>!!e.find(t=>!Ce(t)),Di=e=>!!e.find(t=>Ce(t)),Mi=e=>!!e.find(t=>t),Bi=e=>{const[,t]=e.split("_");return Number(t)},Pi=(e,t,a)=>{let i;const s=`W${a}`,r=t.split(" ")[0];return!He(e)||r==="Short"?i=["USDC.e"]:r==="Covered"?i=[s]:r==="Iron"&&(i=["USDC.e",s]),i},Ei=e=>{const t=e.includes("Straddle"),a=e==="Iron Butterfly";if(t)return[0,1];if(a)return[1,2]},Ii=(e,t)=>{if(!(e!=null&&e[0].market))return;if(e.length>1){const i=e.find(s=>s.market===t);if(i)return i}return e[0]},zt=(e,t)=>new X(...oe(e,`TxBuilderOpen_${t}`),me(e)),Oi=(e,t,a)=>{if(!t)return a;let i=0,s=0;return e.map(o=>Ce(o)?t[i++]:a[s++])},Fi=e=>{const t=Object.keys(e);return t?!!t.find(i=>!e[i][0].isAbsent):!1},ji="/sf_draft/assets/Hegic-a7e6545a.svg",Li="/sf_draft/assets/Hegic_circled-26df614a.svg",Ni="/sf_draft/assets/Hegic_circled-light-9256df54.svg",Ri="/sf_draft/assets/Lyra-0ebc1db3.svg",Ui="/sf_draft/assets/Lyra_circled-1da5fd25.svg",Hi="/sf_draft/assets/Lyra_circled-light-a90bfa71.svg",Zt={Hegic:{common:ji,circled:Li,circledLight:Ni},Lyra:{common:Ri,circled:Ui,circledLight:Hi}},$i=.0015,Wi=.02,Ye=["delta","vega","gamma","theta"],gt=8,qi=[7,14,30,60,90],Gi=qi.map(ba),Vi=(e,t,a)=>e?a>t:a<t,Yi=(e,t,a=3)=>Math.abs(e-t)<a,Ki=()=>Gi.map((t,a)=>{const i=new Date(Date.now()+t),s=i.getUTCHours()>=gt;return a===0&&s&&i.setUTCDate(i.getUTCDate()+1),i.setUTCHours(gt),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0),i.getTime()}),lt=(e,t)=>di(e,1+t);const zi=e=>{const{strategyStructure:t,dateListState:a,chosenDateState:i,lyraMarket:s,updateTriggers:r,resetTriggers:o,isDisabled:p,updateUnstableField:u}=e,[y,l]=a,[d,c]=x.useState(!1),[m,A]=i,{account:M}=K(),b=()=>{c(!0);let w=Ki();if(s){const O=s.liveBoards().map(v=>v.expiryTimestamp*ke),k=[...w,...O];w=pt(k).sort(ot)}l(w),c(!1)},C=()=>{A(null)};x.useEffect(()=>{b()},r),x.useEffect(()=>{C()},o);const g=(w,O="d MMM")=>{const k=w-Date.now();return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"BuilderForm__date-value",children:jn(w,O)}),n.jsx("div",{className:"BuilderForm__date-period",children:xa(k)})]})},_=y.map(w=>({value:w,label:g(w)})),j=m&&_.find(w=>w.value===m);return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_date",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),n.jsx("div",{className:"BuilderForm__field-body",children:t.map((w,O)=>{const k=Ce(w),v=He(w),D=rt(n.jsx(xe,{className:"Selector_thin-options",placeholder:"Choose Date",isDisabled:p||!M,options:_,value:j,formatOptionLabel:({value:P},{selectValue:S,context:N})=>{var T;if(N==="menu")return g(P);const h=((T=S[0])==null?void 0:T.value)===P?"d MMM hh a":"d MMM";return g(P,h)},onChange:P=>{A(P.value)},iconTextNode:n.jsxs("span",{className:I({positive:k,negative:!k},"block"),style:{width:25},children:[k?"Buy":"Sell",n.jsx("br",{}),v?"Call":"Put"]})},O),d,n.jsx(de,{},O));return u(O,D),D})})]})};const Qt=e=>{const t=V(),i=re(t,e).address,s=qt();return s?s[i]:0n};const Xt=({strikeData:e,priceNode:t,isPriceHlight:a})=>{const{market:i,isCall:s,isBuy:r}=e,o=Zt[i].circled;return n.jsxs("div",{className:"StrikeBrief",children:[n.jsx("div",{className:"StrikeBrief__icon",children:n.jsx("img",{src:o,alt:`${i}`})}),n.jsxs("div",{className:I("StrikeBrief__info-card",{positive:r,negative:!r}),children:[r?"Buy":"Sell"," ",s?"Call":"Put"]}),n.jsx("div",{className:I("StrikeBrief__price",a&&"hlight"),children:t})]})};const Zi=e=>{const{children:t,className:a}=e;return n.jsx("table",{...e,className:I("Table",a),children:t})};const Qi=e=>{const{id:t,amountStr:a,strikeMarketsDataArr:i,chosenStrikeData:s,setChosenStrikeData:r,isOpen:o,close:p}=e,[u,y]=x.useState([]),l=()=>{i.forEach((b,C)=>{const g=ye(le(a));b.utils.calcPremium(g).then(_=>{u[C]=_,y([...u])})})};if(x.useEffect(()=>{y([]),i&&l()},[i,a]),!i)return null;const d=23,m=80-d,M=180-d;return n.jsx("div",{className:I("StrikeInfoBox",o&&"open"),style:{zIndex:9-t*2},children:n.jsxs(Zi,{onClick:b=>b.stopPropagation(),children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:n.jsx("div",{style:{width:M},children:"Market"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Source"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Delta"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Vega"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Gamma"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Theta"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Rho"})})]})}),n.jsx("tbody",{children:i.map((b,C)=>{const{greeks:g}=b,_=u[C],j=!_||_.isDisabled,w=b===s;return n.jsxs("tr",{className:I("StrikeInfoBox__strike-option",j&&"disabled",w&&"chosen"),children:[n.jsxs("td",{children:[n.jsx("button",{className:"StrikeInfoBox__strike-option-overlay-btn",onClick:()=>{r(b),p()},disabled:j}),n.jsx(Xt,{strikeData:b,priceNode:Yt(()=>_===null?ce("No liquidity",!0):`$${te(_.inUSDC)}`,se(_)),isPriceHlight:!0})]}),n.jsx("td",{children:"AMM"}),n.jsx("td",{children:g.delta}),n.jsx("td",{children:g.vega}),n.jsx("td",{children:g.gamma}),n.jsx("td",{children:g.theta}),n.jsx("td",{children:g.rho})]},b.market)})})]})})};const Ie=e=>{const{children:t}=e;return n.jsx("div",{className:"InnerWarning",children:t})};Ln();const Xi=e=>{const{id:t,className:a,isUnited:i,spaceBetween:s,isDraggable:r,breakpoints:o,handleInit:p,slideClassName:u,children:y}=e,l=x.useRef(null),d=`${i?`.${a}`:`#${t}`}`,c={spaceBetween:s,allowTouchMove:r,breakpoints:o,navigation:{enabled:!0,prevEl:`${d} .Carousel__nav-btn_prev`,nextEl:`${d} .Carousel__nav-btn_next`},on:{init:m=>{m.el.style.overflow="clip visible",p&&p(m)}}};return x.useEffect(()=>{const m=l.current;m&&(Object.assign(m,c),m.initialize())},[l,c]),n.jsxs("div",{className:I("Carousel",a),id:t,children:[n.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_prev"}),n.jsx("swiper-container",{init:!1,ref:l,children:y==null?void 0:y.map((m,A)=>n.jsx("swiper-slide",{class:u,children:m},A))}),n.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_next"})]})};const Ji=e=>{const{asset:t}=e;return n.jsx(Xi,{slidesPerView:"auto",breakpoints:{768:{slidesPerView:"auto"},576:{slidesPerView:7,grid:{fill:"row",rows:2}},520:{slidesPerView:6,grid:{fill:"row",rows:2}},380:{slidesPerView:5,grid:{fill:"row",rows:2}},0:{slidesPerView:4,spaceBetween:4,grid:{fill:"row",rows:2}}},spaceBetween:5,className:"StrikeCarousel",isDraggable:!1,isUnited:!0,slideClassName:`StrikeCarousel__slide_${t}`,children:e.children})},Oe=e=>Object.keys(e).map(Number),es=e=>{const t={},a=Object.keys(e).map(Bi),i=pt(a),s=Object.values(e);return i.forEach(r=>{const o=s.filter(p=>p.strike===r);t[r]=o}),t},ts=e=>e.map(es),ns=e=>{const t=[];return e.forEach(i=>{const s=Oe(i);t.push(...s)}),pt(t)},as=e=>{const t=ns(e);return e.map(i=>{const s=Oe(i),r={...i};return t.forEach(o=>{s.indexOf(o)===-1&&(r[o]=[{strike:o,isAbsent:!0}])}),r})};const is=e=>{const{currentPrice:t,isFirst:a}=e;return n.jsx("div",{className:I("StrikeCurrentPriceItem","StrikeChooser__item",a&&"StrikeCurrentPriceItem_first"),children:n.jsxs("span",{children:["$",Q(t)]})})};const ss="/sf_draft/assets/cross_grey-42dbd9c5.svg",rs=e=>{const{isITM:t}=e;return n.jsx("div",{className:I("StrikeAbsentItem","StrikeChooser__item",t&&"StrikeChooser__item_ITM"),children:n.jsx("img",{src:ss,alt:"Absent"})})};function _t(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function os(){const[e,t]=x.useState(_t());return x.useEffect(()=>{function a(){t(_t())}return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}const yt=(e=768)=>{const{width:t}=os();return t<e},ps=e=>{const{className:t,id:a,structureKey:i,asset:s,amountStr:r,strikesData:o,chosenStrikeData:p,setChosenStrikeData:u}=e,{isConnected:y}=K(),l=BigInt(Qt(s)),d=q(l,at),c=a===0,m=yt(),[A,M]=x.useState(null),b=S=>{const N={...S};for(const F in S)S[F][0].isCurrentPrice&&(N[F][0].isCurrentPrice=!1);return N},C=()=>{const S=b(o),F=Oe(S).find(h=>Yi(h,d));if(F){const h=S[F][0];h.isCurrentPrice=!0}else{const h=Math.floor(d);S[h]=[{strike:h,isCurrentPrice:!0}]}return S},g=()=>{if(o){if(!Fi(o))return{strikes:[],dataArr:[]};let S=C();const N=Oe(S).sort(ot),F=Object.values(S).sort((h,T)=>{const f=h[0],B=T[0];return Ai(f,B,"strike")});return{strikes:N,dataArr:F}}return{}},{strikes:_,dataArr:j}=g(),w=!!(_!=null&&_.length),{openPopup:O,closePopup:k,isOpen:v}=At(()=>M(null)),D=()=>n.jsx(Ji,{asset:s,children:_.map((S,N)=>{const F=j[N],h=F[0],{isCurrentPrice:T,isAbsent:f,market:B}=h;if(T&&!B)return n.jsx(is,{currentPrice:S,isFirst:c},"current_price");const E=He(i),L=Vi(E,S,d);if(f)return n.jsx(rs,{isITM:L},N);const H=p&&p.strike===S,R=H&&p.market,$=A===F;return n.jsxs(he,{className:I("StrikeChooser__item",L&&"StrikeChooser__item_ITM",H&&"chosen",$&&"open",T&&I("StrikeCurrentPriceItem",c&&"StrikeCurrentPriceItem_first")),style:{cursor:"pointer"},type:"stroke",onClick:ae=>{v&&ae.stopPropagation(),M(F),O()},children:[H&&n.jsx("div",{className:"StrikeChooser__item-market",children:n.jsx("img",{src:Zt[R].circledLight,alt:`${R} icon`})}),n.jsxs("span",{children:["$",Q(S)]})]},S)})}),P=()=>o?w?n.jsx("div",{className:"StrikeChooser__items",style:{zIndex:10-a*2},children:D()}):n.jsx(Ie,{children:"No Liquidity"}):n.jsxs(Ie,{children:[y?"C":"Connect wallet and c","hoose expiration date to view strikes"]});return n.jsxs("div",{className:I("StrikeChooser",t,m&&!o&&"hidden"),children:[P(),n.jsx(Qi,{id:a,amountStr:r,strikeMarketsDataArr:A,chosenStrikeData:p,setChosenStrikeData:u,isOpen:v,close:k})]})},Jt=.05*10**4,dt=(e,t,a,i)=>{const s=xt(e,t),r=xt(e,a),o=we(i,G,s.decimals);if(t===a||o===0n||s.isStable&&r.isStable)return new Promise(l=>{l(i)});const p=Z.from(o);return new X(...oe(e,"Uniswap_Quoter"),Ne()).callStatic.quoteExactInput(Je.solidityPack(["address","uint24","address"],[t,Jt,a]),p).then(l=>{const d=l.toBigInt();return st(d,r.decimals)}).catch(l=>{console.log(`Swapping ${s.symbol} to ${r.symbol} error!

`,l)})},Fe=(e,t,a)=>{const i=Dt(e);return dt(e,t,i,a)},us=(e,t,a)=>{const i=Dt(e);return dt(e,i,t,a)},ls=(e,t)=>Je.solidityPack(["address","uint24","address"],[e,Jt,t]),en=(e,t,a=[],i,s,r)=>(s&&s(!0),t(...a).then(o=>{console.log("Submitting:",o),o.wait().then(p=>{Ha(e,i,o.hash),s&&s(!1),r&&r(p)},p=>{Ee(p,s)})},o=>{Ee(o,s)})),ys=(e,t,a,i,s,r)=>{const o=ve(i,t.isStable),p=we(i,G,t.decimals),u=new X(...oe(e,t.symbol),Ne());en(e,u.approve,[a,Z.from(p)],`${o} ${t.symbol} approved.`,s,r)},ds=async(e,t,a,i,s)=>{ne(s);const r=new X(...oe(e,t.symbol),me(e)),o=we(s,G,t.decimals);return(await r.allowance(a,i)).toBigInt()>=o},ct=(e,t)=>{const a=Lt[t];return qe(e,a)},cs=e=>e.startsWith("W"),tn="Hegic_",ms="USDC.e",Ts=(e,t)=>{let a;try{a=Ea(e,t)}catch(i){console.log(i)}return a},fs=async(e,t)=>{const a=await La(e,t);return q(a,8)},bs=(e,t,a)=>{const[i,,s]=e.split("_");return!(i.includes("SPREAD")||a!==(i==="CALL")||s!==t)},hs=async(e,t,a)=>{const{asset:i,amount:s,period:r}=a;let o;const p=new X(t,Mt(e,"Hegic_Strategy"),me(e)),u=Le(r);try{const y=(await p.getAvailableContracts(u,[])).toBigInt(),l=Lt[i],d=ye(s,l);o=y>=d}catch{}return o},xs=async(e,t,a,i)=>{const{asset:s,period:r}=a,o=ct(i,s),p=Fa(e,t),u=Le(r);return p.calculatePremium(u,o,0).then(y=>{const l=st(y.toBigInt(),si),d=re(e,ms);return Fe(e,d.address,l).then(c=>({inUSDC:c,inMarketToken:l,marketToken:d}))})},Cs=(e,t)=>Math.floor(t*(e/100)),gs=(e,t,a,i)=>{const{protocolName:s,isCall:r}=a,{strategyKey:o}=t,[,p]=o.split("_"),u=Cs(p,i),y=ks(e,t,a),l=r?Number(p)>100?1:0:Number(p)<100?-1:0;return{market:"Hegic",protocolName:s,strike:u,isCall:r,isBuy:!0,greeks:{delta:l,vega:0,gamma:0,theta:0,rho:0},utils:y}},_s=(e,t)=>{const a=ye(e,G);return t.utils.calcPremium(a)},ks=(e,t,a)=>{const{strategyKey:i,strategyAddress:s}=t,{asset:r,protocolName:o,period:p}=a;return{calcPremium:l=>xs(e,i,a,l),getBuilderParams:(l,d,c)=>{l=ct(l,r);const m=Z.from(l),A=d.premiumInMarketToken,M=Wt(A,c),b=Z.from(M),C=zt(e,o);return C.encodeFromHegic(s,C.address,m,Le(p),b,[])}}},vs=async(e,t,a)=>{const{asset:i,amount:s,isCall:r}=a,o={},p={},u=await fs(e,i),y=Object.keys(t);for(let l=0;l<y.length;l++){const d=y[l],c=t[d],m={strategyKey:d,strategyAddress:c};if(!bs(d,i,r)||!await hs(e,c,a))continue;const A=gs(e,m,a,u),M=_s(s,A),{strike:b}=A;p[b]=M,o[`${tn}${b}`]={...A}}return{strikesData:o,premiumPromisesData:p}},ws=async(e,t)=>{const a=Object.keys(t),i=Object.values(t);await Promise.all(i).then(s=>{s.forEach((r,o)=>{if(r){const p=a[o];e[`${tn}${p}`].premiumData=r}})})},Ss=e=>{const t={};for(const a in e){const i=e[a];i.premiumData&&(t[a]=i)}return t},As=async(e,t,a)=>{const{strikesData:i,premiumPromisesData:s}=await vs(e,t,a);return await ws(i,s),i},Ds=async(e,t)=>{const{period:a}=t;t.protocolName="Hegic";const i=Ts(e,a);return i?Ss(await As(e,i,t)):{}},Ke="Lyra_",Ms="USDC.e",Bs=["NotEnoughCollateral","TooMuchCollateral","EmptyCollateral","InsufficientQuoteBalance","InsufficientQuoteAllowance","InsufficientBaseBalance","InsufficientBaseAllowance","IncorrectOwner"],Ps=e=>{const t=Bs.find(a=>a===e);if(!e||t)return!0},Es=(e,t)=>{var s;const a=(s=e.liveBoards().find(r=>r.expiryTimestamp===Le(t)))==null?void 0:s.id;return a?e.liveBoardsMap[a]:void 0},Is=(e,t)=>!e||!Ps(t.disabledReason)?(t.disabledReason!=="DeltaOutOfRange"&&t.disabledReason!=="InsufficientLiquidity"&&console.log(t.disabledReason),!1):!0,Os=(e,t,a)=>{const i=(y,l=18)=>Je.parseUnits(y.toFixed(l).toString(),l),s=Z.from(10).pow(18),r=2.5,o=a?e.strikePrice:e.strike().strikePrice,p=(e.newSize??e.size).mul(o).div(s).mul(i(r)).div(s);return t.max?t.max:p.gt(t.min)?p:t.min},Fs=(e,t,a,i,s)=>{const{asset:r,protocolName:o,isCall:p,isBuy:u}=i,y=re(e,Ms),l=(M,b)=>{const C=Z.from(M);return t.trade(s,a,p,u,C,$i,b)},d=(M,b)=>{const C=ct(M,r);return l(C).then(g=>{const _=u?"maxTotalCost":"minTotalCost",j=g.params[0][_].toBigInt(),w=lt(j,Wi);return Is(w,g)?Fe(e,y.address,w).then(O=>{const k={inUSDC:O,inMarketToken:w,marketToken:y};return b?k:{premiumData:k,greeks:g.greeks}}):null})};return{calcPremium:M=>d(M,!0),calcPremiumWithGreeks:d,getCollateralData:(M,b)=>{const C=Z.from(M);return l(C,b).then(g=>{const{collateral:_}=g;_&&!_.max&&(g.collateral.max=Os(g,g.collateral));const j=`W${g.marketName.split("-")[0]}`,w=_.isBase?re(e,j):y;return Fe(e,w.address,_.amount.toBigInt()).then(O=>{const{isBase:k,liquidationPrice:v,max:D,min:P}=g.collateral;return{inMarketToken:g.collateral.amount.toBigInt(),marketToken:w,inUSDC:O,isBase:k,liquidationPrice:v==null?void 0:v.toBigInt(),min:P,max:D}})})},getBuilderParams:(M,b,C)=>{const g=zt(e,o),_=Z.from(M),j=b.premiumInMarketToken,w=Wt(j,C),O=Z.from(w);return l(_,b).then(k=>{const v=k.params[0];return g.encodeFromLyra([v.strikeId,v.positionId,v.iterations,v.optionType,v.amount,v.setCollateralTo,v.minTotalCost,O,ni])})}}},js=(e,t,a,i,s)=>{const{protocolName:r,isCall:o,isBuy:p}=i,{strikeId:u,strikePrice:y}=a,l=u.toNumber(),d=q(y.toBigInt()),c=Fs(e,t,l,i,s);return{market:"Lyra",protocolName:r,strike:d,strikeId:l,isCall:o,isBuy:p,utils:c}},Ls=(e,t,a)=>{const i=ye(e,G);return a.utils.calcPremiumWithGreeks(i)},Ns=(e,t,a,i,s)=>{const{amount:r,asset:o}=a,p={},u={};return i.strikes.forEach(y=>{const l=js(e,t,y,a,s),d=Ls(r,o,l),{strike:c}=l;u[c]=d,p[`${Ke}${c}`]=l}),{strikesData:p,premiumWithGreeksPromisesData:u}},Rs=async(e,t)=>{const a=Object.keys(t),i=Object.values(t);await Promise.all(i).then(s=>{s.forEach((r,o)=>{if(r){const{premiumData:p,greeks:u}=r;for(const l in u){const d=u[l];u[l]=q(d.toBigInt(),G,3)}const y=a[o];e[`${Ke}${y}`].premiumData=p,e[`${Ke}${y}`].greeks=u}})})},Us=e=>{const t={};for(const a in e){const i=e[a];i.premiumData&&(t[a]=i)}return t},Hs=async(e,t,a,i)=>{const{asset:s,expiryDate:r}=a;a.protocolName=`Lyra_${s}`;const o=Es(t,r);if(!o)return;const{strikesData:p,premiumWithGreeksPromisesData:u}=Ns(e,t,a,o,i);return await Rs(p,u),Us(p)},$s=e=>{const{asset:t,strategy:a,amountStr:i,chosenDate:s,strategyStructure:r,hasSell:o,strikesDataArrState:p,chosenStrikesState:u,areStrikesLoadingState:y,lyraMarket:l,updateTriggers:d,resetTriggers:c,updateUnstableField:m}=e,A=V(),{account:M}=K(),[b,C]=p,[g,_]=u,[j,w]=y,O=()=>{w(!0);const D=[];r.forEach((P,S)=>{const N={asset:t,expiryDate:s,amount:le(i),period:s-Date.now(),isCall:He(P),isBuy:Ce(P)};b[S]={};const F=h=>{b[S]={...b[S],...h}};N.isBuy&&D.push(Ds(A,{...N}).then(F)),D.push(Hs(A,l,{...N},M).then(F))}),Promise.all(D).then(()=>{const P=ts(b),S=as(P);C([...S]),w(!1)})},k=()=>{_([])},v=()=>{C([])};return x.useEffect(()=>{k(),v()},c),x.useEffect(()=>{s&&O()},d),n.jsxs("div",{className:I("BuilderForm__field","BuilderForm__field_strike",!o&&"col-span-2"),children:[n.jsx("div",{className:"BuilderForm__field-header",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_StrikeTooltip",children:"Strike"})}),n.jsx("div",{className:"BuilderForm__field-body",children:r.map((D,P)=>{const S=Ei(a),N=S&&S.indexOf(P)!==-1,F=rt(n.jsx(ps,{id:P,structureKey:D,asset:t,amountStr:i,strikesData:b[P],chosenStrikeData:g[P],setChosenStrikeData:h=>{if(g[P]=h,N){const T=h.strike,f=h.market;S.filter(E=>E!==P).forEach(E=>{const L=Ii(b[E][T],f);g[E]=L})}_([...g])}},P),j,n.jsx(de,{},P));return m(P,F),F})})]})};const Ws=e=>{const{liqPrice:t,isLiqPriceLoading:a,isInLastHalf:i}=e,s=n.jsx("span",{className:"muted_light",children:"..."}),r=n.jsx("span",{className:"muted_light",children:""}),o=()=>`$${te(t)}`;return n.jsxs("div",{className:I("CollateralLiqPrice",i&&"CollateralLiqPrice_down"),children:["Liq. Price:",n.jsxs("span",{className:"CollateralLiqPrice__val",children:[a&&s,!a&&(t?o():r)]})]})};const qs=({min:e,max:t,collateralData:a,handleClick:i})=>n.jsx("div",{className:"CollateralRangeBtns",children:[e,t].map((s,r)=>{const o=a.isBase,p=s.toBigInt(),y=(o?$t:te)(p,o?3:0),l=r===0;return n.jsxs(ze.Fragment,{children:[n.jsxs("button",{onClick:()=>i(y),children:[o?"":"$",y]},r),l?"":""]},r)})});const Gs=({collateralData:e,collateralAmountStr:t,onChange:a})=>{const{isBase:i}=e,s=i?1:0,r=q(e.min.toBigInt(),G,s),o=q(e.max.toBigInt(),G,s),p=le(t),u=i?.01:1;return n.jsx("div",{className:"CollateralSlider",children:n.jsx(Nn,{defaultValue:0,value:p,min:r,max:o,step:u,onChange:a})})},Vs=e=>{const{isInLastHalf:t,getCollateralData:a,collateralData:i,setCollateralData:s,collateralTokens:r,chosenStrike:o,updateTriggers:p,resetTriggers:u}=e,[y,l]=x.useState(""),[d,c]=x.useState(r[0]),[m,A]=x.useState(!1),[M,b]=x.useState(!1),C=()=>{l(""),c(r[0]),s(null)},g=()=>{l(""),s(null)};x.useEffect(()=>{C()},u),x.useEffect(()=>{o&&(A(!0),g(),_(!0))},[o,d]);const _=k=>{let v;if(!k&&y){const D=le(y);v=ye(D)}a(d,v).then(D=>{s(D),A(!1),b(!1)})};kt(()=>{m||(b(!0),_())},800,[y,...p]);const j=Gt([y,l],{placeholder:"0"}),w=r.map(k=>({value:k,label:n.jsx(ee,{symbol:k,isHlight:!0,children:k})})),O=I(j.hasFocus&&"hlight");return n.jsx("div",{className:I("CollateralChooser",O),children:o?n.jsxs(n.Fragment,{children:[i&&n.jsx(Ws,{liqPrice:i.liquidationPrice,isLiqPriceLoading:M,isInLastHalf:t}),rt(n.jsxs("div",{className:"CollateralChooser__input-container",children:[n.jsx("div",{className:"CollateralChooser__input",children:j.node}),i&&n.jsx(qs,{min:i.min,max:i.max,collateralData:i,handleClick:k=>{l(k)}}),i&&n.jsx(Gs,{collateralData:i,collateralAmountStr:y,onChange:k=>{const v=Ut(k);l(v)}})]}),m),n.jsx("div",{className:"CollateralChooser__token-selector",children:n.jsx(xe,{options:w,defaultValue:d,isDisabled:w.length===1,onChange:k=>{c(k.value)}},`CollateralChooser__token-selector_${d}`)})]}):n.jsx(Ie,{children:"Strike required"})})},Ys=e=>{const{asset:t,amountStr:a,strategy:i,strategyStructure:s,hasSell:r,chosenStrikes:o,collateralDataArrState:p,updateTriggers:u,resetTriggers:y,updateUnstableField:l}=e,[d,c]=p,m=()=>{c([])};x.useEffect(()=>{m()},y);const A=(b,C)=>{d[b]=C,c([...d])},M=(b,C,g)=>{const _=o[b];if(!_||!_.utils.getCollateralData)return new Promise(()=>{});const j=ye(le(a)),w=cs(C),O=Z.from(g??0);return _.utils.getCollateralData(j,{isBaseCollateral:w,setToCollateral:O})};return r?n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_collateral",children:[n.jsx("div",{className:"BuilderForm__field-header",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),n.jsx("div",{className:"BuilderForm__field-body",children:s.map((b,C)=>{if(Ce(b))return n.jsx("div",{className:"BuilderForm__field-empty-row",children:ce()},C);const _=o[C],j=Pi(b,i,t),w=C>(s.length-1)/2,O=n.jsx(Vs,{isInLastHalf:w,collateralTokens:j,collateralData:d[C],setCollateralData:k=>A(C,k),getCollateralData:(k,v)=>M(C,k,v),chosenStrike:_,updateTriggers:u,resetTriggers:y},C);return l(C,O),O})})]}):null};const mt=({isVertical:e})=>n.jsx("div",{className:I("Divider",e&&"vertical")}),Ks=e=>{const{strategyStructure:t,unstableFields:a,chosenStrikes:i,strikesDataArr:s,areStrikesLoading:r}=e;return yt()?n.jsxs("div",{className:"BuilderMobileContainer BuilderForm__field",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),n.jsx("div",{className:"BuilderForm__field-body",children:t.map((p,u)=>{const y=r||!!s[u],l=!!i[u],d=!!a.collateral[u],c=u===t.length-1;return n.jsxs("div",{className:"BuilderMobileContainer__item",children:[n.jsx("div",{className:I("BuilderMobileContainer__item-date",y&&"mb-7"),children:a.date[u]}),n.jsx("div",{className:"BuilderMobileContainer__item-strike",children:a.strike[u]}),d&&l&&n.jsxs("div",{className:I("BuilderMobileContainer__item-collateral"),children:[n.jsx("div",{className:"BuilderMobileContainer__item-title",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),a.collateral[u]]}),y&&!c&&n.jsx(mt,{})]},u)})})]}):null},zs=e=>{const{assetState:t,strategyState:a,amountStrState:i,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}=e,[y]=t,[l]=a,[d]=i,[c]=r,m=ue[l].structure,A=ut(m),M=x.useState(!1),[b]=M,[C]=p,[g]=o,_=V(),j=ga(_),[w,O]=x.useState(null),k=()=>{O(null);const F=`W${y}`;j.markets().then(h=>{const T=h.find(f=>f.baseToken.symbol===F);O(T)})};x.useEffect(()=>{k()},[y]);const v={date:[y,w],strike:[c],collateral:[d]},D={date:[y,l],strike:[y,l,c],collateral:[y,l,c],unstableFields:[l]},[P,S]=x.useState({date:[],strike:[],collateral:[]}),N=(F,h,T)=>{P[F][h]=T};return x.useEffect(()=>{S({date:[],strike:[],collateral:[]})},D.unstableFields),n.jsxs("div",{className:"BuilderForm__fields",children:[n.jsx(vi,{assetState:t,isDisabled:b}),n.jsx(Si,{strategyState:a,isDisabled:b}),n.jsx(ki,{amountStrState:i,strategy:l}),n.jsx(zi,{strategyStructure:m,dateListState:s,chosenDateState:r,lyraMarket:w,updateTriggers:v.date,resetTriggers:D.date,isDisabled:b,updateUnstableField:(F,h)=>{N("date",F,h)}}),n.jsx($s,{asset:y,strategy:l,amountStr:d,chosenDate:c,strategyStructure:m,hasSell:A,strikesDataArrState:o,chosenStrikesState:p,areStrikesLoadingState:M,lyraMarket:w,updateTriggers:v.strike,resetTriggers:D.strike,updateUnstableField:(F,h)=>{N("strike",F,h)}}),n.jsx(Ys,{asset:y,strategy:l,amountStr:d,strategyStructure:m,hasSell:A,chosenStrikes:C,collateralDataArrState:u,updateTriggers:v.collateral,resetTriggers:D.collateral,updateUnstableField:(F,h)=>{N("collateral",F,h)}}),n.jsx(Ks,{strategyStructure:m,unstableFields:P,chosenStrikes:C,strikesDataArr:g,areStrikesLoading:b})]})},Zs=()=>n.jsxs(J,{id:"BuilderForm_StrikeTooltip",children:[n.jsx("h6",{children:"Hegic Options (American options)"}),n.jsxs("p",{className:"my-5",children:["They require manual exercise before ",n.jsx("br",{}),"the expiration date. ",n.jsx("br",{}),"There are no secondary markets; out-",n.jsx("br",{}),"of-the-money options can't be sold."]}),n.jsx("h6",{children:"Lyra (European options)"}),n.jsxs("p",{className:"my-5",children:["They are only exercised automatically ",n.jsx("br",{}),"at the expiration date. ",n.jsx("br",{}),"Secondary markets are available; out-",n.jsx("br",{}),"of-the-money options can be sold."]})]});const Qs=({strategy:e})=>{const t=ue[e],{outlooks:a,profit:i,loss:s,description:r}=t.stats;return n.jsxs(J,{className:"WhenPurchaseTooltip",id:"BuilderForm_WhenPurchaseTooltip",place:"bottom-end",children:[n.jsxs("div",{className:"WhenPurchaseTooltip__header",children:[n.jsx("h2",{className:"WhenPurchaseTooltip__title",children:e}),n.jsx("div",{className:"WhenPurchaseTooltip__outlooks",children:a.map(o=>{const p=Ci[o];return n.jsx("div",{className:"WhenPurchaseTooltip__outlook",style:{color:p},children:o},o)})})]}),n.jsxs("div",{className:"WhenPurchaseTooltip__body",children:[n.jsx("h3",{className:"WhenPurchaseTooltip__subtitle",children:"When purchase"}),n.jsx("p",{className:"WhenPurchaseTooltip__description",children:r}),n.jsx("div",{className:"WhenPurchaseTooltip__stats",children:[i,s].map((o,p)=>{const u=p===0?"Profit":"Loss";return n.jsxs("div",{className:"WhenPurchaseTooltip__stats-item",children:[n.jsx("div",{className:"WhenPurchaseTooltip__stats-item-name",children:u}),n.jsx("div",{className:"WhenPurchaseTooltip__stats-item-value",children:o})]},`${u}_${o}`)})})]})]})},Xs=()=>n.jsxs(J,{id:"BuilderForm_CollateralTooltip",children:["This refers tothe amount ",n.jsx("br",{}),"youre setting aside ",n.jsx("br",{}),"ascollateral for selling options"]}),Js=()=>n.jsxs(J,{id:"BuilderForm_MaxCostTooltip",children:["This isthe highest amount ",n.jsx("br",{}),"youll pay for buying options. ",n.jsx("br",{}),"Ifthe option price rises ",n.jsx("br",{}),"beyond this, your transaction ",n.jsx("br",{}),"will bereverted."]}),er=()=>n.jsxs(J,{id:"BuilderForm_MinReceivedTooltip",children:["This isthe least amount youre ",n.jsx("br",{}),"assured toreceive when ",n.jsx("br",{}),"selling options. Ifthe option ",n.jsx("br",{}),"price drops beyond this point, ",n.jsx("br",{}),"your transaction will ",n.jsx("br",{}),"bereverted."]}),tr=()=>n.jsxs(J,{id:"BuilderForm_YouPayWarningTooltip",children:["Apparently, the collateral you've set ",n.jsx("br",{}),"is too small. This may result in instant ",n.jsx("br",{}),"liquidation of the position."]}),nr=({strategy:e})=>n.jsxs("div",{className:"BuilderTooltips",children:[n.jsx(Zs,{}),n.jsx(Qs,{strategy:e}),n.jsx(Xs,{}),n.jsx(Js,{}),n.jsx(er,{}),n.jsx(tr,{})]});const ar=({collateralCost:e,getCostNode:t})=>n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"}),n.jsx("div",{className:I("BuilderCalculations__item-value",e&&e.inUSDC!==0n&&"tip"),"data-tooltip-id":"BuilderForm__CollateralCostDecompositionTooltip",children:t(e)})]}),ir=({maxCost:e,getCostNode:t})=>n.jsxs("div",{className:"TradeCostValue",children:[n.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MaxCostTooltip",children:"Max. Cost"}),n.jsx("div",{className:I("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MaxCostDecompositionTooltip",children:t(e,"-")})]}),sr=({netCost:e,getCostNode:t})=>{const a=(e==null?void 0:e.inUSDC)<0?"negative":(e==null?void 0:e.inUSDC)>0?"positive":"neutral",i=xi[a];return n.jsxs("div",{className:"TradeCostValue",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"Net. Cost"}),n.jsx("div",{className:I("BuilderCalculations__item-value",a),children:t(e,i)})]})},rr=({minReceived:e,getCostNode:t})=>n.jsxs("div",{className:"TradeCostValue",children:[n.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MinReceivedTooltip",children:"Min. Received"}),n.jsx("div",{className:I("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MinReceivedDecompositionTooltip",children:t(e,"+")})]});const or=({hasBuy:e,hasSell:t,getCostNode:a,maxCost:i,minReceived:s,netCost:r})=>{const o={plus:n.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:18},children:"+"}),equal:n.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:17},children:"="})},p=e&&t;return n.jsxs("div",{className:"TradeCostItem BuilderCalculations__item",children:[e&&n.jsx(ir,{maxCost:i,getCostNode:a}),p&&o.plus,t&&n.jsx(rr,{minReceived:s,getCostNode:a}),p&&n.jsxs(n.Fragment,{children:[o.equal,n.jsx(sr,{netCost:r,getCostNode:a})]})]})},pr=({hasBuy:e,hasSell:t,hasChosenStrike:a,maxCost:i,minReceived:s,netCost:r,collateralCost:o})=>{const p=(u,y)=>!a||se(u)||(u==null?void 0:u.inUSDC)===0n?"$0":Yt(()=>`${y??""}$${te(u.inUSDC<0?-u.inUSDC:u.inUSDC)}`,!u);return n.jsxs("div",{className:"BuilderCostItems BuilderCalculations__items",children:[n.jsx(or,{hasBuy:e,hasSell:t,getCostNode:p,maxCost:i,minReceived:s,netCost:r}),t&&n.jsx(ar,{collateralCost:o,getCostNode:p})]})};const nn=({id:e,decompositionArr:t,...a})=>n.jsx(J,{className:"TooltipDecomposition",id:e,place:"bottom-end",...a,children:t.map((i,s)=>{const r=s===t.length-1;return n.jsxs(ze.Fragment,{children:[n.jsxs("div",{className:"TooltipDecomposition__item",children:[n.jsx("div",{className:"TooltipDecomposition__item-name",children:i.nameNode}),n.jsx("div",{className:"TooltipDecomposition__item-value",children:i.valueNode})]}),!r&&n.jsx(mt,{})]},s)})}),ur=({id:e,priceDecompositionArr:t})=>{const i=(()=>t.map(r=>{const o=r.marketToken.isStable,p=n.jsx(ee,{symbol:r.marketToken.symbol,isHlight:!0,children:ve(r.inMarketToken,o)}),u=`$${te(r.inUSDC,2)}`;return{nameNode:p,valueNode:u}}))();return n.jsx(nn,{id:e,decompositionArr:i})},lr=({maxCost:e,minReceived:t,collateralCost:a})=>{const i=[{id:"BuilderForm__MaxCostDecompositionTooltip",decomposition:e==null?void 0:e.decomposition,isZero:(e==null?void 0:e.inUSDC)===0n},{id:"BuilderForm__MinReceivedDecompositionTooltip",decomposition:t==null?void 0:t.decomposition,isZero:(t==null?void 0:t.inUSDC)===0n},{id:"BuilderForm__CollateralCostDecompositionTooltip",decomposition:a==null?void 0:a.decomposition,isZero:(a==null?void 0:a.inUSDC)===0n}];return n.jsx("div",{className:"CostDecompositionTooltips",children:i.map(s=>!s.decomposition||s.isZero?null:n.jsx(ur,{id:s.id,priceDecompositionArr:s.decomposition},s.id))})},yr=({strategy:e,amountStr:t,chosenStrikesState:a,collateralDataArrState:i,setYouPay:s,isBuyModalOpen:r})=>{const o=ue[e].structure,p=ut(o),u=Di(o),[y,l]=a,[d,c]=i,[m,A]=x.useState(null),[M,b]=x.useState(null),[C,g]=x.useState(null),[_,j]=x.useState(null),w=Mi(y),O=!!d.find(h=>h),k=h=>{y[h]=null,d[h]=null,l([...y]),c([...d])},v={sum:h=>h.reduce((f,B,E)=>{if(E===0)return{inUSDC:B.inUSDC,decomposition:[B]};const L=f.decomposition;return L[E]={marketToken:B.marketToken,inMarketToken:B.inMarketToken,inUSDC:B.inUSDC},{inUSDC:f.inUSDC+B.inUSDC,decomposition:L}},h[0]),separateBuyFromSell:h=>{const T=[],f=[];return h.forEach(B=>{B&&(B.isBuy?T.push(B):f.push(B))}),{buyCosts:T,sellCosts:f}},getArgsForHandler:h=>{const{reset:T}=D[h],{isAllowed:f,update:B}=S[h];return[T,f,B]}},D={collateral:{reset:()=>{j({inUSDC:0n})}},trade:{reset:()=>{A(null),b(null),g(null)}},youPay:{reset:()=>{s(null)}}},P={collateral:{calc:()=>{const h=d.filter(f=>f);return v.sum(h)}},trade:{calc:()=>{if(!t)return;const h=[],T=ye(le(t));return y.forEach((f,B)=>{f&&h.push(f.utils.calcPremium(T).then(E=>E?(f.premiumData=E,f.amount=T,E.isBuy=f.isBuy,E):(k(B),null)))}),Promise.all(h).then(f=>{const{buyCosts:B,sellCosts:E}=v.separateBuyFromSell(f);return{maxCost:v.sum(B),minReceived:v.sum(E)}})}},youPay:{calc:()=>{if(p){if(_!=null&&_.inUSDC)return{inUSDC:_.inUSDC+((m==null?void 0:m.inUSDC)??0n),decomposition:Oi(o,m==null?void 0:m.decomposition,_.decomposition)}}else return{inUSDC:m.inUSDC,decomposition:m.decomposition}}}},S={collateral:{triggers:[d],isAllowed:O&&w,update:()=>{const h=P.collateral.calc();j(h)}},trade:{triggers:[y],debouncedTriggers:[t],isAllowed:w,update:()=>{P.trade.calc().then(h=>{const{maxCost:T,minReceived:f}=h;A(T),b(f);const B={inUSDC:((f==null?void 0:f.inUSDC)??0n)-((T==null?void 0:T.inUSDC)??0n)};g(B)})}},youPay:{triggers:[C,_],isAllowed:!!(p?C!=null&&C.inUSDC&&(_!=null&&_.inUSDC):C!=null&&C.inUSDC),update:()=>{const h=P.youPay.calc();s(h)}}},N=(h,T,f)=>{h(),T&&f()};return Object.keys(S).forEach(h=>{const T=()=>{N(...v.getArgsForHandler(h))},f=[...S[h].triggers],B=S[h].debouncedTriggers&&[...S[h].debouncedTriggers];B&&kt(T,800,B),x.useEffect(T,f)}),n.jsxs("div",{className:I("BuilderCost",p&&"has-sell"),children:[n.jsx(pr,{hasBuy:u,hasSell:p,hasChosenStrike:w,maxCost:m,minReceived:M,netCost:C,collateralCost:_}),n.jsx(lr,{maxCost:m,minReceived:M,collateralCost:_})]})};const dr=({decompositionData:e})=>n.jsx("div",{className:"GreeksDecompositionTooltips",children:Ye.map(t=>{const a=e[t];if(!a||!a.length)return null;const s=`BuilderForm_${Kt(t)}DecompositionTooltip`;return n.jsx(nn,{id:s,decompositionArr:a},s)})});const cr=({children:e,renderHeader:t=({state:a})=>a.isEnter?"Hide":"Show"})=>n.jsx("div",{className:"Accordion",children:n.jsx(Rn,{transition:!0,transitionTimeout:250,children:n.jsx(Un,{header:t,children:e})})}),mr=({chosenStrikes:e})=>{const t={};Ye.forEach(p=>{t[p]=[]});const a=(p,u)=>{const y=p.greeks[u],l={nameNode:n.jsx(Xt,{strikeData:p,priceNode:`$${Q(p.strike)}`}),valueNode:y};t[u].push(l)},i=()=>n.jsx("div",{className:"BuilderCalculations__items",children:Ye.map(p=>{const u=Kt(p),y=e.reduce((l,d)=>{if(!d)return l;a(d,p);const c=d.greeks[p];return l+c},0);return n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:u}),n.jsx("div",{className:I("BuilderCalculations__item-value",e.length&&"tip"),"data-tooltip-id":`BuilderForm_${u}DecompositionTooltip`,children:Ue(y,3)})]},p)})}),s=()=>n.jsx(cr,{renderHeader:({state:p})=>`${p.isEnter?"Hide":"Show"} greeks`,children:i()}),o=yt(576);return n.jsxs("div",{className:"BuilderGreeks",children:[o?s():i(),n.jsx(dr,{decompositionData:t})]})};const Tr=({youPayState:e,paymentToken:t})=>{const a=V(),[i,s]=e,r=()=>i.inUSDC<0?new Promise(l=>{l(null)}):us(a,t.address,i.inUSDC),o={triggers:[i],isAllowed:!!(i&&t&&se(i.inPaymentToken)),update:()=>{r().then(l=>{setTimeout(()=>{i.paymentToken=t,i.inPaymentToken=l,s({...i})},1e3)})}},p={triggers:[t.symbol],isAllowed:!!i,reset:()=>{i.inPaymentToken=void 0,s({...i})}};x.useEffect(()=>{o.isAllowed&&o.update()},[...o.triggers]),x.useEffect(()=>{p.isAllowed&&p.reset()},[...p.triggers]);const u={getNegativeValueNode:()=>n.jsx(ee,{children:n.jsx("span",{className:"negative tip","data-tooltip-id":"BuilderForm_YouPayWarningTooltip",children:te(i.inUSDC,0)})}),getPaymentTokenNode:()=>ve(i.inPaymentToken,i.paymentToken.isStable),getUsdcNode:()=>`$${te(i.inUSDC,2)}`,getApproximatelySymbolNode:()=>n.jsx("span",{className:"muted_light mx-5",style:{fontSize:16},children:hi})};return(()=>!i||!t?ce():i.inPaymentToken===null?u.getNegativeValueNode():se(i.inPaymentToken)?n.jsx(de,{}):n.jsxs(ee,{isHlight:!0,symbol:t.symbol,children:[u.getPaymentTokenNode(),u.getApproximatelySymbolNode(),u.getUsdcNode()]}))()};const fr=({className:e,options:t,defaultOption:a,defaultValue:i,onChange:s,...r})=>n.jsx(xe,{className:I("SelectorInline",e),options:t,defaultOption:a,defaultValue:i,onChange:s,...r}),br=e=>{const{account:t}=K();return e.map(i=>{let{data:s}=cn({address:t,token:i.isETH?null:i.address,watch:!0});return s||(s={value:0n}),{...s,address:i.address,symbol:i.symbol,isETH:i.isETH,isStable:i.isStable}})},hr=e=>{const{isConnected:t,account:a}=K(),i=V(),s=br(e),{data:r}=vt(t&&[a,"useTokenBalancesUSDC",s],async()=>{const o=[],p=[];return s.forEach((u,y)=>{u&&(u.inTokenDecimals=u.value,u.inDefaultDecimals=st(u.value,u.decimals),p.push(Fe(i,u.address,u.inDefaultDecimals).then(l=>{o[y]={...u,inUSDC:l}}).catch(l=>{console.log(`Swapping ${u.symbol} to USDC error.

`+l),o[y]=null})))}),await Promise.all(p),o});return r??[]},xr=({paymentTokens:e,paymentToken:t,setPaymentToken:a})=>{const{isConnected:i,account:s}=K(),r=hr(e),o=()=>{const l=r.find(d=>d.symbol===t.symbol);l!==t.balance&&a({...t,balance:l})};x.useEffect(()=>{o()},[r,s]);const p=l=>i?l===null?ce("Error"):se(l)||se(l.inUSDC)?n.jsx(de,{}):`$${te(l.inUSDC,0)}`:ce(),u=e.map((l,d)=>{const c=r[d],m=p(c);return{label:n.jsxs("div",{className:"PaymentTokenSelector__item",children:[n.jsx("div",{className:"PaymentTokenSelector__item-name",children:n.jsx(ee,{symbol:l.symbol,isHlight:!0,children:l.symbol})}),n.jsx("div",{className:"PaymentTokenSelector__item-value",children:m})]}),value:l.symbol,balance:c}}),y=[{label:n.jsxs("div",{className:"PaymentTokenSelector__item",children:[n.jsx("div",{children:"Asset"}),n.jsx("div",{children:"Balance, $"})]}),options:u}];return n.jsx(fr,{className:"PaymentTokenSelector",options:y,defaultValue:t.symbol,onChange:l=>{a({symbol:l.value,balance:l.balance})}},s)},Cr=({paymentToken:e,setPaymentToken:t,youPayState:a,confirmButtonNode:i})=>{const{isConnected:s}=K(),r=V(),o=Da(r),p=()=>{if(!s)return ce();if(e.balance===null)return ce("Error");if(se(e.balance))return n.jsx(de,{});const u=e.balance.value===0n?0:void 0;return n.jsx(ee,{symbol:e.symbol,isHlight:!0,children:ve(e.balance.inDefaultDecimals,e.isStable,u)})};return n.jsxs("div",{className:"BuilderSwap",children:[n.jsxs("div",{className:"BuilderCalculations__items",children:[n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"Select Payment method"}),n.jsx("div",{className:"BuilderCalculations__item-value",children:n.jsx(xr,{paymentTokens:o,paymentToken:e,setPaymentToken:t})})]}),n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"You pay"}),n.jsx("div",{className:"BuilderCalculations__item-value",children:n.jsx(Tr,{youPayState:a,paymentToken:e})})]}),n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:"Balance"}),n.jsx("div",{className:"BuilderCalculations__item-value",children:p()})]})]}),i]})},gr=(e,t,a,i,s,r)=>{const{isConnected:o}=K(),p=ut(t),u=()=>{if(!e)return"Enter Amount";if(a.length!==t.length||!a.every(m=>m))return"Fill out the Strike fields";const c=!!i.find(m=>m&&m.inMarketToken===0n);if(p&&c)return"Fill out the Collateral fields";if(!s)return"Please, wait...";if(s>r)return"Insufficient balance"};return{getError:u,getIsBtnEnabled:()=>o?!u():!0,getBtnText:()=>{const d="Buy Strategy";return o?u()??d:"Connect wallet"}}},_r=({strategy:e,amountStr:t,youPayState:a,chosenStrikesState:i,collateralDataArrState:s,openBuyModal:r,isBuyModalOpen:o})=>{var O;const{isConnected:p}=K(),{connectWallet:u}=It(),y=V(),[l,d]=Qe("builder-payment-token","ETH"),[c,m]=x.useState({symbol:l});x.useEffect(()=>{if(d(c.symbol),!c.address){const k=re(y,c.symbol);m({...c,...k})}},[c]);const[A]=i,[M]=s,[b,C]=a,g=ue[e].structure,{getIsBtnEnabled:_,getBtnText:j}=gr(t,g,A,M,b==null?void 0:b.inPaymentToken,(O=c.balance)==null?void 0:O.inDefaultDecimals),w=n.jsx(he,{className:"BuilderForm__button",onClick:p?r:u,isDisabled:!_(),children:j()});return n.jsxs("div",{className:"BuilderCalculations",children:[n.jsx(mr,{chosenStrikes:A}),n.jsx(yr,{strategy:e,amountStr:t,chosenStrikesState:i,collateralDataArrState:s,setYouPay:C,isBuyModalOpen:o}),n.jsx(Cr,{youPayState:a,paymentToken:c,setPaymentToken:m,confirmButtonNode:w})]})};const kr=({stagesArr:e})=>n.jsx("div",{className:"Stages",children:e.map(t=>n.jsx("div",{className:I("Stages__item",t.isActive&&"active"),children:t.name},t.name))}),vr=(e,t,a)=>{const{account:i}=K(),s=V(),r=re(s,e);return{check:()=>r.isETH?new Promise(p=>p(!0)):ds(s,r,i,t,a),approve:(p,u)=>{if(r.isETH)throw new Error("Trying to approve ETH");return ys(s,r,t,a,p,u)}}},wr=(e,t,a,i,s={setIsLoading:()=>{},closeModal:()=>{}})=>{const r=V(),o=ue[e],{setIsLoading:p,closeModal:u}=s,{paymentToken:y,decomposition:l}=i,d=y.isETH,[c,m]=x.useState({moduleArr:[],parametersArr:[],swapDataArr:[],productType:o.key}),[A,M]=x.useState([]),b=()=>A.reduce((v,D)=>v+D,0n),C=new X(...oe(r,"TxBuilderOpen"),Ne()),g=(k,v)=>{const D=_i[k.protocolName];return C.module(D).then(P=>{c.moduleArr[v]=P})},_=(k,v)=>{const D=a[v],P={setToCollateral:D&&Z.from(D.inMarketToken),isBaseCollateral:D==null?void 0:D.isBase,premiumInMarketToken:k.premiumData.inMarketToken};return k.utils.getBuilderParams(k.amount,P,y.decimals).then(S=>{c.parametersArr[v]=S})},j=(k,v)=>{const D=l[v],P=new X(...oe(r,"Exchanger"),me(r)),S=D.marketToken,N=ls(y.address,S.address),F=D.inMarketToken,h=y.address!==S.address;return dt(r,S.address,y.address,F).then(T=>lt(T,Vt)).then(T=>(d&&(A.push(T),M([...A])),P.encodeFromExchange({path:N,tokenIn:y.address,tokenOut:S.address,amountIn:qe(T,y.decimals),amountOutMinimum:qe(F,S.decimals),isETH:d,swap:h}).then(f=>{c.swapDataArr[v]=f})))},w=()=>{const k=[];return t.forEach((v,D)=>{k.push(g(v,D),_(v,D),j(v,D))}),Promise.all(k).then(()=>{m({...c})}).catch(()=>p(!1))};return()=>(p(!0),w().then(()=>{const k=q(t[0].amount),v=k!==1,D=o.plural??`${e}s`;return en(r,C.consolidationOfTransactions,[c.moduleArr,c.parametersArr,c.swapDataArr,c.productType,A.length?{value:b()}:{}],`${k} ${v?D:e} opened!`,p,u)}).then(()=>{M([])}))},Sr=({isOpen:e,setIsOpen:t,asset:a,strategy:i,amountStr:s,chosenStrikes:r,collateralDataArr:o,youPay:p})=>{const u=V(),y=ue[i],[l,d]=x.useState(!1),[c,m]=x.useState(null),A=wr(i,r,o,p,{setIsLoading:d,closeModal:()=>t(!1)}),b=["Approve","Buy"].map(F=>({name:F,isActive:c===F})),{paymentToken:C,inPaymentToken:g}=p,_=lt(g,Vt),j=ve(g,C.isStable),w=C.symbol,O=`${j} ${w}`,k={Approve:`Approve ${O}`,Buy:`Pay ${O}`},v=new X(...oe(u,"Exchanger"),Ne()),D=vr(w,v.address,_);x.useEffect(()=>{e&&(m(null),D.check().then(F=>{m(F?"Buy":"Approve")}))},[e,p]);const P=()=>{if(!c)return"Please, wait...";if(l){if(c==="Approve")return`Approving ${w}...`;if(c==="Buy")return`Buying ${i}...`}},S={approve:()=>{D.approve(d,()=>m("Buy"))},buy:A},N={getBtnText:()=>P()??k[c],getIsBtnEnabled:()=>!P(),getBtnOnClick:()=>{switch(c){case"Approve":return S.approve;case"Buy":return S.buy}}};return n.jsxs(Ft,{className:"BuyBuildModal",isOpen:e,setIsOpen:t,children:[n.jsx(kr,{stagesArr:b}),n.jsx("h1",{className:"BuyBuildModal__title",children:c??n.jsx(de,{})}),n.jsxs("div",{className:"BuyBuildModal__strategy",children:["Strategy",n.jsxs("div",{className:"BuyBuildModal__strategy-info",children:[n.jsx("span",{className:"BuyBuildModal__strategy-name",style:{color:y.color},children:i}),n.jsx(mt,{isVertical:!0}),n.jsx(ee,{className:"BuyBuildModal__strategy-amount",symbol:a,isHlight:!0,children:s})]})]}),c==="Buy"&&n.jsx(n.Fragment,{children:n.jsxs("p",{className:"BuyBuildModal__hint",children:["Sharwa.Finance will auto-convert your ",O," into tokens compatible with the options protocols where your positions are to be opened, using Uniswap v3."]})}),n.jsx(he,{className:"BuyBuildModal__button",isDisabled:!N.getIsBtnEnabled(),onClick:N.getBtnOnClick(),children:N.getBtnText()})]})},Ar=({assetState:e,strategyState:t,amountStrState:a,dateListState:i,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p})=>{const u=x.useState(null),[y]=u,[l,d]=x.useState(!1),[c]=e,[m]=t,[A]=a,[M]=o,[b]=p,C=()=>{d(!0)};return n.jsxs("div",{className:"BuilderForm App-box",children:[n.jsx(zs,{assetState:e,strategyState:t,amountStrState:a,dateListState:i,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p}),n.jsx(_r,{strategy:m,amountStr:A,youPayState:u,chosenStrikesState:o,collateralDataArrState:p,openBuyModal:C,isBuyModalOpen:l}),(y==null?void 0:y.inPaymentToken)&&n.jsx(Sr,{isOpen:l,setIsOpen:d,asset:c,strategy:m,amountStr:A,chosenStrikes:M,collateralDataArr:b,youPay:y}),n.jsx(nr,{strategy:m})]})};const Dr=({asset:e,strategy:t,amountStr:a,chosenStrikes:i,collateralDataArr:s})=>{var h;const r=ue[t].structure,o=x.useRef(null),p=le(a),u={amount:p,strikes:i.map(T=>T==null?void 0:T.strike),premiums:i.map(T=>{const f=T==null?void 0:T.premiumData.inUSDC;return f&&q(f)}),strategies:r,collaterals:s,isReady:p&&i.length===r.length&&i.every(T=>T)},y=e==="ETH",l=y?.3:.2,d=y?5:10,c=100,m=Qt(e),A=q(m,at),M=A&&Math.round(A/d)*d,b=(T,f)=>{const B=u.strategies[T],E=u.premiums[T],L=u.strikes[T],H=u.amount,R=u.collaterals[T],$=(R==null?void 0:R.liquidationPrice)&&q(R.liquidationPrice),ae=R&&q(R.inMarketToken),Te=R==null?void 0:R.isBase;let U;if(E){switch(B){case 1:f<L?U=-E:U=(f-L)*H-E;break;case 2:f>L?U=-E:U=(L-f)*H-E;break;case-1:if($&&f>$)Te?U=-(ae*$)+E:U=-ae+E;else if(Te){const an=(L-A)*H+E;f>L?U=an:U=(f-A)*H+E}else f<L?U=E:U=(L-f)*H+E;break;case-2:$&&f<$?Te?U=-(ae*$)+E:U=-ae+E:f>L?U=E:U=(f-L)*H+E;break}if(U)return Number(U)}},g=(()=>{if(!u)return;const T=u.strikes.reduce((R,$)=>(R+$)/2,u.strikes[0]),f=window.innerWidth>480?l:l-.05,B=Math.round(T*(1-f)/100)*100,E=Math.round(T*(1+f)/100)*100,L=[];for(let R=0;R<(E-B)/d;R++){const $=B+R*d;L.push($)}const H=[];return u.strategies.forEach((R,$)=>{L.forEach((ae,Te)=>{const U=b($,ae);$===0?H.push({closePrice:ae,pnl:U}):H[Te].pnl=H[Te].pnl+U})}),H})(),_=(h=g.reduce((T,f)=>f.pnl>T.pnl?f:T,g[0]))==null?void 0:h.pnl,j=_&&Q(_.toFixed(0)),O=(()=>{if(!g)return;const T=Math.max(...g.map(E=>E.pnl)),f=Math.min(...g.map(E=>E.pnl));if(T<=0)return 0;if(f>=0)return 1;const B=T/(T-f);return isNaN(B)?0:B})(),k=({value:T,cx:f,cy:B})=>{const E=T[1];let L;return E<0?L=Y:E>0?L=be:L=$e,n.jsx("circle",{cx:f,cy:B,r:5,style:{opacity:"0.9"},fill:L})},v=T=>{const{active:f,payload:B,label:E}=T,L=f&&B&&B.length&&Number(B[0].value.toFixed(2));return f&&B&&B.length?n.jsxs("div",{className:"react-tooltip",children:[n.jsx(ee,{currencyName:e,isHlight:!0,isSmall:!0,children:Q(E)}),n.jsxs("p",{children:["PnL ",n.jsx("span",{className:I({positive:L>0,negative:L<0}),children:`${L!==0?L>0?"+":"-":""}$${Q(Math.abs(L))}`})]})]}):null},D=T=>Q(T),P={fill:$e,fontSize:13},S=We,[N,F]=x.useState(null);return x.useEffect(()=>{if(o.current&&g){let T;const f=Math.round(c/(o.current.clientWidth/g.length));f<20?T=19:T=Math.floor(f/20)*20-1,F(T)}},[o.current,g,window.innerWidth]),n.jsx("div",{className:"BuilderPositionChart App-box",ref:o,children:u.isReady?n.jsx(Hn,{children:n.jsxs($n,{data:g,margin:{left:(j==null?void 0:j.length)*7.5-40},children:[n.jsx(Wn,{dataKey:"closePrice",interval:N,tickFormatter:D,tick:P,stroke:S}),n.jsx(qn,{dataKey:"pnl",tickFormatter:D,tick:P,stroke:S,padding:{bottom:15}}),n.jsx(Gn,{cursor:{stroke:$e},content:n.jsx(v,{})}),n.jsx(Vn,{type:"monotone",dot:!1,dataKey:"pnl",stroke:"url(#splitColor)",activeDot:n.jsx(k,{}),fill:"url(#splitColorTransparent)"}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"splitColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:O,stopColor:be,stopOpacity:1}),n.jsx("stop",{offset:O,stopColor:Y,stopOpacity:1})]}),n.jsxs("linearGradient",{id:"splitColorTransparent",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:O,stopColor:be,stopOpacity:.3}),n.jsx("stop",{offset:O,stopColor:Y,stopOpacity:.3})]})]}),n.jsx(Tt,{x:M,stroke:We,strokeDasharray:"3 3",label:{value:"Current Price",fill:We,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}}),u.collaterals.length&&u.collaterals.map(T=>{if(!T)return;const f=(T==null?void 0:T.liquidationPrice)&&q(T.liquidationPrice),B=Math.round(f/d)*d;return n.jsx(Tt,{x:B,stroke:Y,strokeDasharray:"3 3",label:{value:"Liq. Price",fill:Y,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}},f)}),n.jsx(Yn,{stroke:"rgba(58, 68, 102, 0.15)"})]})}):n.jsx(Ie,{children:"Fill out the Strike fields to view position chart"})})},Mr=e=>{const{assetState:t}=e,a=Qe("builder-strategy","Long Call"),i=x.useState("1"),s=x.useState([]),r=x.useState(null),o=x.useState([]),p=x.useState([]),u=x.useState([]),[y]=t,[l]=a,[d]=i,[c]=p,[m]=u;return n.jsxs("div",{className:"BuilderDashboard",children:[n.jsx(Ar,{assetState:t,strategyState:a,amountStrState:i,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}),n.jsx(Dr,{asset:y,strategy:l,amountStr:d,chosenStrikes:c,collateralDataArr:m})]})},Br=()=>{const e=Qe("asset","ETH");return n.jsx("div",{className:"Builder",children:n.jsx(Mr,{assetState:e})})},Pr=()=>{const e=je(),t=Pn();return x.useEffect(()=>{e.pathname.endsWith("terminal")&&t("/terminal/builder")},[e.pathname]),n.jsxs(En,{children:[n.jsxs(Se,{path:"/terminal",element:n.jsx(fi,{}),children:[n.jsx(Se,{path:"builder",element:n.jsx(Br,{})}),n.jsx(Se,{path:"margin-trading",element:n.jsx("div",{children:"Margin Trading"})})]}),n.jsx(Se,{path:"*",element:n.jsx(In,{to:ti,replace:!0})})]})},Er=()=>n.jsxs("div",{className:"Tooltips",children:[n.jsx(J,{id:"Tooltip_default"}),n.jsx(J,{place:"bottom-end",id:"Tooltip_bottom-end"})]});const Ir="/sf_draft/assets/Discord-f7d998b5.svg",Or="/sf_draft/assets/Gitbook-c728118d.svg",Fr="/sf_draft/assets/Github-d50e83d6.svg",jr="/sf_draft/assets/Mirror-095740c8.svg",Lr="/sf_draft/assets/Telegram-04f64a96.svg",Nr="/sf_draft/assets/Twitter-5cfdd2f4.svg",Rr=()=>{const e={Discord:{icon:Ir,url:"https://discord.gg/5DGZ7rzSfS"},Gitbook:{icon:Or,url:"https://docs.sharwa.finance/"},Github:{icon:Fr,url:"https://github.com/DeDeLend"},Mirror:{icon:jr,url:"https://mirror.xyz/sharwa-finance.eth"},Telegram:{icon:Lr,url:"https://t.me/SharwaFinance"},Twitter:{icon:Nr,url:"https://twitter.com/SharwaFinance"}};return n.jsx("footer",{className:"Footer",children:n.jsxs("div",{className:"Footer__content _container",children:[n.jsx(wt,{}),n.jsx("div",{className:"Footer__smedia-items",children:Object.keys(e).map(t=>{const a=e[t];return n.jsx("a",{className:"Footer__smedia-item",target:"_blank",rel:"noreferrer",href:a.url,children:n.jsx("img",{src:a.icon,alt:`${t} logo`})},t)})})]})})};const Ur=({children:e})=>n.jsx("div",{className:"GlobalStickyMessage",children:e});function Hr(){const{chain:e}=Tn(),t=()=>n.jsxs(n.Fragment,{children:[n.jsx(Ya,{}),n.jsx("main",{className:"_container",children:n.jsx(Pr,{})}),n.jsx(Rr,{}),n.jsx(Ur,{children:"Sharwa.Finance is in alpha. Use at your own risk"})]}),a=()=>n.jsx(Qa,{chainId:e.id});return e!=null&&e.unsupported?a():t()}function $r(){return n.jsxs(n.Fragment,{children:[n.jsx(Ka,{}),n.jsx(Er,{}),n.jsx(mn,{config:ja(),children:n.jsx(on,{children:n.jsx(ei,{children:n.jsx(Hr,{})})})})]})}sn.createRoot(document.getElementById("root")).render(n.jsx(ze.StrictMode,{children:n.jsx($r,{})}));
