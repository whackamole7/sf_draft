import{j as n,r as h,a as Ve}from"./node_modules/react-537e1f04.js";import{a as Wn,c as ni}from"./node_modules/react-dom-d93f8348.js";import{L as ai,H as ii}from"./node_modules/react-router-dom-06a12849.js";import{c as E}from"./node_modules/classnames-8f6a1f82.js";import{c as si,u as ri,a as oi,b as pi,d as Z,e as li,f as ui,W as yi,g as di}from"./node_modules/wagmi-6325d6a2.js";import{p as ci,I as mi,q as Ti,r as fi,t as bi}from"./node_modules/@wagmi-f607eab2.js";import{Q as Jt,k as hi,h as xi}from"./node_modules/react-toastify-4fa935e3.js";import{g as gi,f as _i,b as J,C as vi,a as ee,c as at,d as Ee,e as me,h as Ci,i as Mt,j as ut,u as ki,m as Gn,D as it,k as Ce,l as xe,n as le,r as ce,o as G,p as yt,q as Kn,s as Si,t as On,v as Be,w as en,U as Yt,x as st,y as tn,z as Pe,I as xt,A as Ge,B as wi,E as Pi,F as Yn,H as Mi,G as gt,J as zn,K as Ai,L as rt,M as Di,N as Ei,O as _t,P as Oi}from"./node_modules/@premia-e859b0f3.js";import{b as At,O as Ii,a as Bi,d as ji,e as Je,f as Ni}from"./node_modules/react-router-d9669a07.js";import{u as Li,a as Fi,b as Ri,c as je,d as Ui,e as dt}from"./node_modules/react-use-6f4d4f77.js";import{S as Hi,c as qi}from"./node_modules/react-select-2ab8b603.js";import{W as $i}from"./node_modules/react-tooltip-d2c2bfef.js";import{E as Vi}from"./node_modules/react-error-boundary-6583b3b6.js";import{R as nn}from"./node_modules/react-modal-04b4ca63.js";import{_ as Wi}from"./node_modules/react-fast-marquee-4d143b6b.js";import{u as Se,i as te}from"./node_modules/swr-ba16f2de.js";import{z as Gi,W as Ki,C as V,B as an,D as Yi,E as Dt,F as ot}from"./node_modules/@ethersproject-aed62333.js";import{I as zi}from"./node_modules/react-icons-d7ab62b1.js";import{f as _e}from"./node_modules/date-fns-003c5fae.js";import{A as Qi,a as Zi}from"./node_modules/@szhsin-10d30d5a.js";import{r as Xi}from"./node_modules/swiper-4105a6d8.js";import{u as Ji}from"./node_modules/ethers-07f60d16.js";import{A as ue}from"./node_modules/@uniswap-21abf5b2.js";import{S as es}from"./node_modules/rc-slider-d0a7e732.js";import{R as ts,A as ns,X as as,Y as is,T as ss,a as rs,b as In,C as os}from"./node_modules/recharts-ab12cac6.js";import{T as ps}from"./node_modules/lightweight-charts-068b394f.js";import"./node_modules/scheduler-765c72db.js";import"./node_modules/@remix-run-06a34d2a.js";import"./node_modules/@tanstack-5745ecc6.js";import"./node_modules/use-sync-external-store-53f1a072.js";import"./node_modules/eventemitter3-78f95978.js";import"./node_modules/@noble-efb69e2c.js";import"./node_modules/zustand-33f96c56.js";import"./node_modules/isows-9d0ff313.js";import"./node_modules/vite-plugin-node-polyfills-67260536.js";import"./node_modules/clsx-1229b3e0.js";import"./node_modules/copy-to-clipboard-867d29db.js";import"./node_modules/toggle-selection-93f4ad84.js";import"./node_modules/@xobotyi-c2000ea3.js";import"./node_modules/@babel-0a888fcc.js";import"./node_modules/@emotion-fb2564b3.js";import"./node_modules/hoist-non-react-statics-23d96a9a.js";import"./node_modules/react-is-e8e5dbb3.js";import"./node_modules/stylis-79144faa.js";import"./node_modules/@floating-ui-1f2e0c5a.js";import"./node_modules/use-isomorphic-layout-effect-9c65be92.js";import"./node_modules/memoize-one-297ddbcb.js";import"./node_modules/prop-types-0badfa19.js";import"./node_modules/warning-883c7a3c.js";import"./node_modules/exenv-9baed461.js";import"./node_modules/react-lifecycles-compat-a76b1164.js";import"./node_modules/bech32-2264cc76.js";import"./node_modules/js-sha3-18c4ff08.js";import"./node_modules/bn.js-e7bc1733.js";import"./node_modules/hash.js-fa3938b6.js";import"./node_modules/minimalistic-assert-7cc78341.js";import"./node_modules/inherits-2c87d58f.js";import"./node_modules/aes-js-d2405bac.js";import"./node_modules/scrypt-js-b2257cc4.js";import"./node_modules/react-transition-state-2b0fcf3f.js";import"./node_modules/jsbi-a35364a5.js";import"./node_modules/tiny-invariant-bee4f299.js";import"./node_modules/decimal.js-light-6fe16ef2.js";import"./node_modules/big.js-da9df5c5.js";import"./node_modules/toformat-51752467.js";import"./node_modules/rc-util-cb65bfd7.js";import"./node_modules/react-resize-detector-b6cb6ad9.js";import"./node_modules/lodash-a61b8bd0.js";import"./node_modules/react-smooth-a3a31e7e.js";import"./node_modules/fast-equals-a0711cdd.js";import"./node_modules/victory-vendor-5e3e398c.js";import"./node_modules/d3-scale-4cce9527.js";import"./node_modules/internmap-7949acc8.js";import"./node_modules/d3-array-7d9b19f9.js";import"./node_modules/d3-time-format-aa787c71.js";import"./node_modules/d3-time-9ce187c0.js";import"./node_modules/d3-interpolate-8fa1f6ff.js";import"./node_modules/d3-color-6502c434.js";import"./node_modules/d3-format-ffdb8652.js";import"./node_modules/recharts-scale-170b47f7.js";import"./node_modules/d3-shape-9e788a4f.js";import"./node_modules/d3-path-41c4cb36.js";import"./node_modules/reduce-css-calc-f5068896.js";import"./node_modules/css-unit-converter-9e08bb2c.js";import"./node_modules/fancy-canvas-250c9c40.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const ls="/sf_draft/assets/Logo-78374f46.svg",Qn=({className:e})=>n.jsx("div",{className:E("Logo",e),children:n.jsx("a",{className:"Logo__link",href:"/index.html",children:n.jsx("img",{src:ls,alt:"Sharwa.Finance"})})});const sn=({className:e,links:t,type:a})=>{const i=E(e,a&&`Links_${a}`);return n.jsx("div",{className:E("Links",i),children:t.map((s,o)=>{var u;const r=E("Links__item",s.isActive&&"active");return((u=s.to)==null?void 0:u.startsWith("http"))?n.jsx("a",{className:r,href:s.to,rel:"noreferrer",target:"_blank",children:s.name},s.to):n.jsx(ai,{to:s.to,className:r,disabled:s.isDisabled,onClick:s.isDisabled&&(y=>y.preventDefault()),children:s.name},s.to??o)})})};const Zn=e=>{const[t,a]=h.useState(!1),i=h.useCallback(()=>{document.removeEventListener("click",i),a(!1),e&&e()},[]);return{isOpen:t,openPopup:()=>{t||(a(!0),setTimeout(()=>{document.addEventListener("click",i)},10))},closePopup:i}},us="/sf_draft/assets/wallet-fce3adf9.svg",ys="/sf_draft/assets/link-c9833cec.svg",ds="/sf_draft/assets/cross_white-7e20b14c.svg",cs="/sf_draft/assets/Arbitrum-7db65e18.svg",ms="/sf_draft/assets/Arbitrum-7db65e18.svg",Te=42161,Et=10,rn=[Te],Ot={[Te]:{name:"Arbitrum",icon:cs},[Et]:{name:"Optimism",icon:ms,isDisabled:!0}},Ts=(e,t,a)=>{t=Xn(t);const i=Jn(e)+"/tx/"+a;console.log(t.text,`
`,i),Jt.success(n.jsxs("div",{children:[n.jsx("div",{children:t.node}),n.jsx("br",{}),a&&n.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:"View transaction"})]}))},Xn=e=>{if(typeof e=="string"){const t=e;e={text:t,node:t}}return e},fs=e=>{e=Xn(e),console.log(e.text),Jt.success(e.node)},pt=(e,t)=>{const a=gi(e),i=_i(a);console.error(e),Jt.error(n.jsx("div",{children:i})),t&&t(!1)},It=(e,t,a=[],i,s,o)=>(s&&s(!0),t(...a).then(r=>{console.log("Submitting:",r),r.wait().then(p=>{Ts(e,i,r.hash),s&&s(!1),o&&o(p)},p=>{pt(p,s)})},r=>{pt(r,s)})),bs=()=>{const e=[Ti];if(e.length!==rn.length)throw new Error("Invalid number of wagmi chains.");const{chains:t,publicClient:a,webSocketPublicClient:i}=ci(e,[fi()]);return si({autoConnect:!0,publicClient:a,webSocketPublicClient:i,connectors:[new mi({chains:t,options:{name:"Injected",shimDisconnect:!0}})]})},Jn=e=>{switch(e){case Te:return"https://arbiscan.io";case Et:return"https://optimistic.etherscan.io";default:return"https://etherscan.io"}};const de=h.forwardRef(function({children:t,className:a,style:i,isDisabled:s,onClick:o,type:r},p){const l=E(a,r&&`Button_${r}`),u=r==="complex";return n.jsx("button",{className:E("Button",l),ref:p,disabled:s,onClick:o,"data-text":t,style:i,children:u?n.jsx("span",{children:t.toString()}):t})}),ea=h.createContext(null),hs=({children:e})=>{const{godEyeAddress:t}=gs();return n.jsx(ea.Provider,{value:t,children:e})},xs="AEZAKMI=",ne=()=>{var s;const e=h.useContext(ea),{address:t,isConnected:a}=ri();return{account:(s=e??t)==null?void 0:s.toLocaleLowerCase(),isConnected:a}},gs=()=>{const[e,t]=h.useState(),a=At(),i=o=>{t(o),console.log("GOD EYE MODE ENABLED:",o)},s=o=>{t(null),console.log(`GOD EYE MODE DISABLED${o?` (${o})`:""}`)};return h.useEffect(()=>{const o=a.pathname.split("/"),r=o[o.length-1];if(r.startsWith(xs)){const p=r.split("=")[1];bi(p)?i(p):s("Invalid wallet address")}},[a.pathname]),{godEyeAddress:e}};function on(){const{connect:e,connectors:t}=oi({onError:s=>{pt(s)}}),{disconnect:a}=pi(),i=t[0];return{connectWallet:()=>e({connector:i}),disconnectWallet:a}}const _s=()=>{const{isOpen:e,openPopup:t,closePopup:a}=Zn(),i=E(e&&"open"),s=Z(),{account:o,isConnected:r}=ne(),{connectWallet:p,disconnectWallet:l}=on(),[,u]=Li(),y=m=>m.slice(0,9)+"..."+m.slice(-15),d=()=>n.jsx(de,{type:"complex",onClick:p,children:"Connect Wallet"}),c=()=>n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"Wallet__header",onClick:()=>{t(),u(o)},children:n.jsxs("div",{className:"Wallet__address",children:[n.jsx("img",{src:us,alt:"Wallet icon"}),n.jsx("span",{children:y(o)})]})}),n.jsxs("div",{className:"Wallet__body",onClick:m=>m.stopPropagation(),children:[n.jsx("button",{className:"close-btn",onClick:a,children:n.jsx("img",{src:ds,alt:"x"})}),n.jsxs("a",{className:"Wallet__link",href:`${Jn(s)}/address/${o}`,rel:"noreferrer",target:"_blank",children:[n.jsx("img",{src:ys,alt:"external link"}),n.jsx("span",{children:"View on explorer"})]}),n.jsx("div",{className:"Wallet__inner-address",children:"("+y(o)+")"}),n.jsx(de,{className:"Wallet__button",onClick:l,children:"Disconnect wallet"})]})]});return n.jsx("div",{className:E("Wallet",i),children:r?c():d()})};const vs="/sf_draft/assets/dropdown-482807de.svg",Le=({className:e,options:t,defaultValue:a,defaultOption:i,onChange:s,iconNode:o,iconTextNode:r,...p})=>{const l=o||r,u=!t.length,y=({children:m,...b})=>n.jsxs(qi.Control,{...b,children:[o&&n.jsx("div",{className:"Selector__icon",children:o}),r&&n.jsx("div",{className:"Selector__icon Selector__icon_text",children:r}),m]}),d=m=>{let b;const f=x=>x.value===m;return t.find(x=>x.options)?t.forEach(x=>{if(b)return;b=(x.options??[x]).find(f)}):b=t.find(f),b},c=E(e,l&&"Selector_with-icon",u&&"_no-options");return n.jsx("div",{className:"Selector__wrapper","data-tooltip-id":u&&"Tooltip_bottom","data-tooltip-content":u?"No options":"",place:"bottom-end",children:n.jsx(Hi,{...p,options:t,defaultValue:i??d(a),onChange:s,className:E("Selector",c),classNamePrefix:"Selector",isClearable:!1,isSearchable:!1,components:{DropdownIndicator:({innerRef:m,innerProps:b})=>n.jsx("div",{ref:m,...b,className:"Selector__indicator Selector__dropdown-indicator",children:n.jsx("img",{src:vs,alt:"dropdown icon"})}),Control:y},isDisabled:u})})};const Me="#46956A",se="#C75E4B",Bn="#D99445",vt="#6988FF",et="#747FA6",jn="rgba(58, 68, 102, 0.5)",tt="#3A4466",Nn="#181A3C",Cs="#0D0F29",pn="rgba(56, 66, 99, 0.25)",ks="≈",Ss={positive:"+",negative:"–",neutral:""},ae=({children:e,hasDelay:t=!0,...a})=>n.jsx($i,{place:"bottom-start",delayShow:t?150:0,delayHide:t?150:0,border:`1px solid ${pn}`,...a,children:e}),ta=()=>{const{switchNetworkAsync:e}=li();return t=>{if(typeof t!="number"&&typeof t!="string")throw new TypeError(`Invalid chainId type: ${t} (${typeof t})`);const a=Ot[t].name;e(t).then(()=>{fs(`Network switched to ${a} (${t})`)},i=>{pt(i)})}},ws=()=>{const e=Z(),t=ta(),a=rn.map(s=>{const{name:o,icon:r,isDisabled:p}=Ot[s];return{value:s,label:n.jsxs("div",{className:"flex gap-x-7",children:[n.jsx("img",{src:r,alt:`${o} icon`}),n.jsx("span",{children:o})]}),isCurrent:s===e,isDisabled:p}}),i=a.find(s=>s.isCurrent);return n.jsxs("div",{className:"NetworkSwitcher",children:[n.jsx(Le,{options:a,value:i,onChange:s=>{t(s.value)},isDisabled:!0}),n.jsx(ae,{anchorSelect:".NetworkSwitcher .Selector__option--is-disabled",content:"Coming soon"})]})},Ps=()=>{const{isConnected:e}=ne();return n.jsxs("div",{className:"CryptoGateway",children:[e&&n.jsx(ws,{}),n.jsx(_s,{})]})},Ms=()=>{const e=At(),t=[{name:"Option Trading",to:"/trading"},{name:"Oku Chart",to:"/oku"},{name:"Legacy",to:"https://old.sharwa.finance/"}];return t.forEach(a=>{e.pathname.startsWith(a.to)&&(a.isActive=!0)}),n.jsxs("header",{className:"Header _container",children:[n.jsx(Qn,{}),n.jsx(sn,{links:t}),n.jsx(Ps,{})]})};const As=()=>{const e=xi({enter:"jellyIn",exit:"jellyOut"});return n.jsx(hi,{limit:3,transition:e,position:"bottom-right",hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,draggable:!1})};const Ds=300,Es=e=>{const t=Fi();h.useEffect(()=>{const a=window.innerWidth>1025?t:0;e?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${a}px`):setTimeout(()=>{document.body.style.overflow="unset",document.body.style.paddingRight=0},Ds)},[e,t])};nn.setAppElement("#root");nn.defaultStyles={};const ct=({children:e,className:t,isOpen:a,setIsOpen:i,isObligatory:s,reset:o})=>(Es(a),h.useEffect(()=>{!a&&o&&o()},[a]),n.jsx(nn,{className:E(t,"App-box"),isOpen:a,onRequestClose:()=>{s||i(!1)},overlayElement:(r,p)=>n.jsxs("div",{...r,children:[p,!s&&n.jsx("button",{className:"ReactModal__Close-btn"})]}),closeTimeoutMS:300,children:e})),Os=e=>{const{chainId:t}=e,[a]=h.useState(!0),i=ta();return n.jsxs(ct,{className:"UnsupportedChainErrorModal",isOpen:a,isObligatory:!0,children:[n.jsxs("div",{className:"UnsupportedChainErrorModal__text text-inline",children:["Chain ",t," is not supported."]}),n.jsx("div",{className:"UnsupportedChainErrorModal__switch-btns",children:rn.map(s=>{const o=Ot[s],{name:r,icon:p,isDisabled:l}=o;return n.jsxs(de,{isDisabled:l,type:"stroke",onClick:()=>{i(s)},children:[n.jsx("img",{src:p,alt:`${r} icon`}),"Switch to ",r]},s)})})]})},Is="/oku",ln="0x683Ad8b899Cd14d8e077c9A623E8B3fEd65a8c09",mt=600;const na="/sf_draft/assets/graph-857cdbfb.svg",Bs="/sf_draft/assets/ETH-fb1e5539.svg",js="/sf_draft/assets/BTC-148eeb6e.svg",Ns="/sf_draft/assets/WETH-b906a28b.svg",Ls="/sf_draft/assets/WBTC-98075014.svg",Fs="/sf_draft/assets/LINK-34fd98c1.svg",Rs="/sf_draft/assets/ARB-1fa7376f.svg",Us="/sf_draft/assets/GMX-9b65c4b5.svg",Hs="/sf_draft/assets/MAGIC-5214f6ce.svg",Ln="/sf_draft/assets/USDC-5278ca06.svg",qs="/sf_draft/assets/USDT-b571d43e.svg",$s="/sf_draft/assets/DAI-01366c10.svg",Re={[Te]:[{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",oracleAddress:"0x639fe6ab55c921f74e7fac1ee960c0b6293ba612",url:"https://www.coingecko.com/en/coins/ethereum",isAsset:!0,isETH:!0,icon:Bs,isSwappable:!0,isWrappable:!0},{name:"Bitcoin",symbol:"BTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",oracleAddress:"0x6ce185860a4963106506c203335a2910413708e9",url:"https://www.coingecko.com/en/coins/bitcoin",isAsset:!0,icon:js,isWrappable:!0},{name:"Wrapped Ethereum",symbol:"WETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:Ns,isSwappable:!0},{name:"Wrapped Bitcoin",symbol:"WBTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:Ls,isSwappable:!0},{name:"Chainlink Token",symbol:"LINK",decimals:18,address:"0xf97f4df75117a78c1A5a0DBb814Af92458539FB4",oracleAddress:"0x86e53cf1b870786351da77a57575e79cb55812cb",url:"https://www.coingecko.com/en/coins/chainlink",isAsset:!0,icon:Fs},{name:"Arbitrum Token",symbol:"ARB",decimals:18,address:"0x912CE59144191C1204E64559FE8253a0e49E6548",oracleAddress:"0xb2a824043730fe05f3da2efafa1cbbe83fa548d6",url:"https://www.coingecko.com/en/coins/arbitrum",isAsset:!0,icon:Rs},{name:"GMX Token",symbol:"GMX",decimals:18,address:"0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a",oracleAddress:"0xdb98056fecfff59d032ab628337a4887110df3db",url:"https://www.coingecko.com/en/coins/gmx",isAsset:!0,icon:Us},{name:"MAGIC",symbol:"MAGIC",decimals:18,address:"0x539bdE0d7Dbd336b79148AA742883198BBF60342",oracleAddress:"0x47e55ccec6582838e173f252d08afd8116c2202d",url:"https://www.coingecko.com/en/coins/magic",isAsset:!0,icon:Hs},{name:"Dai",symbol:"DAI",decimals:18,address:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",icon:$s,isSwappable:!0,isStable:!0},{name:"USD Coin",symbol:"USDC",decimals:6,address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",icon:Ln,isSwappable:!0,isStable:!0},{name:"USDC.e",symbol:"USDC.e",decimals:6,address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",icon:Ln,isSwappable:!0,isStable:!0},{name:"Tether",symbol:"USDT",decimals:6,address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",icon:qs,isSwappable:!0,isStable:!0}]},Ct={},kt={},Fn=Object.keys(Re);for(let e=0;e<Fn.length;e++){const t=Fn[e];Ct[t]={},kt[t]={};let a=Re[t];for(let i=0;i<a.length;i++){const s=a[i];s.address=s.address.toLowerCase(),Ct[t][s.symbol]=s,kt[t][s.address]=s}}const Bt={};for(let e=0;e<Re[Te].length;e++){const t=Re[Te][e];Bt[t.symbol]=t.decimals}const un=Re[Te].filter(e=>e.isAsset).map(e=>e.symbol),ie=(e,t)=>{if(!Ct[e])throw new Error(`No tokens found for chainId ${e}`);const i=Ct[e][t];if(!i)throw new Error(`Incorrect symbol "${t}" for chainId ${e}`);return i},St=(e,t)=>{if(!kt[e])throw new Error(`No tokens found for chainId ${e}`);const i=kt[e][t.toLowerCase()];if(!i)throw new Error(`Incorrect address "${t}" for chainId ${e}`);return i},aa=(e,t)=>ie(e,t).address,Vs=e=>{const t=Re[e];if(!t)throw new Error(`No tokens found for chainId ${e}`);return t.filter(i=>i.isSwappable)},jt=(e,t)=>ie(e,t?"USDC":"USDC.e").address,ia=e=>ie(Te,e).icon;const re=({className:e,children:t,isSmall:a=!0,symbol:i="USDC",isHlight:s,style:o,...r})=>{const p=Z(),l=ie(p,i).icon,u=t,y=E(s&&"hlight",a&&"small",e);return n.jsxs("div",{className:E("Currency",y),style:o,...r,children:[n.jsx("img",{src:l,alt:`${i} icon`}),n.jsx("span",{children:u})]})},Ws="/sf_draft/assets/url-269ab3ad.svg",Gs=[{inputs:[{internalType:"address",name:"_exchanger",type:"address"},{internalType:"address",name:"_buildManager",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"buildManager",outputs:[{internalType:"contract IBuildManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module[]",name:"moduleArray",type:"tuple[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"exchanger",outputs:[{internalType:"contract IExchanger",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"module",outputs:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"exchangerAddress",type:"address"}],name:"setExchanger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module",name:"modData",type:"tuple"}],name:"setModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],Ks=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Ys=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],zs=[{inputs:[{internalType:"address",name:"_proxySeller",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"}],name:"OpenPositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proxySeller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Qs=[{inputs:[{internalType:"contract ERC20",name:"_usdc",type:"address"},{internalType:"contract ERC20",name:"_weth",type:"address"},{internalType:"contract ERC20",name:"_wbtc",type:"address"},{internalType:"contract IBeyondPricer",name:"_pricer",type:"address"},{internalType:"contract IOptionExchange",name:"_optionExchange",type:"address"},{internalType:"contract IAlphaPortfolioValuesFeed",name:"_portfolioValuesFeed",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],indexed:!1,internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],name:"OpenPositionByRyskFinance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromRyskFinance",outputs:[{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],name:"encodeFromRyskFinance",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionExchange",outputs:[{internalType:"contract IOptionExchange",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"portfolioValuesFeed",outputs:[{internalType:"contract IAlphaPortfolioValuesFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IBeyondPricer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wbtc",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"weth",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"}],Zs=[{inputs:[{internalType:"contract IPoolFactory",name:"_poolFactory",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"address",name:"vaultAddress",type:"address"},{indexed:!1,internalType:"address",name:"collateralToken",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{components:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],indexed:!1,internalType:"struct IPoolFactory.PoolKey",name:"poolKey",type:"tuple"},{indexed:!1,internalType:"UD60x18",name:"size",type:"uint256"},{indexed:!1,internalType:"bool",name:"isBuy",type:"bool"},{indexed:!1,internalType:"uint256",name:"premiumLimit",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"}],name:"OpenPositionByPremia",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromPremia",outputs:[{internalType:"address",name:"vaultAddress",type:"address"},{components:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],internalType:"struct IPoolFactory.PoolKey",name:"poolKey",type:"tuple"},{internalType:"UD60x18",name:"size",type:"uint256"},{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"uint256",name:"premiumLimit",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"vaultAddress",type:"address"},{components:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],internalType:"struct IPoolFactory.PoolKey",name:"poolKey",type:"tuple"},{internalType:"UD60x18",name:"size",type:"uint256"},{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"uint256",name:"premiumLimit",type:"uint256"}],name:"encodeFromPremia",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolFactory",outputs:[{internalType:"contract IPoolFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Xs=[{inputs:[{internalType:"address",name:"_erc721Address",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"TakeProfitSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"TakeProfitUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkTakeProfit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc721Contract",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveTakeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getExpirationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPayOffAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveTakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveTakes",type:"uint256"}],name:"setMaxActiveTakes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"setTakeProfit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"updateTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Js=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],er=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],tr=[{inputs:[{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_roleManager",type:"address"},{internalType:"address",name:"_weth9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes",name:"swapData",type:"bytes"}],name:"calculateMsgValue",outputs:[{internalType:"uint256",name:"value",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"msgValue",type:"uint256"}],name:"checkMsgValue",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromExchange",outputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],name:"encodeFromExchange",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"roleManager",outputs:[{internalType:"contract RoleManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"weth9",outputs:[{internalType:"contract IWETH9",name:"",type:"address"}],stateMutability:"view",type:"function"}],nr=[{inputs:[{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"contract IPositionsManager",name:"_manager",type:"address"},{internalType:"uint256",name:"_maxLockupPeriod",type:"uint256"},{internalType:"contract ICoverPool",name:"_coverPool",type:"address"},{internalType:"uint256",name:"_benchmark",type:"uint256"},{internalType:"contract IHegicStrategy[]",name:"initialStrategies",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Expired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Paid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Replenished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"acceptedStrategy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"addStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"benchmark",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"connectStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"coverPool",outputs:[{internalType:"contract ICoverPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"lockedByStrategy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lockedLiquidity",outputs:[{internalType:"enum IOperationalTreasury.LockedLiquidityState",name:"state",type:"uint8"},{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"},{internalType:"uint32",name:"expiration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedPremium",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"contract IPositionsManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLockupPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"mayBeAcceptedAtEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"account",type:"address"}],name:"payOff",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"replenish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setBenchmark",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalLocked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lockedLiquidityID",type:"uint256"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],ar=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"HEGIC_POOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"}],name:"createOptionFor",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721Metadata",name:"_uriBuilder",type:"address"}],name:"setURIBuilder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uriBuilder",outputs:[{internalType:"contract IERC721Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"}],ir=[{inputs:[{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"contract IPremiumCalculator",name:"_pricer",type:"address"},{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint8",name:"_spotDecimals",type:"uint8"},{internalType:"uint16",name:"_priceScale",type:"uint16"},{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"},{internalType:"uint48",name:"_exerciseWindowDuration",type:"uint48"},{internalType:"contract LimitController",name:"_limitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],indexed:!1,internalType:"struct IHegicStrategy.StrategyData",name:"data",type:"tuple"},{indexed:!1,internalType:"uint256",name:"negativepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positivepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"Acquired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"limit",type:"uint256"}],name:"SetLimit",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"",type:"bytes[]"}],name:"calculateNegativepnlAndPositivepnl",outputs:[{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"connect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"create",outputs:[{internalType:"uint32",name:"expiration",type:"uint32"},{internalType:"uint256",name:"negativePNL",type:"uint256"},{internalType:"uint256",name:"positivePNL",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exerciseWindowDuration",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"period",type:"uint32"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"getAvailableContracts",outputs:[{internalType:"uint256",name:"available",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLockedByStrategy",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isPayoffAvailable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"k",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"limitController",outputs:[{internalType:"contract LimitController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"optionID",type:"uint256"}],name:"payOffAmount",outputs:[{internalType:"uint256",name:"profit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positionExpiration",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IPremiumCalculator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48",name:"value",type:"uint48"}],name:"setK",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract LimitController",name:"value",type:"address"}],name:"setLimitController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IPremiumCalculator",name:"value",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"strategyData",outputs:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],sr=[{inputs:[{internalType:"int256[5]",name:"initialCoefficients",type:"int256[5]"},{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"uint256",name:"_tokenDecimals",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[3]",name:"values",type:"uint256[3]"}],name:"SetBorders",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetCoefficients",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountCall",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountPut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"values",type:"uint8"}],name:"SetDiscountSpread",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetImpliedVolRate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[4]",name:"values",type:"uint256[4]"}],name:"SetImpliedVolRates",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"min",type:"uint256"},{indexed:!1,internalType:"uint256",name:"max",type:"uint256"}],name:"SetPeriodLimits",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetSettlementFeeShare",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetStrikePercentage",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"strike",type:"uint256"}],name:"calculatePremium",outputs:[{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"coefficients",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"setCoefficients",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],rr=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],or=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],pr=[{inputs:[{internalType:"address",name:"_lyraRegister",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardAlreadySettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"BoardExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardIsFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum IOptionMarket.NonZeroValues",name:"valueType",type:"uint8"}],name:"ExpectedNonZeroValue",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"InvalidStrikeId",type:"error"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"fullQuotes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"}],lr=[{inputs:[{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"},{internalType:"address",name:"_underlyingAsset",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"uint256",name:"rfr",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{components:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],internalType:"struct Types.OptionParams",name:"_optionParams",type:"tuple"},{internalType:"address",name:"_authority",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidAmount",type:"error"},{inputs:[],name:"InvalidDecimals",type:"error"},{inputs:[],name:"InvalidShareAmount",type:"error"},{inputs:[],name:"IssuanceFailed",type:"error"},{inputs:[],name:"LiabilitiesGreaterThanAssets",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NotHandler",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"OptionStrikeInvalid",type:"error"},{inputs:[],name:"ReactorAlreadyExists",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TradingNotPaused",type:"error"},{inputs:[],name:"TradingPaused",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{inputs:[],name:"WithdrawExceedsLiquidity",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrowReturned",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"}],name:"BuybackOption",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"DepositEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"InitiateWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256",name:"deltaChange",type:"int256"}],name:"RebalancePortfolioDelta",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralReturned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLost",type:"uint256"},{indexed:!1,internalType:"address",name:"closer",type:"address"}],name:"SettleVault",type:"event"},{anonymous:!1,inputs:[],name:"TradingPaused",type:"event"},{anonymous:!1,inputs:[],name:"TradingUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"WithdrawalEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrow",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"}],name:"WriteOption",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lpCollateralDifference",type:"uint256"},{internalType:"bool",name:"addToLpBalance",type:"bool"}],name:"adjustCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"optionsValue",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"bool",name:"isSale",type:"bool"}],name:"adjustVariables",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"bufferPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"auth",type:"bool"}],name:"changeHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"checkBuffer",outputs:[{internalType:"int256",name:"bufferRemaining",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAllocated",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"completeWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"depositEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"depositEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depositReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint256",name:"unredeemedShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralLiabilities",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"executeEpochCalculation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExternalDelta",outputs:[{internalType:"int256",name:"externalDelta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getHedgingReactors",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"isPut",type:"bool"},{internalType:"uint256",name:"underlyingPrice",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"expiration",type:"uint256"}],name:"getImpliedVolatility",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNAV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPortfolioDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVolatilityFeed",outputs:[{internalType:"contract VolatilityFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"seller",type:"address"}],name:"handlerBuybackOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"handlerIssue",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerIssueAndWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"hedgingReactors",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"initiateWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isTradingPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPriceDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTimeDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionParams",outputs:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"partitionedFunds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseTradingAndRequest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"pauseUnpauseTrading",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingDeposits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingWithdrawals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"uint256",name:"reactorIndex",type:"uint256"}],name:"rebalancePortfolioDelta",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"},{internalType:"bool",name:"_override",type:"bool"}],name:"removeHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resetEphemeralValues",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bufferPercentage",type:"uint256"}],name:"setBufferPercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralCap",type:"uint256"}],name:"setCollateralCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_reactorAddress",type:"address"}],name:"setHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxPriceDeviationThreshold",type:"uint256"}],name:"setMaxPriceDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxTimeDeviationThreshold",type:"uint256"}],name:"setMaxTimeDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_newMinCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMinPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMinExpiry",type:"uint128"},{internalType:"uint128",name:"_newMaxExpiry",type:"uint128"}],name:"setNewOptionParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"}],name:"settleVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdrawalEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdrawalReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"shares",type:"uint128"}],stateMutability:"view",type:"function"}],ur=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidExpiry",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesAltered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesApproved",type:"event"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"approvedOptions",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"changeOptionBuyOrSell",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"expirations",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExpirations",outputs:[{internalType:"uint64[]",name:"",type:"uint64[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"bool",name:"isPut",type:"bool"}],name:"getOptionDetails",outputs:[{internalType:"uint128[]",name:"",type:"uint128[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"getOptionStores",outputs:[{components:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct OptionCatalogue.OptionStores",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isBuyable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isSellable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"issueNewSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],name:"optionDetails",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"optionStores",outputs:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"}],yr=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_pricer",type:"address"},{internalType:"address",name:"_addressbook",type:"address"},{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_feeRecipient",type:"address"},{internalType:"address",name:"_catalogue",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CloseSizeTooLarge",type:"error"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"ForbiddenAction",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NonExistentOtoken",type:"error"},{inputs:[],name:"NonWhitelistedOtoken",type:"error"},{inputs:[],name:"NothingToClose",type:"error"},{inputs:[],name:"OperatorNotApproved",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"PoolFeeNotSet",type:"error"},{inputs:[],name:"PremiumTooSmall",type:"error"},{inputs:[],name:"SeriesNotBuyable",type:"error"},{inputs:[],name:"SeriesNotSellable",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TokenImbalance",type:"error"},{inputs:[],name:"TooMuchSlippage",type:"error"},{inputs:[],name:"TradeTooLarge",type:"error"},{inputs:[],name:"TradeTooSmall",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{inputs:[],name:"UnauthorisedSender",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"}],name:"OptionsIssued",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"}],name:"OptionsRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsSold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOptionExchange",type:"address"},{indexed:!1,internalType:"address",name:"otoken",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"OtokenMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"}],name:"RedemptionSent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"addressbook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bool",name:"",type:"bool"}],name:"approvedCollateral",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"catalogue",outputs:[{internalType:"contract OptionCatalogue",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isApproved",type:"bool"}],name:"changeApprovedCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint128",name:"strikeDecimalConverted",type:"uint128"},{internalType:"bool",name:"isSell",type:"bool"}],name:"checkHash",outputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"createOtoken",outputs:[{internalType:"address",name:"series",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDelta",outputs:[{internalType:"int256",name:"delta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"getOptionDetails",outputs:[{internalType:"address",name:"",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"",type:"tuple"},{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolDenominatedValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"_delta",type:"int256"}],name:"hedgeDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"heldTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum CombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct CombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct CombinedActions.OperationProcedures[]",name:"_operationProcedures",type:"tuple[]"}],name:"operate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolFees",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract BeyondPricer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_series",type:"address[]"},{internalType:"uint256[]",name:"amountOutMinimums",type:"uint256[]"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_catalogue",type:"address"}],name:"setOptionCatalogue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"}],name:"setPoolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pricer",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_minTradeSize",type:"uint256"},{internalType:"uint256",name:"_maxTradeSize",type:"uint256"}],name:"setTradeSizeLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOptionExchange",type:"address"},{internalType:"address[]",name:"otokens",type:"address[]"}],name:"transferOtokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"update",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],dr=[{inputs:[{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_authority",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyExpired",type:"error"},{inputs:[],name:"HealthyVault",type:"error"},{inputs:[],name:"InsufficientBalance",type:"error"},{inputs:[],name:"InvalidCollateral",type:"error"},{inputs:[],name:"InvalidDecimals",type:"error"},{inputs:[],name:"NoVault",type:"error"},{inputs:[],name:"NonExistentSeries",type:"error"},{inputs:[],name:"NotExpired",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[],name:"NotLiquidityPool",type:"error"},{inputs:[],name:"NotOperator",type:"error"},{inputs:[],name:"SeriesAddressAlreadySet",type:"error"},{inputs:[],name:"SeriesInfoAlreadySet",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"VaultAlreadySet",type:"error"},{inputs:[],name:"VaultExpired",type:"error"},{inputs:[],name:"VaultNotLiquidated",type:"error"},{inputs:[],name:"WithdrawExceedsLiquidity",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"putLower",type:"uint64"},{indexed:!1,internalType:"uint64",name:"putUpper",type:"uint64"},{indexed:!1,internalType:"uint64",name:"callLower",type:"uint64"},{indexed:!1,internalType:"uint64",name:"callUpper",type:"uint64"}],name:"HealthThresholdsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"bool",name:"auth",type:"bool"}],name:"KeeperUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newLiquidityPool",type:"address"}],name:"LiquidityPoolUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"isOperator",type:"bool"}],name:"OperatorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"OptionTokenCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"closedAmount",type:"uint256"}],name:"OptionsContractClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"optionsAmount",type:"uint256"}],name:"OptionsContractOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralReturned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountLost",type:"uint256"}],name:"OptionsContractSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"underlyingAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeAmount",type:"uint256"}],name:"SeriesRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountLiquidated",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLiquidated",type:"uint256"}],name:"VaultLiquidationRegistered",type:"event"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"adjustCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"adjustCollateralCaller",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callLowerHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"callUpperHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"checkVaultHealth",outputs:[{internalType:"bool",name:"isBelowMin",type:"bool"},{internalType:"bool",name:"isAboveMax",type:"bool"},{internalType:"uint256",name:"healthFactor",type:"uint256"},{internalType:"uint256",name:"upperHealthFactor",type:"uint256"},{internalType:"uint256",name:"collatRequired",type:"uint256"},{internalType:"address",name:"collatAsset",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"close",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"series",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_series",type:"tuple"}],name:"getIssuanceHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"uint256",name:"expiration",type:"uint256"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"uint256",name:"strike",type:"uint256"},{internalType:"address",name:"collateral",type:"address"}],name:"getOtoken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_series",type:"tuple"}],name:"getSeries",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"issuanceHash",type:"bytes32"}],name:"getSeriesAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"series",type:"address"}],name:"getSeriesInfo",outputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"issue",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateralAmount",type:"uint256"}],name:"open",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"putLowerHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"putUpperHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"registerLiquidatedVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"seriesInfo",outputs:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_putLower",type:"uint64"},{internalType:"uint64",name:"_putUpper",type:"uint64"},{internalType:"uint64",name:"_callLower",type:"uint64"},{internalType:"uint64",name:"_callUpper",type:"uint64"}],name:"setHealthThresholds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newLiquidityPool",type:"address"}],name:"setLiquidityPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_isOperator",type:"bool"}],name:"setOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"address",name:"_seriesAddress",type:"address"},{internalType:"bytes32",name:"_issuanceHash",type:"bytes32"}],name:"setSeriesInfoAndAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_seriesAddress",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"setVaultIds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"settle",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vaultCount",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"wCollatLiquidatedVault",outputs:[],stateMutability:"nonpayable",type:"function"}],cr=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_addressBook",type:"address"},{internalType:"uint256",name:"_slippageGradient",type:"uint256"},{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IVNotFound",type:"error"},{inputs:[],name:"InvalidMultiplierValue",type:"error"},{inputs:[],name:"InvalidMultipliersArrayLength",type:"error"},{inputs:[],name:"InvalidTenorArrayLength",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__LogInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__LogInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__SqrtOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newBidAskIVSpread",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldBidAskIVSpread",type:"uint256"}],name:"BidAskIVSpreadChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newCollateralLendingRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldCollateralLendingRate",type:"uint256"}],name:"CollateralLendingRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newDeltaBandWidth",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldDeltaBandWidth",type:"uint256"}],name:"DeltaBandWidthChanged",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"newDeltaBorrowRates",type:"tuple"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"oldDeltaBorrowRates",type:"tuple"}],name:"DeltaBorrowRatesChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newFeePerContract",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldFeePerContract",type:"uint256"}],name:"FeePerContractChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaSellOptionFlatIV",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaSellOptionFlatIV",type:"uint256"}],name:"LowDeltaSellOptionFlatIVChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaThreshold",type:"uint256"}],name:"LowDeltaThresholdChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newRiskFreeRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldRiskFreeRate",type:"uint256"}],name:"RiskFreeRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newSlippageGradient",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldSlippageGradient",type:"uint256"}],name:"SlippageGradientChanged",type:"event"},{anonymous:!1,inputs:[],name:"SlippageGradientMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadCollateralMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadDeltaMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"TenorParamsSet",type:"event"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"bidAskIVSpread",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralLendingRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBandWidth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBorrowRates",outputs:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feePerContract",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_deltaBandWidth",type:"uint256"},{internalType:"uint16",name:"_numberOfTenors",type:"uint16"},{internalType:"uint16",name:"_maxTenorValue",type:"uint16"},{components:[{internalType:"int80[]",name:"callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadDeltaMultipliers",type:"int80[]"}],internalType:"struct BeyondPricer.DeltaBandMultipliers[]",name:"_tenorPricingParams",type:"tuple[]"}],name:"initializeTenorParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaSellOptionFlatIV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTenorValue",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"numberOfTenors",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bool",name:"isSell",type:"bool"},{internalType:"int256",name:"netDhvExposure",type:"int256"}],name:"quoteOptionPrice",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"int256",name:"totalDelta",type:"int256"},{internalType:"uint256",name:"totalFees",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bidAskIVSpread",type:"uint256"}],name:"setBidAskIVSpread",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"}],name:"setCollateralLendingRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],name:"setDeltaBorrowRates",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_feePerContract",type:"uint256"}],name:"setFeePerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaSellOptionFlatIV",type:"uint256"}],name:"setLowDeltaSellOptionFlatIV",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaThreshold",type:"uint256"}],name:"setLowDeltaThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_slippageGradient",type:"uint256"}],name:"setSlippageGradient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSlippageGradientMultipliers",type:"int80[]"}],name:"setSlippageGradientMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadCollateralMultipliers",type:"int80[]"}],name:"setSpreadCollateralMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadDeltaMultipliers",type:"int80[]"}],name:"setSpreadDeltaMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"slippageGradient",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],mr=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"},{internalType:"address",name:"_protocol",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IncorrectSeriesToRemove",type:"error"},{inputs:[],name:"MaxNetDhvExposureExceeded",type:"error"},{inputs:[],name:"NoShortPositions",type:"error"},{inputs:[],name:"NoVaultForShortPositions",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"seriesAddress",type:"address"}],name:"OptionHasExpiredInStores",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"SeriesNotExpired",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"underlying",type:"address"},{indexed:!0,internalType:"address",name:"strike",type:"address"},{indexed:!1,internalType:"int256",name:"delta",type:"int256"},{indexed:!1,internalType:"int256",name:"gamma",type:"int256"},{indexed:!1,internalType:"int256",name:"vega",type:"int256"},{indexed:!1,internalType:"int256",name:"theta",type:"int256"},{indexed:!1,internalType:"int256",name:"callPutsValue",type:"int256"}],name:"DataFullfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxNetDhvExposure",type:"uint256"}],name:"MaxNetDhvExposureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"int256",name:"oldNetDhvExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"newNetDhvExposure",type:"int256"}],name:"NetDhvExposureChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_underlying",type:"address"},{indexed:!1,internalType:"address",name:"_strike",type:"address"}],name:"RequestedUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"seriesAddress",type:"address"},{indexed:!1,internalType:"int256",name:"shortExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"longExposure",type:"int256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],indexed:!1,internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"StoresUpdated",type:"event"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"accountLiquidatedSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"addressAtIndexInSet",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"addressSetLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"cleanLooperManually",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"}],name:"fulfill",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddressSet",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strike",type:"address"}],name:"getPortfolioValues",outputs:[{components:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"gamma",type:"int256"},{internalType:"int256",name:"vega",type:"int256"},{internalType:"int256",name:"theta",type:"int256"},{internalType:"int256",name:"callPutsValue",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],internalType:"struct Types.PortfolioValues",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_a",type:"address"}],name:"isAddressInSet",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxNetDhvExposure",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPortfolioValuesFeed",name:"_migrateContract",type:"address"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"netDhvExposure",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"}],name:"requestPortfolioData",outputs:[{internalType:"bytes32",name:"id",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rfr",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_liquidityPool",type:"address"}],name:"setLiquidityPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"}],name:"setMaxNetDhvExposure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"_optionHashes",type:"bytes32[]"},{internalType:"int256[]",name:"_netDhvExposures",type:"int256[]"}],name:"setNetDhvExposures",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rfr",type:"uint256"}],name:"setRFR",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"storesForAddress",outputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"syncLooper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"},{internalType:"address",name:"_seriesAddress",type:"address"}],name:"updateStores",outputs:[],stateMutability:"nonpayable",type:"function"}],Tr=[{inputs:[{internalType:"address",name:"_oracle",type:"address"},{internalType:"address",name:"_addressBook",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!1,internalType:"uint256",name:"dust",type:"uint256"}],name:"CollateralDustUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"feeRecipient",type:"address"}],name:"FeeRecipientUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"FeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"liquidationMultiplier",type:"uint256"}],name:"LiquidationMultiplierUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"MaxPriceAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newValue",type:"uint256"}],name:"MaxPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oracleDeviation",type:"uint256"}],name:"OracleDeviationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"product",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"spotShock",type:"uint256"}],name:"SpotShockUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"}],name:"TimeToExpiryAdded",type:"event"},{inputs:[],name:"AUCTION_TIME",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"}],name:"getCollateralDust",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"getExcessCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"getExpiredPayoutRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFeeInformation",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"getMarginRequired",outputs:[{components:[{internalType:"int256",name:"value",type:"int256"}],internalType:"struct FixedPointInt256.FixedPointInt",name:"",type:"tuple"},{components:[{internalType:"int256",name:"value",type:"int256"}],internalType:"struct FixedPointInt256.FixedPointInt",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_timeToExpiry",type:"uint256"}],name:"getMaxPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_shortAmount",type:"uint256"},{internalType:"uint256",name:"_strikePrice",type:"uint256"},{internalType:"uint256",name:"_underlyingPrice",type:"uint256"},{internalType:"uint256",name:"_shortExpiryTimestamp",type:"uint256"},{internalType:"uint256",name:"_collateralDecimals",type:"uint256"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getNakedMarginRequired",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOracleDeviation",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getSpotShock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getTimesToExpiry",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"isLiquidatable",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidationMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"contract OracleInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_dust",type:"uint256"}],name:"setCollateralDust",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_liquidationMultiplier",type:"uint256"}],name:"setLiquidationMultiplier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_deviation",type:"uint256"}],name:"setOracleDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_shockValue",type:"uint256"}],name:"setSpotShock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256[]",name:"_timesToExpiry",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"setUpperBoundValues",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_timeToExpiry",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"updateUpperBoundValue",outputs:[],stateMutability:"nonpayable",type:"function"}],fr=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnOtoken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"expiryTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOtokenDetails",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_underlyingAsset",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"uint256",name:"_strikePrice",type:"uint256"},{internalType:"uint256",name:"_expiryTimestamp",type:"uint256"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isPut",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintOtoken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],br=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"isSet",type:"bool"}],name:"AccountOperatorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"CallExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isRestricted",type:"bool"}],name:"CallRestricted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollateralAssetDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollateralAssetWithdrawed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"donator",type:"address"},{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Donated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldFullPauser",type:"address"},{indexed:!0,internalType:"address",name:"newFullPauser",type:"address"}],name:"FullPauserUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LongOtokenDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LongOtokenWithdrawed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"}],name:"NakedCapUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldPartialPauser",type:"address"},{indexed:!0,internalType:"address",name:"newPartialPauser",type:"address"}],name:"PartialPauserUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"redeemer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"address",name:"collateralAsset",type:"address"},{indexed:!1,internalType:"uint256",name:"otokenBurned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"payout",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ShortOtokenBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ShortOtokenMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"SystemFullyPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"SystemPartiallyPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"vaultOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"auctionPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralPayout",type:"uint256"},{indexed:!1,internalType:"uint256",name:"debtAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"address",name:"series",type:"address"}],name:"VaultLiquidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"vaultType",type:"uint256"}],name:"VaultOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"oTokenAddress",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"payout",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"vaultType",type:"uint256"}],name:"VaultSettled",type:"event"},{inputs:[],name:"addressbook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"calculator",outputs:[{internalType:"contract MarginCalculatorInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callRestricted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_expiry",type:"uint256"}],name:"canSettleAssets",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"clearVaultLiquidationDetails",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"donate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"fullPauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accountOwner",type:"address"}],name:"getAccountVaultCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getConfiguration",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getNakedCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getNakedPoolBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"getPayout",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getProceed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVault",outputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVaultLiquidationDetails",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVaultWithDetails",outputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"hasExpired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_owner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"isLiquidatable",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isOperator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"isSettlementAllowed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum Actions.ActionType",name:"actionType",type:"uint8"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Actions.ActionArgs[]",name:"_actions",type:"tuple[]"}],name:"operate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"contract OracleInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialPauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract MarginPoolInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"refreshConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_isRestricted",type:"bool"}],name:"setCallRestriction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_fullPauser",type:"address"}],name:"setFullPauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_cap",type:"uint256"}],name:"setNakedCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_isOperator",type:"bool"}],name:"setOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_partialPauser",type:"address"}],name:"setPartialPauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_fullyPaused",type:"bool"}],name:"setSystemFullyPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_partiallyPaused",type:"bool"}],name:"setSystemPartiallyPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"systemFullyPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"systemPartiallyPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whitelist",outputs:[{internalType:"contract WhitelistInterface",name:"",type:"address"}],stateMutability:"view",type:"function"}],hr=[{inputs:[{internalType:"address",name:"vaultRegistry",type:"address"},{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"bool",name:"isCall",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"Proxy__ImplementationIsNotContract",type:"error"},{inputs:[],name:"Vault__SettingsUpdateIsEmpty",type:"error"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"VAULT_TYPE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],xr=[{inputs:[{internalType:"address",name:"diamond",type:"address"},{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"DoublyLinkedList__InvalidInput",type:"error"},{inputs:[],name:"DoublyLinkedList__NonExistentEntry",type:"error"},{inputs:[],name:"ERC165Base__InvalidInterfaceId",type:"error"},{inputs:[],name:"Proxy__ImplementationIsNotContract",type:"error"},{inputs:[{internalType:"UD60x18",name:"x",type:"uint256"}],name:"UD60x18_IntoUD50x28_Overflow",type:"error"},{stateMutability:"payable",type:"fallback"}],gr=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],_r=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],vr=[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Cr=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint24",name:"fee",type:"uint24"},{indexed:!0,internalType:"int24",name:"tickSpacing",type:"int24"}],name:"FeeAmountEnabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token0",type:"address"},{indexed:!0,internalType:"address",name:"token1",type:"address"},{indexed:!0,internalType:"uint24",name:"fee",type:"uint24"},{indexed:!1,internalType:"int24",name:"tickSpacing",type:"int24"},{indexed:!1,internalType:"address",name:"pool",type:"address"}],name:"PoolCreated",type:"event"},{inputs:[{internalType:"address",name:"tokenA",type:"address"},{internalType:"address",name:"tokenB",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"}],name:"createPool",outputs:[{internalType:"address",name:"pool",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickSpacing",type:"int24"}],name:"enableFeeAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint24",name:"",type:"uint24"}],name:"feeAmountTickSpacing",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint24",name:"",type:"uint24"}],name:"getPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"parameters",outputs:[{internalType:"address",name:"factory",type:"address"},{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickSpacing",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"}],kr={[Te]:"https://arb-mainnet.g.alchemy.com/v2/",[Et]:""},sa=e=>({VITE_ALCHEMY_API_KEY_42161:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",VITE_PREMIA_API_KEY_42161:"sharwa_3ZgugmeGTvPgPXmuxuEeho4J",VITE_SUBGRAPH_API_KEY_42161:"4d7d37cf3bc9fc7cae70d943fb30a47e",BASE_URL:"/sf_draft",MODE:"production",DEV:!1,PROD:!0,SSR:!1})[`VITE_ALCHEMY_API_KEY_${e}`],Sr=e=>{const t=kr[e],a=sa(e);return`${t}${a}`},Y=e=>{const t=sa(e);if(!t)throw new Error(`No Alchemy api key found for chainId ${e}`);return new Gi(e,t)},Ae=()=>{if(!window.ethereum)throw new Error("No Ethereum provider found");return new Ki(window.ethereum).getSigner()},nt={[Te]:{TxBuilder:{address:"0x9daA79Dbf6CD067D207194661779677B5Ee29DCF",abi:Gs},TxBuilderOpen_Hegic:{address:"0xb94fe302bF6B707027706996887299120449B6ec",abi:zs},TxBuilderOpen_Lyra_BTC:{address:"0x74c9F3Fd89406DBf66cd856d7e5Baa790437d61b",abi:Ks},TxBuilderOpen_Lyra_ETH:{address:"0xF399516F22c4C6BfdA1A4d858Ea188912B846B5c",abi:Ys},TxBuilderOpen_Rysk:{address:"0xd824D637174B3D3eEdab2C7a66f3B246c8B7B7f1",abi:Qs},TxBuilderOpen_Premia:{address:"0xcaeCf0e9d03bB4AF9907221A55f822F50c64b032",abi:Zs},Exchanger:{address:"0x03E34a4d1F2B88579521086876E781479A544610",abi:tr},StopOrder_Hegic:{address:"0x83ca705E8eEE363b16935D5FCbC3514530d41C74",abi:Xs},StopOrder_Lyra_BTC:{address:"0xDE51a10A711412353e825623F58F56d9D0EA98cF",abi:Js},StopOrder_Lyra_ETH:{address:"0x06a6815b91c88BDa19832Ada861077e123C34FFb",abi:er},Hegic_OperationalTreasury:{address:"0xec096ea6eB9aa5ea689b0CF00882366E92377371",abi:nr},Hegic_PositionManager:{address:"0x5fe380d68fee022d8acd42dc4d36fbfb249a76d5",abi:ar},Hegic_Strategy:{abi:ir},Hegic_PriceCalculator:{abi:sr},Lyra_OptionToken_BTC:{address:"0x0e97498F3d91756Ec7F2d244aC97F6Ea9f4eBbC3",abi:rr},Lyra_OptionToken_ETH:{address:"0xe485155ce647157624C5E2A41db45A9CC88098c3",abi:or},Lyra_Quoter:{address:"0x23236b4c7772636b5224df56Be8168A2f42df31C",abi:pr},Rysk_LiquidityPool:{address:"0x217749d9017cB87712654422a1F5856AAA147b80",abi:lr},Rysk_OptionCatalogue:{address:"0x44227Dc2a1d71FC07DC254Dfd42B1C44aFF12168",abi:ur},Rysk_OptionExchange:{address:"0xC117bf3103bd09552F9a721F0B8Bce9843aaE1fa",abi:yr},Rysk_OptionRegistry:{address:"0x8Bc23878981a207860bA4B185fD065f4fd3c7725",abi:dr},Rysk_BeyondPricer:{address:"0xeA5Fb118862876f249Ff0b3e7fb25fEb38158def",abi:cr},Rysk_AlphaPortfolioValuesFeed:{address:"0xc7abaec336098cd0dcd98b67cb14d3b18e1c68a8",abi:mr},Rysk_MarginCalculator:{address:"0x268544e8dc0b016aabda5dfa633c7ec4362aed45",abi:Tr},Rysk_Otoken:{abi:fr},Rysk_OpynController:{address:"0x594bd4ec29f7900ae29549c140ac53b5240d4019",abi:br},Premia_Vault:{abi:hr},Premia_Pool:{abi:xr},ChainlinkOracle:{abi:_r},UniswapQuoter:{address:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",abi:vr},UniswapFactory:{address:"0x1F98431c8aD98523631AE4a59f267346ea31F984",abi:Cr}},[Et]:{}},wr=()=>{for(const e in nt){const t=nt[e],a=Re[e];a&&(a.forEach(i=>{i.isETH||(t[i.symbol]={address:i.address,abi:gr})}),nt[e]={...t})}};wr();const K=(e,t)=>{if(!nt[e])throw new Error(`Unknown chainId ${e}`);const a=nt[e][t];if(!a)throw new Error(`Unknown contract "${t}" for chainId ${e}`);return[a.address,a.abi]},Nt=(e,t)=>K(e,t)[0],Tt=(e,t)=>K(e,t)[1],Pr=(e,t,a)=>new V(...K(e,t),a?Ae():Y(e)),ra=(e,t)=>Pr(e,t,!1),Mr=async(e,t)=>{const i=(await Ar(e,t).latestAnswer()).toBigInt();return J(i,vi)},Ar=(e,t)=>{const a=Tt(e,"ChainlinkOracle"),i=ie(e,t).oracleAddress;if(!i)throw new Error(`No oracle address set for asset ${t}`);return new V(i,a,Y(e))},oa=h.createContext(null),Dr=({children:e})=>{const t=Er();return n.jsx(oa.Provider,{value:t,children:e})},yn=()=>h.useContext(oa),Er=()=>{const e=Z(),{data:t,error:a}=Se("useTokenPricesSetup",{fetcher:async()=>{const i={},s=[];return un.forEach(o=>{s.push(Mr(e,o).then(r=>{i[o]=r}))}),await Promise.all(s),i},refreshInterval:60*1e3,refreshWhenHidden:!0,revalidateOnFocus:!1});return a?(console.log(a),null):t},Oe=e=>{const t=yn();return(t==null?void 0:t[e])??0n},pa=()=>{var y;const e=Z(),t=yn(),[a,i]=h.useState(!1),s=h.useRef(null),o=h.useRef(null),r=h.useRef(null),p=d=>{var f,T,x;const c=(f=r.current)==null?void 0:f.clientWidth,m=((T=s.current)==null?void 0:T.clientWidth)-c;return(d??((x=o.current)==null?void 0:x.clientWidth))>m},l=Ri();h.useEffect(()=>{var d,c;if(a){const m=((c=(d=o.current)==null?void 0:d.querySelector(".rfm-marquee"))==null?void 0:c.clientWidth)/2;i(p(m))}else i(p())},[(y=o.current)==null?void 0:y.width,l]);const u=()=>un.map(d=>{if(!t)return null;const c=t[d],m=ee(c,void 0,void 0,!0),b=ie(e,d);return n.jsx("div",{className:"AssetPricesPanel__item",children:n.jsxs("a",{href:b.url,target:"_blank",rel:"noreferrer","data-tooltip-id":"Tooltip_Asset","data-tooltip-content":b.name,children:[n.jsx(re,{isHlight:!0,symbol:d,children:n.jsxs("span",{children:["$",m]})}),n.jsx("img",{className:"icon-url",src:Ws,alt:"External url"})]})},d)});return n.jsxs("div",{className:E("AssetPricesPanel",a&&"marquee_rendered"),ref:s,children:[n.jsx("div",{className:"AssetPricesPanel__icon",ref:r,children:n.jsx("img",{src:na,alt:"Graph icon"})}),n.jsx("div",{className:"AssetPricesPanel__items",ref:o,children:a?n.jsx(Wi,{pauseOnHover:!0,autoFill:!0,children:u()}):u()})]})},Or=()=>{const e=At(),t=[{name:"Option Strategies",to:"/trading/builder"},{name:"Option-Chain",to:"/trading/option-chain"}];return t.forEach(a=>{e.pathname.endsWith(a.to)&&(a.isActive=!0)}),n.jsxs("div",{className:"TradingPage",children:[n.jsx(pa,{}),n.jsx(sn,{links:t,type:"border"}),n.jsx(Ii,{})]})};function Lt(e,t={maxValue:void 0,placeholder:"",isDisabled:!1,isFocused:!1},a=[at,Ee]){const[i,s]=e,{maxValue:o,placeholder:r,isDisabled:p,isFocused:l}=t,[u,y]=a,[d,c]=h.useState(!1),m=h.useRef(null);return{node:n.jsx("input",{autoFocus:l,type:"text",ref:m,value:i,disabled:p,placeholder:r,onChange:b=>{o&&y(b.target.value)>o?s(u(o)):s(u(b.target.value))},onFocus:()=>{c(!0)},onBlur:()=>{c(!1)}}),hasFocus:d,ref:m}}const la=({value:e,setValue:t,maxValue:a,formatInputStringFns:i=[at,Ee],hasError:s,errorMsg:o,isDisabled:r,unitStr:p,placeholder:l,className:u})=>{const y=Lt([e,t],{maxValue:a,placeholder:l,isDisabled:r},i),d=E(u,y.hasFocus&&"hlight",s&&"error",r&&"disabled");return n.jsxs("div",{className:E("InputFamily Input",d),onClick:()=>{y.ref.current.focus()},children:[y.node,n.jsx("div",{className:"Input__unit",children:p}),!te(a)&&n.jsx("button",{className:E("InputFamily__max-btn",o&&"invisible"),disabled:r,onClick:c=>{c.stopPropagation(),t(i[0](a))},children:"Max"}),o&&n.jsx("div",{className:"InputFamily__error-msg",children:o})]})},pe="Limited",he="Unlimited",$e="Bullish",zt="Bearish",we="Neutral",oe={"Long Call":{stats:{outlooks:[$e],profit:he,loss:pe,description:"When you believe that the price of the underlying asset will rise."},structure:[1],key:1,color:Me,isCollection:!0},"Short Call":{stats:{outlooks:[zt],profit:pe,loss:he,description:"When you believe that the price of the underlying asset will fall."},structure:[-1],key:101,color:se,isCollection:!0},"Covered Call":{stats:{outlooks:[$e],profit:pe,loss:he,description:"When you believe that the price of the underlying asset will rise."},structure:[-1],key:201,color:se},"Long Put":{stats:{outlooks:[zt],profit:he,loss:pe,description:"When you believe that the price of the underlying asset fall."},structure:[2],key:2,color:Me,isCollection:!0},"Short Put":{stats:{outlooks:[$e],profit:pe,loss:he,description:"When you believe that the price of the underlying asset will rise."},structure:[-2],key:102,color:se,isCollection:!0},"Long Strangle":{stats:{outlooks:[we],profit:he,loss:pe,description:"When you believe that the price of the underlying asset will rise or fall."},structure:[1,2],key:3,color:Bn},"Short Strangle":{stats:{outlooks:[we],profit:pe,loss:he,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:103,color:se},"Covered Strangle":{stats:{outlooks:[we,$e],profit:pe,loss:he,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:203,color:se},"Long Straddle":{stats:{outlooks:[we],profit:he,loss:pe,description:"When you believe that the price of the underlying asset changes when the direction of the change could be either up or down."},structure:[1,2],key:4,color:Bn},"Short Straddle":{stats:{outlooks:[we],profit:pe,loss:he,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:104,color:se},"Covered Straddle":{stats:{outlooks:[we,$e],profit:pe,loss:he,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:204,color:se},"Iron Butterfly":{stats:{outlooks:[we],profit:pe,loss:pe,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:5,color:vt,plural:"Iron Butterflies"},"Iron Condor":{stats:{outlooks:[we],profit:pe,loss:pe,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:6,color:vt},"Bull Call Spread":{color:Me},"Bear Put Spread":{color:se}},Ir={[$e]:Me,[we]:vt,[zt]:se},ua=Object.keys(oe).filter(e=>{const t=oe[e];return!te(t.key)}),Br=ua.filter(e=>!oe[e].isHidden),jr={Lyra_ETH:0,Lyra_BTC:1,Hegic:2,Rysk:3,Premia:4},Ke=.003,Nr=.005,ya={HEAD:"Head",COMMON:"Common",LEG:"Leg"},Lr=e=>{const{amountStrState:t,strategy:a}=e,[i,s]=t,o=oe[a].plural??`${a}s`;return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_amount",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Enter Amount"}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(la,{value:i,setValue:s,unitStr:o})})]})},Fr="/sf_draft/assets/strategy-selector-icon-3c32aef3.svg",Rr=e=>{const{strategyState:t,isDisabled:a}=e,[i,s]=t,o=Br.map(r=>({value:r,label:r}));return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_strategy",children:[n.jsxs("div",{className:"BuilderForm__field-header",children:["Strategy",n.jsx("div",{className:"BuilderForm__field-tip tip","data-tooltip-id":"BuilderForm_WhenPurchaseTooltip",children:"When purchase"})]}),n.jsx("div",{className:"BuilderForm__field-body",children:n.jsx(Le,{options:o,defaultValue:i,onChange:r=>{s(r.value)},iconNode:n.jsx("img",{src:Fr,alt:"Strategy selector icon"}),className:"Selector_thin-options",isDisabled:a})})]})};const ke=e=>{const{style:t,hasLeftMargin:a}=e;return n.jsx("div",{className:"Spinner",children:n.jsx(zi,{className:"Spinner__icon",style:{marginLeft:a?7:0,...t}})})},Ye=(e,t,a=n.jsx(ke,{}))=>t?a:e,ze=(e,t,a=n.jsx(ke,{}))=>t?a:e(),X=(e="—",t,a)=>n.jsx("span",{className:E("muted",a&&"muted_light"),style:{fontSize:t?13:"inherit"},children:e}),Ur=(e,t,a,i,s,o)=>{const r=me(i,t.decimals),p=new V(...K(e,t.symbol),Ae());It(e,p.approve,[a,an.from(r)],`${t.symbol} approved.`,s,o)},Hr=async(e,t,a,i,s)=>{Ci(s);const o=new V(...K(e,t.symbol),Y(e)),r=me(s,t.decimals);return(await o.allowance(a,i)).toBigInt()>=r},da=(e,t)=>{const a=Bt[t];return me(e,a)},Qt=(e,t)=>{const a=Bt[t];return J(e,a)},qr=e=>e.startsWith("W"),ca=(e,t)=>{const a=e.address!==t.address,i=e.isETH!==t.isETH;return a||i},Fe=e=>{const t=Math.abs(e)===1,a=e>0;return{isCall:t,isLong:a}},dn=e=>!!e.find(t=>{const{isLong:a}=Fe(t);return!a}),$r=e=>!!e.find(t=>{const{isLong:a}=Fe(t);return a}),Vr=e=>!!e.find(t=>t),Wr=(e,t,a)=>{let i;const s=`W${a}`,o=t.split(" ")[0],{isCall:r}=Fe(e);return!r||o==="Short"?i=["USDC.e"]:o==="Covered"?i=[s]:o==="Iron"&&(i=["USDC.e",s]),i},Gr=e=>{const t=e.includes("Straddle"),a=e==="Iron Butterfly";if(t)return[0,1];if(a)return[1,2]},Kr=(e,t)=>{if(!(e!=null&&e[0].market))return;if(e.length>1){const i=e.find(s=>s.market===t);if(i)return i}return e[0]},cn=(e,t)=>new V(...K(e,`TxBuilderOpen_${t}`),Y(e)),Yr=e=>{const t=new V(...K(e,"TxBuilderOpen_Hegic"),Y(e)),a=new V(...K(e,"TxBuilderOpen_Lyra_BTC"),Y(e)),i=new V(...K(e,"TxBuilderOpen_Lyra_ETH"),Y(e)),s=new V(...K(e,"TxBuilderOpen_Rysk"),Y(e)),o=new V(...K(e,"TxBuilderOpen_Premia"),Y(e));return{Hegic:t,Lyra_ETH:i,Lyra_BTC:a,Rysk:s,Premia:o}},zr=(e,t,a)=>{if(!t)return a;let i=0,s=0;return e.map(r=>{const{isLong:p}=Fe(r);return p?t[i++]:a[s++]})},Qr=e=>{const t=Object.keys(e);return t?!!t.find(i=>!e[i][0].isAbsent):!1},ma=(e,t)=>{var i;return(i=e==null?void 0:e.decomposition)!=null&&i.length?!!e.decomposition.find(s=>{if(!s)return;const o=s.marketToken,r=t??e.paymentToken;return!o||!r?!1:ca(o,r)}):!1},z=1e3,ve=60,Ne=60,lt=24,ft=e=>e*lt*Ne*ve*z,Ft=e=>Math.floor(e/z/ve/Ne/lt),Qe=e=>Math.floor(e/z),mn=(e,t)=>{if(e<0)return`0d:0h${t?":0m":""}`;const a=e/z/ve/Ne,i=Math.floor(a%lt),s=Math.floor(a/lt),o=Math.floor((a-Math.floor(a))*Ne);return t?`${s}d:${i}h:${o}m`:i===0&&s===0?`${o}m`:`${s}d:${i}h`};const Zt=["delta","vega","gamma","theta"],Rn=8,Zr=[7,14,30,60,90],wt=Zr.map(ft),Tn=1e4,Xr=.003,Jr=()=>{const e=Z(),{data:t,error:a}=Se("_useDates",async()=>{let i;try{i=[...eo(),...await to(e)]}catch(s){console.log(s)}return i?Mt(i).sort(ut):null},{refreshInterval:5*ve*z,revalidateOnFocus:!1});return a?(console.log(a),null):t},eo=()=>wt.map((t,a)=>{const i=new Date(Date.now()+t),s=a===0,o=a===wt.length-1,r=i.getUTCHours()>=Rn,p=i.getUTCDate();return s&&r&&i.setUTCDate(p+1),o&&!r&&i.setUTCDate(p-1),i.setUTCHours(Rn),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0),i.getTime()}),to=async e=>{const t=new V(...K(e,"Rysk_LiquidityPool"),Y(e)),a=new V(...K(e,"Rysk_OptionCatalogue"),Y(e)),{minExpiry:i,maxExpiry:s}=await t.optionParams();return a.getExpirations().then(o=>o.map(p=>Number(p)*z).filter(p=>{const l=Number(i)*z,u=Number(s)*z;if(!(p<Date.now())&&!(p-Date.now()<l)&&!(p-Date.now()>u))return!0}))},Ta=h.createContext(null),no=({children:e})=>{const t=ao();return n.jsx(Ta.Provider,{value:t,children:e})},ge=()=>h.useContext(Ta),ao=()=>{const e=Jr(),t=je("chosen-date",null),[a,i]=t;return e&&te(e.find(o=>o===a))&&i(e[0]),{dates:e,chosenDateState:t}},io=e=>{const{strategyStructure:t,chosenDateState:a,resetTriggers:i,isDisabled:s,updateUnstableField:o}=e,{account:r}=ne(),[p,l]=a,y=ge().dates??[],d=()=>{l(null)};h.useEffect(()=>{d()},i),h.useEffect(()=>{r&&y.length&&!p&&l(y[0])},[r,y]);const c=(f,T="d MMM")=>{const x=f-Date.now();return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"BuilderForm__date-value",children:_e(f,T)}),n.jsx("div",{className:"BuilderForm__date-period",children:mn(x)})]})},m=y.map(f=>({value:f,label:c(f)})),b=p&&m.find(f=>f.value===p);return n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_date",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),n.jsx("div",{className:"BuilderForm__field-body",children:t.map((f,T)=>{const{isCall:x,isLong:g}=Fe(f),v=Ye(n.jsx(Le,{className:"Selector_thin-options",placeholder:"Choose Date",isDisabled:s||!r,options:m,value:b,formatOptionLabel:({value:C},{selectValue:k,context:O})=>{var P;if(O==="menu")return c(C);const w=((P=k[0])==null?void 0:P.value)===C?"d MMM hh a":"d MMM";return c(C,w)},onChange:C=>{l(C.value)},iconTextNode:n.jsxs("span",{className:E({positive:g,negative:!g},"block"),style:{width:25},children:[g?"Buy":"Sell",n.jsx("br",{}),x?"Call":"Put"]})},T),te(y),n.jsx(ke,{},T));return o(T,v),v})})]})},fn=(e,t,a,i)=>{const[s,o]=a.split(".");let r=e[s],p=t[s];return o&&(r=r&&r[o],p=p&&p[o]),ut(r,p,i)},fa=(e,t)=>(a,i)=>fn(a,i,e,t),Rt=(e,t,a)=>{if(!e||!Object.keys(e).length)return{...t};if(!t)return;const i={...e};a||(a=Object.keys(e));for(let s=0;s<a.length;s++){const[o,r]=a[s].split("."),p=r?e[o][r]:e[o],l=r?t[o][r]:t[o],u=p+l;r?(i[o]||(i[o]={}),i[o][r]=u):i[o]=u}return i},so=e=>ki(Object.values(e));const Ut=(e,t)=>`${e?"Long":"Short"} ${t?"Call":"Put"}`,bn=(e,t,a)=>e?a>t:a<t,Pt=(e,t,a=it)=>Gn(e,1+t,a),bt=(e,t,a)=>{if(a===0n)return 0n;const i=Ce(t,xe(a))*100n,s=le(-100),o=le(100);return e===null?i:e?i<s?s:i:i>o?o:i},ba=()=>({delta:void 0,vega:void 0,gamma:void 0,theta:void 0,rho:void 0}),ha=(e,t)=>{const a=Rt(e,t);for(const i in a){const s=a[i];a[i]=s?ce(s,3):void 0}return a},ro=(e,t,a)=>{if(e===null)return null;const i=Math.abs(e);let s=t?i:-i;return a||(s=-s),s},xa=(e,t=it)=>G(e,t,1),ga=(e,t)=>{const a=()=>{const o=x=>(1+r(x/Math.sqrt(2)))/2,r=x=>{const g=.254829592,v=-.284496736,C=1.421413741,k=-1.453152027,O=1.061405429,B=.3275911,w=Math.sign(x);x=Math.abs(x);const P=1/(1+B*x),D=1-((((O*P+k)*P+C)*P+v)*P+g)*P*Math.exp(-x*x);return w*D},p=(x,g,v,C,k)=>{const O=(Math.log(x/g)+(C+.5*k**2)*v)/(k*Math.sqrt(v)),B=O-k*Math.sqrt(v);return x*o(O)-g*Math.exp(-C*v)*o(B)},l=(x,g,v,C,k)=>{const O=(Math.log(x/g)+(C+.5*k**2)*v)/(k*Math.sqrt(v)),B=O-k*Math.sqrt(v);return g*Math.exp(-C*v)*o(-B)-x*o(-O)},u=(x,g,v,C,k,O)=>{const B=O?p:l;let w=.2,P=.001,D=1;const U=1e-5;let L=B(x,g,v,C,w),N=0;const j=1e3;for(;Math.abs(L-k)>U&&N<j;)L<k?P=w:D=w,w=(P+D)/2,L=B(x,g,v,C,w),N++;return w},y=G(t),d=G(e.strike),c=(e.expiry-Date.now())/z/ve/Ne/lt/365,m=G(e.premiumData.inUSDC),b=.01,{isCall:f}=e;return u(y,d,c,b,m,f)},i=o=>`${Math.floor(o*100)}%`,s=a();return{value:s,formatted:i(s)}};function Un(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function oo(){const[e,t]=h.useState(Un());return h.useEffect(()=>{function a(){t(Un())}return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}const fe=(e=768)=>{const{width:t}=oo();return t<e},po=({getParentNode:e,getChildNodes:t})=>{const[a,i]=Ui(!1),s=E(a&&"expanded"),o=e(s,i),r=t(s);return n.jsxs(n.Fragment,{children:[o,...r]})};const _a=({children:e,transitionTimeout:t=250,renderHeader:a=({state:i})=>i.isEnter?"Hide":"Show"})=>n.jsx("div",{className:"Accordion",children:n.jsx(Qi,{transition:!0,transitionTimeout:t,children:n.jsx(Zi,{header:a,children:e})})});const We=({isVertical:e})=>n.jsx("div",{className:E("Divider",e&&"vertical")});class va{constructor(t){const{titleData:a,itemsData:i}=t,s=Object.keys(a);this.titleData=a,this.itemsData=i,this.dataKeys=s}}class lo extends va{constructor(t){super(t),this.getTitleRow=this.getTitleRow.bind(this),this.getItemsRows=this.getItemsRows.bind(this)}getTitleRow(){const t=this._getCells(this.titleData,!0);return n.jsxs("tr",{children:[...t]})}getItemsRows(){const t=this.itemsData.map(a=>{const i=this._getItemRow(a);return n.jsx(Ve.Fragment,{children:i},a.id)});return n.jsx(Ve.Fragment,{children:t},"rows")}_getCells(t,a){return this.dataKeys.map(i=>{const s=t[i]??X();return a?n.jsx("th",{children:s},i):n.jsx("td",{children:s},i)})}_getItemRow(t){const a=!!t.children,i=this._getCells(t),s=(r,p)=>{const l=[r,t.className];return n.jsxs("tr",{className:E("Table__item",a&&"expandable",l),onClick:p,children:[...i]})};return a?this._getExpandableRow(t,s):s()}_getExpandableRow(t,a){const i=s=>t.children.map(r=>{const p=this._getCells(r);return n.jsxs("tr",{className:E("Table__child-item",s),children:[...p]},r.id)});return n.jsx(po,{getParentNode:a,getChildNodes:i},t.id)}}class uo extends va{constructor(t){super(t),this._getItem=this._getItem.bind(this)}getItems(){return this.itemsData.map(this._getItem)}_renderItemRows(t){const a=t.omittedKeys;return this.dataKeys.map(s=>{const o=t[s];return a&&!!a.find(p=>s===p)||te(o)?null:n.jsxs("div",{className:E("Table__item-row info-row",s),children:[n.jsx("div",{className:"info-row__title",children:this.titleData[s]}),n.jsx("div",{className:"info-row__value",children:o===null?X():o})]})})}_getItem(t){const a=t.className;return n.jsxs("div",{className:E("Table__item App-box",a),children:[this._renderItemRows(t),t.children&&n.jsxs(n.Fragment,{children:[n.jsx(We,{}),n.jsx(_a,{transitionTimeout:500,renderHeader:({state:i})=>`${i.isEnter?"Hide":"Show"} full strategy`,children:t.children.map(i=>n.jsxs(n.Fragment,{children:[n.jsx(We,{}),n.jsx("div",{className:"Table__child-item",children:this._renderItemRows(i)})]}))})]})]})}}const Ca=({structureData:e,className:t,children:a})=>{const i=fe(576),s=p=>{if(!p){const l=new lo(e),{getTitleRow:u,getItemsRows:y}=l;p=[n.jsx("thead",{children:u()},"head"),n.jsx("tbody",{children:y()},"body")]}return n.jsx("div",{className:"Table__desktop",children:n.jsx("table",{children:p})})},o=()=>{const l=new uo(e).getItems();return n.jsx("div",{className:"Table__mobile",children:l})},r=()=>i?o():s();return n.jsx("div",{className:E("Table",t),children:a!=null&&a.length?s(a):r()})};const ka="/sf_draft/assets/direction_up-f2313617.svg",Sa="/sf_draft/assets/direction_down-591f3c38.svg",yo="/sf_draft/assets/Hegic-50361d0c.svg",co="/sf_draft/assets/Hegic_circled-5c5ab1db.svg",mo="/sf_draft/assets/Hegic_circled-light-22a3e4bd.svg",To="/sf_draft/assets/Rysk-954aae04.svg",fo="/sf_draft/assets/Rysk_circled-15f0a9af.svg",bo="/sf_draft/assets/Rysk_circled-light-6138a794.svg",ho="/sf_draft/assets/Premia-71c688dd.svg",xo="/sf_draft/assets/Premia_circled-38554b78.svg",go="/sf_draft/assets/Premia_circled-38554b78.svg",Ht={Hegic:{common:yo,circled:co,circledLight:mo},Rysk:{common:To,circled:fo,circledLight:bo},Premia:{common:ho,circled:xo,circledLight:go}},wa=({strikeData:e,priceNode:t,isPriceHlight:a,isSmall:i})=>{const{market:s,isCall:o,isLong:r}=e,p=Ht[s].circled,l=r?ka:Sa;return n.jsxs("div",{className:E("Brief","PriceBrief",i&&"small"),children:[n.jsxs("div",{className:"PriceBrief__icons Brief__icons",children:[n.jsx("div",{className:"Brief__icon",children:n.jsx("img",{src:p,alt:`${s}`})}),n.jsx("div",{className:"Brief__icon",children:n.jsx("img",{src:l,alt:`${r?"Long":"Short"}`})})]}),n.jsx("div",{className:E("PriceBrief__info-card",{positive:r,negative:!r}),children:o?"Call":"Put"}),n.jsx("div",{className:E("PriceBrief__price",a&&"hlight"),children:t})]})},_o=e=>{const{id:t,amountStr:a,strikeMarketsDataArr:i,chosenStrikeData:s,setChosenStrikeData:o,isOpen:r,close:p}=e,[l,u]=h.useState([]),y=()=>{const T=[];i.forEach((x,g)=>{const v=le(Ee(a));x.utils.calcPremium(v).then(C=>{x.premiumData=C,T[g]=C,u([...T])})})};if(h.useEffect(()=>{u([]),i&&y()},[i,a]),!i)return null;const d=23,m=80-d,f=200-d;return n.jsx("div",{className:E("StrikeInfoBox",r&&"open"),style:{zIndex:9-t*2},children:n.jsxs(Ca,{onClick:T=>T.stopPropagation(),children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:n.jsx("div",{style:{minWidth:f},children:"Market"})}),n.jsx("th",{children:n.jsx("div",{style:{minWidth:m},children:"Source"})}),n.jsx("th",{children:n.jsx("div",{style:{minWidth:m},children:"Delta"})}),n.jsx("th",{children:n.jsx("div",{style:{minWidth:m},children:"Vega"})}),n.jsx("th",{children:n.jsx("div",{style:{minWidth:m},children:"Gamma"})}),n.jsx("th",{children:n.jsx("div",{style:{minWidth:m},children:"Theta"})}),n.jsx("th",{children:n.jsx("div",{style:{width:m},children:"Rho"})})]})}),n.jsx("tbody",{children:i.sort(fa("premiumData.inUSDC")).map((T,x)=>{const{greeks:g,source:v}=T,C=l[x],k=!C||C.isDisabled,O=T===s;return n.jsxs("tr",{className:E("StrikeInfoBox__strike-option",k&&"disabled",O&&"chosen"),children:[n.jsxs("td",{children:[n.jsx("button",{className:"StrikeInfoBox__strike-option-overlay-btn",onClick:()=>{o(T),p()},disabled:k}),n.jsx(wa,{strikeData:T,priceNode:ze(()=>C===null?X("No liquidity",!0):`$${ee(C.inUSDC)}`,te(C)),isPriceHlight:!0})]}),n.jsx("td",{children:v??"AMM"}),Object.keys(g).map(B=>{const w=g[B];return n.jsx("td",{children:w??X()},B)})]},T.market)})})]})})};const Ue=({fontSize:e,children:t})=>n.jsx("div",{className:"InnerWarning",style:{fontSize:e??""},children:t});Xi();const Pa=({id:e,className:t,isUnited:a,spaceBetween:i,isDraggable:s,breakpoints:o,handleInit:r,slideClassName:p,children:l})=>{const u=h.useRef(null),y=`${a?`.${t}`:`#${e}`}`,d={spaceBetween:i,allowTouchMove:s,breakpoints:o,navigation:{enabled:!0,prevEl:`${y} .Carousel__nav-btn_prev`,nextEl:`${y} .Carousel__nav-btn_next`},on:{init:c=>{c.el.style.overflow="clip visible",r&&r(c)}}};return h.useEffect(()=>{const c=u.current;c&&(Object.assign(c,d),c.initialize())},[u,d]),n.jsxs("div",{className:E("Carousel",t),id:e,children:[n.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_prev"}),n.jsx("swiper-container",{init:!1,ref:u,children:l==null?void 0:l.map((c,m)=>n.jsx("swiper-slide",{class:p,children:c},m))}),n.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_next"})]})};const vo=({children:e,slideType:t="lg"})=>n.jsx(Pa,{breakpoints:{768:{slidesPerView:"auto"},576:{slidesPerView:6,grid:{fill:"row",rows:2}},520:{slidesPerView:5,grid:{fill:"row",rows:2}},380:{slidesPerView:4,grid:{fill:"row",rows:2}},0:{slidesPerView:3,spaceBetween:4,grid:{fill:"row",rows:2}}},spaceBetween:5,className:"StrikeCarousel",isDraggable:!1,isUnited:!0,slideClassName:`StrikeCarousel__slide_${t}`,children:e}),hn=e=>Object.keys(e).map(BigInt),Co=e=>{const t={},a=e.map(s=>s.strike);return Mt(a).forEach(s=>{const o=e.filter(r=>r.strike===s);t[s]=o}),t},ko=e=>{const t=[];return e.forEach(i=>{const s=hn(i);t.push(...s)}),Mt(t)},So=e=>{const t=ko(e);return e.map(i=>{const s=hn(i),o={...i};return t.forEach(r=>{s.indexOf(r)===-1&&(o[r]=[{strike:r,isAbsent:!0}])}),o})};const wo=e=>{const{currentPrice:t,isFirst:a}=e;return n.jsx("div",{className:E("StrikeCurrentPriceItem","StrikeChooser__item",a&&"StrikeCurrentPriceItem_first"),children:n.jsxs("span",{children:["$",yt(t)]})})};const Po="/sf_draft/assets/cross_grey-cde8ab6b.svg",Mo=e=>{const{isITM:t}=e;return n.jsx("div",{className:E("StrikeAbsentItem","StrikeChooser__item",t&&"StrikeChooser__item_ITM"),children:n.jsx("img",{src:Po,alt:"Absent"})})},Ao=({className:e,id:t,isAutoSelectEnabled:a,structureKey:i,asset:s,amountStr:o,strikesData:r,chosenStrikeData:p,setChosenStrikeData:l})=>{const{isConnected:u}=ne(),y=Oe(s),d=G(y),c=le(ce(d,d<10?2:0)),m=t===0,b=fe(),[f,T]=h.useState(null),x=L=>{const N={};for(const j in L){const _=L[j][0],{isCurrentPrice:M,isAbsent:A}=_;M&&A||(N[j]=L[j])}return N},g=()=>{const L=x(r);let N;for(const j in r){const S=r[j][0];if(S.isCurrentPrice||c===S.strike){S.isCurrentPrice=!0,N=S;break}}return N||(L[c]=[{strike:c,isCurrentPrice:!0,isAbsent:!0}]),L},v=()=>{if(r){if(!Qr(r))return{strikes:[],dataArr:[]};let L=g();const N=hn(L).sort(ut),j=Object.values(L).sort((S,_)=>{const M=S[0],A=_[0];return fn(M,A,"strike")});return{strikes:N,dataArr:j}}return{}},{strikes:C,dataArr:k}=v(),O=!!(C!=null&&C.length);h.useEffect(()=>{if(a&&r&&!p){const L=k.find(j=>!j[0].isAbsent);if(!L)return;const N=L[0];l(N)}},[r]);const{openPopup:B,closePopup:w,isOpen:P}=Zn(()=>T(null)),D=()=>{const L=G(k[0][0].strike);let N;return L<10**2?N="xs":L<10**3?N="sm":L<10**4?N="md":L<10**5?N="lg":N="xl",n.jsx(vo,{slideType:N,children:C.map((j,S)=>{const _=k[S],M=_[0],{isCurrentPrice:A,isAbsent:F}=M;if(A&&F)return n.jsx(wo,{currentPrice:j,isFirst:m},"current_price");const{isCall:q}=Fe(i),W=bn(q,j,c);if(F)return n.jsx(Mo,{isITM:W},S);const I=p&&p.strike===j,$=I&&p.market,H=f===_;return n.jsxs(de,{className:E("StrikeChooser__item",W&&"StrikeChooser__item_ITM",I&&"chosen",H&&"open",A&&E("StrikeCurrentPriceItem",m&&"StrikeCurrentPriceItem_first")),style:{cursor:"pointer"},type:"stroke",onClick:R=>{P&&R.stopPropagation(),T(_),B()},children:[I&&n.jsx("div",{className:"StrikeChooser__item-market",children:n.jsx("img",{src:Ht[$].circledLight,alt:`${$} icon`})}),n.jsxs("span",{children:["$",yt(j)]})]},j)})})},U=()=>r?O?n.jsx("div",{className:"StrikeChooser__items",style:{zIndex:10-t*2},children:D()}):n.jsx(Ue,{children:"No Liquidity"}):n.jsxs(Ue,{children:[u?"C":"Connect wallet and c","hoose expiration date to view strikes"]});return n.jsxs("div",{className:E("StrikeChooser",e,b&&!r&&"hidden"),children:[U(),n.jsx(_o,{id:t,amountStr:o,strikeMarketsDataArr:f,chosenStrikeData:p,setChosenStrikeData:l,isOpen:P,close:w})]})},Do=()=>h.useContext(Ma),Eo=()=>{const[e,t]=h.useReducer(Oo,{});return[e,t]},Oo=(e,t)=>{switch(t.type){case"added":{const{asset:a,dateMs:i,strikesForDate:s}=t;return e[a]||(e[a]={}),e[a][i]||(e[a][i]=s),{...e}}case"reset":return{};default:throw Error(`Unknown action: ${t.type}`)}},Ma=h.createContext(null),Aa=h.createContext(null),Io=({children:e})=>{const[t,a]=Eo();return n.jsx(Ma.Provider,{value:t,children:n.jsx(Aa.Provider,{value:a,children:e})})},Bo={[Te]:{short:{CALL_100_BTC:"0x527d1086C3DD22FcdB338F69D47A1e4bFE11E539",CALL_100_ETH:"0x09a4B65b3144733f1bFBa6aEaBEDFb027a38Fb60",CALL_110_BTC:"0x377191F680b52ce3d0060388fEF01be7ef68e3d5",CALL_110_ETH:"0xF48f571DdD77dba9Ae10fefF6df04484685091D9",CALL_120_BTC:"0x8Fb8529695237D4004cffb21499e7E49E982786a",CALL_120_ETH:"0x96416b82C9DFA7649570c784Eb0D0FFcDE361cFE",CALL_130_BTC:"0x32563D6151891c0A8d56eD644AcDEa6FE5f4E4eB",CALL_130_ETH:"0xf8b8b54bE1Eb37E76873670Ac9DE3C28b507142C",PUT_100_BTC:"0xA8DF600289bEc25602741756f55f27ffFDAB69a6",PUT_100_ETH:"0xaA0DfBFb8dA7f45BB41c0fB68B71FAEB959B22aa",PUT_70_BTC:"0x7066286C1AA0FeBE0f63eF8a44F6Fea9F05FFBE0",PUT_70_ETH:"0x35EF16F3c329a54050Ca120145340dfC2b4F9541",PUT_80_BTC:"0x06c3Ba025bEd24Ea38c2BdDA4bcD2A7F9f5C30e1",PUT_80_ETH:"0x77C8d12d9E2D21f6eE02E8ccA332fDe4BE5C2465",PUT_90_BTC:"0xe115beD3b0752BBbbEF5C423021b464bBF93dC2c",PUT_90_ETH:"0x6B7e5906F53d8bB365f4A6fA776Fd0f0caf57881","CALL-SPREAD_10_BTC":"0x5D0bc0d08e8A7C09d10df9BB2498f1d4aB986e6A","CALL-SPREAD_10_ETH":"0x5c59f7ec23C0Bace3B1959C99A43FFd30078E5bE","CALL-SPREAD_20_BTC":"0x597cdD5D4CEC7FA2851Cc0cfd93d6915c926a107","CALL-SPREAD_20_ETH":"0x4490ad3c0c1A61061E88a3eaD661bFe16225A370","CALL-SPREAD_30_BTC":"0xc822F483dAE467721123eA60D3D233e7ac68802f","CALL-SPREAD_30_ETH":"0x610D7feB49DD18BBC20E4dbe600c53E1cDf6d9F1","PUT-SPREAD_10_BTC":"0x45b9D63F1998ca31151981792849a64342C88631","PUT-SPREAD_10_ETH":"0xc4C3b5050D574CBF3eE0b613104cF5C4E47625d4","PUT-SPREAD_20_BTC":"0x606e34C7008f1425C3a69446de4cAd3D7c6fd96D","PUT-SPREAD_20_ETH":"0xa1c290D16E2290EA536a13Ba7cc3Df0000A0f1A6","PUT-SPREAD_30_BTC":"0x71D89f44C71252f319Cd9652f7886c3834685A58","PUT-SPREAD_30_ETH":"0x8F11Ed84e9Dc76db4392b428A0eAF98Ce72c3752"},medShort:{CALL_100_BTC:"0x20ee3e61e8f1eB8ae959abf5F78bA8731d010Ac3",CALL_100_ETH:"0x6418C3514923a6464A26A2ffA5f17bF1efC96a21",CALL_110_BTC:"0xaFA483B18FE66251C8306C7018028f674F653012",CALL_110_ETH:"0xaF38a4d9153B149F05FA85C2cCFAaA677c99040E",CALL_120_BTC:"0xFe35F1AB7e18930d4316B86fCefBCF053bf44A45",CALL_120_ETH:"0x1060e80c1156060a1E8DdB9C64Afe74564865Ee2",CALL_130_BTC:"0xe4DB400BFC4D627559D592db4ca2839cb87Fbbfc",CALL_130_ETH:"0xc00103524932d86770d4F671107b0E170BD0fe6c",PUT_100_BTC:"0xE0f083fd87ebAEBFCfa8236098048105d32639E4",PUT_100_ETH:"0x2739A4C003080A5B3Ade22b92c3321EDa2Da3A9e",PUT_70_BTC:"0x52442a8C632D4c998A8BDBf44A70481AA5599b0e",PUT_70_ETH:"0x48EcF46Aa51992a064aB172439ABFE182F39b478",PUT_80_BTC:"0xb02343D33d2447870E38b3452Ef59d0De7b3289d",PUT_80_ETH:"0xb58ccd922B57422d0497904B7D9fccB922b8aaDf",PUT_90_BTC:"0x7d0c3FDF0e8A6f475Ed1834ae05fDa1E519fd227",PUT_90_ETH:"0x3e2a0fE32Cc000d87D9e5D6ed8b3D64e9c74C752","CALL-SPREAD_10_BTC":"0x6FF946F2BB609B63910a774E193F29CdE7E8fD5f","CALL-SPREAD_10_ETH":"0x0ac1995C43B5566760AD1D88B812f3e51e12eCc6","CALL-SPREAD_20_BTC":"0x7E8e5eaD9A1b8F0533F614a736214a95835c79d7","CALL-SPREAD_20_ETH":"0x1068daF4CD8fDe2000B6FbE8Ec94F106dc08a40E","CALL-SPREAD_30_BTC":"0x3b4900D5a20dbEbCE44eDF8f6B68Dae32E990Ed0","CALL-SPREAD_30_ETH":"0x24db3145F45aAF2c54f586C66b801c42c8658671","PUT-SPREAD_10_BTC":"0x88386f02c46d8D7b2C9E4aEf3b4246A438F72693","PUT-SPREAD_10_ETH":"0x31e6Cd148fe51830E7a97262eE9cf52Fe5256B08","PUT-SPREAD_20_BTC":"0x72Ac8A96b8E79466AdcE711EcBD1Ec5968b371C8","PUT-SPREAD_20_ETH":"0x9e1072E5119C9345d9543a5Ba1EFeDBAE9bEF2AD","PUT-SPREAD_30_BTC":"0x01381e0EDdB57678257179d2cB472C3e8e54202c","PUT-SPREAD_30_ETH":"0xE8dD9Cc3A4Bd078f3D36043f259381d5B50D4B45"},medLong:{CALL_100_BTC:"0x21a4b4441AA957735902507A72A58A3a1Caaa0dC",CALL_100_ETH:"0xE377A1a97237b3B89a96d8B731A2ab10d5DaC16C",CALL_110_BTC:"0x6c46e2531a42F618F2ae452971DC9a7c6AD48D15",CALL_110_ETH:"0x05458B7d9531EaD242290De60bEaa3cC10C87560",CALL_120_BTC:"0xe259410Bbfb45CE89FDA81ec0A97d36Da8Db4374",CALL_120_ETH:"0x79F87E88088293FE34dEf4eBe71fBFa5367220B4",CALL_130_BTC:"0x27806482457FC98F9C2e724b5E604C66BB5ba121",CALL_130_ETH:"0xae2F4e15564995af79b7dd2378B2680f7Facc342",PUT_100_BTC:"0x035b965c5B7bC20E00358ACF1794d2248eA1932A",PUT_100_ETH:"0xf711D0BC60F37cA28845BA623ccd9C635E5073A1",PUT_70_BTC:"0x55c4532e1790592120b7b27436842caD203E7CD3",PUT_70_ETH:"0xF55F6d98e2F48F8D46757D5A6e225bf0ADC9651C",PUT_80_BTC:"0x8dD239e0e51BCAAd503b06D818ce811e7D99c1Af",PUT_80_ETH:"0xdF30cdb7abb3Ca707b82359A349D3b0C94d4a421",PUT_90_BTC:"0xE56BEAfAe4731A21eF83fe81F63b95055e81E374",PUT_90_ETH:"0x33a4B4403B8C6349371CbDf539138D78ec0Aab66","CALL-SPREAD_10_BTC":"0x8e3063D5dCbe66E58053C3Bc8E0BC8dDFe43D585","CALL-SPREAD_10_ETH":"0xBB318170Ce1c2dc79B564f33F92BacaadaBd22de","CALL-SPREAD_20_BTC":"0x324be893029D982c187F0333E7aa1d44365d2676","CALL-SPREAD_20_ETH":"0xb89d7eB2bc675347BEb685ff1bE1557E983beFe1","CALL-SPREAD_30_BTC":"0x530289340C6d2Ef02140054Ae7F91C293fd586CF","CALL-SPREAD_30_ETH":"0x929d20D9e1A6A90bf057857C8BA09271f1BaadA2","PUT-SPREAD_10_BTC":"0x7267091cFc9825a4A1dF36C26d412FeFD788d935","PUT-SPREAD_10_ETH":"0x2B93645f310E016c1a6d1738DCec0f18621F71d0","PUT-SPREAD_20_BTC":"0x9ab2f8530150799CDdAC35799d18Ad2fe05Bf8c3","PUT-SPREAD_20_ETH":"0x4EE21aB8bc165Cd3e6C45676F9f64426Ffc2d67b","PUT-SPREAD_30_BTC":"0xBa883223A1757eEB781d02C383926c308d4843f4","PUT-SPREAD_30_ETH":"0xf87C8C7587055FA62082E8ed447fe68D98805fF2"},long:{CALL_100_BTC:"0xc07fBf677f417bb9FfDD8248A74c7FBcCFaDAe9e",CALL_100_ETH:"0x2727B807D22fCAeB7F900F49894054Ed92b9125B",CALL_110_BTC:"0x14d25367102A931E2E2F587F4ED94087dc585fd0",CALL_110_ETH:"0xE53a20c824cEAB8151AF8Fc92E7Eb689cFbD1231",CALL_120_BTC:"0xBAbccB37338488AFBaBECAE2C3D21b9a71289A73",CALL_120_ETH:"0xB7b36483B256290435a060805bdF15B3f2b122eb",CALL_130_BTC:"0x9fA4DFfBE3B129988e0d09536b0E2D74F6bF7D91",CALL_130_ETH:"0x4dC39763ccC861dB1c8e80c34C0079c9A12f03E4",PUT_100_BTC:"0xEd46f602212d1CbaCd699C876b4A49761421bf97",PUT_100_ETH:"0x015FAA9aF7599e6cea597EBC7e7e04A149a3E992",PUT_70_BTC:"0xa26541ccE18CcC6E21360562d34044ceb3B5A40e",PUT_70_ETH:"0x5BBe6C4A66D4a48442dc0837a0eA859a11D7766C",PUT_80_BTC:"0xFD203c73851986ad7e7B99457AeafF3d98e76228",PUT_80_ETH:"0x7FD5E8B2Ef25A105bf6B1c45f62d8925Eaa068Bc",PUT_90_BTC:"0x02d730e3dEb3B5876fE2Cba59423ef1Db8211DA1",PUT_90_ETH:"0x3031EA515c2274024D93A8D3BfA91ce920E1192E","CALL-SPREAD_10_BTC":"0x0c1C4D9dFd51093bE1e4Bab1b565113B339835F6","CALL-SPREAD_10_ETH":"0xCe5e136688A1553C67b3B39Ff5366595dD0F771E","CALL-SPREAD_20_BTC":"0x7b92a9f268bab14F0FAee4337B01D563AE132Bc3","CALL-SPREAD_20_ETH":"0xe3F646CB987a9d16eb71B8d0883744e55c95862a","CALL-SPREAD_30_BTC":"0x223b806Bab0CA844a91b247fE0Ba179E11EAA728","CALL-SPREAD_30_ETH":"0x199DB958f00F150438E5b9276ff30617D3f83ebF","PUT-SPREAD_10_BTC":"0x66F54921b32cCA36767D2C272Dda64D5152B92C4","PUT-SPREAD_10_ETH":"0xfcd40dDe82b699D455B3D073196d580227C2Fba6","PUT-SPREAD_20_BTC":"0x8c77f5427B40ab2414dC9bca48c74928BFe17Dd1","PUT-SPREAD_20_ETH":"0xbAe8114E3A2EA5aF5e2b3c8F6FF37714f6D4afFB","PUT-SPREAD_30_BTC":"0x6D79b82701e4017887d499Ba131FD336ceA6A4CC","PUT-SPREAD_30_ETH":"0x9945Eb8ac1F4c524fe7Da710ff3068969A329fBA"}}},jo={[Te]:{PUT_100_BTC:"0x4567600c2c813322F0CBb358a8d083296A7eEA37",PUT_100_ETH:"0xB72FC913e45522cD721252476fEfB7F50a65E23A",PUT_70_BTC:"0x3aFbaf00a6C42e6BE67f8a618b17fB3D441C1898",PUT_70_ETH:"0xf3625e26cb920f762dEC8DB4fE4845E9384313C0",PUT_80_BTC:"0x9C3BBe90191F8311939A34737c02A6B49e27caA5",PUT_80_ETH:"0x58051Cb78094551afC202C50085B13bF00BF624E",PUT_90_BTC:"0x56A2dC3fAc4bE0A1716c938295e141195e4A1cb3",PUT_90_ETH:"0x1AF37c8412bCdAa6C6dD4D2E2aDae2B8292603D4",CALL_100_BTC:"0xAA4483Da5c4D17830dE9a843d07C37b3eC028d9F",CALL_100_ETH:"0xC62a0b7e480a23BdCfe13EA08BDAceDc278a14C1",CALL_110_BTC:"0x04BFC83f6277cf50dFB032EFd348316aACbD7863",CALL_110_ETH:"0x6316BC5f5dF141ae88C436Fe6047D334f1B7e485",CALL_120_BTC:"0x965Ded687bc0Da3388c6925e0Eb330bD44629B77",CALL_120_ETH:"0x321F8A71e8268f50eBd2f748D524E7750AD70798",CALL_130_BTC:"0x4b350b7457b54C5A76828f81472f2719D801D0D5",CALL_130_ETH:"0xffdc9da896d3301DE596b16a389138B70b1CBAdb","CALL-SPREAD_10_BTC":"0xD3872581C3f7DE832Ecc9Aa51eb525AC9Ffc41d2","CALL-SPREAD_10_ETH":"0x3BC74C993e1E85ffB5e242402aEc3e90DCfa249f","CALL-SPREAD_20_BTC":"0x7f6a7d60c6f7ac50BD0efA677D397d9cd61fC3a9","CALL-SPREAD_20_ETH":"0x8C335E897B04B2Ca569Ec733f6242cDe33917094","CALL-SPREAD_30_BTC":"0x631c5EFb3e9D2536F9c9c9d7635e2B01363C51C5","CALL-SPREAD_30_ETH":"0xAe4897D4d3742F7f9C6A1eA01447EA3061bD6de2","PUT-SPREAD_10_BTC":"0xa4A32102a2c1d3Bf01A73B66571B440795835ff5","PUT-SPREAD_10_ETH":"0x5a4Dc7011CA0be61c42957cDC36D508d45010D8B","PUT-SPREAD_20_BTC":"0x0cC3559beCa7bB605348B1a7B4D90963672C880a","PUT-SPREAD_20_ETH":"0xeb38c2Ba3125733e9636eAB7C3c2e7a2C4A11534","PUT-SPREAD_30_BTC":"0x4CE72803543da3f563Ef76592945C57FBE7fce38","PUT-SPREAD_30_ETH":"0xDB044975100aE87d0eEDd804D9E6083a8406fdAe"}},xn=e=>{const t=Bo[e];if(!t)throw new Error(`No Hegic strategies found for chainId ${e}`);return t},No=(e,t)=>{const a=xn(e),i=Ft(t);if(i<7||i>90)return;let s;return i<14?s=a.short:i<30?s=a.medShort:i<60?s=a.medLong:i<=90&&(s=a.long),s},Lo=e=>{const t={},a=xn(e);return Object.values(a).forEach((i,s)=>{const o=Object.keys(t)[s];for(const r in i){const p=i[r];t[`${r}_${o}`]=p}}),t},Fo=e=>{const t=xn(e),a=[];return Object.values(t).forEach(i=>{a.push(...Object.values(i))}),a},Ro=(e,t)=>{const a=jo[e];if(!a)throw new Error(`No Hegic Price Calculator address found for chainId ${e}`);const i=a[t];if(!i)throw new Error(`No Hegic Price Calculator address found for strategy key ${t}`);return i},Da=(e,t,a)=>{const i=Tt(e,`Hegic_${a}`);return new V(t,i,Y(e))},Uo=(e,t)=>{const a=Ro(e,t);return Da(e,a,"PriceCalculator")},Ea=(e,t)=>Da(e,t,"Strategy"),gn=.005*10**5,_n=async(e,t,a,i)=>{const s=St(e,t),o=St(e,a),r=me(i,s.decimals);return t===a||r===0n||s.isStable&&o.isStable?new Promise(u=>{u(i)}):await new V(...K(e,"UniswapQuoter"),Y(e)).callStatic.quoteExactInput(Oa(t,a),r).then(u=>{const y=u.toBigInt();return J(y,o.decimals)}).catch(u=>{console.log(`Swapping ${s.symbol} to ${o.symbol} error!

`,u)})},He=(e,t,a)=>{const i=jt(e);return _n(e,t,i,a)},Ho=(e,t,a)=>{const i=jt(e);return _n(e,i,t,a)},Oa=(e,t)=>Ji.solidityPack(["address","uint24","address"],[e,gn,t]);class vn{constructor(t,a){this.getMarketToken=i=>ie(i,a),this.getId=(i,s)=>{s=s.toLowerCase();const{strike:o,isCall:r,isLong:p,expiry:l}=i,u=G(BigInt(o)),y=_e(Number(l),"dd-MMM-yy");return`${t}_${u}_${p?"LONG":"SHORT"}_${r?"CALL":"PUT"}_${y}_${s}`}}}class qo extends vn{constructor(){super("Hegic","USDC.e")}calcDeltaByAssetPrice(t,a){const{isCall:i,strike:s,amount:o}=t,r=G(o);return i?s<a?r:0:s>a?-r:0}calcDeltaByStrikeScale(t,a){const{isCall:i,amount:s}=t;return i?Number(a)<100?s:0:Number(a)>100?-s:0}}const Cn=new qo,Ia={PROTOCOL_NAME:"Hegic"},$o=async(e,t,a)=>{if(!Vo(t))return[];const{assetPrice:s}=a,{expiry:o}=t,r=o-Date.now();t={...t,period:r};const p=No(e,r);return p?await Wo(e,p,t,s):[]},Vo=e=>{const{isLong:t}=e;if(t)return!0},Wo=async(e,t,a,i)=>{const{amount:s,asset:o,isCall:r}=a,p=[],l=Object.keys(t);for(let y=0;y<l.length;y++){const d=l[y],c=t[d],m={strategyKey:d,strategyAddress:c},b=Go(d,o,r),f=await Ko(e,c,a),T=f>=s;if(!b||!T)continue;const x=Yo(e,m,a,i),g=x.utils.calcPremium(s).then(v=>({...x,liquidity:f,premiumData:v})).catch();p.push(g)}return await Promise.all(p).then(Xo)},Go=(e,t,a)=>{const[i,,s]=e.split("_");return!(i.includes("SPREAD")||a!==(i==="CALL")||s!==t)},Ko=async(e,t,a)=>{const{asset:i,period:s}=a,o=new V(t,Tt(e,"Hegic_Strategy"),Y(e)),r=Qe(s);let p=0n;try{const l=(await o.getAvailableContracts(r,[])).toBigInt();p=J(l,Bt[i])}catch{}return p},Yo=(e,t,a,i)=>{const{isCall:s,asset:o,expiry:r}=a,{strategyKey:p}=t,[,l]=p.split("_"),u=Zo(l,i),y=zo(e,t,a),d=Cn.calcDeltaByStrikeScale(a,l);return{market:"Hegic",protocolName:Ia.PROTOCOL_NAME,asset:o,strike:Kn(u),expiry:r,isCurrentPrice:l==="100",isCall:s,isLong:!0,greeks:{delta:d,vega:void 0,gamma:void 0,theta:void 0,rho:void 0},utils:y}},zo=(e,t,a)=>{const{strategyKey:i,strategyAddress:s}=t,{asset:o,period:r}=a;return{calcPremium:async u=>Qo(e,i,a,u),getBuilderParams:async(u,y,d)=>{const c=da(u,o),m=y.premiumData.inMarketToken,b=Si(m,d);return cn(e,Ia.PROTOCOL_NAME).encodeFromHegic(s,c,Qe(r),b,[])}}},Qo=async(e,t,a,i)=>{const{asset:s,period:o}=a,r=Cn.getMarketToken(e),p=da(i,s),l=Uo(e,t),u=Qe(o),y=await l.calculatePremium(u,p,0).then(BigInt),d=J(y,r.decimals);return{inUSDC:await He(e,r.address,d),inMarketToken:d,marketToken:r}},Zo=(e,t)=>{const a=G(t),i=Math.floor(a*(e/100));return le(i)},Xo=e=>e.filter(t=>t&&t.premiumData),qt=e=>e.charAt(0).toUpperCase()+e.slice(1),Jo=e=>e[e.length-1];class ep extends vn{constructor(){super("Premia"),this.queryPremia=this.queryPremia.bind(this),this.queryDynamicContract=this.queryDynamicContract.bind(this),this._unfoldPremiaArgument=this._unfoldPremiaArgument.bind(this),this._getClosingQuoteOptions=this._getClosingQuoteOptions.bind(this),this._bestQuoteByProvider=this._bestQuoteByProvider.bind(this)}async queryPremia(t){const a={VITE_ALCHEMY_API_KEY_42161:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",VITE_PREMIA_API_KEY_42161:"sharwa_3ZgugmeGTvPgPXmuxuEeho4J",VITE_SUBGRAPH_API_KEY_42161:"4d7d37cf3bc9fc7cae70d943fb30a47e",BASE_URL:"/sf_draft",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[`VITE_PREMIA_API_KEY_${t}`],i={VITE_ALCHEMY_API_KEY_42161:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",VITE_PREMIA_API_KEY_42161:"sharwa_3ZgugmeGTvPgPXmuxuEeho4J",VITE_SUBGRAPH_API_KEY_42161:"4d7d37cf3bc9fc7cae70d943fb30a47e",BASE_URL:"/sf_draft",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[`VITE_SUBGRAPH_API_KEY_${t}`],s={chainId:t,provider:Sr(t),signer:Ae(),apiKey:a,useTestnet:!1,subgraphUri:`https://gateway-arbitrum.network.thegraph.com/api/${i}/subgraphs/id/8SxuHUYYBLHs1UkgFFYNaS7MgrEiAMbDyt5YzwZsSa6R`};let o;try{o=await On.Premia.initialize(s)}catch{o=await On.Premia.initialize({...s,signer:void 0})}return o}async queryDynamicContract(t,a,i){const s=await this._unfoldPremiaArgument(t);return i=qt(i),new V(a,Tt(s.chainId,`Premia_${i}`),Y(s.chainId))}async queryVaultContract(t,a){const i=await this._unfoldPremiaArgument(t),{isCall:s,base:o}=a,r=await i.vaults.getAllVaultsExtended(),p=`${o.symbol}/USDCe-${s?"C":"P"}`,l=r.find(y=>y.name.endsWith(p));return await this.queryDynamicContract(i,l.address,"Vault")}async queryClosingQuote(t,a,i){const s=await this._unfoldPremiaArgument(t),o=this._getClosingQuoteOptions(a);if(i){const l=await s.orderbook.getQuotes(a.address,a.size,a.isLong?"bid":"ask");return l.length?s.pricing.best(l,a.size):null}const r=await s.options.quotesByProvider(o),p=this._bestQuoteByProvider(r);if(p){p.isBuy=!a.isLong;const{isCall:l,asset:u,base:y}=a,d=Qt(BigInt(p.price),l?u:"USDC"),c=l?await He(s.chainId,y.address,d):d;p.priceInUSDC=c}return p}calcClosingPremium(t,a){if(!a)return null;const{amount:i,isCall:s,base:o}=t,r=Qt(a.takerFee,s?o.symbol:"USDC"),p=a.isBuy?a.priceInUSDC+r:a.priceInUSDC-r;return Be(p,i)}async _unfoldPremiaArgument(t){let a=t;return typeof t=="number"&&(a=await this.queryPremia(chainId)),a}_getClosingQuoteOptions(t){return{...t,isBuy:!t.isLong,poolAddress:t.address,token:t.base,referrer:ln}}_bestQuoteByProvider(t){if(!t)return null;let a;for(const i in t){const s=t[i][0];if(!s)continue;const o=BigInt(s.price),r=(a==null?void 0:a.price)??0n;o>r&&(a={...s,providerType:i})}return a}}const De=new ep,Ba={PROTOCOL_NAME:"Premia"},tp=async(e,t,a)=>{const{assetPrice:i}=a,s=await De.queryPremia(e);return await np(s,t,i)},np=async(e,t,a)=>{const s=ap(e,a).map(r=>ip(e,t,r,a));return await Promise.allSettled(s).then(en).then(r=>r.filter(p=>p))},ap=(e,t)=>{const a=G(t);return e.options.getSuggestedStrikes(a).map(s=>le(s))},ip=async(e,t,a,i)=>{const{asset:s,amount:o,isCall:r,isLong:p,expiry:l}=t,y={token:ie(e.chainId,s).address,size:o,strike:a,maturity:Qe(l),isCall:r,isBuy:p,referrer:ln},d=await e.options.quotesByProvider(y).then(c=>{var m;return(m=c.vault)==null?void 0:m[0]}).catch(console.log);if(d){const c=sp(e,t,d),m=await c.calcPremium(le(1)),b=await rp(e,d,i);return{market:"Premia",protocolName:Ba.PROTOCOL_NAME,source:"Vault",asset:s,strike:a,expiry:l,isCall:r,isLong:p,premiumData:m,liquidity:b,greeks:ba(),utils:c,isComingSoon:!p,marketLink:"https://app.premia.blue/"}}},sp=(e,t,a)=>{const{asset:i,isLong:s,isCall:o}=t,{chainId:r}=e,p=o?i:"USDC.e";let l=ie(r,p);return l.isWrappable&&(l=ie(r,`W${p}`)),{calcPremium:async(d,c=void 0)=>{let m=c==null?void 0:c.price;if(!c)try{m=await e.vaults.getQuote(a.provider,a.poolKey,d,s,a.taker)}catch(T){console.log(T)}if(!m)return null;const b=J(m,l.decimals);return{inUSDC:await He(r,l.address,b),inMarketToken:b,marketToken:l}},getBuilderParams:async(d,c)=>{const{premiumData:m}=c,b=me(m.inMarketToken,m.marketToken.decimals);return await cn(r,Ba.PROTOCOL_NAME).encodeFromPremia(a.provider,a.poolKey,d,s,b)}}},rp=async(e,t,a)=>{const i=t.pool.isCall,s=await e.subgraph.getVaultExtended(t.provider),o=BigInt(s.totalAvailable);let r;if(i){const p=St(e.chainId,t.poolKey.base);r=J(o,p.decimals)}else{const p=J(o,Yt);r=Ce(p,a)}return r},ht={PROTOCOL_NAME:"Rysk",SLIPPAGE:.003,EMPTY_SERIES:{expiration:1n,strike:1n,isPut:!0,collateral:ue,underlying:ue,strikeAsset:ue},OPERATION_TYPES:{Opyn:0,Rysk:1},RYSK_ACTION_TYPES:{Issue:0,Buy:1,Sell:2,Close:3}};class op extends vn{constructor(){super("Rysk","USDC"),this._queryDhvExposure=this._queryDhvExposure.bind(this),this._calcExpiredPremium=this._calcExpiredPremium.bind(this),this.getMarketToken=this.getMarketToken.bind(this),this.getIsExpired=this.getIsExpired.bind(this),this.getIsSellPremiumTooSmall=this.getIsSellPremiumTooSmall.bind(this),this.calcPremiumWithGreeks=this.calcPremiumWithGreeks.bind(this),this.queryFees=this.queryFees.bind(this)}async _queryDhvExposure(t,a){return new V(...K(t,"Rysk_AlphaPortfolioValuesFeed"),Y(t)).netDhvExposure(Yi(["uint64","uint128","bool"],[a.expiration,a.strike,a.isPut])).then(s=>BigInt(s))}async _calcExpiredPremium(t,a,i){const s=new V(...K(t,"Rysk_MarginCalculator"),Y(t)),o=this.getMarketToken(t),r=await s.getExpiredPayoutRate(a).then(l=>J(BigInt(l),o.decimals)).catch(()=>null);return r===null?null:Be(i,r)}getIsExpired(t){return t.expiration*z<Date.now()}getIsSellPremiumTooSmall(t,a){return xe(t)>>3n<=a}async calcPremiumWithGreeks(t,a,i,s,o,r){const p=!s,l=this.getMarketToken(t),u=this.getIsExpired(a);let y;if(u)y=this._calcExpiredPremium(t,a.address,i).then(b=>b===null?null:{delta:null,premiumInMarketToken:b});else{const b=new V(...K(t,"Rysk_BeyondPricer"),Y(t)),f=await this._queryDhvExposure(t,a);y=b.quoteOptionPrice(a,i,p,f).then(async T=>{T=st(T);const{totalPremium:x,totalFees:g}=T;if(!r&&p&&this.getIsSellPremiumTooSmall(x,g))return null;const v=G(T.totalDelta,void 0,3),C=Pt(x+g,ht.SLIPPAGE,l.decimals),k=J(C,l.decimals);return{delta:v,premiumInMarketToken:k}}).catch(()=>null)}const d=await y;if(d===null)return null;const{delta:c,premiumInMarketToken:m}=d;return He(t,l.address,m).then(b=>{const f={marketToken:l,inMarketToken:m,inUSDC:b};return o?f:{premiumData:f,greeks:{delta:c,vega:void 0,gamma:void 0,theta:void 0,rho:void 0}}})}getOptionSeries(t,a,i,s,o=void 0,r=void 0){const p=ie(t,"USDC").address,l=ie(t,"WETH").address;return{expiration:Qe(a),strike:i,isPut:!s,strikeAsset:p,underlying:l,collateral:r??p,address:o}}async queryFees(t,a){const s=await(async()=>{const r=new V(...K(t,"Rysk_BeyondPricer"),Y(t)),p=this.getMarketToken(t),l=(await r.feePerContract()).toBigInt();return J(l,p.decimals)})();return Be(a,s)}async calcPnlWithGreeks(t,a,i,s,o,r){const p=this.calcPremiumWithGreeks(t,a,i,!o,!1,!0).then(g=>{if(g===null)return null;const{inUSDC:v,inMarketToken:C}=g.premiumData;return o||(g.premiumData.inUSDC=-v,g.premiumData.inMarketToken=-C),g}),l=this.queryFees(t,i),[u,y]=await Promise.all([p,l]);if(u===null)return null;const{premiumData:d,greeks:c}=u;c.delta=ro(c.delta,!a.isPut,o);const{inUSDC:m}=d,b=o&&m===0n,f=Be(i,r),T=b?-f:m-f-y;return{pnl:{inUSDC:T,inPercentage:bt(o,T,f),closePrice:Ce(m,i)},greeks:c}}async validateOptionSeries(t,a,i){return await new V(...K(t,"Rysk_OptionExchange"),Y(t)).checkHash({...i,strike:me(i.strike,8)},i.strike,!a).then(()=>!0).catch(()=>!1)}}const ye=new op,pp=async(e,t,a)=>{if(!await lp(e,t))return[];const{account:s}=a,r=(await up(e,t)).map(async l=>yp(e,t,l,s));return await Promise.all(r).then(tn)},lp=async(e,t)=>{const a=()=>{const{asset:r}=t;if(r==="ETH")return!0};return!await(async()=>new V(...K(e,"Rysk_OptionExchange"),Y(e)).paused())()&&a()},up=async(e,t)=>{const{expiry:a,isCall:i}=t;return(await new V(...K(e,"Rysk_OptionCatalogue"),Y(e)).getOptionDetails(Qe(a),!i)).map(p=>BigInt(p))},yp=async(e,t,a,i)=>{const{asset:s,amount:o,isCall:r,isLong:p,expiry:l}=t,u=dp(e,t,a,i),y=await u.calcPremiumWithGreeks(o);if(!y)return null;const{premiumData:d,greeks:c}=y,m=await Tp(e);return{market:"Rysk",protocolName:ht.PROTOCOL_NAME,source:"DHV",asset:s,strike:a,expiry:l,isCall:r,isLong:p,premiumData:d,liquidity:m,greeks:c,utils:u,isComingSoon:!p,marketLink:"https://app.rysk.finance/"}},dp=(e,t,a,i)=>{const{expiry:s,isCall:o,isLong:r}=t,p=ye.getOptionSeries(e,s,a,o),l=async d=>u(d,!0),u=async(d,c)=>await cp(e,t,d,p)?ye.calcPremiumWithGreeks(e,p,d,r,c):null;return{calcPremium:l,calcPremiumWithGreeks:u,getBuilderParams:async(d,c)=>{const{PROTOCOL_NAME:m,OPERATION_TYPES:b,RYSK_ACTION_TYPES:f}=ht,T=cn(e,m),{premiumData:x}=c,g=ye.getMarketToken(e),v=x.inMarketToken,C=me(v,g.decimals);let k;if(r)k=[{actionType:f.Issue,owner:ue,secondAddress:ue,asset:ue,vaultId:0,amount:0,optionSeries:p,indexOrAcceptablePremium:0,data:ue},{actionType:f.Buy,owner:ue,secondAddress:i,asset:ue,vaultId:0,amount:d,optionSeries:p,indexOrAcceptablePremium:C,data:ue}];else throw new Error("Selling Rysk options is currently unavailable");return await T.encodeFromRyskFinance([{operation:b.Rysk,operationQueue:k}]).catch(console.log)}}},cp=async(e,t,a,i)=>{const{isLong:s}=t,{validateOptionSeries:o}=ye,[r,p]=await Promise.all([mp(e,a),o(e,s,i)]);return!!(r&&p)},mp=async(e,t)=>{const{minAmount:a,maxAmount:i}=await ja(e);if(t>=a&&t<=i)return!0},ja=async e=>{const t=new V(...K(e,"Rysk_OptionExchange"),Y(e)),[a,i]=await Promise.all([t.minTradeSize(),t.maxTradeSize()]);return{minAmount:BigInt(a),maxAmount:BigInt(i)}},Tp=async e=>{const{maxAmount:t}=await ja(e);return t},kn=(e,t)=>{var d;const a=Do(),i=h.useContext(Aa),s=Z(),{account:o}=ne(),r=Oe(e),[p,l]=h.useState((d=a==null?void 0:a[e])==null?void 0:d[t]),{data:u,error:y}=Se(t&&r&&[a,t,e,r,"fetchStrikesForDate"],async()=>await fp(s,e,t,{account:o,assetPrice:r}),{refreshInterval:300*1e3,refreshWhenHidden:!0,revalidateOnFocus:!1});return h.useEffect(()=>{var c;l((c=a==null?void 0:a[e])==null?void 0:c[t])},[e,t]),h.useEffect(()=>{u&&(l(u),i({type:"added",asset:e,dateMs:t,strikesForDate:u}))},[u]),y?(console.log(y),null):p},fp=async(e,t,a,i)=>{const s={asset:t,expiry:a,amount:le(1)},o=[{...s,isCall:!0,isLong:!0,strategy:"Long Call"},{...s,isCall:!1,isLong:!0,strategy:"Long Put"},{...s,isCall:!0,isLong:!1,strategy:"Short Call"},{...s,isCall:!1,isLong:!1,strategy:"Short Put"}],r={},p=[];return o.forEach(u=>{const y=Promise.allSettled([$o(e,u,i),pp(e,u,i),tp(e,u,i)]).then(en).then(d=>{const c={strategy:u.strategy,strikes:[]};return d.forEach(m=>{c.strikes.push(...m)}),c}).catch(console.log);p.push(y)}),(await Promise.all(p)).forEach(u=>{r[u.strategy]=Co(u.strikes)}),r},bp=e=>{const{asset:t,strategy:a,amountStr:i,chosenDate:s,strategyStructure:o,hasSell:r,strikesDataArrState:p,chosenStrikesState:l,areStrikesLoadingState:u,updateTriggers:y,resetTriggers:d,updateUnstableField:c}=e,[m,b]=p,[f,T]=l,[x,g]=u,v=kn(t,s),C=()=>{if(g(!0),k(),o.forEach((B,w)=>{m[w]=[];const{isCall:P,isLong:D}=Fe(B),U=Ut(D,P);v!=null&&v[U]&&(m[w]={...v[U]})}),v){const B=So(m);b([...B]),g(!1)}},k=()=>{T([])},O=()=>{b([])};return h.useEffect(()=>{k(),O()},d),h.useEffect(()=>{s&&C()},[...y,v]),n.jsxs("div",{className:E("BuilderForm__field","BuilderForm__field_strike",!r&&"col-span-2"),children:[n.jsx("div",{className:"BuilderForm__field-header",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_StrikeTooltip",children:"Strike"})}),n.jsx("div",{className:"BuilderForm__field-body",children:o.map((B,w)=>{const P=Gr(a),D=P&&P.indexOf(w)!==-1,U=Ye(n.jsx(Ao,{id:w,isAutoSelectEnabled:o.length===1&&!x,structureKey:B,asset:t,amountStr:i,strikesData:m[w],chosenStrikeData:f[w],setChosenStrikeData:L=>{if(f[w]=L,D){const N=G(L.strike),j=L.market;P.filter(_=>_!==w).forEach(_=>{const M=Kr(m[_][N],j);f[_]=M})}T([...f])}},w),x,n.jsx(ke,{},w));return c(w,U),U})})]})};const hp=e=>{const{liqPrice:t,isLiqPriceLoading:a,isInLastHalf:i}=e,s=n.jsx("span",{className:"muted_light",children:"..."}),o=n.jsx("span",{className:"muted_light",children:"—"}),r=()=>`$${ee(t)}`;return n.jsxs("div",{className:E("CollateralLiqPrice",i&&"CollateralLiqPrice_down"),children:["Liq. Price:",n.jsxs("span",{className:"CollateralLiqPrice__val",children:[a&&s,!a&&(t?r():o)]})]})};const xp=({min:e,max:t,collateralData:a,handleClick:i})=>n.jsx("div",{className:"CollateralRangeBtns",children:[e,t].map((s,o)=>{const r=a.isBase,p=Pe(ce(G(s),xt)),l=Ge(s,a.marketToken.isStable),u=o===0;return n.jsxs(Ve.Fragment,{children:[n.jsxs("button",{onClick:()=>i(p),children:[r?"":"$",l]},o),u?"—":""]},o)})});const gp=({collateralData:e,collateralAmountStr:t,onChange:a})=>{const{isBase:i}=e,s=i?1:0,o=G(e.min,it,s),r=G(e.max,it,s),p=Ee(t),l=i?.01:1;return n.jsx("div",{className:"CollateralSlider",children:n.jsx(es,{defaultValue:0,value:p,min:o,max:r,step:l,onChange:a})})},_p=e=>{const{isInLastHalf:t,getCollateralData:a,collateralData:i,setCollateralData:s,collateralTokens:o,chosenStrike:r,updateTriggers:p,resetTriggers:l}=e,[u,y]=h.useState(""),[d,c]=h.useState(o[0]),[m,b]=h.useState(!1),[f,T]=h.useState(!1),x=()=>{y(""),c(o[0]),s(null)},g=()=>{y(""),s(null)};h.useEffect(()=>{x()},l),h.useEffect(()=>{r&&(b(!0),g(),v(!0))},[r,d]);const v=w=>{let P;if(!w&&u){const D=Ee(u);P=le(D)}a(d,P).then(D=>{s(D),b(!1),T(!1)})};dt(()=>{m||(T(!0),v())},mt,[u,...p]);const C=Lt([u,y],{placeholder:"0"}),k=o.map(w=>({value:w,label:n.jsx(re,{symbol:w,isHlight:!0,children:w})})),O=E(C.hasFocus&&"hlight"),B=()=>n.jsxs(n.Fragment,{children:[i&&n.jsx(hp,{liqPrice:i.liquidationPrice,isLiqPriceLoading:f,isInLastHalf:t}),ze(()=>n.jsxs("div",{className:"CollateralChooser__input-container",children:[n.jsx("div",{className:"CollateralChooser__input",children:C.node}),i&&n.jsx(xp,{min:i.min,max:i.max,collateralData:i,handleClick:w=>{y(w)}}),i&&n.jsx(gp,{collateralData:i,collateralAmountStr:u,onChange:w=>{const P=at(w);y(P)}})]}),m),n.jsx("div",{className:"CollateralChooser__token-selector",children:n.jsx(Le,{options:k,defaultValue:d,isDisabled:k.length===1,onChange:w=>{c(w.value)}},`CollateralChooser__token-selector_${d}`)})]});return n.jsx("div",{className:E("CollateralChooser",O),children:r?r.isComingSoon?n.jsxs(Ue,{children:[r.market," is coming soon"]}):B():n.jsx(Ue,{children:"Strike required"})})},vp=e=>{const{asset:t,amountStr:a,strategy:i,strategyStructure:s,hasSell:o,chosenStrikes:r,collateralDataArrState:p,updateTriggers:l,resetTriggers:u,updateUnstableField:y}=e,[d,c]=p,m=()=>{c([])};h.useEffect(()=>{m()},u);const b=(T,x)=>{d[T]=x,c([...d])},f=(T,x,g)=>{const v=r[T];if(!v||!v.utils.getCollateralData)return new Promise(()=>{});const C=le(Ee(a)),k=qr(x),O=an.from(g??0);return v.utils.getCollateralData(C,{isBaseCollateral:k,setToCollateral:O})};return o?n.jsxs("div",{className:"BuilderForm__field BuilderForm__field_collateral",children:[n.jsx("div",{className:"BuilderForm__field-header",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),n.jsx("div",{className:"BuilderForm__field-body",children:s.map((T,x)=>{const{isLong:g}=Fe(T);if(g)return n.jsx("div",{className:"BuilderForm__field-empty-row",children:X()},x);const v=r[x],C=Wr(T,i,t),k=x>(s.length-1)/2,O=n.jsx(_p,{isInLastHalf:k,collateralTokens:C,collateralData:d[x],setCollateralData:B=>b(x,B),getCollateralData:(B,w)=>f(x,B,w),chosenStrike:v,updateTriggers:l,resetTriggers:u},x);return y(x,O),O})})]}):null};const Cp=e=>{const{strategyStructure:t,unstableFields:a,chosenStrikes:i,strikesDataArr:s,areStrikesLoading:o}=e;return fe()?n.jsxs("div",{className:"BuilderMobileContainer BuilderForm__field",children:[n.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),n.jsx("div",{className:"BuilderForm__field-body",children:t.map((p,l)=>{const u=o||!!s[l],y=!!i[l],d=!!a.collateral[l],c=l===t.length-1;return n.jsxs("div",{className:"BuilderMobileContainer__item",children:[n.jsx("div",{className:E("BuilderMobileContainer__item-date",u&&"mb-7"),children:a.date[l]}),n.jsx("div",{className:"BuilderMobileContainer__item-strike",children:a.strike[l]}),d&&y&&n.jsxs("div",{className:E("BuilderMobileContainer__item-collateral"),children:[n.jsx("div",{className:"BuilderMobileContainer__item-title",children:n.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),a.collateral[l]]}),u&&!c&&n.jsx(We,{})]},l)})})]}):null};const $t=({title:e,className:t,children:a})=>n.jsxs("div",{className:E("OptionController",t),children:[n.jsx("div",{className:"OptionController__title",children:e}),n.jsx("div",{className:"OptionController__content",children:a})]}),Vt=({asset:e,setAsset:t,isDisabled:a})=>{const i=un.map(s=>({value:s,label:n.jsx(re,{symbol:s,isHlight:!0,children:s})}));return n.jsx($t,{className:"AssetController",title:"Asset",children:n.jsx(Le,{options:i,defaultValue:e,isDisabled:a,onChange:s=>{t(s.value)}})})},kp=e=>{const{assetState:t,strategyState:a,amountStrState:i,chosenDateState:s,strikesDataArrState:o,chosenStrikesState:r,collateralDataArrState:p}=e,[l,u]=t,[y]=a,[d]=i,[c]=s,m=oe[y].structure,b=dn(m),f=h.useState(!1),[T]=f,[x]=r,[g]=o,v={strike:[c],collateral:[d]},C={date:[y],strike:[l,y,c],collateral:[l,y,c],unstableFields:[y]},[k,O]=h.useState({date:[],strike:[],collateral:[]}),B=(w,P,D)=>{k[w][P]=D};return h.useEffect(()=>{O({date:[],strike:[],collateral:[]})},C.unstableFields),n.jsxs("div",{className:"BuilderForm__fields",children:[n.jsx(Vt,{asset:l,setAsset:u,isDisabled:T}),n.jsx(Rr,{strategyState:a,isDisabled:T}),n.jsx(Lr,{amountStrState:i,strategy:y}),n.jsx(io,{strategyStructure:m,chosenDateState:s,updateTriggers:v.date,resetTriggers:C.date,isDisabled:T,updateUnstableField:(w,P)=>{B("date",w,P)}}),n.jsx(bp,{asset:l,strategy:y,amountStr:d,chosenDate:c,strategyStructure:m,hasSell:b,strikesDataArrState:o,chosenStrikesState:r,areStrikesLoadingState:f,updateTriggers:v.strike,resetTriggers:C.strike,updateUnstableField:(w,P)=>{B("strike",w,P)}}),n.jsx(vp,{asset:l,strategy:y,amountStr:d,strategyStructure:m,hasSell:b,chosenStrikes:x,collateralDataArrState:p,updateTriggers:v.collateral,resetTriggers:C.collateral,updateUnstableField:(w,P)=>{B("collateral",w,P)}}),n.jsx(Cp,{strategyStructure:m,unstableFields:k,chosenStrikes:x,strikesDataArr:g,areStrikesLoading:T})]})},Sp=()=>n.jsxs(ae,{id:"BuilderForm_StrikeTooltip",children:[n.jsx("h6",{children:"Hegic Options (American options)"}),n.jsxs("p",{className:"my-5",children:["They require manual exercise before ",n.jsx("br",{}),"the expiration date. ",n.jsx("br",{}),"There are no secondary markets; out-",n.jsx("br",{}),"of-the-money options can't be sold."]}),n.jsx("h6",{children:"Rysk.Finance (European options)"}),n.jsxs("p",{className:"my-5",children:["They are only exercised automatically ",n.jsx("br",{}),"at the expiration date. ",n.jsx("br",{}),"Secondary markets are available; out-",n.jsx("br",{}),"of-the-money options can be sold."]})]});const wp=({strategy:e})=>{const t=oe[e],{outlooks:a,profit:i,loss:s,description:o}=t.stats;return n.jsxs(ae,{className:"WhenPurchaseTooltip",id:"BuilderForm_WhenPurchaseTooltip",place:"bottom-end",children:[n.jsxs("div",{className:"WhenPurchaseTooltip__header",children:[n.jsx("h2",{className:"WhenPurchaseTooltip__title",children:e}),n.jsx("div",{className:"WhenPurchaseTooltip__outlooks",children:a.map(r=>{const p=Ir[r];return n.jsx("div",{className:"WhenPurchaseTooltip__outlook",style:{color:p},children:r},r)})})]}),n.jsxs("div",{className:"WhenPurchaseTooltip__body",children:[n.jsx("h3",{className:"WhenPurchaseTooltip__subtitle",children:"When purchase"}),n.jsx("p",{className:"WhenPurchaseTooltip__description",children:o}),n.jsx("div",{className:"WhenPurchaseTooltip__stats",children:[i,s].map((r,p)=>{const l=p===0?"Profit":"Loss";return n.jsxs("div",{className:"WhenPurchaseTooltip__stats-item",children:[n.jsx("div",{className:"WhenPurchaseTooltip__stats-item-name",children:l}),n.jsx("div",{className:"WhenPurchaseTooltip__stats-item-value",children:r})]},`${l}_${r}`)})})]})]})},Pp=()=>n.jsxs(ae,{id:"BuilderForm_CollateralTooltip",children:["This refers to the amount ",n.jsx("br",{}),"you’re setting aside ",n.jsx("br",{}),"as collateral for selling options"]}),Mp=()=>n.jsxs(ae,{id:"BuilderForm_MaxCostTooltip",children:["This is the highest amount ",n.jsx("br",{}),"you’ll pay for buying options. ",n.jsx("br",{}),"If the option price rises ",n.jsx("br",{}),"beyond this, your transaction ",n.jsx("br",{}),"will be reverted."]}),Ap=()=>n.jsxs(ae,{id:"BuilderForm_MinReceivedTooltip",children:["This is the least amount you’re ",n.jsx("br",{}),"assured to receive when ",n.jsx("br",{}),"selling options. If the option ",n.jsx("br",{}),"price drops beyond this point, ",n.jsx("br",{}),"your transaction will ",n.jsx("br",{}),"be reverted."]}),Dp=()=>n.jsxs(ae,{id:"BuilderForm_YouPayWarningTooltip",children:["Apparently, the collateral you've set ",n.jsx("br",{}),"is too small. This may result in instant ",n.jsx("br",{}),"liquidation of the position."]}),Ep=()=>n.jsxs(ae,{id:"Builder_PremiumTooltip",children:[n.jsx("h6",{children:"Negative Premium"}),n.jsxs("div",{style:{margin:"3px 0 5px"},children:["Indicates the amount of USDC you ",n.jsx("br",{}),"have paid as an option buyer."]}),n.jsx("h6",{children:"Positive Premium"}),n.jsxs("div",{style:{margin:"3px 0"},children:["Denotes the amount of USDC you ",n.jsx("br",{}),"have received as an option seller."]})]}),Op=({strategy:e})=>n.jsxs("div",{className:"BuilderTooltips",children:[n.jsx(Sp,{}),n.jsx(wp,{strategy:e}),n.jsx(Pp,{}),n.jsx(Ep,{}),n.jsx(Mp,{}),n.jsx(Ap,{}),n.jsx(Dp,{})]});const qe=(e,t=2,a,i)=>{const s=G(e,a);return Bp(s,t,i)},Ip=(e,t=2,a)=>qe(e,t,a,!0),Bp=(e,t=2,a)=>{const i=a?"+":"",s=e<0?"–":e>0?i:"";return e=Math.abs(e),e=ce(e,t),e=wi(e,t),`${s}$${Pe(e)}`},jp=({strategy:e,amountStr:t,chosenStrikesState:a,collateralDataArrState:i,youPayState:s,swapSlippageState:o,shouldSwapState:r,setIsCostLoading:p})=>{const l=oe[e].structure,u=dn(l),y=$r(l),[d,c]=s,[m,b]=a,[f,T]=i,[x]=o,[g,v]=r,[C,k]=h.useState(null),[O,B]=h.useState(null),[w,P]=h.useState(null),[D,U]=h.useState(null),L=Vr(m),N=!!f.find(I=>I),j=I=>{m[I]=null,f[I]=null,b([...m]),T([...f])};h.useEffect(()=>{!!(d!=null&&d.inPaymentToken)&&v(ma(d)),p(!1)},[d]);const S={sum:I=>I.reduce((H,R,be)=>{if(be===0)return{inUSDC:R.inUSDC,decomposition:[R]};const En=H.decomposition;return En[be]={marketToken:R.marketToken,inMarketToken:R.inMarketToken,inUSDC:R.inUSDC},{inUSDC:H.inUSDC+R.inUSDC,decomposition:En}},I[0]),separateBuyFromSell:I=>{const $=[],H=[];return I.forEach(R=>{R&&(R.isLong?$.push(R):H.push(R))}),{buyCosts:$,sellCosts:H}},getArgsForHandler:I=>{const{reset:$}=_[I],{isAllowed:H,update:R}=A[I];return[$,H,R]}},_={collateral:{reset:()=>{U({inUSDC:0n})}},trade:{reset:()=>{k(null),B(null),P(null)}},youPay:{reset:()=>{c(null)}}},M={collateral:{calc:()=>{const I=f.filter(H=>H);return S.sum(I)}},trade:{calc:()=>{if(!t)return;const I=[],$=le(Ee(t));return m.forEach((H,R)=>{H&&I.push(H.utils.calcPremium($).then(be=>be?(H.premiumData=be,H.amount=$,be.isLong=H.isLong,be):(j(R),null)))}),Promise.all(I).then(H=>{const{buyCosts:R,sellCosts:be}=S.separateBuyFromSell(H);return{maxCost:S.sum(R),minReceived:S.sum(be)}})}},youPay:{calc:()=>u?(()=>{if(D!=null&&D.inUSDC)return{inUSDC:D.inUSDC+((C==null?void 0:C.inUSDC)??0n),decomposition:zr(l,C==null?void 0:C.decomposition,D.decomposition),shouldSwap:g}})():(()=>({inUSDC:C.inUSDC,decomposition:C.decomposition}))()}},A={collateral:{triggers:[f],isAllowed:N&&L,update:()=>{const I=M.collateral.calc();U(I)}},trade:{triggers:[m],debouncedTriggers:[t],isAllowed:L,update:()=>{M.trade.calc().then(I=>{const{maxCost:$,minReceived:H}=I;k($),B(H);const R={inUSDC:((H==null?void 0:H.inUSDC)??0n)-(($==null?void 0:$.inUSDC)??0n)};P(R)})}},youPay:{triggers:[w,D,x],isAllowed:!!(u?w!=null&&w.inUSDC&&(D!=null&&D.inUSDC):w!=null&&w.inUSDC),update:()=>{const I=M.youPay.calc();c(I)}}},F=(I,$,H)=>{I(),$&&(p(!0),H())};Object.keys(A).forEach(I=>{const $=()=>{F(...S.getArgsForHandler(I))},H=[...A[I].triggers],R=A[I].debouncedTriggers&&[...A[I].debouncedTriggers];R&&dt($,mt,R),h.useEffect($,H)});const W=()=>{const I=[];return y&&I.push({name:"Max. Cost",value:C==null?void 0:C.inUSDC}),u&&I.push({name:"Min. Received",value:O==null?void 0:O.inUSDC},{name:"Collateral",value:D==null?void 0:D.inUSDC}),I};return n.jsx("div",{className:E("BuilderCost",u&&"has-sell"),children:n.jsx(ae,{id:"BuilderForm_YouPayTooltip",className:"YouPayTooltip",place:"bottom-end",children:W().map(I=>n.jsxs("div",{className:"YouPayTooltip__item",children:[n.jsx("div",{className:"YouPayTooltip__item-name",children:I.name}),n.jsx("div",{className:"YouPayTooltip__item-value",children:I.value?qe(I.value):X()})]},I.name))})})};const Np=({id:e,decompositionArr:t,...a})=>n.jsx(ae,{className:"TooltipDecomposition",id:e,place:"bottom-end",...a,children:t.map((i,s)=>{const o=s===t.length-1;return n.jsxs(Ve.Fragment,{children:[n.jsxs("div",{className:"TooltipDecomposition__item",children:[n.jsx("div",{className:"TooltipDecomposition__item-name",children:i.nameNode}),n.jsx("div",{className:"TooltipDecomposition__item-value",children:i.valueNode})]}),!o&&n.jsx(We,{})]},s)})}),Lp=({decompositionData:e})=>n.jsx("div",{className:"GreeksDecompositionTooltips",children:Zt.map(t=>{const a=e[t];if(!a||!a.length)return null;const s=`BuilderForm_${qt(t)}DecompositionTooltip`;return n.jsx(Np,{id:s,decompositionArr:a},s)})});const Na="/sf_draft/assets/pen-9a5dbcdd.svg",Fp="/sf_draft/assets/confirm-e0180a57.svg",La=({title:e="Slippage",slippage:t,setSlippage:a})=>{var f;const i=T=>`${ce(T*100,6)}`,[s,o]=h.useState(i(t)),[r,p]=h.useState(!1),{node:l,ref:u,hasFocus:y}=Lt([s,o],{maxValue:100}),d=()=>{const T=i(Ke);o(T)},c=()=>{const T=Number(s)/100;a(T)},m=()=>{const T=u.current,x=T.value.includes(".");let g=(T.value.length+1)*8.5;x&&(g-=4),T.style.width=g+"px"},b=()=>{(!s||Number(s)===0)&&d(),c(),r||(p(!0),setTimeout(()=>{p(!1)},200))};return h.useEffect(()=>{m()},[s]),h.useEffect(()=>{y||b()},[y]),(f=u.current)==null||f.addEventListener("keyup",T=>{T.keyCode===13&&y&&u.current.blur()}),n.jsxs("div",{className:"SlippageInput",onClick:()=>{var T;r||(T=u.current)==null||T.focus()},children:[n.jsx("div",{className:"SlippageInput__title",children:e}),n.jsxs("div",{className:"SlippageInput__content",children:[n.jsxs("div",{className:E("SlippageInput__input-container",y&&"focused"),children:[l,n.jsx("span",{className:"SlippageInput__unit",children:"%"})]}),n.jsx("button",{className:"SlippageInput__btn",children:n.jsx("img",{src:y?Fp:Na,alt:"Edit slippage"})})]})]})},Rp=({swapSlippageState:e})=>{const[t,a]=e,i=fe();return n.jsx("div",{className:"SwapSlippageField",children:n.jsx(La,{title:i?"Uniswap Slippage":"Slippage",slippage:t,setSlippage:a})})},Up=({chosenStrikes:e,swapSlippageState:t,shouldSwapState:a})=>{const[i]=a,s={};Zt.forEach(y=>{s[y]=[]});const o=(y,d)=>{const c=y.greeks[d],m=xa(y.strike),b={nameNode:n.jsx(wa,{strikeData:y,priceNode:`$${Pe(m)}`}),valueNode:c??X()};s[d].push(b)},r=()=>n.jsx("div",{className:"BuilderCalculations__items",children:Zt.map(y=>{const d=qt(y),c=e.reduce((b,f)=>{if(!f)return b;o(f,y);const T=f.greeks[y];return(b??0)+T},void 0),m=c||c===0;return m||(s[y]=null),n.jsxs("div",{className:"BuilderCalculations__item",children:[n.jsx("div",{className:"BuilderCalculations__item-name",children:d}),n.jsx("div",{className:E("BuilderCalculations__item-value",m&&"tip"),"data-tooltip-id":`BuilderForm_${d}DecompositionTooltip`,children:m?Pi(c,3):X()})]},y)})}),p=()=>n.jsx(_a,{renderHeader:({state:y})=>`${y.isEnter?"Hide":"Show"} greeks`,children:r()}),u=fe(576);return n.jsxs("div",{className:"BuilderGreeks",children:[n.jsxs("div",{className:"BuilderGreeks__content",children:[u?p():r(),i&&n.jsx(Rp,{swapSlippageState:t})]}),n.jsx(Lp,{decompositionData:s})]})};const Hp=e=>{const{account:t}=ne();return e.map(i=>{let{data:s}=ui({address:t,token:i.isETH?null:i.address,watch:!0});return s||(s={value:0n}),{...s,address:i.address,symbol:i.symbol,isETH:i.isETH,isStable:i.isStable}})},qp=e=>{const{isConnected:t,account:a}=ne(),i=Z(),s=Hp(e),{data:o}=Se(t&&[a,"useTokenBalancesUSDC",s],async()=>{const r=[];return s.forEach(l=>{if(!l)return;l.inTokenDecimals=l.value,l.inDefaultDecimals=J(l.value,l.decimals);const u=He(i,l.address,l.inDefaultDecimals).then(y=>({...l,inUSDC:y})).catch(y=>(console.log(`Swapping ${l.symbol} to USDC error.

`+y),null));r.push(u)}),await Promise.allSettled(r).then(en)});return o??[]};const $p=({className:e,options:t,defaultOption:a,defaultValue:i,onChange:s,...o})=>n.jsx(Le,{className:E("SelectorInline",e),options:t,defaultOption:a,defaultValue:i,onChange:s,...o});const Vp=({paymentTokenState:e})=>{const t=Z(),{isConnected:a,account:i}=ne(),s=Vs(t),o=qp(s),[r,p]=e,l=()=>{const c=o.find(m=>m.symbol===r.symbol);c!==r.balance&&p({...r,balance:c})};h.useEffect(()=>{l()},[o,i]);const u=c=>a?c===null?X("Error"):te(c)||te(c.inUSDC)?n.jsx(ke,{}):`$${ee(c.inUSDC,0)}`:X(),y=s.map((c,m)=>{const b=o[m],f=u(b);return{label:n.jsxs("div",{className:"PaymentTokenSelector__item",children:[n.jsx("div",{className:"PaymentTokenSelector__item-name",children:n.jsx(re,{symbol:c.symbol,isHlight:!0,children:c.symbol})}),n.jsx("div",{className:"PaymentTokenSelector__item-value",children:f})]}),value:c.symbol,balance:b}}),d=[{label:n.jsxs("div",{className:"PaymentTokenSelector__item",children:[n.jsx("div",{children:"Asset"}),n.jsx("div",{children:"Balance, $"})]}),options:y}];return n.jsx($p,{className:"PaymentTokenSelector",options:d,defaultValue:r.symbol,onChange:c=>{const m=ie(t,c.value);p({...m,balance:c.balance})}},i)},Wp=({youPayState:e,paymentToken:t,isCostLoading:a,tooltipId:i,swapSlippage:s})=>{const o=Z(),[r,p]=e,l=()=>r.inUSDC<0?new Promise(m=>{m(null)}):Ho(o,t.address,r.inUSDC),u={triggers:[r],isAllowed:!!(r&&t&&te(r.inPaymentToken)),update:()=>{(f=>{const T=k=>Pt(k,s??Ke),x=k=>Pt(k,Nr),{inUSDC:g}=f,v=T(g),C=x(v);return f.inUSDC=C,f})(r);const b=()=>{setTimeout(()=>{p({...r})},1e3)};l().then(f=>{r.paymentToken=t,r.inPaymentToken=f,b()})}},y={triggers:[t.symbol],isAllowed:!!r,reset:()=>{r.inPaymentToken=void 0,p({...r})}};h.useEffect(()=>{u.isAllowed&&u.update()},[...u.triggers]),h.useEffect(()=>{y.isAllowed&&y.reset()},[...y.triggers]);const d={getNegativeValueNode:()=>n.jsx(re,{children:n.jsx("span",{className:"negative tip","data-tooltip-id":"BuilderForm_YouPayWarningTooltip",children:ee(r.inUSDC,0)})}),getPaymentTokenNode:()=>Ge(r.inPaymentToken,r.paymentToken.isStable),getUsdcNode:()=>r.inUSDC===0n?"$0":qe(r.inUSDC),getApproximatelySymbolNode:()=>n.jsx("span",{className:"muted_light mx-5",style:{fontSize:16},children:ks})};return(()=>a?n.jsx(ke,{}):!r||!t?X():te(r.inPaymentToken)?n.jsx(ke,{}):r.inPaymentToken===null?d.getNegativeValueNode():n.jsxs(re,{isHlight:!0,symbol:t.symbol,"data-tooltip-id":i,className:E(i&&"tip"),children:[d.getPaymentTokenNode(),!i&&n.jsxs(n.Fragment,{children:[d.getApproximatelySymbolNode(),d.getUsdcNode()]})]}))()},Gp=({paymentToken:e})=>{const{isConnected:t}=ne();if(!t)return X();if(e.balance===null)return X("Error");if(te(e.balance))return n.jsx(ke,{});const a=e.balance.value===0n?0:void 0;return n.jsx(re,{symbol:e.symbol,isHlight:!0,children:Ge(e.balance.inDefaultDecimals,e.isStable,a)})},Fa=()=>({opening:[],closing:[]});h.createContext(Fa());const Kp=(e,t)=>{const[a,i]=e;for(const s in a){const o=a[s];if(o.length){const r=o.filter(p=>p.market!==t);a[s]=r,i({...a})}}},Yp=13,zp=e=>{const{isConnected:t,account:a}=ne(),i=Z(),s=yn(),[o,r]=h.useState(void 0),p=()=>{o&&r(void 0)},l=new V(...K(i,"Hegic_PositionManager"),Y(i)),{error:u,mutate:y}=Se(t&&s&&[a,"useHegicPositions"],async()=>{const d=[],c=Fo(i),m=Qp(l,a),f=(await l.queryFilter(m)).map(T=>T.args.tokenId);if(f.length){const T=[];for(let x=0;x<c.length;x++){const g=c[x],v=Ea(i,g),C=Zp(g,f),k=v.queryFilter(C),O=w=>Xp(i,w,a,s),B=k.then(async w=>{const P=w.map(O),D=await Promise.all(P);d.push(...tn(D))});T.push(B),await Yn(T,Yp,c.length,x)}}r(d??[]),e&&e()},{refreshInterval:Tn});return h.useEffect(()=>{p(),a&&y()},[a,t]),u&&console.log(`Fetching Hegic positions error:
`,u),o},Qp=(e,t)=>({address:e.address,topics:[Dt("Transfer(address,address,uint256)"),null,ot(t,32)]}),Zp=(e,t)=>{const a=[Dt("Acquired(uint256,(uint128,uint128),uint256,uint256,uint256,bytes[])"),t.map(s=>ot(s,32))];return{address:e,topics:a}},Xp=async(e,t,a,i)=>{const s=t.address,o=st(t.decode(t.data,t.topics));o.data=st(o.data);const r=new V(...K(e,"Hegic_OperationalTreasury"),Y(e)),p=await r.lockedLiquidity(o.id),l=p.expiration*z;if(Date.now()>l||p.state===0)return;const{asset:d,isCall:c,isSpread:m,isLong:b,strikeScale:f}=Jp(e,s);Object.assign(o,{asset:d,isCall:c,isSpread:m,isLong:b});const T=Qt(o.data.amount,d),x=i[d],g=el(o,f);Object.assign(o,{strike:g});const{premium:v,pnl:C}=await tl(e,o,s),k=Ce(xe(v),T),O=C.inPercentage===le(-100),B=nl(o,x);return{market:"Hegic",id:Number(o.id),asset:d,amount:T,strike:g,isCall:c,isSpread:m,isLong:b,premium:v,pnl:C,entryPrice:k,expiry:l,greeks:B,utils:{calcPnl:async()=>new Promise(P=>{P(C)})},actions:{close:async()=>{const P=Ae();return r.connect(P).payOff(o.id,a)},isClosingDisabled:O}}},Jp=(e,t)=>{const a=Lo(e),i=Object.keys(a).find(u=>a[u]===t),[s,o,r]=i.split("_"),p=s.includes("CALL"),l=s.includes("SPREAD");return{asset:r,isCall:p,isSpread:l,isLong:!0,strikeScale:o}},el=(e,t)=>{const a=J(e.data.strike,Mi);let i=Kn(a/100n*BigInt(t));return e.isSpread&&(i=a),i},tl=async(e,t,a)=>{const i=Ea(e,a),s=gt(J(t.positivepnl,Yt)),r=J(BigInt(await i.payOffAmount(t.id)),Yt)+s,p={inUSDC:r,inPercentage:bt(t.isLong,r,s)};return{premium:s,pnl:p}},nl=(e,t)=>{const a={strike:e.strike,isCall:e.isCall,amount:e.data.amount};return{delta:Cn.calcDeltaByAssetPrice(a,t),vega:void 0,gamma:void 0,theta:void 0,rho:void 0}},al=e=>{const t=Z(),{account:a,isConnected:i}=ne(),[s,o]=h.useState(void 0),r=()=>{s&&o(void 0)},{error:p,mutate:l}=Se(i&&[a,"usePremiaPositions"],async()=>{const u=await De.queryPremia(t),d=(await u.users.getOptionPositionsExtendedForUser(a,!0)).map(il).map(m=>rl(u,m)),c=await Promise.all(d).then(tn);o(c),e&&e()},{refreshInterval:Tn});return h.useEffect(()=>{r(),a&&l()},[a,i]),p&&console.log(`Fetching Premia positions error:
`,p),s},il=e=>{const{size:t,maturity:a,strike:i,isBuy:s,premiumPaid:o,premiumReceived:r}=e,p=BigInt(o),l=BigInt(r),u={asset:sl(e),amount:BigInt(t),premium:s?p:l,partialClosingPremium:s?l:p,expiry:a*z,strike:BigInt(i),isLong:s};return{...e,...u}},sl=e=>{const t=e.base;return t.isWrappedNative?t.symbol.split("W")[1]:t.symbol},rl=async(e,t)=>{const{asset:a,amount:i,expiry:s,isCall:o,isLong:r,strike:p,base:l}=t;let u=t.premium;u||(u=xe(await ol(e,t)));const y=o?await He(e.chainId,l.address,u):u,d=Ce(y,t.amount);t.entryPrice=d,t.premium=y,t.premiumInMarket=me(u,o?l.decimals:it);const c=await De.queryClosingQuote(e,t);t.closingQuote=c;const m=c==null?void 0:c.priceInUSDC,b=await Hn(e,t,c),f=Date.now()>s;return{market:"Premia",id:De.getId({isLong:r,isCall:o,strike:p,expiry:s},l.address),asset:a,amount:i,strike:p,isCall:o,isLong:r,premium:r?gt(y):xe(y),expiry:s,pnl:b,entryPrice:d,closePrice:m,greeks:ba(),utils:{calcPnl:async x=>{const g={...t,amount:x};return await Hn(e,g)}},actions:{close:ll(e,t),isClosingDisabled:!f&&!t.closingQuote}}},ol=async(e,t)=>{const a=r=>{const p=zn(r,["uint256","bool","uint256"]);return p==null?void 0:p[2].toBigInt()};return(await pl(e,t)).map(a).reduce((r,p)=>r+(p??0n),0n)-t.partialClosingPremium},pl=async(e,t)=>{const{address:a}=t,i=await De.queryVaultContract(e,t),o=(()=>{const p=Nt(e.chainId,"TxBuilderOpen_Premia");return{address:i.address,topics:[Dt("Trade(address,address,uint256,bool,uint256,uint256,uint256,uint256)"),ot(p,32),ot(a,32)]}})();return await i.queryFilter(o)},Hn=async(e,t,a)=>{const{address:i,amount:s,isCall:o,isLong:r,expiry:p,base:l,premiumInMarket:u,premium:y}=t;let d;a||(a=await De.queryClosingQuote(e,t));const c=De.calcClosingPremium(t,a);if(Date.now()>p||!c){const T=await e.options.getProfitLoss(i,r,u),x=Be(T,s),g=x<0n,v=o?await He(e.chainId,l.address,xe(x)):xe(x);d=g?-v:v}else d=r?c-y:y-c;const b=y!==0n?bt(r,d,y):0n;return{inUSDC:d,inPercentage:b}},ll=(e,t)=>{const{address:a,amount:i,isLong:s,expiry:o,closingQuote:r}=t,{buy:p,sell:l,exercise:u,settle:y,fillQuote:d}=e.pools;let c;const m=Date.now()>o,b=(r==null?void 0:r.providerType)==="orderbook";return m?s?c=u:c=y:b?c=d:s?c=l:c=p,c=c.bind(e.pools),async f=>{if(m)return c(a,e.signer);const T=await De.queryClosingQuote(e,t,b),x=BigInt(T.price),g=Be(x,f),v=e.pricing.premiumLimit(g,Xr,T.isBuy),C={quote:T,signature:T.signature,size:f??i,premiumLimit:v,referrer:ln};if(b){const k=await e.pools.isQuoteValid(T);k.isValid||console.log("Premia Quote Validation error:",k)}return c(a,C,e.signer)}},Ra=(e,t,a)=>{const i=Tt(e,"Rysk_Otoken");return new V(t,i,a?Ae():Y(e))},ul=e=>{const t=Z(),{account:a,isConnected:i}=ne(),[s,o]=h.useState(void 0),r=()=>{s&&o(void 0)},p=new V(...K(t,"Rysk_OptionExchange"),Y(t)),{error:l,mutate:u}=Se(i&&[a,"useRyskPositions"],async()=>{const y=yl(p,a),d=await dl(p,y),c=cl(t,d),b=Object.values(c).map(f=>Tl(t,f,a));await Promise.all(b).then(f=>f.filter(T=>T)).then(f=>{o(f??[])}),e&&e()},{refreshInterval:Tn});return h.useEffect(()=>{r(),a&&u()},[a,i]),l&&console.log(`Fetching Rysk positions error:
`,l),s},yl=(e,t)=>{const a=i=>({address:e.address,topics:[Dt(`Options${i?"Bought":"Sold"}(address,address,uint256,uint256,uint256)`),null,ot(t,32)]});return{buyFilter:a(!0),sellFilter:a(!1)}},dl=async(e,t)=>{const a=p=>p.map(u=>(u.args={...u.args,isLong:!0},u)),{buyFilter:i,sellFilter:s}=t,[o,r]=await Promise.all([e.queryFilter(i).then(a),e.queryFilter(s)]);return{buyEvents:o,sellEvents:r}},cl=(e,t)=>{const a={},{buyEvents:i,sellEvents:s}=t,o=[...i,...s],r=ye.getMarketToken(e),p=async u=>{const y=await u.getTransactionReceipt(),d=Nt(e,"Rysk_OptionRegistry"),c=y.logs.find(f=>f.address===d);if(!c)return null;const m=zn(c,["uint"]);return m?m[0].toBigInt():null};o.forEach(u=>{const{isLong:y,optionAmount:d,premium:c,fee:m,series:b}=st(u.args),f=y?d:gt(d),T=J(c,r.decimals),x=y?gt(T):T,g=J(m,6),v=Ce(T+g,f),C=Be(v,f),k=y?d:0n,O=y?C:0n;a[b]?(a[b].amount+=f,a[b].premium+=x,a[b].amountSum+=k,a[b].contractValueSum+=O):a[b]={isLong:y,amount:f,premium:x,amountSum:k,contractValueSum:O,seriesAddress:b,vaultIdPromise:p(u),event:u}});const l=u=>{const{amountSum:y,contractValueSum:d}=u;return y===0n?null:Ce(d,y)};return Object.values(a).forEach(u=>{u.amount<0n&&(u.amount=xe(u.amount),u.isLong=!1),u.entryPrice=l(u)}),{...a}},ml=async(e,t,a,i)=>{let s;return a?s=(await e.balanceOf(i)).toBigInt()>0n:s=t>0n,s},Tl=async(e,t,a)=>{const{seriesAddress:i,amount:s,premium:o,entryPrice:r,isLong:p,vaultIdPromise:l}=t;if(!p)return null;const u=Ra(e,i);if(!await ml(u,s,p,a))return null;const d=u.getOtokenDetails().then(U=>{const[,L,,N,j,S]=U,_=BigInt(N),M=Number(j),A=!S,[,F]=St(e,L).symbol.split("W"),q=J(_,8),W=M*z;return{isCall:A,asset:F,strike:q,expiry:W}}),[c,{isCall:m,asset:b,strike:f,expiry:T}]=await Promise.all([l,d]),x=ye.getOptionSeries(e,T,f,m,i),g=[e,x,s,o,p,r],v=await ye.calcPnlWithGreeks(...g);if(!v)return null;const{pnl:C,greeks:k}=v,O=fl(...g),w=ye.getIsExpired(x)?!1:!await hl(e,p,x),P=w||C.closePrice===0n;return{market:"Rysk",id:ye.getId({isCall:m,isLong:p,strike:f,expiry:T},x.underlying),asset:b,amount:s,strike:f,isCall:m,isLong:p,premium:o,expiry:T,pnl:C,entryPrice:r,closePrice:P?void 0:C.closePrice,greeks:k,utils:{calcPnl:O},actions:{close:bl(e,s,x,c,a),isClosingDisabled:w}}},fl=(e,t,a,i,s,o)=>async p=>(await ye.calcPnlWithGreeks(e,t,p??a,i,s,o)).pnl,bl=(e,t,a,i,s)=>{const{address:o}=a,r=me(t,8),p=ye.getIsExpired(a),l=new V(...K(e,"Rysk_OpynController"),Ae()),u=new V(...K(e,"Rysk_OptionExchange"),Ae()),y=async m=>{const b=me(m,8),f=Ra(e,o,!0);return(await f.allowance(s,u.address)).toBigInt()>=b?Ai():f.approve(u.address,b)};return p?async()=>{const b=[{actionType:8,owner:ue,secondAddress:s,asset:o,vaultId:0n,amount:r,index:0n,data:ue}];return l.operate(b)}:async m=>{await y(m).then(g=>g==null?void 0:g.wait());const{OPERATION_TYPES:b,RYSK_ACTION_TYPES:f,EMPTY_SERIES:T}=ht,x=[{operation:b.Rysk,operationQueue:[{actionType:f.Sell,owner:ue,secondAddress:s,asset:o,vaultId:0n,amount:m,optionSeries:T,indexOrAcceptablePremium:0n,data:ue}]}];return u.operate(x)}},hl=async(e,t,a)=>await ye.validateOptionSeries(e,!t,a),xl=(e,t)=>{const a=y=>()=>{Kp(e,y)},i={Hegic:zp(a("Hegic")),Rysk:ul(a("Rysk")),Premia:al(a("Premia"))},s=gl(i),{isConnected:o}=ne();if(!o)return{};const[r,p]=t;return Object.values(s).every(y=>!te(y))&&!r&&p(!0),s},gl=e=>{const t={};for(const a in e){const i=e[a],s=i&&i.filter(o=>!(Date.now()>o.expiry&&o.pnl.inPercentage===le(-100)));t[a]=s}return t},Ua=h.createContext(null),_l=({children:e})=>{const t=vl();return n.jsx(Ua.Provider,{value:t,children:e})},Ie=()=>h.useContext(Ua),vl=()=>{const e=h.useState(Fa()),[t,a]=h.useState(!1),i=xl(e,[t,a]),s=Cl(i),o=kl(s),r=je("swap-slippage",Ke),{account:p}=ne();return h.useEffect(()=>{a(!1)},[p]),{positions:s,positionsByMarket:i,positionsTotalData:o,arePositionsLoaded:t,pendingPositionsState:e,swapSlippageState:r}},Cl=e=>Object.values(e).reduce((a,i)=>(i&&a.push(...i),a),[]),kl=e=>{if(!e.length)return null;const t={premium:0n,collateral:{inUSDC:0n},pnl:{inUSDC:0n},greeks:{},isTotal:!0},a=e.reduce((o,r,p)=>{var u;const l=Rt(o,r,["premium","pnl.inUSDC"]);return l.greeks=ha(o.greeks,r.greeks),(u=r.collateral)!=null&&u.inUSDC&&(l.collateral.inUSDC+=r.collateral.inUSDC),l},t),i=()=>bt(null,a.pnl.inUSDC,a.premium),s=e.length===1;return a.pnl.inPercentage=s?e[0].pnl.inPercentage:i(),a},Ha=({paymentTokenState:e,youPayState:t,youPayTooltipId:a,isCostLoading:i})=>{const s=Ie(),[o]=s.swapSlippageState,[r]=e;return n.jsxs("div",{className:"PaymentMethodPanel",children:[n.jsxs("div",{className:"PaymentMethodPanel__section",children:[n.jsx("div",{className:"PaymentMethodPanel__section-title",children:"Select Payment method"}),n.jsx("div",{className:"PaymentMethodPanel__section-content",children:n.jsx(Vp,{paymentTokenState:e})})]}),n.jsxs("div",{className:"PaymentMethodPanel__section",children:[n.jsx("div",{className:"PaymentMethodPanel__section-title",children:"You pay"}),n.jsx("div",{className:"PaymentMethodPanel__section-content",children:n.jsx(Wp,{youPayState:t,paymentToken:r,isCostLoading:i,tooltipId:a,swapSlippage:o})})]}),n.jsxs("div",{className:"PaymentMethodPanel__section",children:[n.jsx("div",{className:"PaymentMethodPanel__section-title",children:"Balance"}),n.jsx("div",{className:"PaymentMethodPanel__section-content",children:n.jsx(Gp,{paymentToken:r})})]})]})},Sl=({paymentToken:e,setPaymentToken:t,youPayState:a,confirmButtonNode:i,isCostLoading:s})=>n.jsxs("div",{className:"BuilderSwap",children:[n.jsx(Ha,{paymentTokenState:[e,t],youPayState:a,youPayTooltipId:"BuilderForm_YouPayTooltip",isCostLoading:s}),i]}),wl=(e,t,a,i,s,o,r)=>{const{isConnected:p}=ne(),{connectWallet:l}=on(),u=dn(t),y=a.length!==t.length||!a.every(g=>g),d=!!i.find(g=>g&&g.inMarketToken===0n),c=a.find(g=>g==null?void 0:g.isComingSoon),m=()=>{if(!e)return"Enter Amount";if(y)return"Fill out the Strike fields";if(u&&d)return"Fill out the Collateral fields";if(!s)return"Please, wait...";if(s>o)return"Insufficient balance"},b=()=>!p||c?!0:!m(),f=()=>{const g="Buy Strategy";return p?c?`Visit ${c.market} app`:m()??g:"Connect wallet"},T=()=>{if(!p){l();return}if(c){window.open(c.marketLink);return}r()};return n.jsx(de,{className:"BuilderForm__button",onClick:T,isDisabled:!b(),children:f()})},Pl=({strategy:e,amountStr:t,youPayState:a,chosenStrikesState:i,collateralDataArrState:s,openBuyModal:o,swapSlippageState:r})=>{var C;const p=Z(),[l,u]=je("payment-token","ETH"),[y,d]=h.useState(ie(p,l)),c=h.useState(!1),[m,b]=h.useState(!1);h.useEffect(()=>{if(u(y.symbol),!y.address){const k=ie(p,y.symbol);d({...y,...k})}},[y]);const[f]=i,[T]=s,[x]=a,g=oe[e].structure,v=wl(t,g,f,T,x==null?void 0:x.inPaymentToken,(C=y.balance)==null?void 0:C.inDefaultDecimals,o);return n.jsxs("div",{className:"BuilderCalculations",children:[n.jsx(Up,{chosenStrikes:f,swapSlippageState:r,shouldSwapState:c}),n.jsx(jp,{strategy:e,amountStr:t,chosenStrikesState:i,collateralDataArrState:s,youPayState:a,swapSlippageState:r,shouldSwapState:c,setIsCostLoading:b}),n.jsx(Sl,{youPayState:a,paymentToken:y,setPaymentToken:d,confirmButtonNode:v,isCostLoading:m})]})};const Ml=({stagesArr:e})=>n.jsx("div",{className:"Stages",children:e.map(t=>n.jsx("div",{className:E("Stages__item",t.isActive&&"active"),children:t.name},t.name))}),qa=(e,t,a,i,s=Ke,o={setIsLoading:()=>{},closeModal:()=>{},addPendingPosition:()=>{}})=>{const r=Z(),p=oe[e],[l,u]=h.useState({moduleArr:[],parametersArr:[],swapDataArr:[],productType:BigInt(p.key)}),[y,d]=h.useState([]);if(!(i!=null&&i.inPaymentToken))return null;const{setIsLoading:c,closeModal:m,addPendingPosition:b}=o,{paymentToken:f,decomposition:T}=i,x=f.isETH,g=()=>y.reduce((D,U)=>D+U,0n),v=new V(...K(r,"TxBuilder"),Ae()),C=(P,D)=>{const U=jr[P.protocolName];return v.module(U).then(L=>{l.moduleArr[D]=L})},k=async(P,D)=>{const{isLong:U}=P;let L;U&&(L=T[D]);const N=a[D],j={setToCollateral:N&&an.from(N.inMarketToken),isBaseCollateral:N==null?void 0:N.isBase,premiumData:L};return P.utils.getBuilderParams(P.amount,j,f.decimals).then(M=>{l.parametersArr[D]=M})},O=(P,D)=>{const U=new V(...K(r,"Exchanger"),Y(r)),L=T[D],N=L.marketToken,j=Oa(f.address,N.address),S=L.inMarketToken,_=ca(f,N);return _n(r,N.address,f.address,S).then(M=>Pt(M,s)).then(M=>{const A=me(M,f.decimals),F=me(S,N.decimals);return x&&(y.push(A),d([...y])),U.encodeFromExchange({path:j,tokenIn:f.address,tokenOut:N.address,amountIn:A,amountOutMinimum:F,isETH:x,swap:_}).then(q=>{l.swapDataArr[D]=q})})},B=()=>{const P=[];return t.forEach((D,U)=>{P.push(C(D,U),k(D,U),O(D,U))}),Promise.all(P).then(()=>{u({...l})}).catch(D=>{throw console.log(D),c(!1),new Error("Something went wrong")})};return()=>{c(!0);const{amount:P,asset:D}=t[0];return B().then(()=>{const{isHidden:U}=p,L=G(P),N=L!==1,j=p.plural??`${e}s`,S=N?j:e,_=U?`${D} ${S} opened.`:`${L} ${D} ${S} opened.`,M=n.jsxs(re,{symbol:D,children:[U?"":`${L} `,S," opened."]}),A={text:_,node:M};return It(r,v.consolidationOfTransactions,[l.moduleArr,l.parametersArr,l.swapDataArr,l.productType,y.length?{value:g()}:{}],A,c,m)}).then(()=>{d([])}).catch(pt)}},Sn=(e,t,a,i=s=>{})=>{const{account:s}=ne(),o=Z(),r=ie(o,e);return{check:async()=>r.isETH?new Promise(l=>l(!0)).then(i):Hr(o,r,s,t,a).then(i),approve:async(l,u)=>{if(r.isETH)throw new Error("Trying to approve ETH");return Ur(o,r,t,a,l,u)}}},Al=({isOpen:e,setIsOpen:t,asset:a,strategy:i,amountStr:s,chosenStrikes:o,collateralDataArr:r,youPay:p,swapSlippage:l})=>{const u=Z(),y=oe[i],[d,c]=h.useState(!1),[m,b]=h.useState(null),f=Ie(),[T,x]=f.pendingPositionsState,g=qa(i,o,r,p,l,{setIsLoading:c,closeModal:()=>t(!1),addPendingPosition:A=>{A.isOpening=!0,T.opening.push(A),x({...T})}}),v=ma(p),k=["Approve","Buy"].map(A=>({name:A,isActive:m===A})),{paymentToken:O,inPaymentToken:B}=p,w=Ge(B,O.isStable),P=O.symbol,D=`${w} ${P}`,U={Approve:`Approve ${D}`,Buy:`Pay ${D}`},L=new V(...K(u,"Exchanger"),Ae()),N=Sn(P,L.address,B,A=>{b(A?"Buy":"Approve")}),j=()=>{b(null),N.check()};h.useEffect(()=>{e&&j()},[e,p]);const S=()=>{if(!m)return"Please, wait...";if(d){if(m==="Approve")return`Approving ${P}...`;if(m==="Buy")return`Buying ${i}...`}},_={approve:()=>{N.approve(c,j)},buy:g},M={getBtnText:()=>S()??U[m],getIsBtnEnabled:()=>!S(),getBtnOnClick:()=>{switch(m){case"Approve":return _.approve;case"Buy":return _.buy}}};return n.jsxs(ct,{className:"BuyBuildModal",isOpen:e,setIsOpen:t,children:[n.jsx(Ml,{stagesArr:k}),n.jsx("h1",{className:"BuyBuildModal__title",children:m??n.jsx(ke,{})}),n.jsxs("div",{className:"BuyBuildModal__strategy",children:["Strategy",n.jsxs("div",{className:"BuyBuildModal__strategy-info",children:[n.jsx("span",{className:"BuyBuildModal__strategy-name",style:{color:y.color},children:i}),n.jsx(We,{isVertical:!0}),n.jsx(re,{className:"BuyBuildModal__strategy-amount",symbol:a,isHlight:!0,children:s})]})]}),v&&n.jsx("div",{className:"BuyBuildModal__footer",children:n.jsxs("p",{className:"BuyBuildModal__hint",children:["Sharwa.Finance will auto-convert your ",D," into tokens compatible with the options protocols where your positions are to be opened, using Uniswap v3."]})}),n.jsx(de,{className:"BuyBuildModal__button",isDisabled:!M.getIsBtnEnabled(),onClick:M.getBtnOnClick(),children:M.getBtnText()})]})},Dl=({assetState:e,strategyState:t,amountStrState:a,chosenDateState:i,strikesDataArrState:s,chosenStrikesState:o,collateralDataArrState:r})=>{const p=h.useState(null),[l]=p,[u,y]=h.useState(!1),d=Ie(),{swapSlippageState:c}=d,[m,b]=c;El(m)||b(Ke);const[f]=e,[T]=t,[x]=a,[g]=o,[v]=r,C=()=>{y(!0)};return n.jsxs("div",{className:"BuilderForm App-box",children:[n.jsx(kp,{assetState:e,strategyState:t,amountStrState:a,chosenDateState:i,strikesDataArrState:s,chosenStrikesState:o,collateralDataArrState:r}),n.jsx(Pl,{strategy:T,amountStr:x,youPayState:p,chosenStrikesState:o,collateralDataArrState:r,openBuyModal:C,swapSlippageState:c}),(l==null?void 0:l.inPaymentToken)&&n.jsx(Al,{isOpen:u,setIsOpen:y,asset:f,strategy:T,amountStr:x,chosenStrikes:g,collateralDataArr:v,youPay:l,swapSlippage:m}),n.jsx(Op,{strategy:T})]})},El=e=>!(typeof e!="number"||e>1||e<0);const Ol=({asset:e,strategy:t,amountStr:a,chosenStrikes:i,collateralDataArr:s})=>{var j;const o=oe[t].structure,r=h.useRef(null),p=Ee(a),l={amount:p,strikes:i.map(S=>G((S==null?void 0:S.strike)??0n)),premiums:i.map(S=>{var M;const _=(M=S==null?void 0:S.premiumData)==null?void 0:M.inUSDC;return _&&G(_)}),strategies:o,collaterals:s,isReady:p&&i.length===o.length&&i.every(S=>S)},u=e==="ETH",y=u?.3:.2,d=u?5:10,c=100,m=Oe(e),b=G(m),f=b&&Math.round(b/d)*d,T=(S,_)=>{const M=l.strategies[S],A=l.premiums[S],F=l.strikes[S],q=l.amount,W=l.collaterals[S],I=(W==null?void 0:W.liquidationPrice)&&G(W.liquidationPrice),$=W&&G(W.inMarketToken),H=W==null?void 0:W.isBase;let R;if(A){switch(M){case 1:_<F?R=-A:R=(_-F)*q-A;break;case 2:_>F?R=-A:R=(F-_)*q-A;break;case-1:if(I&&_>I)H?R=-($*I)+A:R=-$+A;else if(H){const be=(F-b)*q+A;_>F?R=be:R=(_-b)*q+A}else _<F?R=A:R=(F-_)*q+A;break;case-2:I&&_<I?H?R=-($*I)+A:R=-$+A:_>F?R=A:R=(_-F)*q+A;break}if(R)return Number(R)}},g=(()=>{if(!l)return;const S=l.strikes.reduce((W,I)=>(W+I)/2,l.strikes[0]),_=window.innerWidth>480?y:y-.05,M=Math.round(S*(1-_)/100)*100,A=Math.round(S*(1+_)/100)*100,F=[];for(let W=0;W<(A-M)/d;W++){const I=M+W*d;F.push(I)}const q=[];return l.strategies.forEach((W,I)=>{F.forEach(($,H)=>{const R=T(I,$);I===0?q.push({closePrice:$,pnl:R}):q[H].pnl=q[H].pnl+R})}),q})(),v=(j=g.reduce((S,_)=>_.pnl>S.pnl?_:S,g[0]))==null?void 0:j.pnl,C=v&&Pe(v.toFixed(0)),O=(()=>{if(!g)return;const S=Math.max(...g.map(A=>A.pnl)),_=Math.min(...g.map(A=>A.pnl));if(S<=0)return 0;if(_>=0)return 1;const M=S/(S-_);return isNaN(M)?0:M})(),B=({value:S,cx:_,cy:M})=>{const A=S[1];let F;return A<0?F=se:A>0?F=Me:F=et,n.jsx("circle",{cx:_,cy:M,r:5,style:{opacity:"0.9"},fill:F})},w=S=>{const{active:_,payload:M,label:A}=S,F=_&&M&&M.length&&Number(M[0].value.toFixed(2));return _&&M&&M.length?n.jsxs("div",{className:"react-tooltip",children:[n.jsxs(re,{symbol:e,isHlight:!0,isSmall:!0,children:["$",Pe(A)]}),n.jsxs("p",{children:["PnL ",n.jsx("span",{className:E({positive:F>0,negative:F<0}),children:`${F!==0?F>0?"+":"-":""}$${Pe(Math.abs(F))}`})]})]}):null},P=S=>Pe(S),D={fill:et,fontSize:13},U=tt,[L,N]=h.useState(null);return h.useEffect(()=>{if(r.current&&g){let S;const _=Math.round(c/(r.current.clientWidth/g.length));_<20?S=19:S=Math.floor(_/20)*20-1,N(S)}},[r.current,g,window.innerWidth]),n.jsx("div",{className:"BuilderPositionChart App-box",ref:r,children:l.isReady?n.jsx(ts,{children:n.jsxs(ns,{data:g,margin:{left:(C==null?void 0:C.length)*7.5-40,right:15,top:15},children:[n.jsx(as,{dataKey:"closePrice",interval:L,tickFormatter:P,tick:D,stroke:U}),n.jsx(is,{dataKey:"pnl",tickFormatter:P,tick:D,stroke:U,padding:{bottom:15}}),n.jsx(ss,{cursor:{stroke:et},content:n.jsx(w,{})}),n.jsx(rs,{type:"monotone",dot:!1,dataKey:"pnl",stroke:"url(#splitColor)",activeDot:n.jsx(B,{}),fill:"url(#splitColorTransparent)"}),n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"splitColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:O,stopColor:Me,stopOpacity:1}),n.jsx("stop",{offset:O,stopColor:se,stopOpacity:1})]}),n.jsxs("linearGradient",{id:"splitColorTransparent",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:O,stopColor:Me,stopOpacity:.3}),n.jsx("stop",{offset:O,stopColor:se,stopOpacity:.3})]})]}),n.jsx(In,{x:f,stroke:tt,strokeDasharray:"3 3",label:{value:"Current Price",fill:tt,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}}),l.collaterals.length&&l.collaterals.map(S=>{if(!S||!S.liquidationPrice)return;const _=G(S.liquidationPrice),M=Math.round(_/d)*d;return n.jsx(In,{x:M,stroke:se,strokeDasharray:"3 3",label:{value:"Liq. Price",fill:se,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}},_)}),n.jsx(os,{stroke:"rgba(58, 68, 102, 0.15)"})]})}):n.jsx(Ue,{children:"Fill out the Strike fields to view position chart"})})},Il=e=>{const{assetState:t}=e,a=h.useState("Long Call"),i=h.useState("1"),s=h.useState(null),o=h.useState([]),r=h.useState([]),p=h.useState([]),[l]=t,[u]=a,[y]=i,[d]=r,[c]=p;return n.jsxs("div",{className:"BuilderDashboard",children:[n.jsx(Dl,{assetState:t,strategyState:a,amountStrState:i,chosenDateState:s,strikesDataArrState:o,chosenStrikesState:r,collateralDataArrState:p}),n.jsx(Ol,{asset:l,strategy:u,amountStr:y,chosenStrikes:d,collateralDataArr:c})]})},Bl=6,jl=()=>{const{isConnected:e,account:t}=ne(),a=Z(),i=new V(...K(a,"TxBuilder"),Y(a)),{data:s,error:o}=Se(e&&[t,"useBuilderPositionsStructure"],async()=>{var d;const r=[],p={},l={},u=await Ll(i,t),y=[];for(let c=0;c<u.length;c++){const m=u[c],{buildID:b,productType:f}=st(m.args),T=ua.find(O=>oe[O].key===Number(f)),x={strategy:T,buildId:b,legsStructure:[]},g=(d=oe[T])==null?void 0:d.isCollection,v=Nl(a,b),C=[];for(const O in v)v[O].forEach(w=>{w.then(P=>{const D=Ul(P,O);x.legsStructure.push(...D),ql(D,b,p)}),C.push(w)});const k=Promise.all(C).then(()=>{r.push(x),g&&Vl(x,l)});y.push(k),await Yn(y,Bl,u.length,c)}return $l(r,p),Wl(r,l),r},{refreshInterval:2e4});return o?(console.log(`Builder Positions error:
`,o),null):s},Nl=(e,t)=>{const{Hegic:a,Lyra_ETH:i,Lyra_BTC:s,Rysk:o,Premia:r}=Yr(e),{OpenPositionByHegic:p}=a.filters,{OpenPositionByLyra:l}=i.filters,{OpenPositionByLyra:u}=s.filters,{OpenPositionByRyskFinance:y}=o.filters,{OpenPositionByPremia:d}=r.filters,c=[a.queryFilter(p(t))],m=[i.queryFilter(l(t)),s.queryFilter(u(t))],b=[o.queryFilter(y(t))],f=[r.queryFilter(d(t))];return{Hegic:c,Lyra:m,Rysk:b,Premia:f}},Ll=async(e,t)=>{const{CreateBuild:a}=e.filters,i=await e.queryFilter(a(null,t));return(await Fl(i,e.provider)).reverse()},Fl=async(e,t)=>{const a=e.map(o=>Rl(o,t)),i=await Promise.all(a);return e.filter((o,r)=>{if(i[r])return!0})},Rl=async(e,t)=>{const a=await t.getBlock(e.blockNumber),i=wt[wt.length-1],s=Date.now()-i-ft(1);if(a.timestamp*z>s)return!0},Ul=(e,t)=>e.map(i=>{const s=Hl(t,i);return{market:t,id:s}}),Hl=(e,t)=>{switch(e){case"Hegic":case"Lyra":return Number(t.args.tokenID);case"Rysk":{const a=t.args.operationProcedures[0].operationQueue[1],{optionSeries:i,actionType:s}=a,{strike:o,underlying:r,expiration:p}=i,l=s.toNumber()===ht.RYSK_ACTION_TYPES.Buy,u=!i.isPut,y=Number(p)*z;return ye.getId({isCall:u,isLong:l,strike:o,expiry:y},r)}case"Premia":{const a=t.args,i=a.poolKey.base,s=a.isBuy,{isCallPool:o,strike:r,maturity:p}=a.poolKey,l=Number(p)*z;return De.getId({strike:r,isLong:s,isCall:o,expiry:l},i)}default:throw new Error`Invalid market: ${e}`}},ql=(e,t,a)=>{e.forEach(i=>{const{id:s}=i;a[s]=a[s]??[],a[s].push(t)})},$l=(e,t)=>{const a=[];for(const i in t)t[i].length>1&&a.push(i);a.forEach(i=>{const s=e.filter(r=>{if(r.legsStructure.find(l=>l.id===i))return!0}),o=s.reduce((r,p)=>p.legsStructure.length>r.legsStructure.length?p:r,s[0]);s.forEach(r=>{if(r.buildId===o.buildId)return;const p=r.legsStructure.findIndex(u=>u.id===i);r.legsStructure.splice(p,1);const l=t[i].findIndex(u=>u===r.buildId);t[i].splice(l,1)})})},Vl=(e,t)=>{const a=Gl(e.legsStructure[0].id);t[a]=t[a]??[],t[a].push(e)},Wl=(e,t)=>{for(const a in t){const i=t[a].filter(r=>r.legsStructure.length);if(i.length<=1)continue;const s=i.reduce((r,p)=>p.legsStructure.length>r.legsStructure.length?p:r,i[0]),o=e.find(r=>r.buildId===s.buildId);i.forEach(r=>{if(r.buildId===o.buildId)return;o.legsStructure.push(...r.legsStructure);const p=e.findIndex(l=>l.buildId===r.buildId);e.splice(p,1)})}},Gl=e=>e.split("_").slice(1).join("_"),{HEAD:Kl,COMMON:Yl,LEG:$a}=ya,Va=()=>{const e=Ie(),{positionsByMarket:t}=e,a=jl();if(!a||!t)return;const s=a.map(r=>{var c;const{legsStructure:p,strategy:l}=r,u=[],y=(c=oe[l])==null?void 0:c.isCollection;for(let m=0;m<p.length;m++){const{id:b,market:f}=p[m],T=t[f];if(!T)return;const x=T.findIndex(v=>v.id===b),g=T[x];g&&(u.push(g),T[x].role=$a)}const d=p.length===1||y&&u.length===1;if(u.length)if(d){const m={...u[0]};return{...r,...m,role:Yl}}else{const m=Ql(u),b=u[0].asset;return{...r,legs:u,asset:b,...m,role:Kl}}}).filter(r=>!te(r));return zl(s,t)},zl=(e,t)=>{const a=[],i=[];Object.values(t).forEach(r=>{r&&i.push(...r)});const o=i.filter(r=>r.role!==$a).map(r=>{const{isCall:p,isSpread:l,isLong:u}=r;return{strategy:`${l?p?"Bull":"Bear":u?"Long":"Short"} ${p?"Call":"Put"} ${l?"Spread":""}`.trim(),...r}});return a.push(...e,...o),a},Ql=e=>{const t=e.reduce((a,i)=>{const s=Rt(a,i,["amount","premium","pnl.inUSDC"]);return s.greeks=ha(a.greeks,i.greeks),s.collaterals=i.collateral?[...a.collaterals,i.collateral]:a.collaterals,s},{amount:0n,premium:0n,collaterals:[],pnl:{inUSDC:0n},greeks:{delta:0,vega:0,gamma:0,theta:0,rho:0}});return t.pnl.inPercentage=bt(null,t.pnl.inUSDC,t.premium),t.expiry=e[0].expiry,t};const Zl=({position:e,openCloseModal:t})=>{const[a]=Ie().pendingPositionsState;if(!e.actions)return null;const{isClosingDisabled:i}=e.actions,s=a.closing.find(p=>p.id===e.id),o=()=>{t(e)},r=fe(576);return n.jsx("div",{className:"PositionCloseBtn",children:Ye(r?n.jsx(Jl,{isDisabled:i,handleClick:o}):n.jsx(Xl,{isDisabled:i,handleClick:o}),s)})},Xl=({isDisabled:e,handleClick:t})=>n.jsx("button",{className:"close-btn _cross",disabled:e,onClick:t,children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",children:[n.jsx("g",{id:"icon-close",clipPath:"url(#clip0_294_4433)",children:n.jsx("path",{id:"Vector",d:"M13.6899 0.320713C13.5917 0.222272 13.475 0.144172 13.3465 0.090885C13.2181 0.0375978 13.0803 0.010169 12.9413 0.010169C12.8022 0.010169 12.6645 0.0375978 12.536 0.090885C12.4076 0.144172 12.2909 0.222272 12.1926 0.320713L7 5.50274L1.80736 0.310093C1.70905 0.211782 1.59233 0.133796 1.46388 0.0805904C1.33543 0.0273845 1.19776 1.03588e-09 1.05873 0C0.919692 -1.03588e-09 0.78202 0.0273845 0.653569 0.0805904C0.525118 0.133796 0.408405 0.211782 0.310093 0.310093C0.211782 0.408405 0.133796 0.525118 0.0805904 0.653569C0.0273845 0.78202 -1.03588e-09 0.919692 0 1.05873C1.03588e-09 1.19776 0.0273845 1.33543 0.0805904 1.46388C0.133796 1.59233 0.211782 1.70905 0.310093 1.80736L5.50274 7L0.310093 12.1926C0.211782 12.291 0.133796 12.4077 0.0805904 12.5361C0.0273845 12.6646 0 12.8022 0 12.9413C0 13.0803 0.0273845 13.218 0.0805904 13.3464C0.133796 13.4749 0.211782 13.5916 0.310093 13.6899C0.408405 13.7882 0.525118 13.8662 0.653569 13.9194C0.78202 13.9726 0.919692 14 1.05873 14C1.19776 14 1.33543 13.9726 1.46388 13.9194C1.59233 13.8662 1.70905 13.7882 1.80736 13.6899L7 8.49726L12.1926 13.6899C12.291 13.7882 12.4077 13.8662 12.5361 13.9194C12.6646 13.9726 12.8022 14 12.9413 14C13.0803 14 13.218 13.9726 13.3464 13.9194C13.4749 13.8662 13.5916 13.7882 13.6899 13.6899C13.7882 13.5916 13.8662 13.4749 13.9194 13.3464C13.9726 13.218 14 13.0803 14 12.9413C14 12.8022 13.9726 12.6646 13.9194 12.5361C13.8662 12.4077 13.7882 12.291 13.6899 12.1926L8.49726 7L13.6899 1.80736C14.0934 1.40384 14.0934 0.724231 13.6899 0.320713Z",fill:"#6988FF"})}),n.jsx("defs",{children:n.jsx("clipPath",{id:"clip0_294_4433",children:n.jsx("rect",{width:"14",height:"14",fill:"white"})})})]})}),Jl=({isDisabled:e,handleClick:t})=>n.jsx(de,{className:"close-btn",type:"micro",isDisabled:e,onClick:t,children:"Close"}),eu=({handleClick:e})=>n.jsx("button",{onClick:e,className:"shrink-0",children:n.jsx("img",{src:Na,alt:"Update Collateral"})}),tu="/sf_draft/assets/multi_circled-626e9c45.svg";const nu=({expiry:e})=>{const t=e-Date.now(),a=t<=0,s=mn(t,!0).split(":");return n.jsxs("div",{className:E("ExpirationTimer",a&&"expired"),children:[n.jsx("div",{className:"ExpirationTimer__text",children:"Left until expiration"}),n.jsx("div",{className:"ExpirationTimer__timer",children:s.map((o,r)=>{const p=r===s.length-1,l=Jo(o);return n.jsxs(Ve.Fragment,{children:[n.jsx("div",{className:"ExpirationTimer__timer-value",children:o}),!p&&n.jsx("span",{className:"ExpirationTimer__timer-separator",children:":"})]},l)})})]})};const Xt=({market:e,strikeParams:t,isSmall:a})=>{const{strike:i,isCall:s,isLong:o,expiry:r}=t,p=Date.now()>r,l=e?Ht[e].circled:tu,u=o?ka:Sa,y=_e(r,"dMMMyy").toUpperCase(),d=xa(i),m=`${y}-${d}-${s?"C":"P"}`,b=Wn(n.jsx(nu,{expiry:r}));return n.jsxs("div",{className:E("Brief","InstrumentBrief",a&&"small",p&&"expired"),children:[n.jsxs("div",{className:"Brief__icons",children:[n.jsx("div",{className:"Brief__icon",children:n.jsx("img",{src:l,alt:`${e}`})}),n.jsx("div",{className:"Brief__icon",children:n.jsx("img",{src:u,alt:`${o?"Long":"Short"}`})})]}),n.jsx("div",{className:"InstrumentBrief__string tip","data-tooltip-id":"Tooltip_Expiration","data-tooltip-html":b,children:m})]})},{HEAD:au,LEG:iu}=ya,su={strategy:"Strategy",amount:"Amount",instrument:"Instrument",collateral:n.jsx("span",{"data-tooltip-id":"BuilderForm_CollateralTooltip",className:"tip",children:"Collateral"}),pnl:"PnL",entryPrice:"Entry Price",closePrice:"Close Price",liqPrice:"Liq. Price",delta:"Delta",vega:"Vega",gamma:"Gamma",theta:"Theta",rho:"Rho",closeBtn:""},ru=({positions:e,openCollateralModal:t,openCloseModal:a,isLoadingComplete:i})=>{const{isConnected:s}=ne(),o=d=>{const{role:c,isOpening:m,isTotal:b,expiry:f}=d,T=c===au,x=c===iu,g=Date.now()>f,v=()=>{if(x)return"";if(b)return X("Total",!1,!0);let{strategy:_}=d;if(!_){const{isCall:q,isLong:W}=d;_=Ut(W,q)}const M=oe[_],A=M==null?void 0:M.color,F=n.jsx("svg",{className:"icon-dropdown",xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",children:n.jsx("path",{d:"M2 5L6.5 9L11 5",stroke:A,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});return n.jsxs("span",{className:"flex items-center gap-x-4",style:{color:A},children:[m&&n.jsx(ke,{}),_,T&&F]})},C=()=>{const{asset:_,amount:M}=d;if(M)return n.jsx(re,{symbol:_,children:G(M)})},k=()=>{const{market:_,strike:M,strategy:A,legs:F}=d;if(T){const q=oe[A],{isCollection:W}=q;return W?n.jsx(Xt,{strikeParams:F[0]}):n.jsx("div",{className:"PositionsTable__strike-msg",children:X("Click to see strikes")})}if(M)return n.jsx(Xt,{market:_,strikeParams:d})},O=()=>{const{premium:_}=d,M=_<0n,A=ee(xe(_)),F=`${M?"–":"+"}$${A}`;return n.jsx("span",{className:E({positive:!M,negative:M}),children:F})},B=()=>{const{collateral:_,collaterals:M,actions:A}=d;if(!_&&(!M||!M.length))return;const F=q=>b?q.inUSDC?n.jsxs("span",{children:["$",ee(q.inUSDC)]}):void 0:n.jsx(re,{symbol:q.marketToken.symbol,children:Ge(q.inMarketToken,q.marketToken.isStable)},q.isBase);return T?w(M,F):A&&!A.isAddingToCollateralDisabled?n.jsxs("div",{className:"flex items-center gap-x-3",children:[F(_),n.jsx(eu,{handleClick:()=>t(d)})]}):F(_)},w=(_,M)=>{const A={base:{},stable:{}},F=W=>{const{isBase:I}=W,$=I?"base":"stable";A[$]={...Rt(A[$],W,["inMarketToken","inUSDC"]),isBase:I}};_.forEach(F);const q=Object.values(A).map(M);return n.jsx("div",{className:"flex flex-col gap-y-5",children:q})},P=()=>{if(!d.pnl)return;const{inUSDC:_,inPercentage:M}=d.pnl,A=_<0?Ss.negative:"",F=xe(M),q=G(F)<1?1:0,W=ee(F,q);return n.jsxs("div",{className:E({positive:_>0n,negative:_<0n,muted:_===0n}),children:[n.jsx("span",{style:{color:et,marginRight:5},children:qe(_)}),`(${A}${W}%)`]})},D=()=>{const{entryPrice:_}=d;if(!te(_))return`$${ee(_)}`},U=()=>{const{closePrice:_}=d;if(!te(_))return`$${ee(_)}`},L=()=>{const{collateral:_}=d;if(!(!_||!_.liquidationPrice))return`$${ee(_.liquidationPrice)}`},N=()=>{const{greeks:_}=d;if(b)for(const M in _)_[M]||(_[M]=void 0);return _},j=()=>T?d.legs.map(o):void 0,S=()=>m?"":n.jsx(Zl,{openCloseModal:a,position:d});return{id:`${d.buildId}_${d.id}`,strategy:v(),amount:C(),instrument:k(),premium:O(),collateral:B(),pnl:P(),entryPrice:D(),closePrice:U(),liqPrice:L(),...N(),children:j(),closeBtn:S(),omittedKeys:(T||b)&&["instrument","closeBtn"],className:E(g&&"expired")}},r=su,p=e==null?void 0:e.map(o),l={titleData:r,itemsData:p},u=[{name:"Active",isActive:!0}],y=()=>{let d;return s?!e||!i?d="Loading...":e.length||(d="No open positions"):d="No wallet connected",n.jsx("div",{className:"App-box PositionsTable__message",style:i?{}:{marginBottom:10},children:X(d)})};return n.jsxs("div",{className:"PositionsTable",children:[n.jsx("div",{className:"PositionsTable__header",children:n.jsx(sn,{links:u,type:"border"})}),e!=null&&e.length?n.jsxs(n.Fragment,{children:[!i&&y(),n.jsx(Ca,{structureData:l})]}):y()]})};const Wa=e=>{const{value:t,setValue:a,maxValue:i,placeholder:s,isDisabled:o,isFocused:r,hasError:p,formatInputStringFns:l=[at,Ee],title:u,presentedValue:y,presentedValueTitle:d,iconData:c,unitStr:m}=e,b=Lt([t,a],{maxValue:i,placeholder:s,isDisabled:o,isFocused:r},l),f=E(e.className,b.hasFocus&&"hlight",p&&"error",o&&"disabled"),T=l[0];return n.jsxs("div",{className:E("InputFamily InputComplexNumeric",f),onClick:()=>{b.ref.current.focus()},children:[n.jsxs("div",{className:"InputComplexNumeric__header",children:[n.jsx("div",{className:"InputComplexNumeric__title",children:u}),y&&n.jsxs("button",{className:"InputComplexNumeric__presented-value",onClick:x=>{x.stopPropagation(),a(T(y))},children:[n.jsxs("span",{className:"InputComplexNumeric__presented-value-title",children:[d,":"]}),T(y)]}),c&&n.jsx("div",{className:"InputComplexNumeric__icon",children:n.jsx("img",{src:c.src,alt:c.alt??"icon"})})]}),n.jsxs("div",{className:"InputComplexNumeric__body",children:[n.jsx("div",{className:"InputComplexNumeric__input-wrapper",children:b.node}),n.jsxs("div",{className:"InputComplexNumeric__helper",children:[i&&n.jsx("button",{className:"InputFamily__max-btn",disabled:o,onClick:x=>{x.stopPropagation(),a(at(i))},children:"Max"}),m&&n.jsx("div",{className:"InputComplexNumeric__unit",children:m})]})]})]})},ou=({position:e,isOpen:t,setIsOpen:a})=>{var g;const i=Z(),[s,o]=h.useState(""),[r,p]=h.useState(!1),[l,u]=h.useState(null),y=((g=e==null?void 0:e.collateral)==null?void 0:g.marketToken)??{symbol:"ETH"},d=ia(y.symbol),c=Sn(y==null?void 0:y.symbol,Nt(i,"Lyra_Quoter"),rt(s),u),m=()=>{u(null),c.check()};if(h.useEffect(()=>{u(null)},[s]),dt(()=>{s&&m()},mt,[s]),!e||!e.collateral)return null;const b=()=>{if(!s)return"Enter Amount";if(l===null)return"Please, wait...";if(r)return l?"Updating Collateral...":`Approving ${y.symbol}...`},f=()=>!b(),T=()=>{const v=l?"Add Collateral":`Approve ${s} ${y.symbol}`;return b()??v},x=()=>{if(!l){c.approve(p,m);return}const v=rt(s);It(i,e.actions.addToCollateral,[v],{text:`${s} ${y.symbol} added.`,node:n.jsxs(re,{symbol:y.symbol,children:[s," added to collateral."]})},p,()=>a(!1))};return n.jsxs(ct,{className:"PositionCollateralModal",isOpen:t,setIsOpen:a,reset:()=>{o(""),u(null)},children:[n.jsx("h1",{children:"Edit Collateral"}),n.jsx(Wa,{value:s,setValue:o,title:"Add Amount",iconData:{src:d},isFocused:!0}),n.jsx(de,{isDisabled:!f(),onClick:x,children:T()})]})};const pu=({position:e,isOpen:t,setIsOpen:a})=>{const i=Z(),[s,o]=h.useState(""),[r,p]=h.useState(void 0),[l,u]=h.useState(!1),[y,d]=Ie().pendingPositionsState,c=()=>{const _=Di(e.amount);o(_)},m=_=>{p(void 0),e.utils.calcPnl(_).then(p)};if(h.useEffect(()=>{t&&e&&c()},[t]),dt(()=>{e&&s&&m(rt(s))},mt,[s]),!e||!e.actions)return null;const b=_=>{if(_)y.closing.push({id:e.id,market:e.market});else{const M=y.closing.findIndex(A=>A.id===e.id);M!==-1&&y.closing.splice(M,1)}d({...y})},{close:f}=e.actions,{asset:T,amount:x,strategy:g,isCall:v,isLong:C}=e,k=g??`${C?"Long":"Short"} ${v?"Call":"Put"}`,O=n.jsxs(re,{symbol:T,children:[s," ",k," closed."]}),w={text:`${s} ${T} ${k} closed.`,node:O},P=rt(s),D=r==null?void 0:r.inUSDC,U=()=>{It(i,f,[P],w,u,()=>{b(!0),a(!1)})},L=()=>{if(!s)return"Enter Amount";if(l)return"Closing Strategy..."},N=()=>L()??"Close Strategy",j=()=>!L(),S=ia(T);return n.jsxs(ct,{className:"ClosePositionModal",isOpen:t,setIsOpen:a,reset:()=>{o(""),p(void 0)},children:[n.jsxs("div",{className:"ClosePositionModal__body",children:[n.jsx("h1",{children:"Close Strategy"}),n.jsxs("div",{className:"info-row",children:[n.jsx("div",{className:"info-row__title",children:"Instrument"}),n.jsx("div",{className:"info-row__value",children:n.jsx(Xt,{market:e.market,strikeParams:e})})]}),e.market!=="Hegic"&&n.jsx(Wa,{value:s,setValue:o,title:"Amount",iconData:{src:S},isFocused:!0,maxValue:G(x)})]}),n.jsxs("div",{className:"ClosePositionModal__footer",children:[n.jsxs("div",{className:"info-row",children:[n.jsx("div",{className:"info-row__title",children:"PnL"}),n.jsx("div",{className:E("info-row__value",{positive:D>0n,negative:D<0n}),children:ze(()=>Ip(D),te(D))})]}),n.jsx(de,{isDisabled:!j(),onClick:U,children:N()})]})]})},Ga=({positions:e})=>{const t=Ie(),{arePositionsLoaded:a,positionsTotalData:i,pendingPositionsState:s}=t,o=e==null?void 0:e.sort((T,x)=>x.isTotal?-1:T.isTotal?1:fn(T,x,"pnl.inUSDC",-1));o==null||o.forEach(T=>{T.legs&&T.legs.sort(fa("pnl.inUSDC",-1))});const r=o&&i?[...o,i]:o,[p,l]=h.useState(null),[u,y]=h.useState(!1),[d,c]=h.useState(!1),m=T=>{l(T),y(!0)},b=T=>{l(T),c(!0)},[f]=s;return f.opening&&r&&[...f.opening,...r],n.jsxs("div",{className:"Positions",children:[n.jsx("h1",{className:"Positions__title",children:"My Positions"}),n.jsx(ru,{positions:r,isLoadingComplete:a,openCollateralModal:m,openCloseModal:b}),n.jsx(ou,{isOpen:u,setIsOpen:y,position:p}),n.jsx(pu,{isOpen:d,setIsOpen:c,position:p})]})},lu=()=>{const e=je("asset","ETH"),t=Va();return n.jsxs("div",{className:"Builder",children:[n.jsx(Il,{assetState:e}),n.jsx(Ga,{positions:t})]})},wn=()=>h.useContext(Ka),Q=e=>{const t=wn();return e.endsWith("State")?t[e]:t[`${e}State`][0]},uu=()=>{const e=je("asset","ETH"),t=je("OptionChain-isDistanceEnabled",!1),a=h.useState(null),i=h.useState(!0),s=h.useState(!0),o=h.useState(!1);return{assetState:e,isDistanceEnabledState:t,strikePriceState:a,isCallState:i,isLongState:s,isModalOpenState:o}},Ka=h.createContext(null),yu=({children:e})=>{const t=uu();return n.jsx(Ka.Provider,{value:t,children:e})};const du="/sf_draft/assets/date-1ea6323e.svg",Ya=({chosenDate:e,setChosenDate:t,type:a="Selector",shouldRenderCarousel:i=!1})=>{const{dates:s}=ge();h.useEffect(()=>{s&&!e&&t(s[0])},[s]);const o=fe(1100)||!i;return n.jsx($t,{className:E("DateController",`_${a}`),title:"Expiration Date",children:n.jsx("div",{className:"DateController__items",children:ze(()=>o?n.jsx(cu,{chosenDate:e,setChosenDate:t,type:a}):n.jsx(fu,{chosenDate:e,setChosenDate:t}),te(s))})})},cu=({chosenDate:e,setChosenDate:t,type:a})=>{const{dates:i}=ge(),s=i.map(p=>{const l=mu(a,p);return{value:p,label:n.jsx(Tu,{date:p,expiryStr:l})}}),o=e&&s.find(p=>p.value===e),r=a==="Selector"?n.jsx("img",{src:du,alt:"Strategy selector icon"}):null;return n.jsx(Le,{className:r?"Selector_thin-options":"",placeholder:"Choose Date",options:s,value:o,onChange:p=>{t(p.value)},iconNode:r})},mu=(e,t)=>{const a=t-Date.now();switch(e){case"Selector":return mn(a);case"Selector_no-icon":return`Expires in ${Ft(a)} days`;default:return""}},Tu=({date:e,expiryStr:t})=>n.jsxs("div",{className:"DateController__selector-date",children:[n.jsx("div",{className:"DateController__selector-date-value",children:_e(e,"d MMM yy")}),n.jsx("div",{className:"DateController__selector-date-expiry",children:t})]}),fu=({chosenDate:e,setChosenDate:t})=>{const{dates:a}=ge(),i=a.map(s=>{const o=_e(s,"d MMM yy"),r=Ft(s-Date.now()),p=e===s;return n.jsxs(de,{className:E("DateController__item",p&&"chosen"),type:"stroke",onClick:()=>t(s),children:[n.jsx("div",{className:"DateController__item-date",children:o}),n.jsxs("div",{className:"DateController__item-expiry",children:[r," days"]})]},s)});return n.jsx(Pa,{id:"DateControllerCarousel",spaceBetween:8,isDraggable:!1,breakpoints:{992:{slidesPerView:7},1200:{slidesPerView:8},1300:{slidesPerView:"auto"}},children:i})};const bu=({isCheckedState:e,text:t})=>{const[a,i]=e,s=o=>{const r=o.target;i(r.checked)};return n.jsxs("div",{className:"Checker",children:[n.jsx("input",{type:"checkbox",checked:a,onChange:s}),n.jsx("label",{children:t})]})},hu=()=>{const e=wn(),{assetState:t,isDistanceEnabledState:a}=e,[i,s]=t,[o,r]=ge().chosenDateState;return n.jsxs("div",{className:"OptionChainControllers",children:[n.jsx(Ya,{chosenDate:o,setChosenDate:r,type:"Selector_no-icon",shouldRenderCarousel:!0}),n.jsx(Vt,{asset:i,setAsset:s}),n.jsx(bu,{isCheckedState:a,text:"Distance"})]})};const xu=e=>Object.keys(e).map(BigInt).sort(ut),Pn=e=>{const t=[];Object.values(e).forEach(s=>{t.push(...Object.keys(s))});const a=t.map(BigInt);return Mt(a).sort(ut)},gu=e=>so(e),_u=({asset:e,chosenDate:t,strikes:a,isDistanceEnabled:i})=>{const s=Pn(a),o=Oe(e),r=_e(t??0,"d MMM yy"),p=fe();return n.jsxs("div",{className:E("OptionChainStrikeList",i&&"_distance"),children:[!p&&n.jsx("div",{className:"OptionChainStrikeList__cell _title whitespace-nowrap",children:r}),n.jsx("div",{className:"OptionChainStrikeList__cell _title",children:"Strike"}),n.jsx(vu,{assetPrice:o,strikePrices:s,isDistanceEnabled:i})]})},vu=({assetPrice:e,strikePrices:t,isDistanceEnabled:a})=>{const i=t.filter(r=>{const p=Gn(e,.001);return xe(r-e)<p}),s=Ei(i,e);let o;return s||(o=t.reduce((r,p,l)=>{if(r)return r;if(e<p||l===t.length-1)return p},void 0)),n.jsx(n.Fragment,{children:t.map(r=>{const p=r===s,l=!p&&r===o,u=`$${yt(r)}`;return n.jsxs("div",{className:E("OptionChainStrikeList__cell",p&&"_assetPrice"),children:[l&&n.jsx(ku,{assetPrice:e,strikePrices:t}),n.jsxs("div",{className:"OptionChainStrikeList__strike",children:[u,a&&n.jsx(Cu,{assetPrice:e,strikePrice:r})]})]},r)})})},Cu=({assetPrice:e,strikePrice:t})=>{const a=G(Ce(t,e))*100-100,i=ce(a,a>0&&a<1?1:0);return n.jsxs("span",{className:E("OptionChainStrikeList__distance",{negative:i<0,positive:i>0,neutral:i===0}),children:["(",i,"%)"]})},ku=({assetPrice:e,strikePrices:t})=>{if(!e)return null;const a=E("OptionChainStrikeList__assetPrice",e>_t(t)&&"_last"),i=G(e),s=qe(e,i<100?2:0);return n.jsx("div",{className:a,children:s})};const Wt=({style:e})=>n.jsx("div",{className:"SpinnerBig",style:e,children:n.jsxs("svg",{viewBox:"0 0 100 100",children:[n.jsx("defs",{}),n.jsx("circle",{className:"SpinnerBig__circle",style:{fill:"transparent",stroke:"#fff",strokeWidth:"7px",strokeLinecap:"round"},cx:"50",cy:"50",r:"45"})]})});const Mn="/sf_draft/assets/arrow-up_green-2d5f573c.svg",An="/sf_draft/assets/arrow-down_red-ed33cd18.svg",za=({strikes:e,isCall:t,renderStrikeList:a})=>{const i=Q("asset"),s=Q("isDistanceEnabled"),o=Oe(i),r=fe(),p=h.useRef(null);return h.useEffect(()=>{if(r){const l=document.querySelector(".OptionChainStrikeList");p.current&&(p.current.style.paddingRight=`${l.clientWidth}px`)}else p.current.style.paddingRight&&(p.current.style.paddingRight="")},[r,s]),n.jsx("div",{className:"OptionChainTable__wrapper",children:n.jsxs("div",{className:"OptionChainTable",children:[n.jsx(Su,{isCall:t}),n.jsxs("div",{className:"OptionChainTable__scrollable",ref:p,children:[n.jsx(wu,{}),n.jsx(Pu,{strikes:e,isCall:t,assetPrice:o})]}),r&&a()]})})},Su=({isCall:e})=>{const t=fe(),[a]=ge().chosenDateState,i=_e(a,"d MMM yy"),s=()=>n.jsxs("div",{className:"OptionChainTable__cell-content",children:[e?"Calls":"Puts",n.jsx("img",{src:e?Mn:An,alt:e?"Arrow up":"Arrow down"})]});return n.jsxs("div",{className:E("OptionChainTable__cell _title _main-title",e?"positive":"negative"),children:[s(),t&&n.jsx("span",{className:"text-white",children:i})]})},wu=()=>n.jsxs("div",{className:"OptionChainTable__head",children:[n.jsxs("div",{className:"OptionChainTable__head-group",children:[n.jsx("div",{className:"OptionChainTable__cell _title _head muted_light",children:"Size"}),n.jsx("div",{className:"OptionChainTable__cell _title _head positive",children:"IV Bid"}),n.jsx("div",{className:"OptionChainTable__cell _title _head positive",children:"Bid"})]}),n.jsxs("div",{className:"OptionChainTable__head-group",children:[n.jsx("div",{className:"OptionChainTable__cell _title _head muted_light",children:"Size"}),n.jsx("div",{className:"OptionChainTable__cell _title _head negative",children:"IV Ask"}),n.jsx("div",{className:"OptionChainTable__cell _title _head negative",children:"Ask"})]})]}),Pu=({strikes:e,isCall:t,assetPrice:a})=>{const i=wn(),[,s]=i.isModalOpenState,o=Pn(e),r=l=>{const u=Ut(l,t),y=gu(e[u]);return o.map(d=>{const c=`${d}_${l}`,m=bn(t,d,a),b=y.filter(k=>k.strike===d);if(!b.length)return p(c,m);const f=b.reduce((k,O)=>{const B=k.premiumData.inUSDC,w=O.premiumData.inUSDC;if(l){if(w<B)return O}else if(w>B)return O;return k},b[0]),T=b.reduce((k,O)=>k+(O.liquidity??0n),0n),x=T?ee(T,1):X(),g=ga(f,a).formatted,v=ze(()=>qe(f.premiumData.inUSDC),!f.premiumData);return p(c,m,{size:x,IV:g,price:v},()=>{const[,k]=i.isCallState,[,O]=i.isLongState,[,B]=i.strikePriceState;k(t),O(l),B(d),s(!0)})})},p=(l,u,y,d=()=>{})=>{const c=!y;return n.jsxs("button",{className:E("OptionChainTable__strikes-item",u&&"_ITM"),disabled:c,onClick:d,children:[n.jsx("div",{className:"OptionChainTable__strikes-item-cell OptionChainTable__cell",children:(y==null?void 0:y.size)??X()}),n.jsx("div",{className:"OptionChainTable__strikes-item-cell OptionChainTable__cell",children:(y==null?void 0:y.IV)??X()}),n.jsx("div",{className:"OptionChainTable__strikes-item-cell OptionChainTable__cell",children:(y==null?void 0:y.price)??X()})]},l)};return n.jsxs("div",{className:"OptionChainTable__strikes",children:[n.jsx("div",{className:"OptionChainTable__strikes-long",children:r(!1)}),n.jsx("div",{className:"OptionChainTable__strikes-short",children:r(!0)})]})};const Mu=()=>{const e=Q("asset"),t=Q("isDistanceEnabled"),[a]=ge().chosenDateState,i=kn(e,a),s=!a||!i,o=fe();if(!s&&!Pn(i).length)return n.jsx("div",{className:"OptionChainOptions",children:n.jsx(Ue,{children:"No Liquidity"})});const p=()=>n.jsx(_u,{asset:e,chosenDate:a,strikes:i,isDistanceEnabled:t});return Ye(n.jsxs("div",{className:"OptionChainOptions",children:[n.jsx(Au,{asset:e,strikes:i,renderStrikeList:p,isDistanceEnabled:t}),!o&&p(),n.jsx(Du,{asset:e,strikes:i,renderStrikeList:p,isDistanceEnabled:t})]}),s,n.jsx(Wt,{style:{margin:"50px auto 70px"}}))},Au=({strikes:e,renderStrikeList:t})=>n.jsx(za,{strikes:e,renderStrikeList:t,isCall:!0}),Du=({strikes:e,renderStrikeList:t})=>n.jsx(za,{strikes:e,renderStrikeList:t,isCall:!1}),Eu=()=>n.jsxs("div",{className:"OptionChainDashboard App-box",children:[n.jsx(hu,{}),n.jsx(Mu,{})]});const Qa=({oppositeLabels:e,isOn:t,setIsOn:a})=>n.jsxs("div",{className:"Switcher",children:[n.jsx("button",{className:E("Switcher__button","positive",t&&"chosen"),onClick:()=>a(!0),children:e[0]}),n.jsx("button",{className:E("Switcher__button","negative",!t&&"chosen"),onClick:()=>a(!1),children:e[1]})]});const Ou=({isCall:e,setIsCall:t})=>{const a=[n.jsxs("div",{className:"CallPutController__label",children:[n.jsx("img",{src:Mn,alt:"arrow up"}),"Call"]}),n.jsxs("div",{className:"CallPutController__label",children:[n.jsx("img",{src:An,alt:"arrow down"}),"Put"]})];return n.jsx($t,{className:"CallPutController",title:"Strategy",children:n.jsx(Qa,{oppositeLabels:a,isOn:e,setIsOn:t})})};const Iu=({strikePrices:e,chosenStrikePrice:t,setChosenStrikePrice:a,asset:i,isCall:s})=>{h.useEffect(()=>{e.find(u=>u===t)||a(null)},[e]);const o=Oe(i),r=e.map(l=>{const u=bn(s,l,o);return{value:l,label:n.jsx("div",{className:E("StrikeController__item",u&&"_ITM"),children:n.jsx("span",{children:`$${yt(l)}`})})}}),p=n.jsx("img",{src:na,alt:"graph icon"});return n.jsx($t,{title:"Strike",className:"StrikeController",children:n.jsx(Le,{className:"Selector_thin-options",placeholder:"Choose Strike",options:r,value:r.find(l=>l.value===t),onChange:l=>{a(l.value)},iconNode:p},e)})};const Bu=({contentType:e,market:t})=>{const a={Hegic:n.jsx(ju,{contentType:e}),Rysk:n.jsx(Nu,{contentType:e}),Premia:n.jsx(Lu,{contentType:e})};return n.jsx("div",{className:"MarketInfoTooltip",children:a[t]})},ju=({contentType:e})=>{const t=()=>n.jsxs("div",{children:[n.jsxs("ul",{children:[n.jsx("li",{children:"You can't close your position if your option is OTM (Out of the money)"}),n.jsx("li",{children:"You can exercise only the Intrinsic Value of your option (the difference between the strike price and the settlement price)"})]}),n.jsxs("div",{className:"MarketInfoTooltip__important-note",children:["You must exercise your ",n.jsx("br",{}),"option before the expiration date; otherwise, it will expire worthless."]})]}),a=()=>n.jsx("div",{children:"Zero fees 🔥"}),i=()=>n.jsx("div",{children:"The payoff for both call and put options is in USDC.e"});return n.jsx(Dn,{Overall:t(),Fees:a(),PayoffAsset:i(),contentType:e})},Nu=({contentType:e})=>{const t=()=>n.jsxs("ul",{children:[n.jsx("li",{children:"You can close your position if your option is OTM (Out of the money)"}),n.jsx("li",{children:"There are some limits that prevent you from closing your positions if they're outside of delta limits"}),n.jsx("li",{children:"There's a moment when Rysk Finance adjusts Implied Volatility, and during this moment, you can't open or close positions"})]}),a=()=>n.jsxs("ul",{children:[n.jsx("li",{children:"1 USDC per contract"}),n.jsx("li",{children:"Settlement fees amount to 0,5% of the redemption value if the option expires ITM"})]}),i=()=>n.jsx("div",{children:"The payoff for both call and put options is in USDC"});return n.jsx(Dn,{Overall:t(),Fees:a(),PayoffAsset:i(),contentType:e})},Lu=({contentType:e})=>{const t=()=>n.jsx("div",{children:n.jsxs("ul",{children:[n.jsx("li",{children:"You can close your position if your option is OTM (Out of the money)"}),n.jsx("li",{children:"You sell your OTM options to the liquidity pool or professional market makers. If there are no users who want to buy options with your parameters, then you will be unable to do so, and you'll need to wait"})]})}),a=()=>n.jsxs("div",{className:"MarketInfoTooltip__categories",children:[n.jsxs("div",{className:"MarketInfoTooltip__category",children:[n.jsx("div",{className:"MarketInfoTooltip__category-name _green",children:"Buy"}),n.jsx("div",{className:"MarketInfoTooltip__category-content",children:n.jsxs("ul",{className:"MarketInfoTooltip__complex-list",children:[n.jsxs("li",{className:"MarketInfoTooltip__complex-list-item",children:[n.jsx("div",{className:"MarketInfoTooltip__complex-list-item-title",children:"Taker Fee (AMM)"}),n.jsx("div",{className:"MarketInfoTooltip__complex-list-item-text",children:"This fee is capped at 12% of the option's value"}),n.jsx("div",{className:"MarketInfoTooltip__complex-list-item-value",children:"0.30%"})]}),n.jsxs("li",{className:"MarketInfoTooltip__complex-list-item",children:[n.jsx("div",{className:"MarketInfoTooltip__complex-list-item-title",children:"Taker Fee (Orderbook)"}),n.jsx("div",{className:"MarketInfoTooltip__complex-list-item-value",children:"0.08%"})]}),n.jsxs("li",{className:"MarketInfoTooltip__complex-list-item",children:[n.jsx("div",{className:"MarketInfoTooltip__complex-list-item-title",children:"Settlement Fee"}),n.jsx("div",{className:"MarketInfoTooltip__complex-list-item-text",children:"This fee is capped at 12% of the option's value"}),n.jsx("div",{className:"MarketInfoTooltip__complex-list-item-value",children:"0.30%"})]})]})})]}),n.jsxs("div",{className:"MarketInfoTooltip__category",children:[n.jsx("div",{className:"MarketInfoTooltip__category-name _red",children:"Sell"}),n.jsx("div",{className:"MarketInfoTooltip__category-content",children:"Zero fees 🔥"})]})]}),i=()=>n.jsxs("div",{className:"MarketInfoTooltip__categories",children:[n.jsxs("div",{className:"MarketInfoTooltip__category",children:[n.jsxs("div",{className:"MarketInfoTooltip__category-name _green",children:["Calls ",n.jsx("img",{src:Mn,alt:"arrow up"})]}),n.jsx("div",{className:"MarketInfoTooltip__category-content",children:n.jsx("ul",{children:n.jsx("li",{children:"Paid in the base asset (e.g., ETH, WBTC, LINK, etc.)"})})})]}),n.jsxs("div",{className:"MarketInfoTooltip__category",children:[n.jsxs("div",{className:"MarketInfoTooltip__category-name _red",children:["Puts ",n.jsx("img",{src:An,alt:"arrow down"})]}),n.jsx("div",{className:"MarketInfoTooltip__category-content",children:n.jsx("ul",{children:n.jsx("li",{children:"Paid in USDC"})})})]})]});return n.jsx(Dn,{Overall:t(),Fees:a(),PayoffAsset:i(),contentType:e})},Dn=({Overall:e,Fees:t,PayoffAsset:a,contentType:i})=>({"2Market":e,Fees:t,"Payoff Asset":a})[i],Fu=({marketStrikeData:e})=>{const{market:t}=e,a=Ht[t].circled,i=["2Market","Fees","Payoff Asset"];return n.jsxs("div",{className:"Brief MarketBrief",children:[n.jsx("div",{className:"Brief__icon",children:n.jsx("img",{src:a,alt:t})}),i.map(s=>{const o=Wn(n.jsx(Bu,{market:t,contentType:s}));return n.jsx("div",{className:"MarketBrief__tooltip-trigger","data-tooltip-id":"Tooltip_MarketInfo","data-tooltip-html":o,children:n.jsx("span",{className:"tip",children:s})},s)})]})},Ru=({isLong:e,setIsLong:t})=>n.jsx(Qa,{oppositeLabels:["Buy","Sell"],isOn:e,setIsOn:t}),Ze=h.createContext(null),Uu=()=>{var k;const[e]=ge().chosenDateState,[t,a]=Q("isModalOpenState"),i=Q("asset"),s=Q("strikePrice"),o=Q("isCall"),r=Q("isLong"),p=fe(),l=Z(),u=h.useState({}),y=h.useState(null),d=h.useState(ie(l,JSON.parse(localStorage.getItem("payment-token"))??"ETH")),[c]=d;h.useEffect(()=>{localStorage.setItem("payment-token",JSON.stringify(c.symbol))},[c]);const m=kn(i,e),b=Ut(r,o),f=xu((m==null?void 0:m[b])??{}),T=(k=m==null?void 0:m[b])==null?void 0:k[s],x=h.useState([]),g=h.useState(!1),C={amountsState:u,availableMarkets:T,errorMarketsState:x,areStrikesLoading:!m,isCostLoadingState:g};return n.jsx(Ze.Provider,{value:C,children:n.jsxs(ct,{className:E("OptionChainModal",p&&"_scrollable"),isOpen:t,setIsOpen:a,children:[n.jsx(Hu,{strikePrices:f}),n.jsx(We,{}),n.jsx(qu,{availableMarkets:T,strikePrices:f}),n.jsx(Yu,{}),n.jsx(zu,{paymentTokenState:d,youPayState:y})]})})},Hu=({strikePrices:e})=>{const[t,a]=ge().chosenDateState,{areStrikesLoading:i}=h.useContext(Ze),[s,o]=Q("assetState"),[r,p]=Q("strikePriceState"),[l,u]=Q("isCallState");return n.jsxs("div",{className:"OptionChainModal__controllers",children:[n.jsx(Ou,{isCall:l,setIsCall:u}),n.jsx(Ya,{chosenDate:t,setChosenDate:a}),ze(()=>n.jsx(Iu,{strikePrices:e,chosenStrikePrice:r,setChosenStrikePrice:p,asset:s,isCall:l}),i),n.jsx(Vt,{asset:s,setAsset:o})]})},qu=({availableMarkets:e,strikePrices:t})=>{const[a,i]=Q("isLongState"),{areStrikesLoading:s}=h.useContext(Ze);return n.jsxs("div",{className:"OptionChainModal__markets",children:[n.jsx($u,{isLong:a,setIsLong:i}),Ye(n.jsx(Vu,{availableMarkets:e,isLong:a,strikePrices:t}),s,n.jsx(Wt,{}))]})},$u=({isLong:e,setIsLong:t})=>n.jsxs("div",{className:"OptionChainModal__markets-header",children:[n.jsxs("h1",{className:"OptionChainModal__markets-title",children:[e?"Buy":"Sell"," Options"]}),n.jsx("div",{className:"OptionChainModal__markets-long-controller",children:n.jsx(Ru,{isLong:e,setIsLong:t})})]}),Vu=({availableMarkets:e,isLong:t,strikePrices:a})=>{const i=Q("asset"),s=Oe(i);return n.jsx("div",{className:"OptionChainModal__markets-table-overflow",children:n.jsxs("table",{className:"OptionChainModal__markets-table",cellPadding:0,cellSpacing:0,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Instrument"}),n.jsx("th",{children:"Available size"}),n.jsx("th",{children:"Price"}),n.jsx("th",{children:"IV"}),n.jsxs("th",{children:["Amount to ",t?"buy":"sell"]})]})}),n.jsx("tbody",{children:e?e.map(o=>n.jsx(Wu,{marketStrikeData:o,assetPrice:s},o.market)):n.jsx(Gu,{strikePrices:a})})]})})},Wu=({marketStrikeData:e,assetPrice:t})=>{const{market:a,premiumData:i,priceForAmount:s,liquidity:o}=e,r=qe(s??i.inUSDC),p=o?yt(o,1):X("Will be available soon",!0),l=ga(e,t).formatted;return n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx(Fu,{marketStrikeData:e})}),n.jsx("td",{children:p}),n.jsx("td",{children:r}),n.jsx("td",{children:l}),n.jsx("td",{children:n.jsx(Ku,{marketStrikeData:e})})]},a)},Gu=({strikePrices:e})=>{const t=e.length?"Choose strike to view available markets":"No Liquidity";return n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"_no-liquidity",children:n.jsx(Ue,{fontSize:15,children:t})})})},Ku=({marketStrikeData:e})=>{const{market:t,liquidity:a}=e,i=ge().chosenDateState,s=Q("strikePrice"),o=Q("isCall"),r=Q("isLong"),p=Q("isModalOpen"),{amountsState:l,errorMarketsState:u}=h.useContext(Ze),[y,d]=l,[c]=u,[m,b]=h.useState("");h.useEffect(()=>{y[t]=m?rt(m):0n,d({...y})},[m]),h.useEffect(()=>{b(""),d({})},[o,r,i,s,p]);const f=!!c.find(v=>v===t),T=f&&y[t]>le(.1)?"Try reducing your size":"",{isComingSoon:x}=e,g=x?`${r?"Buying":"Selling"} ${t} options will be available soon`:"";return n.jsx("div",{className:"OptionChainModal__amount-input","data-tooltip-id":x&&"Tooltip_bottom","data-tooltip-content":g,children:n.jsx(la,{className:E("OptionChainModal__markets-table-input"),hasError:f,errorMsg:T,value:m,setValue:b,maxValue:a?G(a):void 0,placeholder:"0",isDisabled:x})})},Yu=()=>{const e=Ie(),[t,a]=e.swapSlippageState;return n.jsxs("div",{className:"OptionChainModal__details",children:[n.jsx("div",{className:"OptionChainModal__details-title",children:"Details"}),n.jsx("div",{className:"OptionChainModal__details-slippage-input",children:n.jsx(La,{slippage:t,setSlippage:a})})]})},zu=({paymentTokenState:e,youPayState:t})=>{const a=Q("isCall"),i=Q("isLong"),s=Q("strikePrice"),[o]=ge().chosenDateState,[r]=Ie().swapSlippageState,{amountsState:p,availableMarkets:l,errorMarketsState:u,isCostLoadingState:y}=h.useContext(Ze),[d]=p,[c,m]=u,[b,f]=t,[T,x]=y,[g]=e,v=P=>{m([...c,P])},C=P=>{m(c.filter(D=>D!==P))},k=()=>{m([])},O=()=>{l.forEach(P=>{P.priceForAmount=null})},B=()=>{f(null),O(),k()},w=async(P=!1)=>{if(!l||Kt(d)){B();return}const D=Za(b,T);x(!0);const U=l.map(async j=>{const{market:S}=j,{calcPremium:_}=j.utils,M=d[S];if(!M)return j.priceForAmount=null,D?new Promise(async q=>{await _(le(.1)).catch(),setTimeout(()=>{j.priceForAmount=null,q()},1700)}):0n;const A=await _(M);return A?(P&&(j.priceForAmount=Ce(A.inUSDC,M)),C(S),A):(v(S),j.priceForAmount=null,0n)}).filter(j=>j),L=(await Promise.all(U)).filter(j=>j),N=L.reduce((j,S)=>j+S.inUSDC,0n);f(Kt(d)?null:{inUSDC:N,decomposition:[...L]}),x(!1)};return dt(()=>{w(!0)},mt,[d,l]),h.useEffect(()=>{w()},[r]),h.useEffect(()=>{Kt(d)&&B()},[b]),h.useEffect(()=>{f(null),m([])},[a,i,o,s]),n.jsxs("div",{className:"OptionChainModal__payment-panel",children:[n.jsx(Ha,{paymentTokenState:e,youPayState:t,isCostLoading:T}),n.jsx(Qu,{youPay:b,isCostLoading:T,paymentToken:g})]})},Qu=({youPay:e,isCostLoading:t,paymentToken:a})=>{const i=Z(),{isConnected:s}=ne(),{connectWallet:o}=on(),r=Q("isLong"),p=Q("isCall"),[,l]=Q("isModalOpenState"),{availableMarkets:u,amountsState:y,errorMarketsState:d,areStrikesLoading:c}=h.useContext(Ze),[m]=y,[b,f]=h.useState(null),[T]=d,[x,g]=h.useState(!1),[v,C]=h.useState(!1),k=Nt(i,"Exchanger"),O=Sn((a==null?void 0:a.symbol)??"ETH",k,(e==null?void 0:e.inPaymentToken)??0n,g),w=qa(`${r?"Long":"Short"} ${p?"Call":"Put"}`,b,[],e,Ke,{setIsLoading:C,closeModal:()=>l(!1)});h.useEffect(()=>{if(u){const N=[];for(const j in m){const S=m[j];if(S){const _=u.find(M=>M.market===j);N.push({..._,amount:S})}}f(N)}},[m,u]);const P=Za(e,t);h.useEffect(()=>{P?g(void 0):e?e.inUSDC===0n?g(!1):O.check():g(!1)},[e,t]);const D=()=>{if(!s)return!1;if(c||P||te(x)||!(a!=null&&a.balance))return"Please, wait...";if(v)return x?"Submitting...":`Approving ${a.symbol}...`;if(!u)return"Empty strike";if(T.length)return"Invalid input";const j=Object.values(m).every(_=>!_);if(!e||e.inUSDC===0n||j)return"Enter amount";const S=a.balance.inDefaultDecimals;if(S&&S<e.inPaymentToken)return"Insufficient balance"},U=()=>{if(!s)return"Connect Wallet";const N=D();return N||(x?`${r?"Buy":"Sell"} options`:`Approve ${Ge(e.inPaymentToken,a.isStable)} ${a.symbol}`)},L=()=>{if(!s){o();return}if(!x){O.approve(C,O.check);return}w()};return n.jsx(de,{isDisabled:D(),onClick:L,children:U()})},Za=(e,t)=>t||e&&te(e.inPaymentToken),Kt=e=>Object.values(e).every(t=>!t),Zu=()=>{const e=Va();return n.jsx(yu,{children:n.jsxs("div",{className:"OptionChain",children:[n.jsx(Eu,{}),n.jsx(Uu,{}),n.jsx(Ga,{positions:e})]})})};const Xu=({type:e,chartData:t,chartContainerRef:a,chartOptions:i,seriesOptions:s,className:o,header:r,callback:p=()=>{}})=>(h.useEffect(()=>{if(!t)return;const l=()=>{u.applyOptions({width:a.current.clientWidth})},u=ps(a.current,i);return u[`add${qt(e)}Series`](s).setData(t),window.addEventListener("resize",l),p(u),()=>{window.removeEventListener("resize",l),u.remove()}},[t]),n.jsxs("div",{className:E("App-box","Chart--container",`${o}--container`),children:[r&&n.jsx("div",{className:E("Chart__header",`${o}__header`),children:r}),Ye(n.jsxs(n.Fragment,{children:[n.jsx("div",{className:E("Chart",o),ref:a}),","]}),!t,n.jsx(Wt,{}))]})),Ju=({chartData:e,chartContainerRef:t,chartOptions:a,seriesOptions:i=ey,className:s,header:o,callback:r=()=>{}})=>n.jsx(Xu,{type:"Candlestick",chartData:e,chartContainerRef:t,chartOptions:a,seriesOptions:i,className:s,header:o,callback:r}),ey={priceLineColor:vt,downColor:se,wickDownColor:se,upColor:Me,wickUpColor:Me,borderVisible:!1},Xe={LIQUIDITY_DEPTH_PERCENTAGE_RANGE:.025,CHART_DATA_FREQUENCIES:[5*ve*z,1*Ne*ve*z,4*Ne*ve*z,ft(1)],SUPERSEDING_POOLS:{}},Gt={queryOhlcvData:async(e,t,a,i)=>{const s=ny(t,a,i);return qn(e,s)},queryLiquidityData:async(e,t)=>{const a=ay(t);return qn(e,a)},getPriceData:sy,getChartOptions:e=>{var t;return{width:(t=e.current)==null?void 0:t.clientWidth,height:400,rightPriceScale:{borderColor:pn},layout:{background:{color:Cs},textColor:et,fontFamily:"Gantari"},grid:{vertLines:{color:jn,style:4},horzLines:{color:jn,style:4}},crosshair:{vertLine:{color:tt,labelBackgroundColor:Nn},horzLine:{color:tt,labelBackgroundColor:Nn}},localization:{locale:"en-US",timeFormatter:a=>{const i=a*z;return _e(i,"dd MMM yyyy, h:mm a")},priceFormatter:a=>"$"+ce(a,2)},timeScale:{timeVisible:!0,tickMarkFormatter:(a,i)=>{const s=a*z;return i===2||i===1?_e(s,"d MMM"):_e(s,"HH:mm")}}}}},qn=async(e,t)=>{const a=ty(e),i=iy(t);return fetch(a,i).then(s=>s.json()).catch(console.log)},ty=e=>{const t=Ot[e];if(!t)throw new Error(`Unknown chainId: ${e}`);return`https://omni.oku.zone/${t.name.toLowerCase()}`},ny=(e,t,a,i=void 0)=>(i=i??Date.now(),{jsonrpc:"2.0",method:"cush_ohlcvTradingView",params:[e,t,i-a,i],id:0}),ay=e=>({jsonrpc:"2.0",method:"cush_orderBook",params:[e,0,{max_orders_per_side:20,granularity_index:2}],id:1}),iy=e=>({headers:{},body:JSON.stringify(e),method:"POST"});function sy(e){if(!e)return null;const t=()=>{const s=Number(_t(e).close)-Number(e[0].close),o=s/Number(e[0].close);return{inUSDC:ce(s,xt),inPercentage:ce(o,xt)}},a=()=>{const s=e.map(o=>Number(o.close));return Oi(s)},i=()=>{const s=Number(_t(e).close);return ce(s,xt)};return{priceChange:t(),...a(),currentPrice:i()}}const ry=({chartData:e,dataFrequency:t,setDataFrequency:a})=>{const[i,s]=h.useState(null),o=h.useRef(),r=h.useCallback(l=>{if(!l.time){s(null);return}const u=e.find(y=>y.time===l.time);s(u)},[s,e]),p=l=>{l.timeScale().applyOptions({borderColor:pn}),l.subscribeCrosshairMove(r)};return n.jsx(Ju,{className:"OkuChart",header:n.jsx(oy,{dataFrequency:t,setDataFrequency:a,candle:i??(e==null?void 0:e[e.length-1])}),chartData:e,chartContainerRef:o,chartOptions:Gt.getChartOptions(o),callback:p})},oy=({dataFrequency:e,setDataFrequency:t,candle:a})=>n.jsxs("div",{className:"OkuChart__header",children:[n.jsx(py,{dataFrequency:e,setDataFrequency:t}),n.jsx(ly,{candle:a})]}),py=({dataFrequency:e,setDataFrequency:t})=>{const{CHART_DATA_FREQUENCIES:a}=Xe;return n.jsx("div",{className:"OkuChart__data-frequency",children:a.map(i=>{const s=i===e,o=Ft(i),r=Math.floor(i/z/ve),p=Math.floor(r/Ne),l=o>0?`${o}D`:p>0?`${p}h`:`${r}m`;return n.jsx(de,{className:E("OkuChart__data-frequency-btn",s&&"_chosen"),type:"stroke",onClick:()=>t(i),children:l},i)})})},ly=({candle:e})=>{const t=["open","high","low","close"];if(!e)return null;const a=e.open>e.close;return n.jsx("div",{className:"OkuChart__indicators",children:t.map(i=>{const s=Pe(ce(e[i],2));return n.jsxs("div",{className:"OkuChart__indicators-item",children:[n.jsx("span",{className:"OkuChart__indicators-item-name",children:i[0].toUpperCase()}),n.jsx("span",{className:E("OkuChart__indicators-item-value",{negative:a,positive:!a}),children:s})]},i)})})};const uy=({liquidityDepth:e,priceData:t,asset:a})=>{const i={"Log 24h price change":h.useCallback(()=>console.log(`${a} 24h change:`,t),[t]),"Log liquidity depth":h.useCallback(()=>console.log(`${a} liquidity depth:
`,e),[e])};return n.jsx("div",{className:"OkuMethodButtons",children:Object.keys(i).map(s=>n.jsx(de,{className:"OkuMethodButtons__button",type:"stroke",onClick:i[s],children:s},s))})},yy=e=>{const[t,a]=h.useState({}),i=Z(),s=ra(i,"UniswapFactory"),o=aa(i,e),r=Oe(e),{error:p,data:l}=Se([i,e,r,"useLiquidityDepth"],async()=>{const u=Xe.SUPERSEDING_POOLS[e]??await s.getPool(o,jt(i,!0),gn);console.log(`${e} pool address:`,u);const y=await Gt.queryLiquidityData(i,u);if(!y.result)throw new Error(y.error??y);const d=c=>{const m=J(BigInt(c.size),y.result.amount_decimals),b=J(BigInt(c.price),y.result.price_decimals),f=Be(m,b);return{...c,amount:m,price:b,totalUSDC:f}};return y.result.asks=y.result.asks.map(d),y.result.bids=y.result.bids.map(d),y.result},{refreshInterval:30*z,refreshWhenHidden:!0,revalidateOnFocus:!1});return h.useEffect(()=>{l&&(t[e]=l,a({...t}))},[l]),p&&console.log(p),t==null?void 0:t[e]},Xa=h.createContext(null),Ja=h.createContext(null),dy=({children:e})=>{const[t,a]=my();return n.jsx(Xa.Provider,{value:t,children:n.jsx(Ja.Provider,{value:a,children:e})})},cy=()=>h.useContext(Xa),my=()=>{const[e,t]=h.useReducer(Ty,{});return[e,t]},Ty=(e,t)=>{switch(t.type){case"added":{const{asset:a,dataFrequency:i,ohlcvData:s}=t;return e[a]||(e[a]={}),e[a][i]||(e[a][i]=s),{...e}}case"reset":return{};default:throw Error(`Unknown action: ${t.type}`)}},{CHART_DATA_FREQUENCIES:fy}=Xe,$n=fy[0],by=ft(31),ei=(e,t=$n,a=by)=>{var m;const i=cy(),s=h.useContext(Ja),[o,r]=h.useState((m=i==null?void 0:i[e])==null?void 0:m[t]),p=Z(),l=ra(p,"UniswapFactory"),u=aa(p,e),y=Oe(e),{error:d,data:c}=Se(y&&[p,e,t,"useOhlcvForAsset"],async()=>{const b=Xe.SUPERSEDING_POOLS[e]??await l.getPool(u,jt(p,!0),gn),f=await Gt.queryOhlcvData(p,b,t,a);if(f.result){const T=G(y);return f.result.candles.push({open:T,high:T,low:T,close:T,time:Date.now()}),f.result.candles.forEach(x=>{x.time=x.time/z}),f.result.candles}else return console.log(f.error??f),null},{refreshInterval:$n,refreshWhenHidden:!0,revalidateOnFocus:!1});return h.useEffect(()=>{var b;r((b=i==null?void 0:i[e])==null?void 0:b[t])},[e,t]),h.useEffect(()=>{c&&(r(c),s({type:"added",asset:e,dataFrequency:t,ohlcvData:c}))},[c]),d?(console.log(d),null):o},hy=({children:e})=>n.jsx(dy,{children:e}),ti=e=>{const t=z*ve;return ei(e,t,ft(1))};const{LIQUIDITY_DEPTH_PERCENTAGE_RANGE:Vn}=Xe,xy=({liquidityDepth:e,asset:t})=>{const[a,i]=h.useState(null),s=d=>{const c=d.reduce((f,T)=>f+T.amount,0n),m=d.reduce((f,T)=>f+T.totalUSDC,0n),b=Ce(m,c);i({amountSum:c,totalUsdcSum:m,avgPrice:b})},o=ti(t);if(!e||!o)return n.jsx("div",{className:"OkuLiquidityDepth App-box",children:n.jsx(Wt,{})});const r=_t(o).close,p=r*(1+Vn),l=r*(1-Vn),u=e.asks.filter(d=>G(d.price)<p),y=e.bids.filter(d=>G(d.price)>l);return n.jsxs("div",{className:"OkuLiquidityDepth App-box",children:[n.jsxs("div",{className:"OkuLiquidityDepth__header",children:[n.jsx("div",{className:"OkuLiquidityDepth__header-column",children:"Price, USDC"}),n.jsxs("div",{className:"OkuLiquidityDepth__header-column",children:["Amount, ",t]}),n.jsx("div",{className:"OkuLiquidityDepth__header-column",children:"Total, USDC"})]}),n.jsx("div",{className:"OkuLiquidityDepth__overflow",children:n.jsxs("div",{className:"OkuLiquidityDepth__table",children:[n.jsx("div",{className:"OkuLiquidityDepth__table-part _above",children:u.map((d,c)=>{const{price:m,amount:b,totalUSDC:f}=d;return n.jsxs("div",{className:"OkuLiquidityDepth__table-row",onMouseEnter:()=>{const T=u.slice(c);s(T)},"data-tooltip-id":"OkuLiquidityDepthTooltip",children:[n.jsx("div",{className:"OkuLiquidityDepth__table-column",children:ee(m)}),n.jsx("div",{className:"OkuLiquidityDepth__table-column",children:ee(b)}),n.jsx("div",{className:"OkuLiquidityDepth__table-column",children:ee(f)})]},m)})}),n.jsx("div",{className:"OkuLiquidityDepth__table-last-price",children:n.jsx(re,{isHlight:!0,children:Pe(ce(r,2))})}),n.jsx("div",{className:"OkuLiquidityDepth__table-part _below",children:y.reverse().map((d,c)=>{const{price:m,amount:b,totalUSDC:f}=d;return n.jsxs("div",{className:"OkuLiquidityDepth__table-row",onMouseEnter:()=>{const T=y.slice(c);s(T)},"data-tooltip-id":"OkuLiquidityDepthTooltip",children:[n.jsx("div",{className:"OkuLiquidityDepth__table-column",children:ee(m)}),n.jsx("div",{className:"OkuLiquidityDepth__table-column",children:ee(b)}),n.jsx("div",{className:"OkuLiquidityDepth__table-column",children:ee(f)})]},m)})})]})}),n.jsx(gy,{hoveredSum:a,asset:t})]})},gy=({hoveredSum:e,asset:t})=>{if(!e)return;const a=[{name:"avgPrice",label:"Avg. Price"},{name:"amountSum",label:"Amount"},{name:"totalUsdcSum",label:"Total, USDC"}];return n.jsx(ae,{id:"OkuLiquidityDepthTooltip",className:"OkuLiquidityDepth__tooltip",place:"right",children:n.jsx("div",{className:"OkuLiquidityDepth__tooltip-items",children:a.map(i=>{const{name:s,label:o}=i,r=ee(e[s]);return n.jsxs("div",{className:"OkuLiquidityDepth__tooltip-item",children:[n.jsx("div",{className:"OkuLiquidityDepth__tooltip-item-title",children:o}),n.jsx("div",{className:"OkuLiquidityDepth__tooltip-item-value",children:n.jsx(re,{symbol:s==="amountSum"?t:"USDC",children:r})})]},s)})})})},_y=()=>n.jsx(hy,{children:n.jsx(vy,{})}),vy=()=>{const[e,t]=je("asset","ETH"),[a,i]=je("OkuChart-dataFrequency",Xe.CHART_DATA_FREQUENCIES[0]),s=ei(e,a),o=yy(e),r=ti(e),p=Gt.getPriceData(r);return n.jsxs("div",{className:"OkuPage",children:[n.jsx(pa,{}),n.jsx(Vt,{asset:e,setAsset:t}),n.jsx(ry,{chartData:s,dataFrequency:a,setDataFrequency:i}),n.jsxs("div",{className:"flex items-start justify-between gap-x-10 flex-wrap",children:[n.jsx(xy,{liquidityDepth:o,asset:e}),n.jsx(uy,{ohlcvChartData:s,liquidityDepth:o,priceData:p,asset:e})]})]})},Cy=()=>{const e=At(),t=Bi();return h.useEffect(()=>{e.pathname.endsWith("trading")&&t("/trading/builder")},[e.pathname]),n.jsxs(ji,{children:[n.jsxs(Je,{path:"/trading",element:n.jsx(Or,{}),children:[n.jsx(Je,{path:"builder",element:n.jsx(lu,{})}),n.jsx(Je,{path:"option-chain",element:n.jsx(Zu,{})})]}),n.jsx(Je,{path:"/oku",element:n.jsx(_y,{})}),n.jsx(Je,{path:"*",element:n.jsx(Ni,{to:Is,replace:!0})})]})};const ky="/sf_draft/assets/Discord-953a06b2.svg",Sy="/sf_draft/assets/Gitbook-e6bd9837.svg",wy="/sf_draft/assets/Github-91413dd2.svg",Py="/sf_draft/assets/Mirror-57127b4e.svg",My="/sf_draft/assets/Dune-6a822b0b.svg",Ay="/sf_draft/assets/Twitter-42687d77.svg",Dy=()=>{const e=[{name:"Discord",icon:ky,url:"https://discord.gg/5DGZ7rzSfS"},{name:"Gitbook",icon:Sy,url:"https://docs.sharwa.finance/"},{name:"Github",icon:wy,url:"https://github.com/SharwaFinance"},{name:"Mirror",icon:Py,url:"https://mirror.xyz/sharwa-finance.eth"},{name:"Dune",icon:My,url:"https://dune.com/sharwa_finance/aggregator"},{name:"Twitter",icon:Ay,url:"https://twitter.com/SharwaFinance"}];return n.jsx("footer",{className:"Footer",children:n.jsxs("div",{className:"Footer__content _container",children:[n.jsx(Qn,{}),n.jsx("div",{className:"Footer__smedia-items",children:e.map(t=>n.jsx("a",{className:"Footer__smedia-item",target:"_blank",rel:"noreferrer",href:t.url,children:n.jsx("img",{src:t.icon,alt:`${t.name} logo`})},t.name))})]})})};const Ey=({children:e})=>n.jsx("div",{className:"GlobalStickyMessage",children:e}),Oy=({children:e})=>n.jsx(hs,{children:n.jsx(Dr,{children:n.jsx(_l,{children:n.jsx(no,{children:n.jsx(Io,{children:e})})})})}),Iy=()=>n.jsxs("div",{className:"Tooltips",children:[n.jsx(ae,{id:"Tooltip_default",place:"bottom-start"}),n.jsx(ae,{id:"Tooltip_bottom",place:"bottom"}),n.jsx(ae,{id:"Tooltip_top",place:"top"}),n.jsx(ae,{id:"Tooltip_Asset",hasDelay:!1,place:"bottom"}),n.jsx(ae,{id:"Tooltip_Expiration",place:"bottom-end"}),n.jsx(ae,{id:"Tooltip_MarketInfo",place:"bottom-start"})]});function By(){const{chain:e}=di(),t=()=>n.jsxs(n.Fragment,{children:[n.jsx(Ms,{}),n.jsx("main",{className:"_container",children:n.jsx(Cy,{})}),n.jsx(Dy,{}),n.jsx(Ey,{children:"Sharwa.Finance is in alpha. Use at your own risk"})]}),a=()=>n.jsx(Os,{chainId:e.id});return e!=null&&e.unsupported?a():t()}function jy(){return n.jsx(Vi,{fallbackRender:null,children:n.jsxs(n.Fragment,{children:[n.jsx(As,{}),n.jsx(Iy,{}),n.jsx(yi,{config:bs(),children:n.jsx(ii,{children:n.jsx(Oy,{children:n.jsx(By,{})})})})]})})}ni.createRoot(document.getElementById("root")).render(n.jsx(Ve.StrictMode,{children:n.jsx(jy,{})}));
