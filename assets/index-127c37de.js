import{j as a,r as g,a as qe}from"./node_modules/react-68dd7fa3.js";import{c as ca}from"./node_modules/react-dom-5fcafbdd.js";import{L as ma,H as Ta}from"./node_modules/react-router-dom-07f63af6.js";import{c as O}from"./node_modules/classnames-bd5fa247.js";import{c as fa,u as ba,a as ha,b as xa,d as Y,e as ga,f as _a,W as va,g as ka}from"./node_modules/wagmi-46e3abc7.js";import{p as wa,I as Ca,q as Sa,r as Pa,t as Ma}from"./node_modules/@wagmi-12040b36.js";import{G as Aa,W as Da,B as ne,C as $,H as Tn,I as It,J as Ot,K as Ea}from"./node_modules/@ethersproject-3f36e531.js";import{i as oe,u as Oe}from"./node_modules/swr-d326403e.js";import{Q as Ft,k as Ba,h as Ia}from"./node_modules/react-toastify-93c48821.js";import{u as Oa,a as Fa,b as ja,c as st,d as jt}from"./node_modules/react-use-f269705f.js";import{S as La,c as Na}from"./node_modules/react-select-e0be1df3.js";import{W as Ra}from"./node_modules/react-tooltip-e60103c1.js";import{b as rt,O as Ua,a as Ha,d as $a,e as Ae,f as qa}from"./node_modules/react-router-eb77f838.js";import{E as Wa}from"./node_modules/react-error-boundary-09e8d5b5.js";import{R as Lt}from"./node_modules/react-modal-c99e49ee.js";import{I as Va}from"./node_modules/react-icons-40d91654.js";import{f as fn}from"./node_modules/date-fns-003c5fae.js";import{A as Ga,a as Ka}from"./node_modules/@szhsin-a542b3ae.js";import{r as Ya}from"./node_modules/swiper-4105a6d8.js";import{u as Nt}from"./node_modules/ethers-4a27b812.js";import{L as za}from"./node_modules/@lyrafinance-f816cda0.js";import"./node_modules/cross-fetch-0da046eb.js";import{A as re}from"./node_modules/@uniswap-1293648a.js";import{d as Za}from"./node_modules/@premia-9155c694.js";import{S as Qa}from"./node_modules/rc-slider-6e43c4f5.js";import{R as Xa,A as Ja,X as ei,Y as ti,T as ni,a as ai,b as pn,C as ii}from"./node_modules/recharts-12c6b512.js";import"./node_modules/scheduler-765c72db.js";import"./node_modules/@remix-run-06a34d2a.js";import"./node_modules/@tanstack-d71f9067.js";import"./node_modules/use-sync-external-store-a782d5fb.js";import"./node_modules/@noble-c8e7831c.js";import"./node_modules/eventemitter3-81bfab7c.js";import"./node_modules/zustand-739ef07d.js";import"./node_modules/bech32-31e038c5.js";import"./node_modules/js-sha3-ce5cafba.js";import"./node_modules/bn.js-8a3ccc3d.js";import"./node_modules/hash.js-8b2c60f4.js";import"./node_modules/minimalistic-assert-7cc78341.js";import"./node_modules/inherits-2c87d58f.js";import"./node_modules/aes-js-f32d19c7.js";import"./node_modules/scrypt-js-bb3f8ef0.js";import"./node_modules/clsx-1229b3e0.js";import"./node_modules/copy-to-clipboard-5683d41b.js";import"./node_modules/toggle-selection-93f4ad84.js";import"./node_modules/@xobotyi-c2000ea3.js";import"./node_modules/@babel-0a888fcc.js";import"./node_modules/@emotion-4a616afc.js";import"./node_modules/hoist-non-react-statics-23d96a9a.js";import"./node_modules/react-is-e8e5dbb3.js";import"./node_modules/stylis-79144faa.js";import"./node_modules/@floating-ui-1f2e0c5a.js";import"./node_modules/use-isomorphic-layout-effect-8947cc70.js";import"./node_modules/memoize-one-297ddbcb.js";import"./node_modules/prop-types-00d8be68.js";import"./node_modules/warning-883c7a3c.js";import"./node_modules/exenv-9baed461.js";import"./node_modules/react-lifecycles-compat-dc26afa4.js";import"./node_modules/react-transition-state-4c6167b9.js";import"./node_modules/optimism-96b4f7fa.js";import"./node_modules/@wry-af370e25.js";import"./node_modules/ts-invariant-d603e89e.js";import"./node_modules/graphql-tag-9568edd7.js";import"./node_modules/graphql-6a9502bd.js";import"./node_modules/zen-observable-ts-47d5f8bb.js";import"./node_modules/symbol-observable-f2ed883d.js";import"./node_modules/jsbi-a35364a5.js";import"./node_modules/tiny-invariant-bee4f299.js";import"./node_modules/decimal.js-light-6fe16ef2.js";import"./node_modules/big.js-da9df5c5.js";import"./node_modules/toformat-0450bf3a.js";import"./node_modules/rc-util-36986ebc.js";import"./node_modules/react-resize-detector-0acde50d.js";import"./node_modules/lodash-519d2351.js";import"./node_modules/react-smooth-0f3442f7.js";import"./node_modules/fast-equals-a0711cdd.js";import"./node_modules/victory-vendor-5e3e398c.js";import"./node_modules/d3-scale-4cce9527.js";import"./node_modules/internmap-7949acc8.js";import"./node_modules/d3-array-7d9b19f9.js";import"./node_modules/d3-time-format-aa787c71.js";import"./node_modules/d3-time-9ce187c0.js";import"./node_modules/d3-interpolate-8fa1f6ff.js";import"./node_modules/d3-color-6502c434.js";import"./node_modules/d3-format-ffdb8652.js";import"./node_modules/recharts-scale-170b47f7.js";import"./node_modules/d3-shape-9e788a4f.js";import"./node_modules/d3-path-41c4cb36.js";import"./node_modules/reduce-css-calc-4e9c59a3.js";import"./node_modules/css-unit-converter-9e08bb2c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const si="/sf_draft/assets/Logo-258738bb.svg",bn=({className:e})=>a.jsx("div",{className:O("Logo",e),children:a.jsx("a",{className:"Logo__link",href:"/index.html",children:a.jsx("img",{src:si,alt:"Sharwa.Finance"})})});const Rt=({className:e,links:t,type:n})=>{const i=O(e,n&&`Links_${n}`);return a.jsx("div",{className:O("Links",i),children:t.map((s,r)=>{var l;const o=O("Links__item",s.isActive&&"active");return((l=s.to)==null?void 0:l.startsWith("http"))?a.jsx("a",{className:o,href:s.to,rel:"noreferrer",target:"_blank",children:s.name},s.to):a.jsx(ma,{to:s.to,className:o,disabled:s.isDisabled,onClick:s.isDisabled&&(y=>y.preventDefault()),children:s.name},s.to??r)})})};const hn=e=>{const[t,n]=g.useState(!1),i=g.useCallback(()=>{document.removeEventListener("click",i),n(!1),e&&e()},[]);return{isOpen:t,openPopup:()=>{t||(n(!0),setTimeout(()=>{document.addEventListener("click",i)},10))},closePopup:i}},ri="/sf_draft/assets/wallet-fce3adf9.svg",oi="/sf_draft/assets/link-c9833cec.svg",pi="/sf_draft/assets/cross_white-42eb5050.svg",ui="/sf_draft/assets/Arbitrum-299bccbf.svg",li="/sf_draft/assets/Arbitrum-299bccbf.svg",_e=42161,ot=10,Ut=[_e],Ht={[_e]:{name:"Arbitrum",icon:ui},[ot]:{name:"Optimism",icon:li,isDisabled:!0}},yi=[{inputs:[{internalType:"address",name:"_exchanger",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module[]",name:"moduleArray",type:"tuple[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"exchanger",outputs:[{internalType:"contract Exchanger",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"module",outputs:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextBuildID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"exchangerAddress",type:"address"}],name:"setExchanger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module",name:"modData",type:"tuple"}],name:"setModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],di=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],ci=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],mi=[{inputs:[{internalType:"address",name:"_proxySeller",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"}],name:"OpenPositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proxySeller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ti=[{inputs:[{internalType:"contract ERC20",name:"_usdc",type:"address"},{internalType:"contract ERC20",name:"_weth",type:"address"},{internalType:"contract ERC20",name:"_wbtc",type:"address"},{internalType:"contract IBeyondPricer",name:"_pricer",type:"address"},{internalType:"contract IOptionExchange",name:"_optionExchange",type:"address"},{internalType:"contract IAlphaPortfolioValuesFeed",name:"_portfolioValuesFeed",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],indexed:!1,internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],name:"OpenPositionByRyskFinance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromRyskFinance",outputs:[{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],name:"encodeFromRyskFinance",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionExchange",outputs:[{internalType:"contract IOptionExchange",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"portfolioValuesFeed",outputs:[{internalType:"contract IAlphaPortfolioValuesFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IBeyondPricer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wbtc",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"weth",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"}],fi=[{inputs:[{internalType:"address",name:"_erc721Address",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"TakeProfitSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"TakeProfitUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkTakeProfit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc721Contract",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveTakeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getExpirationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPayOffAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveTakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveTakes",type:"uint256"}],name:"setMaxActiveTakes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"setTakeProfit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"updateTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],bi=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],hi=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],xi=[{inputs:[{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_roleManager",type:"address"},{internalType:"address",name:"_weth9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes",name:"swapData",type:"bytes"}],name:"calculateMsgValue",outputs:[{internalType:"uint256",name:"value",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"msgValue",type:"uint256"}],name:"checkMsgValue",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromExchange",outputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],name:"encodeFromExchange",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"roleManager",outputs:[{internalType:"contract RoleManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"weth9",outputs:[{internalType:"contract IWETH9",name:"",type:"address"}],stateMutability:"view",type:"function"}],gi=[{inputs:[{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"contract IPositionsManager",name:"_manager",type:"address"},{internalType:"uint256",name:"_maxLockupPeriod",type:"uint256"},{internalType:"contract ICoverPool",name:"_coverPool",type:"address"},{internalType:"uint256",name:"_benchmark",type:"uint256"},{internalType:"contract IHegicStrategy[]",name:"initialStrategies",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Expired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Paid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Replenished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"acceptedStrategy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"addStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"benchmark",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"connectStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"coverPool",outputs:[{internalType:"contract ICoverPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"lockedByStrategy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lockedLiquidity",outputs:[{internalType:"enum IOperationalTreasury.LockedLiquidityState",name:"state",type:"uint8"},{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"},{internalType:"uint32",name:"expiration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedPremium",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"contract IPositionsManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLockupPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"mayBeAcceptedAtEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"account",type:"address"}],name:"payOff",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"replenish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setBenchmark",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalLocked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lockedLiquidityID",type:"uint256"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],_i=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"HEGIC_POOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"}],name:"createOptionFor",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721Metadata",name:"_uriBuilder",type:"address"}],name:"setURIBuilder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uriBuilder",outputs:[{internalType:"contract IERC721Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"}],vi=[{inputs:[{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"contract IPremiumCalculator",name:"_pricer",type:"address"},{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint8",name:"_spotDecimals",type:"uint8"},{internalType:"uint16",name:"_priceScale",type:"uint16"},{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"},{internalType:"uint48",name:"_exerciseWindowDuration",type:"uint48"},{internalType:"contract LimitController",name:"_limitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],indexed:!1,internalType:"struct IHegicStrategy.StrategyData",name:"data",type:"tuple"},{indexed:!1,internalType:"uint256",name:"negativepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positivepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"Acquired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"limit",type:"uint256"}],name:"SetLimit",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"",type:"bytes[]"}],name:"calculateNegativepnlAndPositivepnl",outputs:[{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"connect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"create",outputs:[{internalType:"uint32",name:"expiration",type:"uint32"},{internalType:"uint256",name:"negativePNL",type:"uint256"},{internalType:"uint256",name:"positivePNL",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exerciseWindowDuration",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"period",type:"uint32"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"getAvailableContracts",outputs:[{internalType:"uint256",name:"available",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLockedByStrategy",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isPayoffAvailable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"k",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"limitController",outputs:[{internalType:"contract LimitController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"optionID",type:"uint256"}],name:"payOffAmount",outputs:[{internalType:"uint256",name:"profit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positionExpiration",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IPremiumCalculator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48",name:"value",type:"uint48"}],name:"setK",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract LimitController",name:"value",type:"address"}],name:"setLimitController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IPremiumCalculator",name:"value",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"strategyData",outputs:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],ki=[{inputs:[{internalType:"int256[5]",name:"initialCoefficients",type:"int256[5]"},{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"uint256",name:"_tokenDecimals",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[3]",name:"values",type:"uint256[3]"}],name:"SetBorders",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetCoefficients",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountCall",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountPut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"values",type:"uint8"}],name:"SetDiscountSpread",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetImpliedVolRate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[4]",name:"values",type:"uint256[4]"}],name:"SetImpliedVolRates",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"min",type:"uint256"},{indexed:!1,internalType:"uint256",name:"max",type:"uint256"}],name:"SetPeriodLimits",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetSettlementFeeShare",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetStrikePercentage",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"strike",type:"uint256"}],name:"calculatePremium",outputs:[{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"coefficients",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"setCoefficients",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],wi=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Ci=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Si=[{inputs:[{internalType:"address",name:"_lyraRegister",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardAlreadySettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"BoardExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardIsFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum IOptionMarket.NonZeroValues",name:"valueType",type:"uint8"}],name:"ExpectedNonZeroValue",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"InvalidStrikeId",type:"error"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"fullQuotes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"}],Pi=[{inputs:[{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"},{internalType:"address",name:"_underlyingAsset",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"uint256",name:"rfr",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{components:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],internalType:"struct Types.OptionParams",name:"_optionParams",type:"tuple"},{internalType:"address",name:"_authority",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidAmount",type:"error"},{inputs:[],name:"InvalidDecimals",type:"error"},{inputs:[],name:"InvalidShareAmount",type:"error"},{inputs:[],name:"IssuanceFailed",type:"error"},{inputs:[],name:"LiabilitiesGreaterThanAssets",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NotHandler",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"OptionStrikeInvalid",type:"error"},{inputs:[],name:"ReactorAlreadyExists",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TradingNotPaused",type:"error"},{inputs:[],name:"TradingPaused",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{inputs:[],name:"WithdrawExceedsLiquidity",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrowReturned",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"}],name:"BuybackOption",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"DepositEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"InitiateWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256",name:"deltaChange",type:"int256"}],name:"RebalancePortfolioDelta",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralReturned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLost",type:"uint256"},{indexed:!1,internalType:"address",name:"closer",type:"address"}],name:"SettleVault",type:"event"},{anonymous:!1,inputs:[],name:"TradingPaused",type:"event"},{anonymous:!1,inputs:[],name:"TradingUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"WithdrawalEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrow",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"}],name:"WriteOption",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lpCollateralDifference",type:"uint256"},{internalType:"bool",name:"addToLpBalance",type:"bool"}],name:"adjustCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"optionsValue",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"bool",name:"isSale",type:"bool"}],name:"adjustVariables",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"bufferPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"auth",type:"bool"}],name:"changeHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"checkBuffer",outputs:[{internalType:"int256",name:"bufferRemaining",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAllocated",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"completeWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"depositEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"depositEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depositReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint256",name:"unredeemedShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralLiabilities",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"executeEpochCalculation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExternalDelta",outputs:[{internalType:"int256",name:"externalDelta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getHedgingReactors",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"isPut",type:"bool"},{internalType:"uint256",name:"underlyingPrice",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"expiration",type:"uint256"}],name:"getImpliedVolatility",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNAV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPortfolioDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVolatilityFeed",outputs:[{internalType:"contract VolatilityFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"seller",type:"address"}],name:"handlerBuybackOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"handlerIssue",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerIssueAndWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"hedgingReactors",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"initiateWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isTradingPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPriceDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTimeDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionParams",outputs:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"partitionedFunds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseTradingAndRequest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"pauseUnpauseTrading",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingDeposits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingWithdrawals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"uint256",name:"reactorIndex",type:"uint256"}],name:"rebalancePortfolioDelta",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"},{internalType:"bool",name:"_override",type:"bool"}],name:"removeHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resetEphemeralValues",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bufferPercentage",type:"uint256"}],name:"setBufferPercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralCap",type:"uint256"}],name:"setCollateralCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_reactorAddress",type:"address"}],name:"setHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxPriceDeviationThreshold",type:"uint256"}],name:"setMaxPriceDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxTimeDeviationThreshold",type:"uint256"}],name:"setMaxTimeDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_newMinCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMinPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMinExpiry",type:"uint128"},{internalType:"uint128",name:"_newMaxExpiry",type:"uint128"}],name:"setNewOptionParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"}],name:"settleVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdrawalEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdrawalReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"shares",type:"uint128"}],stateMutability:"view",type:"function"}],Mi=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidExpiry",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesAltered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesApproved",type:"event"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"approvedOptions",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"changeOptionBuyOrSell",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"expirations",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExpirations",outputs:[{internalType:"uint64[]",name:"",type:"uint64[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"bool",name:"isPut",type:"bool"}],name:"getOptionDetails",outputs:[{internalType:"uint128[]",name:"",type:"uint128[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"getOptionStores",outputs:[{components:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct OptionCatalogue.OptionStores",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isBuyable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isSellable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"issueNewSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],name:"optionDetails",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"optionStores",outputs:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"}],Ai=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_pricer",type:"address"},{internalType:"address",name:"_addressbook",type:"address"},{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_feeRecipient",type:"address"},{internalType:"address",name:"_catalogue",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CloseSizeTooLarge",type:"error"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"ForbiddenAction",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NonExistentOtoken",type:"error"},{inputs:[],name:"NonWhitelistedOtoken",type:"error"},{inputs:[],name:"NothingToClose",type:"error"},{inputs:[],name:"OperatorNotApproved",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"PoolFeeNotSet",type:"error"},{inputs:[],name:"PremiumTooSmall",type:"error"},{inputs:[],name:"SeriesNotBuyable",type:"error"},{inputs:[],name:"SeriesNotSellable",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TokenImbalance",type:"error"},{inputs:[],name:"TooMuchSlippage",type:"error"},{inputs:[],name:"TradeTooLarge",type:"error"},{inputs:[],name:"TradeTooSmall",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{inputs:[],name:"UnauthorisedSender",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"}],name:"OptionsIssued",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"}],name:"OptionsRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsSold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOptionExchange",type:"address"},{indexed:!1,internalType:"address",name:"otoken",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"OtokenMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"}],name:"RedemptionSent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"addressbook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bool",name:"",type:"bool"}],name:"approvedCollateral",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"catalogue",outputs:[{internalType:"contract OptionCatalogue",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isApproved",type:"bool"}],name:"changeApprovedCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint128",name:"strikeDecimalConverted",type:"uint128"},{internalType:"bool",name:"isSell",type:"bool"}],name:"checkHash",outputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"createOtoken",outputs:[{internalType:"address",name:"series",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDelta",outputs:[{internalType:"int256",name:"delta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"getOptionDetails",outputs:[{internalType:"address",name:"",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"",type:"tuple"},{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolDenominatedValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"_delta",type:"int256"}],name:"hedgeDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"heldTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum CombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct CombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct CombinedActions.OperationProcedures[]",name:"_operationProcedures",type:"tuple[]"}],name:"operate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolFees",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract BeyondPricer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_series",type:"address[]"},{internalType:"uint256[]",name:"amountOutMinimums",type:"uint256[]"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_catalogue",type:"address"}],name:"setOptionCatalogue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"}],name:"setPoolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pricer",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_minTradeSize",type:"uint256"},{internalType:"uint256",name:"_maxTradeSize",type:"uint256"}],name:"setTradeSizeLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOptionExchange",type:"address"},{internalType:"address[]",name:"otokens",type:"address[]"}],name:"transferOtokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"update",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Di=[{inputs:[{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_authority",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyExpired",type:"error"},{inputs:[],name:"HealthyVault",type:"error"},{inputs:[],name:"InsufficientBalance",type:"error"},{inputs:[],name:"InvalidCollateral",type:"error"},{inputs:[],name:"InvalidDecimals",type:"error"},{inputs:[],name:"NoVault",type:"error"},{inputs:[],name:"NonExistentSeries",type:"error"},{inputs:[],name:"NotExpired",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[],name:"NotLiquidityPool",type:"error"},{inputs:[],name:"NotOperator",type:"error"},{inputs:[],name:"SeriesAddressAlreadySet",type:"error"},{inputs:[],name:"SeriesInfoAlreadySet",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"VaultAlreadySet",type:"error"},{inputs:[],name:"VaultExpired",type:"error"},{inputs:[],name:"VaultNotLiquidated",type:"error"},{inputs:[],name:"WithdrawExceedsLiquidity",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"putLower",type:"uint64"},{indexed:!1,internalType:"uint64",name:"putUpper",type:"uint64"},{indexed:!1,internalType:"uint64",name:"callLower",type:"uint64"},{indexed:!1,internalType:"uint64",name:"callUpper",type:"uint64"}],name:"HealthThresholdsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"bool",name:"auth",type:"bool"}],name:"KeeperUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newLiquidityPool",type:"address"}],name:"LiquidityPoolUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"isOperator",type:"bool"}],name:"OperatorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"OptionTokenCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"closedAmount",type:"uint256"}],name:"OptionsContractClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"optionsAmount",type:"uint256"}],name:"OptionsContractOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralReturned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountLost",type:"uint256"}],name:"OptionsContractSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"underlyingAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeAmount",type:"uint256"}],name:"SeriesRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountLiquidated",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLiquidated",type:"uint256"}],name:"VaultLiquidationRegistered",type:"event"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"adjustCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"adjustCollateralCaller",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callLowerHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"callUpperHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"checkVaultHealth",outputs:[{internalType:"bool",name:"isBelowMin",type:"bool"},{internalType:"bool",name:"isAboveMax",type:"bool"},{internalType:"uint256",name:"healthFactor",type:"uint256"},{internalType:"uint256",name:"upperHealthFactor",type:"uint256"},{internalType:"uint256",name:"collatRequired",type:"uint256"},{internalType:"address",name:"collatAsset",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"close",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"series",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_series",type:"tuple"}],name:"getIssuanceHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"uint256",name:"expiration",type:"uint256"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"uint256",name:"strike",type:"uint256"},{internalType:"address",name:"collateral",type:"address"}],name:"getOtoken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_series",type:"tuple"}],name:"getSeries",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"issuanceHash",type:"bytes32"}],name:"getSeriesAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"series",type:"address"}],name:"getSeriesInfo",outputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"issue",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateralAmount",type:"uint256"}],name:"open",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"putLowerHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"putUpperHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"registerLiquidatedVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"seriesInfo",outputs:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_putLower",type:"uint64"},{internalType:"uint64",name:"_putUpper",type:"uint64"},{internalType:"uint64",name:"_callLower",type:"uint64"},{internalType:"uint64",name:"_callUpper",type:"uint64"}],name:"setHealthThresholds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newLiquidityPool",type:"address"}],name:"setLiquidityPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_isOperator",type:"bool"}],name:"setOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"address",name:"_seriesAddress",type:"address"},{internalType:"bytes32",name:"_issuanceHash",type:"bytes32"}],name:"setSeriesInfoAndAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_seriesAddress",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"setVaultIds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"settle",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vaultCount",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"wCollatLiquidatedVault",outputs:[],stateMutability:"nonpayable",type:"function"}],Ei=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_addressBook",type:"address"},{internalType:"uint256",name:"_slippageGradient",type:"uint256"},{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IVNotFound",type:"error"},{inputs:[],name:"InvalidMultiplierValue",type:"error"},{inputs:[],name:"InvalidMultipliersArrayLength",type:"error"},{inputs:[],name:"InvalidTenorArrayLength",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__LogInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__LogInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__SqrtOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newBidAskIVSpread",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldBidAskIVSpread",type:"uint256"}],name:"BidAskIVSpreadChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newCollateralLendingRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldCollateralLendingRate",type:"uint256"}],name:"CollateralLendingRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newDeltaBandWidth",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldDeltaBandWidth",type:"uint256"}],name:"DeltaBandWidthChanged",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"newDeltaBorrowRates",type:"tuple"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"oldDeltaBorrowRates",type:"tuple"}],name:"DeltaBorrowRatesChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newFeePerContract",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldFeePerContract",type:"uint256"}],name:"FeePerContractChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaSellOptionFlatIV",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaSellOptionFlatIV",type:"uint256"}],name:"LowDeltaSellOptionFlatIVChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaThreshold",type:"uint256"}],name:"LowDeltaThresholdChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newRiskFreeRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldRiskFreeRate",type:"uint256"}],name:"RiskFreeRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newSlippageGradient",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldSlippageGradient",type:"uint256"}],name:"SlippageGradientChanged",type:"event"},{anonymous:!1,inputs:[],name:"SlippageGradientMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadCollateralMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadDeltaMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"TenorParamsSet",type:"event"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"bidAskIVSpread",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralLendingRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBandWidth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBorrowRates",outputs:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feePerContract",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_deltaBandWidth",type:"uint256"},{internalType:"uint16",name:"_numberOfTenors",type:"uint16"},{internalType:"uint16",name:"_maxTenorValue",type:"uint16"},{components:[{internalType:"int80[]",name:"callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadDeltaMultipliers",type:"int80[]"}],internalType:"struct BeyondPricer.DeltaBandMultipliers[]",name:"_tenorPricingParams",type:"tuple[]"}],name:"initializeTenorParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaSellOptionFlatIV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTenorValue",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"numberOfTenors",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bool",name:"isSell",type:"bool"},{internalType:"int256",name:"netDhvExposure",type:"int256"}],name:"quoteOptionPrice",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"int256",name:"totalDelta",type:"int256"},{internalType:"uint256",name:"totalFees",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bidAskIVSpread",type:"uint256"}],name:"setBidAskIVSpread",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"}],name:"setCollateralLendingRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],name:"setDeltaBorrowRates",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_feePerContract",type:"uint256"}],name:"setFeePerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaSellOptionFlatIV",type:"uint256"}],name:"setLowDeltaSellOptionFlatIV",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaThreshold",type:"uint256"}],name:"setLowDeltaThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_slippageGradient",type:"uint256"}],name:"setSlippageGradient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSlippageGradientMultipliers",type:"int80[]"}],name:"setSlippageGradientMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadCollateralMultipliers",type:"int80[]"}],name:"setSpreadCollateralMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadDeltaMultipliers",type:"int80[]"}],name:"setSpreadDeltaMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"slippageGradient",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Bi=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"},{internalType:"address",name:"_protocol",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IncorrectSeriesToRemove",type:"error"},{inputs:[],name:"MaxNetDhvExposureExceeded",type:"error"},{inputs:[],name:"NoShortPositions",type:"error"},{inputs:[],name:"NoVaultForShortPositions",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"seriesAddress",type:"address"}],name:"OptionHasExpiredInStores",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"SeriesNotExpired",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"underlying",type:"address"},{indexed:!0,internalType:"address",name:"strike",type:"address"},{indexed:!1,internalType:"int256",name:"delta",type:"int256"},{indexed:!1,internalType:"int256",name:"gamma",type:"int256"},{indexed:!1,internalType:"int256",name:"vega",type:"int256"},{indexed:!1,internalType:"int256",name:"theta",type:"int256"},{indexed:!1,internalType:"int256",name:"callPutsValue",type:"int256"}],name:"DataFullfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxNetDhvExposure",type:"uint256"}],name:"MaxNetDhvExposureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"int256",name:"oldNetDhvExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"newNetDhvExposure",type:"int256"}],name:"NetDhvExposureChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_underlying",type:"address"},{indexed:!1,internalType:"address",name:"_strike",type:"address"}],name:"RequestedUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"seriesAddress",type:"address"},{indexed:!1,internalType:"int256",name:"shortExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"longExposure",type:"int256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],indexed:!1,internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"StoresUpdated",type:"event"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"accountLiquidatedSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"addressAtIndexInSet",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"addressSetLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"cleanLooperManually",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"}],name:"fulfill",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddressSet",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strike",type:"address"}],name:"getPortfolioValues",outputs:[{components:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"gamma",type:"int256"},{internalType:"int256",name:"vega",type:"int256"},{internalType:"int256",name:"theta",type:"int256"},{internalType:"int256",name:"callPutsValue",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],internalType:"struct Types.PortfolioValues",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_a",type:"address"}],name:"isAddressInSet",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxNetDhvExposure",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPortfolioValuesFeed",name:"_migrateContract",type:"address"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"netDhvExposure",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"}],name:"requestPortfolioData",outputs:[{internalType:"bytes32",name:"id",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rfr",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_liquidityPool",type:"address"}],name:"setLiquidityPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"}],name:"setMaxNetDhvExposure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"_optionHashes",type:"bytes32[]"},{internalType:"int256[]",name:"_netDhvExposures",type:"int256[]"}],name:"setNetDhvExposures",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rfr",type:"uint256"}],name:"setRFR",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"storesForAddress",outputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"syncLooper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"},{internalType:"address",name:"_seriesAddress",type:"address"}],name:"updateStores",outputs:[],stateMutability:"nonpayable",type:"function"}],Ii=[{inputs:[{internalType:"address",name:"_oracle",type:"address"},{internalType:"address",name:"_addressBook",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!1,internalType:"uint256",name:"dust",type:"uint256"}],name:"CollateralDustUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"feeRecipient",type:"address"}],name:"FeeRecipientUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"FeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"liquidationMultiplier",type:"uint256"}],name:"LiquidationMultiplierUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"MaxPriceAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newValue",type:"uint256"}],name:"MaxPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oracleDeviation",type:"uint256"}],name:"OracleDeviationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"product",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"spotShock",type:"uint256"}],name:"SpotShockUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"}],name:"TimeToExpiryAdded",type:"event"},{inputs:[],name:"AUCTION_TIME",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"}],name:"getCollateralDust",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"getExcessCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"getExpiredPayoutRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFeeInformation",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"getMarginRequired",outputs:[{components:[{internalType:"int256",name:"value",type:"int256"}],internalType:"struct FixedPointInt256.FixedPointInt",name:"",type:"tuple"},{components:[{internalType:"int256",name:"value",type:"int256"}],internalType:"struct FixedPointInt256.FixedPointInt",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_timeToExpiry",type:"uint256"}],name:"getMaxPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_shortAmount",type:"uint256"},{internalType:"uint256",name:"_strikePrice",type:"uint256"},{internalType:"uint256",name:"_underlyingPrice",type:"uint256"},{internalType:"uint256",name:"_shortExpiryTimestamp",type:"uint256"},{internalType:"uint256",name:"_collateralDecimals",type:"uint256"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getNakedMarginRequired",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOracleDeviation",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getSpotShock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getTimesToExpiry",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"isLiquidatable",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidationMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"contract OracleInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_dust",type:"uint256"}],name:"setCollateralDust",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_liquidationMultiplier",type:"uint256"}],name:"setLiquidationMultiplier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_deviation",type:"uint256"}],name:"setOracleDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_shockValue",type:"uint256"}],name:"setSpotShock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256[]",name:"_timesToExpiry",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"setUpperBoundValues",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_timeToExpiry",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"updateUpperBoundValue",outputs:[],stateMutability:"nonpayable",type:"function"}],Oi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnOtoken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"expiryTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOtokenDetails",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_underlyingAsset",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"uint256",name:"_strikePrice",type:"uint256"},{internalType:"uint256",name:"_expiryTimestamp",type:"uint256"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isPut",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintOtoken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Fi=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"isSet",type:"bool"}],name:"AccountOperatorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"CallExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isRestricted",type:"bool"}],name:"CallRestricted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollateralAssetDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollateralAssetWithdrawed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"donator",type:"address"},{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Donated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldFullPauser",type:"address"},{indexed:!0,internalType:"address",name:"newFullPauser",type:"address"}],name:"FullPauserUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LongOtokenDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LongOtokenWithdrawed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"}],name:"NakedCapUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldPartialPauser",type:"address"},{indexed:!0,internalType:"address",name:"newPartialPauser",type:"address"}],name:"PartialPauserUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"redeemer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"address",name:"collateralAsset",type:"address"},{indexed:!1,internalType:"uint256",name:"otokenBurned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"payout",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ShortOtokenBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ShortOtokenMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"SystemFullyPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"SystemPartiallyPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"vaultOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"auctionPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralPayout",type:"uint256"},{indexed:!1,internalType:"uint256",name:"debtAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"address",name:"series",type:"address"}],name:"VaultLiquidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"vaultType",type:"uint256"}],name:"VaultOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"oTokenAddress",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"payout",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"vaultType",type:"uint256"}],name:"VaultSettled",type:"event"},{inputs:[],name:"addressbook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"calculator",outputs:[{internalType:"contract MarginCalculatorInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callRestricted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_expiry",type:"uint256"}],name:"canSettleAssets",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"clearVaultLiquidationDetails",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"donate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"fullPauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accountOwner",type:"address"}],name:"getAccountVaultCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getConfiguration",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getNakedCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getNakedPoolBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"getPayout",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getProceed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVault",outputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVaultLiquidationDetails",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVaultWithDetails",outputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"hasExpired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_owner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"isLiquidatable",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isOperator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"isSettlementAllowed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum Actions.ActionType",name:"actionType",type:"uint8"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Actions.ActionArgs[]",name:"_actions",type:"tuple[]"}],name:"operate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"contract OracleInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialPauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract MarginPoolInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"refreshConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_isRestricted",type:"bool"}],name:"setCallRestriction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_fullPauser",type:"address"}],name:"setFullPauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_cap",type:"uint256"}],name:"setNakedCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_isOperator",type:"bool"}],name:"setOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_partialPauser",type:"address"}],name:"setPartialPauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_fullyPaused",type:"bool"}],name:"setSystemFullyPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_partiallyPaused",type:"bool"}],name:"setSystemPartiallyPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"systemFullyPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"systemPartiallyPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whitelist",outputs:[{internalType:"contract WhitelistInterface",name:"",type:"address"}],stateMutability:"view",type:"function"}],ji=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],un=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Li=[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Ni="/sf_draft/assets/ETH-fe35d2b1.svg",Ri="/sf_draft/assets/BTC-03fbacc9.svg",Ui="/sf_draft/assets/WETH-2ba67e25.svg",Hi="/sf_draft/assets/WBTC-f0287338.svg",ln="/sf_draft/assets/USDC-5a7f3d86.svg",$i="/sf_draft/assets/USDT-2e53b5e9.svg",qi="/sf_draft/assets/DAI-b460716b.svg",pt={[_e]:[{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",isETH:!0,icon:Ni,isSwappable:!0,isWrappable:!0},{name:"Bitcoin",symbol:"BTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:Ri,isWrappable:!0},{name:"Wrapped Ethereum",symbol:"WETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:Ui,isSwappable:!0},{name:"Wrapped Bitcoin",symbol:"WBTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:Hi,isSwappable:!0},{name:"Dai",symbol:"DAI",decimals:18,address:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",icon:qi,isSwappable:!0,isStable:!0},{name:"USD Coin",symbol:"USDC",decimals:6,address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",icon:ln,isSwappable:!0,isStable:!0},{name:"USDC.e",symbol:"USDC.e",decimals:6,address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",icon:ln,isSwappable:!0,isStable:!0},{name:"Tether",symbol:"USDT",decimals:6,address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",icon:$i,isSwappable:!0,isStable:!0}]},et={},tt={},yn=Object.keys(pt);for(let e=0;e<yn.length;e++){const t=yn[e];et[t]={},tt[t]={};let n=pt[t];for(let i=0;i<n.length;i++){const s=n[i];et[t][s.symbol]=s,tt[t][s.address]=s}}const ue=(e,t)=>{if(!et[e])throw new Error(`No tokens found for chainId ${e}`);const i=et[e][t];if(!i)throw new Error(`Incorrect symbol "${t}" for chainId ${e}`);return i},Ct=(e,t)=>{if(!tt[e])throw new Error(`No tokens found for chainId ${e}`);const i=tt[e][t];if(!i)throw new Error(`Incorrect address "${t}" for chainId ${e}`);return i},Wi=e=>{const t=pt[e];if(!t)throw new Error(`No tokens found for chainId ${e}`);return t.filter(i=>i.isSwappable)},xn=e=>ue(e,"USDC.e").address,gn=e=>ue(_e,e).icon,He={[_e]:{TxBuilder:{address:"0x07D60b909441d724cA98Ac6bF8b944e22e5B7374",abi:yi},TxBuilderOpen_Lyra_BTC:{address:"0x90481D5ed869be0E5bf11e5a2a8dCF632b9FAEf5",abi:di},TxBuilderOpen_Lyra_ETH:{address:"0x0aaE7bFE3D404Bb6BA3502Ced966Aea6c4F17222",abi:ci},TxBuilderOpen_Hegic:{address:"0xBe5aE8dbB22fa18BeBA05057a171266383a8d5B7",abi:mi},TxBuilderOpen_Rysk:{address:"0x97490835213d1d8c95Fb130a8bE44ac4cF33B43D",abi:Ti},StopOrder_Hegic:{address:"0x83ca705E8eEE363b16935D5FCbC3514530d41C74",abi:fi},StopOrder_Lyra_BTC:{address:"0xDE51a10A711412353e825623F58F56d9D0EA98cF",abi:bi},StopOrder_Lyra_ETH:{address:"0x06a6815b91c88BDa19832Ada861077e123C34FFb",abi:hi},Exchanger:{address:"0x2f7e0Ee16FFd6BA0721158F74934Ff0e42Df6131",abi:xi},Hegic_OperationalTreasury:{address:"0xec096ea6eB9aa5ea689b0CF00882366E92377371",abi:gi},Hegic_PositionManager:{address:"0x5fe380d68fee022d8acd42dc4d36fbfb249a76d5",abi:_i},Hegic_Strategy:{abi:vi},Hegic_PriceCalculator:{abi:ki},Lyra_OptionToken_BTC:{address:"0x0e97498F3d91756Ec7F2d244aC97F6Ea9f4eBbC3",abi:wi},Lyra_OptionToken_ETH:{address:"0xe485155ce647157624C5E2A41db45A9CC88098c3",abi:Ci},Lyra_Quoter:{address:"0x23236b4c7772636b5224df56Be8168A2f42df31C",abi:Si},Rysk_LiquidityPool:{address:"0x217749d9017cB87712654422a1F5856AAA147b80",abi:Pi},Rysk_OptionCatalogue:{address:"0x44227Dc2a1d71FC07DC254Dfd42B1C44aFF12168",abi:Mi},Rysk_OptionExchange:{address:"0xC117bf3103bd09552F9a721F0B8Bce9843aaE1fa",abi:Ai},Rysk_OptionRegistry:{address:"0x8Bc23878981a207860bA4B185fD065f4fd3c7725",abi:Di},Rysk_BeyondPricer:{address:"0xeA5Fb118862876f249Ff0b3e7fb25fEb38158def",abi:Ei},Rysk_AlphaPortfolioValuesFeed:{address:"0xc7abaec336098cd0dcd98b67cb14d3b18e1c68a8",abi:Bi},Rysk_MarginCalculator:{address:"0x268544e8dc0b016aabda5dfa633c7ec4362aed45",abi:Ii},Rysk_Otoken:{abi:Oi},Rysk_OpynController:{address:"0x594bd4ec29f7900ae29549c140ac53b5240d4019",abi:Fi},Chainlink_BTC:{address:"0x6ce185860a4963106506C203335A2910413708e9",abi:un},Chainlink_ETH:{address:"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612",abi:un},Uniswap_Quoter:{address:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",abi:Li}},[ot]:{}},Vi=()=>{for(const e in He){const t=He[e],n=pt[e];n&&(n.forEach(i=>{i.isETH||(t[i.symbol]={address:i.address,abi:ji})}),He[e]={...t})}};Vi();const q=(e,t)=>{if(!He[e])throw new Error(`Unknown chainId ${e}`);const n=He[e][t];if(!n)throw new Error(`Unknown contract "${t}" for chainId ${e}`);return[n.address,n.abi]},_n=(e,t)=>q(e,t)[0],$t=(e,t)=>q(e,t)[1],Gi={[_e]:"https://arb-mainnet.g.alchemy.com/v2/",[ot]:""},vn=e=>({VITE_ALCHEMY_API_KEY_42161:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",BASE_URL:"/sf_draft",MODE:"production",DEV:!1,PROD:!0,SSR:!1})[`VITE_ALCHEMY_API_KEY_${e}`],Ki=e=>{const t=Gi[e],n=vn(e);return`${t}${n}`},W=e=>{const t=vn(e);if(!t)throw new Error(`No Alchemy api key found for chainId ${e}`);return new Aa(e,t)},Te=()=>{if(!window.ethereum)throw new Error("No Ethereum provider found");return new Da(window.ethereum).getSigner()},qt=["ETH","BTC"],X=18,Yi=18,zi=8,St=6,Wt={ETH:Yi,BTC:zi},Zi=8,Qi=8,$e=6,kn=2,wn=3,Xi=e=>{let t=e.reason??e.message;return t==="Internal JSON-RPC error."&&(t=e.data.message),t},Ji=e=>e.includes("User rejected the request")?"User rejected the request.":e.includes("user rejected transaction")?"User rejected transaction.":e.includes("Request of type 'wallet_switchEthereumChain' already pending")?"Switching network request is already pending.":e.includes("Connector already connected")?"Wallet is already connected.":e.includes("Already processing eth_requestAccounts")?"Please, log in to your wallet account.":e.includes("Too little received")?"Slippage set too low. Please consider increasing it for successful strategy purchase.":e.includes("Pausable: paused")?`Rysk system is currently paused.
Please try again shortly.`:e,be=e=>{if(typeof e!="bigint")throw new TypeError(`Invalid BigInt: ${e}`)},Cn=e=>{if(typeof e!="number"&&typeof e!="string")throw new TypeError(`Invalid amount: ${e}`)},es=e=>{if(typeof e!="string")throw new TypeError(`Invalid String: ${e}`)},ye=(e,t=",")=>{Cn(e);const n=e.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,t),n.join(".")},ts=e=>{Cn(e);const t=e.toString(),n=t.indexOf(".");if(n!==-1){const i=t.match(/[1-9]/)[0];return t.indexOf(i,n)-n}return 0},ut=(e,t,n)=>{let i=e.toString();if(oe(t))return i;if(t===0)return i.split(".")[0];const s=i.indexOf(".");if(s!==-1){let o=i.length-s-1;if(o>t){const p=i.substr(0,i.length-(o-t));if(n)if(Number(p)===0){const u=ts(i);i=i.substr(0,i.length-(o-u))}else i=p;else i=p}}return i},Sn=(e,t)=>{let n=e.toString();const i=n.indexOf("."),s=i!==-1,r=s?n.length-i-1:0;return r<t&&(n+=+s?"":".",n+="0".repeat(t-r)),n},ns=e=>{const t=e.toString();return t.indexOf(".")!==-1?parseFloat(t):e},as=e=>{const t=e.toString(),[n,i]=t.split(".");return i==="0".repeat(i==null?void 0:i.length)?n:t},is=(e,t)=>{var s;let n=e.toString().replace(/^\./g,"").replace(/[^0-9.]/g,"").replace(/^0\d/,"");return((s=n.match(/\./g))==null?void 0:s.length)>1&&(n=(o=>o.replace(/\.$/,""))(n)),n=ut(n,t?0:$e),n},We=(e,t,n)=>ye(is(e,n),t),ve=(e,t=",")=>(es(e),Number(e.split(t).join(""))),Ze=(e,t=0)=>Math.round(e*10**t)/10**t,V=(e,t=X,n)=>{be(e);let i=Number(e)/10**t;return typeof n<"u"&&(i=Math.round(i*10**n)/10**n),String(i).includes("e")?0:i},lt=(e,t)=>(be(e),e*BigInt(10**t)),Vt=(e,t)=>(be(e),e/BigInt(10**t)),G=(e,t=X)=>{if(t<$e)throw new Error("Converting number to BigInt without expanding decimals is not safe.");const n=Math.floor(Number(e)*10**$e);return lt(BigInt(n),t-$e)},J=(e,t=kn,n=X,i=!1)=>{be(e);let s=V(e,n);return s=ut(s,t),s=Sn(s,t),i||(s=as(s)),s=ye(s),String(s)},ss=(e,t=wn,n=X,i)=>{be(e);let s=V(e,n);return s=ut(s,t,i),s=ns(s),s=ye(s),String(s)},Fe=(e,t,n,i)=>{be(e);const s=t?J:ss;return oe(n)&&(n=t?kn:wn),s(e,n,i,!t)},Gt=(e,t,n)=>{be(e);const i=n-t;return(i<0?Vt:lt)(e,Math.abs(i))},Z=(e,t)=>Gt(e,t,X),le=(e,t)=>Gt(e,X,t),Pn=(e,t,n=X)=>{be(e);const i=V(e,n)*t;return G(i,n)},Pt=(e,t,n=X)=>(e=lt(e,n),e/t),Se=(e,t,n=X)=>{const i=e*t;return Vt(i,X)},Mn=(e,t,n=X)=>{be(e);const i=n-t,s=Vt(e,i);return lt(s,i)},xe=e=>(be(e),e<0n?-e:e),Ve=e=>-xe(e),me=e=>{if(typeof e!="object")throw new Error(`Invalid bigNumberData: ${e}`);const t={};for(const n in e){let i=e[n];ne.isBigNumber(i)&&(i=i.toBigInt()),t[n]=i}return t},Ge=e=>{const t=ve(e);return G(t)},rs=e=>{const t=V(e);return We(t)},os=(e,t,n)=>{t=An(t);const i=Dn(e)+"/tx/"+n;console.log(t.text,`
`,i),Ft.success(a.jsxs("div",{children:[a.jsx("div",{children:t.node}),a.jsx("br",{}),n&&a.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:"View transaction"})]}))},An=e=>{if(typeof e=="string"){const t=e;e={text:t,node:t}}return e},ps=e=>{e=An(e),console.log(e.text),Ft.success(e.node)},Be=(e,t)=>{const n=Xi(e),i=Ji(n);console.error(e),Ft.error(a.jsx("div",{children:i})),t&&t(!1)},yt=(e,t,n=[],i,s,r)=>(s&&s(!0),t(...n).then(o=>{console.log("Submitting:",o),o.wait().then(p=>{os(e,i,o.hash),s&&s(!1),r&&r(p)},p=>{Be(p,s)})},o=>{Be(o,s)})),us=()=>{const e=[Sa];if(e.length!==Ut.length)throw new Error("Invalid number of wagmi chains.");const{chains:t,publicClient:n,webSocketPublicClient:i}=wa(e,[Pa()]);return fa({autoConnect:!0,publicClient:n,webSocketPublicClient:i,connectors:[new Ca({chains:t,options:{name:"Injected",shimDisconnect:!0}})]})},Dn=e=>{switch(e){case _e:return"https://arbiscan.io";case ot:return"https://optimistic.etherscan.io";default:return"https://etherscan.io"}},ls=async(e,t)=>{const n=q(e,`Chainlink_${t}`),i=W(e),r=(await new $(...n,i).latestAnswer()).toBigInt();return Z(r,Qi)};const ge=g.forwardRef(function({children:t,className:n,style:i,isDisabled:s,onClick:r,type:o},p){const u=O(n,o&&`Button_${o}`),l=o==="complex";return a.jsx("button",{className:O("Button",u),ref:p,disabled:s,onClick:r,"data-text":t,style:i,children:l?a.jsx("span",{children:t.toString()}):t})}),En=g.createContext(null),Q=()=>{const e=g.useContext(En),{address:t,isConnected:n}=ba();return{account:e??t,isConnected:n}};function Bn(){const{connect:e,connectors:t}=ha({onError:s=>{Be(s)}}),{disconnect:n}=xa(),i=t[0];return{connectWallet:()=>e({connector:i}),disconnectWallet:n}}const ys=()=>{const{isOpen:e,openPopup:t,closePopup:n}=hn(),i=O(e&&"open"),s=Y(),{account:r,isConnected:o}=Q(),{connectWallet:p,disconnectWallet:u}=Bn(),[,l]=Oa(),y=c=>c.slice(0,9)+"..."+c.slice(-15),d=()=>a.jsx(ge,{type:"complex",onClick:p,children:"Connect Wallet"}),T=()=>a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"Wallet__header",onClick:()=>{t(),l(r)},children:a.jsxs("div",{className:"Wallet__address",children:[a.jsx("img",{src:ri,alt:"Wallet icon"}),a.jsx("span",{children:y(r)})]})}),a.jsxs("div",{className:"Wallet__body",onClick:c=>c.stopPropagation(),children:[a.jsx("button",{className:"close-btn",onClick:n,children:a.jsx("img",{src:pi,alt:"x"})}),a.jsxs("a",{className:"Wallet__link",href:`${Dn(s)}/address/${r}`,rel:"noreferrer",target:"_blank",children:[a.jsx("img",{src:oi,alt:"external link"}),a.jsx("span",{children:"View on explorer"})]}),a.jsx("div",{className:"Wallet__inner-address",children:"("+y(r)+")"}),a.jsx(ge,{className:"Wallet__button",onClick:u,children:"Disconnect wallet"})]})]});return a.jsx("div",{className:O("Wallet",i),children:o?T():d()})};const ds="/sf_draft/assets/dropdown-fc81e803.svg",je=({className:e,options:t,defaultValue:n,defaultOption:i,onChange:s,iconNode:r,iconTextNode:o,...p})=>{const u=r||o,l=({children:T,...c})=>a.jsxs(Na.Control,{...c,children:[r&&a.jsx("div",{className:"Selector__icon",children:r}),o&&a.jsx("div",{className:"Selector__icon Selector__icon_text",children:o}),T]}),y=T=>{const c=m=>m.value===T,f=t.find(m=>m.options);let b;return f?t.forEach(m=>{if(b)return;b=(m.options??[m]).find(c)}):b=t.find(c),b},d=O(e,u&&"Selector_with-icon");return a.jsx(La,{...p,options:t,defaultValue:i??y(n),onChange:s,className:O("Selector",d),classNamePrefix:"Selector",isClearable:!1,isSearchable:!1,components:{DropdownIndicator:({innerRef:T,innerProps:c})=>a.jsx("div",{ref:T,...c,className:"Selector__indicator Selector__dropdown-indicator",children:a.jsx("img",{src:ds,alt:"dropdown icon"})}),Control:l}})},In=()=>{const{switchNetworkAsync:e}=ga();return t=>{if(typeof t!="number"&&typeof t!="string")throw new TypeError(`Invalid chainId type: ${t} (${typeof t})`);const n=Ht[t].name;e(t).then(()=>{ps(`Network switched to ${n} (${t})`)},i=>{Be(i)})}};const fe=({children:e,hasDelay:t=!0,...n})=>a.jsx(Ra,{place:"bottom-start",delayShow:t?150:0,delayHide:t?150:0,...n,children:e}),cs=()=>{const e=Y(),t=In(),n=Ut.map(s=>{const{name:r,icon:o,isDisabled:p}=Ht[s];return{value:s,label:a.jsxs("div",{className:"flex gap-x-7",children:[a.jsx("img",{src:o,alt:`${r} icon`}),a.jsx("span",{children:r})]}),isCurrent:s===e,isDisabled:p}}),i=n.find(s=>s.isCurrent);return a.jsxs("div",{className:"NetworkSwitcher",children:[a.jsx(je,{options:n,value:i,onChange:s=>{t(s.value)},isDisabled:!0}),a.jsx(fe,{anchorSelect:".NetworkSwitcher .Selector__option--is-disabled",content:"Coming soon"})]})},ms=()=>{const{isConnected:e}=Q();return a.jsxs("div",{className:"CryptoGateway",children:[e&&a.jsx(cs,{}),a.jsx(ys,{})]})},Ts=()=>{const e=rt(),t=[{name:"Option Trading",to:"/terminal"},{name:"Legacy",to:"https://old.sharwa.finance/"}];return t.forEach(n=>{e.pathname.startsWith(n.to)&&(n.isActive=!0)}),a.jsxs("header",{className:"Header _container",children:[a.jsx(bn,{}),a.jsx(Rt,{links:t}),a.jsx(ms,{})]})};const fs=()=>{const e=Ia({enter:"jellyIn",exit:"jellyOut"});return a.jsx(Ba,{limit:2,transition:e,position:"bottom-right",hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,draggable:!1})};const bs=300,hs=e=>{const t=Fa();g.useEffect(()=>{const n=window.innerWidth>1025?t:0;e?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${n}px`):setTimeout(()=>{document.body.style.overflow="unset",document.body.style.paddingRight=0},bs)},[e,t])};Lt.setAppElement("#root");Lt.defaultStyles={};const dt=({children:e,className:t,isOpen:n,setIsOpen:i,isObligatory:s,reset:r})=>(hs(n),g.useEffect(()=>{!n&&r&&r()},[n]),a.jsx(Lt,{className:O(t,"App-box"),isOpen:n,onRequestClose:()=>{s||i(!1)},overlayElement:(o,p)=>a.jsxs("div",{...o,children:[p,!s&&a.jsx("button",{className:"ReactModal__Close-btn"})]}),closeTimeoutMS:300,children:e})),xs=e=>{const{chainId:t}=e,[n]=g.useState(!0),i=In();return a.jsxs(dt,{className:"UnsupportedChainErrorModal",isOpen:n,isObligatory:!0,children:[a.jsxs("div",{className:"UnsupportedChainErrorModal__text text-inline",children:["Chain ",t," is not supported."]}),a.jsx("div",{className:"UnsupportedChainErrorModal__switch-btns",children:Ut.map(s=>{const r=Ht[s],{name:o,icon:p,isDisabled:u}=r;return a.jsxs(ge,{isDisabled:u,type:"stroke",onClick:()=>{i(s)},children:[a.jsx("img",{src:p,alt:`${o} icon`}),"Switch to ",o]},s)})})]})},gs="AEZAKMI=",_s=()=>{const[e,t]=g.useState(),n=rt(),i=r=>{t(r),console.log("GOD EYE MODE ENABLED:",r)},s=r=>{t(null),console.log(`GOD EYE MODE DISABLED${r?` (${r})`:""}`)};return g.useEffect(()=>{const r=n.pathname.split("/"),o=r[r.length-1];if(o.startsWith(gs)){const p=o.split("=")[1];Ma(p)?i(p):s("Invalid wallet address")}},[n.pathname]),{godEyeAddress:e}},vs=({children:e})=>{const{godEyeAddress:t}=_s();return a.jsx(En.Provider,{value:t,children:e})},ks="/terminal/builder",Kt="0x683Ad8b899Cd14d8e077c9A623E8B3fEd65a8c09",ct=600;const ws="/sf_draft/assets/graph-b6757e0e.svg";const ie=({className:e,children:t,isSmall:n=!0,symbol:i="USDC",isHlight:s,style:r})=>{const o=Y(),p=ue(o,i).icon,u=t,l=O(s&&"hlight",e);return a.jsxs("div",{className:O("Currency",l),style:r,children:[a.jsx("img",{src:p,alt:`${i} icon`,width:n?15:"auto"}),a.jsx("span",{children:u})]})},On=g.createContext(null),Qe=()=>g.useContext(On),Cs=()=>{const e=Qe();return a.jsxs("div",{className:"TokenPricesPanel",children:[a.jsx("div",{className:"TokenPricesPanel__icon",children:a.jsx("img",{src:ws,alt:"Graph icon"})}),a.jsx("div",{className:"TokenPricesPanel__items",children:qt.map(t=>{if(!e)return null;const n=e[t],i=J(n,void 0,void 0,!0);return a.jsx("div",{className:"TokenPricesPanel__item",children:a.jsx(ie,{isHlight:!0,symbol:t,children:a.jsxs("span",{children:["$",i]})})},t)})})]})},Ss=()=>{const e=rt(),t=[{name:"Option Strategies",to:"/terminal/builder"}];return t.forEach(n=>{e.pathname.endsWith(n.to)&&(n.isActive=!0)}),a.jsxs("div",{className:"Terminal",children:[a.jsx(Cs,{}),a.jsx(Rt,{links:t,type:"border"}),a.jsx(Ua,{})]})};function mt(e,t={maxValue:void 0,placeholder:"",isDisabled:!1,isFocused:!1},n=[We,ve]){const[i,s]=e,{maxValue:r,placeholder:o,isDisabled:p,isFocused:u}=t,[l,y]=n,[d,T]=g.useState(!1),c=g.useRef(null);return{node:a.jsx("input",{autoFocus:u,type:"text",ref:c,value:i,disabled:p,placeholder:o,onChange:f=>{r&&y(f.target.value)>r?s(l(r)):s(l(f.target.value))},onFocus:()=>{T(!0)},onBlur:()=>{T(!1)}}),hasFocus:d,ref:c}}const Ps=e=>{const{value:t,setValue:n,maxValue:i,formatInputStringFns:s,hasError:r,isDisabled:o,unitStr:p,placeholder:u}=e,l=mt([t,n],{maxValue:i,placeholder:u,isDisabled:o},s),y=O(e.className,l.hasFocus&&"hlight",r&&"error",o&&"disabled");return a.jsxs("div",{className:O("InputFamily Input",y),onClick:()=>{l.ref.current.focus()},children:[l.node,a.jsx("div",{className:"Input__unit",children:p})]})},Pe="#46956A",se="#C75E4B",dn="#D99445",Mt="#6988FF",Je="#747FA6",wt="#3A4466",Ms="≈",Tt={positive:"+",negative:"–",neutral:""},te="Limited",ce="Unlimited",De="Bullish",At="Bearish",he="Neutral",de={"Long Call":{stats:{outlooks:[De],profit:ce,loss:te,description:"When you believe that the price of the underlying asset will rise."},structure:[1],key:1,color:Pe},"Short Call":{stats:{outlooks:[At],profit:te,loss:ce,description:"When you believe that the price of the underlying asset will fall."},structure:[-1],key:101,color:se},"Covered Call":{stats:{outlooks:[De],profit:te,loss:ce,description:"When you believe that the price of the underlying asset will rise."},structure:[-1],key:201,color:se},"Long Put":{stats:{outlooks:[At],profit:ce,loss:te,description:"When you believe that the price of the underlying asset fall."},structure:[2],key:2,color:Pe},"Short Put":{stats:{outlooks:[De],profit:te,loss:ce,description:"When you believe that the price of the underlying asset will rise."},structure:[-2],key:102,color:se},"Long Strangle":{stats:{outlooks:[he],profit:ce,loss:te,description:"When you believe that the price of the underlying asset will rise or fall."},structure:[1,2],key:3,color:dn},"Short Strangle":{stats:{outlooks:[he],profit:te,loss:ce,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:103,color:se},"Covered Strangle":{stats:{outlooks:[he,De],profit:te,loss:ce,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:203,color:se},"Long Straddle":{stats:{outlooks:[he],profit:ce,loss:te,description:"When you believe that the price of the underlying asset changes when the direction of the change could be either up or down."},structure:[1,2],key:4,color:dn},"Short Straddle":{stats:{outlooks:[he],profit:te,loss:ce,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[-1,-2],key:104,color:se},"Covered Straddle":{stats:{outlooks:[he,De],profit:te,loss:ce,description:"When you believe that the price of the underlying asset is at or above the strike price of the short call at expiration."},structure:[-1,-2],key:204,color:se},"Iron Butterfly":{stats:{outlooks:[he],profit:te,loss:te,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:5,color:Mt,plural:"Iron Butterflies"},"Iron Condor":{stats:{outlooks:[he],profit:te,loss:te,description:"When you believe that the price of the underlying asset won’t rise or fall significantly."},structure:[2,-2,-1,1],key:6,color:Mt},"Bull Call Spread":{color:Pe},"Bear Put Spread":{color:se}},As={[De]:Pe,[he]:Mt,[At]:se},Fn=Object.keys(de).filter(e=>de[e].key),Ds={Lyra_ETH:0,Lyra_BTC:1,Hegic:2,Rysk:3},Dt=.003,Es=.005,jn={PARENT_COMPLEX:"parent_complex",PARENT_SIMPLE:"parent_simple",CHILD:"child"},Bs=e=>{const{amountStrState:t,strategy:n}=e,[i,s]=t,r=de[n].plural??`${n}s`;return a.jsxs("div",{className:"BuilderForm__field BuilderForm__field_amount",children:[a.jsx("div",{className:"BuilderForm__field-header",children:"Enter Amount"}),a.jsx("div",{className:"BuilderForm__field-body",children:a.jsx(Ps,{value:i,setValue:s,unitStr:r})})]})},Is=e=>{const{assetState:t,isDisabled:n}=e,[i,s]=t,r=qt.map(o=>({value:o,label:a.jsx(ie,{symbol:o,isHlight:!0,children:o})}));return a.jsxs("div",{className:"BuilderForm__field BuilderForm__field_asset",children:[a.jsx("div",{className:"BuilderForm__field-header",children:"Asset"}),a.jsx("div",{className:"BuilderForm__field-body",children:a.jsx(je,{options:r,defaultValue:i,isDisabled:n,onChange:o=>{s(o.value)}})})]})},Os="/sf_draft/assets/strategy-selector-icon-1e15875d.svg",Fs=e=>{const{strategyState:t,isDisabled:n}=e,[i,s]=t,r=Fn.map(o=>({value:o,label:o}));return a.jsxs("div",{className:"BuilderForm__field BuilderForm__field_strategy",children:[a.jsxs("div",{className:"BuilderForm__field-header",children:["Strategy",a.jsx("div",{className:"BuilderForm__field-tip tip","data-tooltip-id":"BuilderForm_WhenPurchaseTooltip",children:"When purchase"})]}),a.jsx("div",{className:"BuilderForm__field-body",children:a.jsx(je,{options:r,defaultValue:i,onChange:o=>{s(o.value)},iconNode:a.jsx("img",{src:Os,alt:"Strategy selector icon"}),className:"Selector_thin-options",isDisabled:n})})]})};const ke=e=>{const{style:t,hasLeftMargin:n}=e;return a.jsx("div",{className:"Spinner",children:a.jsx(Va,{className:"Spinner__icon",style:{marginLeft:n?7:0,...t}})})},Yt=(e,t,n=a.jsx(ke,{}))=>t?n:e,ft=(e,t,n=a.jsx(ke,{}))=>t?n:e(),ee=(e="—",t,n)=>a.jsx("span",{className:O("muted",n&&"muted_light"),style:{fontSize:t?13:"inherit"},children:e}),Ln=e=>e.charAt(0).toUpperCase()+e.slice(1),bt=(e,t,n=1)=>{const i=e,s=t;if(i>s)return n;if(i==s)return 0;if(i<s)return-n},zt=e=>e.filter(js),js=(e,t,n)=>n.indexOf(e)===t,Ls=e=>{e.splice(0,e.length)},Ns=(e,t,n,i,s,r)=>{const o=le(i,t.decimals),p=new $(...q(e,t.symbol),Te());yt(e,p.approve,[n,ne.from(o)],`${t.symbol} approved.`,s,r)},Rs=async(e,t,n,i,s)=>{be(s);const r=new $(...q(e,t.symbol),W(e)),o=le(s,t.decimals);return(await r.allowance(n,i)).toBigInt()>=o},Zt=(e,t)=>{const n=Wt[t];return le(e,n)},Us=(e,t)=>{const n=Wt[t];return Z(e,n)},Hs=e=>e.startsWith("W"),Nn=(e,t)=>{const n=e.address!==t.address,i=e.isETH!==t.isETH;return n||i},ht=e=>Math.abs(e)===1,Le=e=>e>0,Qt=e=>!!e.find(t=>!Le(t)),$s=e=>!!e.find(t=>Le(t)),qs=e=>!!e.find(t=>t),Ws=e=>{const[,t]=e.split("_");return Number(t)},Vs=(e,t,n)=>{let i;const s=`W${n}`,r=t.split(" ")[0];return!ht(e)||r==="Short"?i=["USDC.e"]:r==="Covered"?i=[s]:r==="Iron"&&(i=["USDC.e",s]),i},Gs=e=>{const t=e.includes("Straddle"),n=e==="Iron Butterfly";if(t)return[0,1];if(n)return[1,2]},Ks=(e,t)=>{if(!(e!=null&&e[0].market))return;if(e.length>1){const i=e.find(s=>s.market===t);if(i)return i}return e[0]},Xt=(e,t)=>new $(...q(e,`TxBuilderOpen_${t}`),W(e)),Ys=e=>{const t=new $(...q(e,"TxBuilderOpen_Hegic"),W(e)),n=new $(...q(e,"TxBuilderOpen_Lyra_BTC"),W(e)),i=new $(...q(e,"TxBuilderOpen_Lyra_ETH"),W(e));return{Hegic:t,Lyra_ETH:i,Lyra_BTC:n}},zs=(e,t,n)=>{if(!t)return n;let i=0,s=0;return e.map(o=>Le(o)?t[i++]:n[s++])},Zs=e=>{const t=Object.keys(e);return t?!!t.find(i=>!e[i][0].isAbsent):!1},Rn=(e,t)=>{var i;return(i=e==null?void 0:e.decomposition)!=null&&i.length?!!e.decomposition.find(s=>{if(!s)return;const r=s.marketToken,o=t??e.paymentToken;return!r||!o?!1:Nn(r,o)}):!1},ae=1e3,Jt=60,nt=60,at=24,Un=e=>e*at*nt*Jt*ae,Qs=e=>Math.floor(e/ae/Jt/nt/at),Ce=e=>Math.floor(e/ae),Xs=e=>{const t=e/ae/Jt/nt,n=Math.floor(t%at),i=Math.floor(t/at),s=Math.floor(t*nt);return n===0&&i===0?`${s}m`:`${i}d:${n}h`};const Js="/sf_draft/assets/Hegic-a7e6545a.svg",er="/sf_draft/assets/Hegic_circled-26df614a.svg",tr="/sf_draft/assets/Hegic_circled-light-9256df54.svg",nr="/sf_draft/assets/Lyra-0ebc1db3.svg",ar="/sf_draft/assets/Lyra_circled-1da5fd25.svg",ir="/sf_draft/assets/Lyra_circled-light-a90bfa71.svg",sr="/sf_draft/assets/Rysk-42fd3216.svg",rr="/sf_draft/assets/Rysk_circled-80c8292c.svg",or="/sf_draft/assets/Rysk_circled-light-d3dd627c.svg",pr="/sf_draft/assets/Premia-57f34f07.svg",ur="/sf_draft/assets/Premia_circled-d7a0395a.svg",lr="/sf_draft/assets/Premia_circled-d7a0395a.svg",en={Hegic:{common:Js,circled:er,circledLight:tr},Lyra:{common:nr,circled:ar,circledLight:ir},Rysk:{common:sr,circled:rr,circledLight:or},Premia:{common:pr,circled:ur,circledLight:lr}},Et=["delta","vega","gamma","theta"],cn=8,yr=[7,14,30,60,90],it=yr.map(Un),tn=1e4,dr=()=>it.map((t,n)=>{const i=new Date(Date.now()+t),s=n===0,r=n===it.length-1,o=i.getUTCHours()>=cn,p=i.getUTCDate();return s&&o&&i.setUTCDate(p+1),r&&!o&&i.setUTCDate(p-1),i.setUTCHours(cn),i.setUTCMinutes(0),i.setUTCSeconds(0),i.setUTCMilliseconds(0),i.getTime()}),cr=e=>e?e.liveBoards().map(n=>n.expiryTimestamp*ae):void 0,mr=async e=>{const t=new $(...q(e,"Rysk_LiquidityPool"),W(e)),n=new $(...q(e,"Rysk_OptionCatalogue"),W(e)),{minExpiry:i,maxExpiry:s}=await t.optionParams();return n.getExpirations().then(r=>r.map(p=>Number(p)*ae).filter(p=>{const u=Number(i)*ae,l=Number(s)*ae;if(!(p<Date.now())&&!(p-Date.now()<u)&&!(p-Date.now()>l))return!0}))},Tr=async(e,t)=>{let n;try{n=[...dr(),...cr(t),...await mr(e)]}catch{}return n},fr=e=>{const{strategyStructure:t,dateListState:n,chosenDateState:i,lyraMarket:s,updateTriggers:r,resetTriggers:o,isDisabled:p,updateUnstableField:u}=e,l=Y(),{account:y}=Q(),[d,T]=n,[c,f]=g.useState(!1),[b,m]=i,x=()=>{f(!0),Tr(l,s).then(P=>{if(!P)return;const j=zt(P).sort(bt);T(j),f(!1)})},h=()=>{m(null)};g.useEffect(()=>{x()},r),g.useEffect(()=>{h()},o);const _=(P,j="d MMM")=>{const D=P-Date.now();return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"BuilderForm__date-value",children:fn(P,j)}),a.jsx("div",{className:"BuilderForm__date-period",children:Xs(D)})]})},w=d.map(P=>({value:P,label:_(P)})),B=b&&w.find(P=>P.value===b);return a.jsxs("div",{className:"BuilderForm__field BuilderForm__field_date",children:[a.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),a.jsx("div",{className:"BuilderForm__field-body",children:t.map((P,j)=>{const D=Le(P),N=ht(P),I=Yt(a.jsx(je,{className:"Selector_thin-options",placeholder:"Choose Date",isDisabled:p||!y,options:w,value:B,formatOptionLabel:({value:A},{selectValue:S,context:C})=>{var k;if(C==="menu")return _(A);const v=((k=S[0])==null?void 0:k.value)===A?"d MMM hh a":"d MMM";return _(A,v)},onChange:A=>{m(A.value)},iconTextNode:a.jsxs("span",{className:O({positive:D,negative:!D},"block"),style:{width:25},children:[D?"Buy":"Sell",a.jsx("br",{}),N?"Call":"Put"]})},j),c,a.jsx(ke,{},j));return u(j,I),I})})]})},Hn=(e,t,n,i)=>{const[s,r]=n.split(".");let o=e[s],p=t[s];return r&&(o=o&&o[r],p=p&&p[r]),bt(o,p,i)},xt=(e,t,n)=>{if(!e||!Object.keys(e).length)return{...t};if(!t)return;const i={...e};n||(n=Object.keys(e));for(let s=0;s<n.length;s++){const[r,o]=n[s].split("."),p=o?e[r][o]:e[r],u=o?t[r][o]:t[r],l=p+u;o?(i[r]||(i[r]={}),i[r][o]=l):i[r]=l}return i};const br=(e,t,n)=>e?n>t:n<t,Ie=(e,t,n=X)=>Pn(e,1+t,n),Ne=(e,t,n)=>{const i=Pt(t,xe(n))*100n,s=G(-100),r=G(100);return e===null?i:e?i<s?s:i:i>r?i:r},$n=(e,t)=>{const n=xt(e,t);for(const i in n){const s=n[i];n[i]=Ze(s,3)}return n},qn=(e,t,n)=>{if(e===null)return null;const i=Math.abs(e);let s=t?i:-i;return n||(s=-s),s};function mn(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function hr(){const[e,t]=g.useState(mn());return g.useEffect(()=>{function n(){t(mn())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const gt=(e=768)=>{const{width:t}=hr();return t<e},xr=({getParentNode:e,getChildNodes:t})=>{const[n,i]=ja(!1),s=O(n&&"expanded"),r=e(s,i),o=t(s);return a.jsxs(a.Fragment,{children:[r,...o]})};const Wn=({children:e,transitionTimeout:t=250,renderHeader:n=({state:i})=>i.isEnter?"Hide":"Show"})=>a.jsx("div",{className:"Accordion",children:a.jsx(Ga,{transition:!0,transitionTimeout:t,children:a.jsx(Ka,{header:n,children:e})})});const Ke=({isVertical:e})=>a.jsx("div",{className:O("Divider",e&&"vertical")});class Vn{constructor(t){const{titleData:n,itemsData:i}=t,s=Object.keys(n);this.titleData=n,this.itemsData=i,this.dataKeys=s}}class gr extends Vn{constructor(t){super(t),this.getTitleRow=this.getTitleRow.bind(this),this.getItemsRows=this.getItemsRows.bind(this)}getTitleRow(){const t=this._getCells(this.titleData,!0);return a.jsxs("tr",{children:[...t]})}getItemsRows(){const t=this.itemsData.map(n=>{const i=this._getItemRow(n);return a.jsx(qe.Fragment,{children:i},n.id)});return a.jsx(qe.Fragment,{children:t},"rows")}_getCells(t,n){return this.dataKeys.map(i=>{const s=t[i]??ee();return n?a.jsx("th",{children:s},i):a.jsx("td",{children:s},i)})}_getItemRow(t){const n=!!t.children,i=this._getCells(t),s=(o,p)=>a.jsxs("tr",{className:O("Table__item",n&&"expandable",o),onClick:p,children:[...i]});return n?this._getExpandableRow(t,s):s()}_getExpandableRow(t,n){const i=s=>t.children.map(o=>{const p=this._getCells(o);return a.jsxs("tr",{className:O("Table__child-item",s),children:[...p]},o.id)});return a.jsx(xr,{getParentNode:n,getChildNodes:i},t.id)}}class _r extends Vn{constructor(t){super(t),this._getItem=this._getItem.bind(this)}getItems(){return this.itemsData.map(this._getItem)}_renderItemRows(t){const n=t.omittedKeys;return this.dataKeys.map(s=>{const r=t[s];return n&&!!n.find(p=>s===p)||oe(r)?null:a.jsxs("div",{className:O("Table__item-row info-row",s),children:[a.jsx("div",{className:"info-row__title",children:this.titleData[s]}),a.jsx("div",{className:"info-row__value",children:r===null?ee():r})]})})}_getItem(t){return a.jsxs("div",{className:"Table__item App-box",children:[this._renderItemRows(t),t.children&&a.jsxs(a.Fragment,{children:[a.jsx(Ke,{}),a.jsx(Wn,{transitionTimeout:500,renderHeader:({state:n})=>`${n.isEnter?"Hide":"Show"} full strategy`,children:t.children.map(n=>a.jsxs(a.Fragment,{children:[a.jsx(Ke,{}),a.jsx("div",{className:"Table__child-item",children:this._renderItemRows(n)})]}))})]})]})}}const Gn=({structureData:e,className:t,children:n})=>{const i=gt(576),s=p=>{if(!p){const u=new gr(e),{getTitleRow:l,getItemsRows:y}=u;p=[a.jsx("thead",{children:l()},"head"),a.jsx("tbody",{children:y()},"body")]}return a.jsx("div",{className:"Table__desktop",children:a.jsx("table",{children:p})})},r=()=>{const u=new _r(e).getItems();return a.jsx("div",{className:"Table__mobile",children:u})},o=()=>i?r():s();return a.jsx("div",{className:O("Table",t),children:n!=null&&n.length?s(n):o()})};const Kn="/sf_draft/assets/direction_up-3632497a.svg",Yn="/sf_draft/assets/direction_down-6f961d86.svg",zn=({strikeData:e,priceNode:t,isPriceHlight:n,isSmall:i})=>{const{market:s,isCall:r,isBuy:o}=e,p=en[s].circled,u=o?Kn:Yn;return a.jsxs("div",{className:O("Brief","PriceBrief",i&&"small"),children:[a.jsxs("div",{className:"PriceBrief__icons Brief__icons",children:[a.jsx("div",{className:"Brief__icon",children:a.jsx("img",{src:p,alt:`${s}`})}),a.jsx("div",{className:"Brief__icon",children:a.jsx("img",{src:u,alt:`${o?"Long":"Short"}`})})]}),a.jsx("div",{className:O("PriceBrief__info-card",{positive:o,negative:!o}),children:r?"Call":"Put"}),a.jsx("div",{className:O("PriceBrief__price",n&&"hlight"),children:t})]})},vr=e=>{const{id:t,amountStr:n,strikeMarketsDataArr:i,chosenStrikeData:s,setChosenStrikeData:r,isOpen:o,close:p}=e,[u,l]=g.useState([]),y=()=>{const m=[];i.forEach((x,h)=>{const _=G(ve(n));x.utils.calcPremium(_).then(w=>{x.premiumData=w,m[h]=w,l([...m])})})};if(g.useEffect(()=>{l([]),i&&y()},[i,n]),!i)return null;const d=23,c=80-d,b=180-d;return a.jsx("div",{className:O("StrikeInfoBox",o&&"open"),style:{zIndex:9-t*2},children:a.jsxs(Gn,{onClick:m=>m.stopPropagation(),children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:a.jsx("div",{style:{width:b},children:"Market"})}),a.jsx("th",{children:a.jsx("div",{style:{width:c},children:"Source"})}),a.jsx("th",{children:a.jsx("div",{style:{width:c},children:"Delta"})}),a.jsx("th",{children:a.jsx("div",{style:{width:c},children:"Vega"})}),a.jsx("th",{children:a.jsx("div",{style:{width:c},children:"Gamma"})}),a.jsx("th",{children:a.jsx("div",{style:{width:c},children:"Theta"})}),a.jsx("th",{children:a.jsx("div",{style:{width:c},children:"Rho"})})]})}),a.jsx("tbody",{children:i.map((m,x)=>{const{greeks:h,source:_}=m,w=u[x],B=!w||w.isDisabled,P=m===s;return a.jsxs("tr",{className:O("StrikeInfoBox__strike-option",B&&"disabled",P&&"chosen"),children:[a.jsxs("td",{children:[a.jsx("button",{className:"StrikeInfoBox__strike-option-overlay-btn",onClick:()=>{r(m),p()},disabled:B}),a.jsx(zn,{strikeData:m,priceNode:ft(()=>w===null?ee("No liquidity",!0):`$${J(w.inUSDC)}`,oe(w)),isPriceHlight:!0})]}),a.jsx("td",{children:_??"AMM"}),Object.keys(h).map(j=>{const D=h[j];return a.jsx("td",{children:D??ee()},j)})]},m.market)})})]})})};const Ye=e=>{const{children:t}=e;return a.jsx("div",{className:"InnerWarning",children:t})};Ya();const kr=e=>{const{id:t,className:n,isUnited:i,spaceBetween:s,isDraggable:r,breakpoints:o,handleInit:p,slideClassName:u,children:l}=e,y=g.useRef(null),d=`${i?`.${n}`:`#${t}`}`,T={spaceBetween:s,allowTouchMove:r,breakpoints:o,navigation:{enabled:!0,prevEl:`${d} .Carousel__nav-btn_prev`,nextEl:`${d} .Carousel__nav-btn_next`},on:{init:c=>{c.el.style.overflow="clip visible",p&&p(c)}}};return g.useEffect(()=>{const c=y.current;c&&(Object.assign(c,T),c.initialize())},[y,T]),a.jsxs("div",{className:O("Carousel",n),id:t,children:[a.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_prev"}),a.jsx("swiper-container",{init:!1,ref:y,children:l==null?void 0:l.map((c,f)=>a.jsx("swiper-slide",{class:u,children:c},f))}),a.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_next"})]})};const wr=e=>{const{asset:t}=e;return a.jsx(kr,{slidesPerView:"auto",breakpoints:{768:{slidesPerView:"auto"},576:{slidesPerView:7,grid:{fill:"row",rows:2}},520:{slidesPerView:6,grid:{fill:"row",rows:2}},380:{slidesPerView:5,grid:{fill:"row",rows:2}},0:{slidesPerView:4,spaceBetween:4,grid:{fill:"row",rows:2}}},spaceBetween:5,className:"StrikeCarousel",isDraggable:!1,isUnited:!0,slideClassName:`StrikeCarousel__slide_${t}`,children:e.children})},nn=e=>Object.keys(e).map(Number),Cr=e=>{const t={},n=Object.keys(e).map(Ws),i=zt(n),s=Object.values(e);return i.forEach(r=>{const o=s.filter(p=>p.strike===r);t[r]=o}),t},Sr=e=>e.map(Cr),Pr=e=>{const t=[];return e.forEach(i=>{const s=nn(i);t.push(...s)}),zt(t)},Mr=e=>{const t=Pr(e);return e.map(i=>{const s=nn(i),r={...i};return t.forEach(o=>{s.indexOf(o)===-1&&(r[o]=[{strike:o,isAbsent:!0,isDummy:!0}])}),r})};const Ar=e=>{const{currentPrice:t,isFirst:n}=e;return a.jsx("div",{className:O("StrikeCurrentPriceItem","StrikeChooser__item",n&&"StrikeCurrentPriceItem_first"),children:a.jsxs("span",{children:["$",ye(t)]})})};const Dr="/sf_draft/assets/cross_grey-42dbd9c5.svg",Er=e=>{const{isITM:t}=e;return a.jsx("div",{className:O("StrikeAbsentItem","StrikeChooser__item",t&&"StrikeChooser__item_ITM"),children:a.jsx("img",{src:Dr,alt:"Absent"})})},an=e=>{const t=Qe();return(t==null?void 0:t[e])??0n},Br=({className:e,id:t,isAutoSelectEnabled:n,structureKey:i,asset:s,amountStr:r,strikesData:o,chosenStrikeData:p,setChosenStrikeData:u})=>{const{isConnected:l}=Q(),y=an(s),d=Math.floor(V(y)),T=t===0,c=gt(),[f,b]=g.useState(null),m=A=>{const S={};for(const C in A){const v=A[C][0],{isCurrentPrice:k,isDummy:F}=v;k&&F||(S[C]=A[C])}return S},x=()=>{const A=m(o);let S;for(const C in o){const E=o[C][0];if(E.isCurrentPrice||d===E.strike){E.isCurrentPrice=!0,S=E;break}}return S||(A[d]=[{strike:d,isCurrentPrice:!0,isDummy:!0}]),A},h=()=>{if(o){if(!Zs(o))return{strikes:[],dataArr:[]};let A=x();const S=nn(A).sort(bt),C=Object.values(A).sort((E,v)=>{const k=E[0],F=v[0];return Hn(k,F,"strike")});return{strikes:S,dataArr:C}}return{}},{strikes:_,dataArr:w}=h(),B=!!(_!=null&&_.length),{openPopup:P,closePopup:j,isOpen:D}=hn(()=>b(null)),N=()=>a.jsx(wr,{asset:s,children:_.map((A,S)=>{const C=w[S],E=C[0],{isCurrentPrice:v,isAbsent:k,isDummy:F}=E;if(v&&F)return a.jsx(Ar,{currentPrice:A,isFirst:T},"current_price");const U=ht(i),M=br(U,A,d);if(k)return a.jsx(Er,{isITM:M},S);const R=p&&p.strike===A,L=R&&p.market,H=f===C;return a.jsxs(ge,{className:O("StrikeChooser__item",M&&"StrikeChooser__item_ITM",R&&"chosen",H&&"open",v&&O("StrikeCurrentPriceItem",T&&"StrikeCurrentPriceItem_first")),style:{cursor:"pointer"},type:"stroke",onClick:z=>{D&&z.stopPropagation(),b(C),P()},children:[R&&a.jsx("div",{className:"StrikeChooser__item-market",children:a.jsx("img",{src:en[L].circledLight,alt:`${L} icon`})}),a.jsxs("span",{children:["$",ye(A)]})]},A)})}),I=()=>o?B?a.jsx("div",{className:"StrikeChooser__items",style:{zIndex:10-t*2},children:N()}):a.jsx(Ye,{children:"No Liquidity"}):a.jsxs(Ye,{children:[l?"C":"Connect wallet and c","hoose expiration date to view strikes"]});return a.jsxs("div",{className:O("StrikeChooser",e,c&&!o&&"hidden"),children:[I(),a.jsx(vr,{id:t,amountStr:r,strikeMarketsDataArr:f,chosenStrikeData:p,setChosenStrikeData:u,isOpen:D,close:j})]})},Ir={[_e]:{short:{CALL_100_BTC:"0x527d1086C3DD22FcdB338F69D47A1e4bFE11E539",CALL_100_ETH:"0x09a4B65b3144733f1bFBa6aEaBEDFb027a38Fb60",CALL_110_BTC:"0x377191F680b52ce3d0060388fEF01be7ef68e3d5",CALL_110_ETH:"0xF48f571DdD77dba9Ae10fefF6df04484685091D9",CALL_120_BTC:"0x8Fb8529695237D4004cffb21499e7E49E982786a",CALL_120_ETH:"0x96416b82C9DFA7649570c784Eb0D0FFcDE361cFE",CALL_130_BTC:"0x32563D6151891c0A8d56eD644AcDEa6FE5f4E4eB",CALL_130_ETH:"0xf8b8b54bE1Eb37E76873670Ac9DE3C28b507142C",PUT_100_BTC:"0xA8DF600289bEc25602741756f55f27ffFDAB69a6",PUT_100_ETH:"0xaA0DfBFb8dA7f45BB41c0fB68B71FAEB959B22aa",PUT_70_BTC:"0x7066286C1AA0FeBE0f63eF8a44F6Fea9F05FFBE0",PUT_70_ETH:"0x35EF16F3c329a54050Ca120145340dfC2b4F9541",PUT_80_BTC:"0x06c3Ba025bEd24Ea38c2BdDA4bcD2A7F9f5C30e1",PUT_80_ETH:"0x77C8d12d9E2D21f6eE02E8ccA332fDe4BE5C2465",PUT_90_BTC:"0xe115beD3b0752BBbbEF5C423021b464bBF93dC2c",PUT_90_ETH:"0x6B7e5906F53d8bB365f4A6fA776Fd0f0caf57881","CALL-SPREAD_10_BTC":"0x5D0bc0d08e8A7C09d10df9BB2498f1d4aB986e6A","CALL-SPREAD_10_ETH":"0x5c59f7ec23C0Bace3B1959C99A43FFd30078E5bE","CALL-SPREAD_20_BTC":"0x597cdD5D4CEC7FA2851Cc0cfd93d6915c926a107","CALL-SPREAD_20_ETH":"0x4490ad3c0c1A61061E88a3eaD661bFe16225A370","CALL-SPREAD_30_BTC":"0xc822F483dAE467721123eA60D3D233e7ac68802f","CALL-SPREAD_30_ETH":"0x610D7feB49DD18BBC20E4dbe600c53E1cDf6d9F1","PUT-SPREAD_10_BTC":"0x45b9D63F1998ca31151981792849a64342C88631","PUT-SPREAD_10_ETH":"0xc4C3b5050D574CBF3eE0b613104cF5C4E47625d4","PUT-SPREAD_20_BTC":"0x606e34C7008f1425C3a69446de4cAd3D7c6fd96D","PUT-SPREAD_20_ETH":"0xa1c290D16E2290EA536a13Ba7cc3Df0000A0f1A6","PUT-SPREAD_30_BTC":"0x71D89f44C71252f319Cd9652f7886c3834685A58","PUT-SPREAD_30_ETH":"0x8F11Ed84e9Dc76db4392b428A0eAF98Ce72c3752"},medShort:{CALL_100_BTC:"0x20ee3e61e8f1eB8ae959abf5F78bA8731d010Ac3",CALL_100_ETH:"0x6418C3514923a6464A26A2ffA5f17bF1efC96a21",CALL_110_BTC:"0xaFA483B18FE66251C8306C7018028f674F653012",CALL_110_ETH:"0xaF38a4d9153B149F05FA85C2cCFAaA677c99040E",CALL_120_BTC:"0xFe35F1AB7e18930d4316B86fCefBCF053bf44A45",CALL_120_ETH:"0x1060e80c1156060a1E8DdB9C64Afe74564865Ee2",CALL_130_BTC:"0xe4DB400BFC4D627559D592db4ca2839cb87Fbbfc",CALL_130_ETH:"0xc00103524932d86770d4F671107b0E170BD0fe6c",PUT_100_BTC:"0xE0f083fd87ebAEBFCfa8236098048105d32639E4",PUT_100_ETH:"0x2739A4C003080A5B3Ade22b92c3321EDa2Da3A9e",PUT_70_BTC:"0x52442a8C632D4c998A8BDBf44A70481AA5599b0e",PUT_70_ETH:"0x48EcF46Aa51992a064aB172439ABFE182F39b478",PUT_80_BTC:"0xb02343D33d2447870E38b3452Ef59d0De7b3289d",PUT_80_ETH:"0xb58ccd922B57422d0497904B7D9fccB922b8aaDf",PUT_90_BTC:"0x7d0c3FDF0e8A6f475Ed1834ae05fDa1E519fd227",PUT_90_ETH:"0x3e2a0fE32Cc000d87D9e5D6ed8b3D64e9c74C752","CALL-SPREAD_10_BTC":"0x6FF946F2BB609B63910a774E193F29CdE7E8fD5f","CALL-SPREAD_10_ETH":"0x0ac1995C43B5566760AD1D88B812f3e51e12eCc6","CALL-SPREAD_20_BTC":"0x7E8e5eaD9A1b8F0533F614a736214a95835c79d7","CALL-SPREAD_20_ETH":"0x1068daF4CD8fDe2000B6FbE8Ec94F106dc08a40E","CALL-SPREAD_30_BTC":"0x3b4900D5a20dbEbCE44eDF8f6B68Dae32E990Ed0","CALL-SPREAD_30_ETH":"0x24db3145F45aAF2c54f586C66b801c42c8658671","PUT-SPREAD_10_BTC":"0x88386f02c46d8D7b2C9E4aEf3b4246A438F72693","PUT-SPREAD_10_ETH":"0x31e6Cd148fe51830E7a97262eE9cf52Fe5256B08","PUT-SPREAD_20_BTC":"0x72Ac8A96b8E79466AdcE711EcBD1Ec5968b371C8","PUT-SPREAD_20_ETH":"0x9e1072E5119C9345d9543a5Ba1EFeDBAE9bEF2AD","PUT-SPREAD_30_BTC":"0x01381e0EDdB57678257179d2cB472C3e8e54202c","PUT-SPREAD_30_ETH":"0xE8dD9Cc3A4Bd078f3D36043f259381d5B50D4B45"},medLong:{CALL_100_BTC:"0x21a4b4441AA957735902507A72A58A3a1Caaa0dC",CALL_100_ETH:"0xE377A1a97237b3B89a96d8B731A2ab10d5DaC16C",CALL_110_BTC:"0x6c46e2531a42F618F2ae452971DC9a7c6AD48D15",CALL_110_ETH:"0x05458B7d9531EaD242290De60bEaa3cC10C87560",CALL_120_BTC:"0xe259410Bbfb45CE89FDA81ec0A97d36Da8Db4374",CALL_120_ETH:"0x79F87E88088293FE34dEf4eBe71fBFa5367220B4",CALL_130_BTC:"0x27806482457FC98F9C2e724b5E604C66BB5ba121",CALL_130_ETH:"0xae2F4e15564995af79b7dd2378B2680f7Facc342",PUT_100_BTC:"0x035b965c5B7bC20E00358ACF1794d2248eA1932A",PUT_100_ETH:"0xf711D0BC60F37cA28845BA623ccd9C635E5073A1",PUT_70_BTC:"0x55c4532e1790592120b7b27436842caD203E7CD3",PUT_70_ETH:"0xF55F6d98e2F48F8D46757D5A6e225bf0ADC9651C",PUT_80_BTC:"0x8dD239e0e51BCAAd503b06D818ce811e7D99c1Af",PUT_80_ETH:"0xdF30cdb7abb3Ca707b82359A349D3b0C94d4a421",PUT_90_BTC:"0xE56BEAfAe4731A21eF83fe81F63b95055e81E374",PUT_90_ETH:"0x33a4B4403B8C6349371CbDf539138D78ec0Aab66","CALL-SPREAD_10_BTC":"0x8e3063D5dCbe66E58053C3Bc8E0BC8dDFe43D585","CALL-SPREAD_10_ETH":"0xBB318170Ce1c2dc79B564f33F92BacaadaBd22de","CALL-SPREAD_20_BTC":"0x324be893029D982c187F0333E7aa1d44365d2676","CALL-SPREAD_20_ETH":"0xb89d7eB2bc675347BEb685ff1bE1557E983beFe1","CALL-SPREAD_30_BTC":"0x530289340C6d2Ef02140054Ae7F91C293fd586CF","CALL-SPREAD_30_ETH":"0x929d20D9e1A6A90bf057857C8BA09271f1BaadA2","PUT-SPREAD_10_BTC":"0x7267091cFc9825a4A1dF36C26d412FeFD788d935","PUT-SPREAD_10_ETH":"0x2B93645f310E016c1a6d1738DCec0f18621F71d0","PUT-SPREAD_20_BTC":"0x9ab2f8530150799CDdAC35799d18Ad2fe05Bf8c3","PUT-SPREAD_20_ETH":"0x4EE21aB8bc165Cd3e6C45676F9f64426Ffc2d67b","PUT-SPREAD_30_BTC":"0xBa883223A1757eEB781d02C383926c308d4843f4","PUT-SPREAD_30_ETH":"0xf87C8C7587055FA62082E8ed447fe68D98805fF2"},long:{CALL_100_BTC:"0xc07fBf677f417bb9FfDD8248A74c7FBcCFaDAe9e",CALL_100_ETH:"0x2727B807D22fCAeB7F900F49894054Ed92b9125B",CALL_110_BTC:"0x14d25367102A931E2E2F587F4ED94087dc585fd0",CALL_110_ETH:"0xE53a20c824cEAB8151AF8Fc92E7Eb689cFbD1231",CALL_120_BTC:"0xBAbccB37338488AFBaBECAE2C3D21b9a71289A73",CALL_120_ETH:"0xB7b36483B256290435a060805bdF15B3f2b122eb",CALL_130_BTC:"0x9fA4DFfBE3B129988e0d09536b0E2D74F6bF7D91",CALL_130_ETH:"0x4dC39763ccC861dB1c8e80c34C0079c9A12f03E4",PUT_100_BTC:"0xEd46f602212d1CbaCd699C876b4A49761421bf97",PUT_100_ETH:"0x015FAA9aF7599e6cea597EBC7e7e04A149a3E992",PUT_70_BTC:"0xa26541ccE18CcC6E21360562d34044ceb3B5A40e",PUT_70_ETH:"0x5BBe6C4A66D4a48442dc0837a0eA859a11D7766C",PUT_80_BTC:"0xFD203c73851986ad7e7B99457AeafF3d98e76228",PUT_80_ETH:"0x7FD5E8B2Ef25A105bf6B1c45f62d8925Eaa068Bc",PUT_90_BTC:"0x02d730e3dEb3B5876fE2Cba59423ef1Db8211DA1",PUT_90_ETH:"0x3031EA515c2274024D93A8D3BfA91ce920E1192E","CALL-SPREAD_10_BTC":"0x0c1C4D9dFd51093bE1e4Bab1b565113B339835F6","CALL-SPREAD_10_ETH":"0xCe5e136688A1553C67b3B39Ff5366595dD0F771E","CALL-SPREAD_20_BTC":"0x7b92a9f268bab14F0FAee4337B01D563AE132Bc3","CALL-SPREAD_20_ETH":"0xe3F646CB987a9d16eb71B8d0883744e55c95862a","CALL-SPREAD_30_BTC":"0x223b806Bab0CA844a91b247fE0Ba179E11EAA728","CALL-SPREAD_30_ETH":"0x199DB958f00F150438E5b9276ff30617D3f83ebF","PUT-SPREAD_10_BTC":"0x66F54921b32cCA36767D2C272Dda64D5152B92C4","PUT-SPREAD_10_ETH":"0xfcd40dDe82b699D455B3D073196d580227C2Fba6","PUT-SPREAD_20_BTC":"0x8c77f5427B40ab2414dC9bca48c74928BFe17Dd1","PUT-SPREAD_20_ETH":"0xbAe8114E3A2EA5aF5e2b3c8F6FF37714f6D4afFB","PUT-SPREAD_30_BTC":"0x6D79b82701e4017887d499Ba131FD336ceA6A4CC","PUT-SPREAD_30_ETH":"0x9945Eb8ac1F4c524fe7Da710ff3068969A329fBA"}}},Or={[_e]:{PUT_100_BTC:"0x4567600c2c813322F0CBb358a8d083296A7eEA37",PUT_100_ETH:"0xB72FC913e45522cD721252476fEfB7F50a65E23A",PUT_70_BTC:"0x3aFbaf00a6C42e6BE67f8a618b17fB3D441C1898",PUT_70_ETH:"0xf3625e26cb920f762dEC8DB4fE4845E9384313C0",PUT_80_BTC:"0x9C3BBe90191F8311939A34737c02A6B49e27caA5",PUT_80_ETH:"0x58051Cb78094551afC202C50085B13bF00BF624E",PUT_90_BTC:"0x56A2dC3fAc4bE0A1716c938295e141195e4A1cb3",PUT_90_ETH:"0x1AF37c8412bCdAa6C6dD4D2E2aDae2B8292603D4",CALL_100_BTC:"0xAA4483Da5c4D17830dE9a843d07C37b3eC028d9F",CALL_100_ETH:"0xC62a0b7e480a23BdCfe13EA08BDAceDc278a14C1",CALL_110_BTC:"0x04BFC83f6277cf50dFB032EFd348316aACbD7863",CALL_110_ETH:"0x6316BC5f5dF141ae88C436Fe6047D334f1B7e485",CALL_120_BTC:"0x965Ded687bc0Da3388c6925e0Eb330bD44629B77",CALL_120_ETH:"0x321F8A71e8268f50eBd2f748D524E7750AD70798",CALL_130_BTC:"0x4b350b7457b54C5A76828f81472f2719D801D0D5",CALL_130_ETH:"0xffdc9da896d3301DE596b16a389138B70b1CBAdb","CALL-SPREAD_10_BTC":"0xD3872581C3f7DE832Ecc9Aa51eb525AC9Ffc41d2","CALL-SPREAD_10_ETH":"0x3BC74C993e1E85ffB5e242402aEc3e90DCfa249f","CALL-SPREAD_20_BTC":"0x7f6a7d60c6f7ac50BD0efA677D397d9cd61fC3a9","CALL-SPREAD_20_ETH":"0x8C335E897B04B2Ca569Ec733f6242cDe33917094","CALL-SPREAD_30_BTC":"0x631c5EFb3e9D2536F9c9c9d7635e2B01363C51C5","CALL-SPREAD_30_ETH":"0xAe4897D4d3742F7f9C6A1eA01447EA3061bD6de2","PUT-SPREAD_10_BTC":"0xa4A32102a2c1d3Bf01A73B66571B440795835ff5","PUT-SPREAD_10_ETH":"0x5a4Dc7011CA0be61c42957cDC36D508d45010D8B","PUT-SPREAD_20_BTC":"0x0cC3559beCa7bB605348B1a7B4D90963672C880a","PUT-SPREAD_20_ETH":"0xeb38c2Ba3125733e9636eAB7C3c2e7a2C4A11534","PUT-SPREAD_30_BTC":"0x4CE72803543da3f563Ef76592945C57FBE7fce38","PUT-SPREAD_30_ETH":"0xDB044975100aE87d0eEDd804D9E6083a8406fdAe"}},sn=e=>{const t=Ir[e];if(!t)throw new Error(`No Hegic strategies found for chainId ${e}`);return t},Fr=(e,t)=>{const n=sn(e),i=Qs(t);if(i<7||i>90)return;let s;return i<14?s=n.short:i<30?s=n.medShort:i<60?s=n.medLong:i<=90&&(s=n.long),s},jr=e=>{const t={},n=sn(e);return Object.values(n).forEach((i,s)=>{const r=Object.keys(t)[s];for(const o in i){const p=i[o];t[`${o}_${r}`]=p}}),t},Lr=e=>{const t=sn(e),n=[];return Object.values(t).forEach(i=>{n.push(...Object.values(i))}),n},Nr=(e,t)=>{const n=Or[e];if(!n)throw new Error(`No Hegic Price Calculator address found for chainId ${e}`);const i=n[t];if(!i)throw new Error(`No Hegic Price Calculator address found for strategy key ${t}`);return i},Zn=(e,t,n)=>{const i=$t(e,`Hegic_${n}`);return new $(t,i,W(e))},Rr=(e,t)=>{const n=Nr(e,t);return Zn(e,n,"PriceCalculator")},Qn=(e,t)=>Zn(e,t,"Strategy"),Xn=.005*10**5,rn=(e,t,n,i)=>{const s=Ct(e,t),r=Ct(e,n),o=le(i,s.decimals);return t===n||o===0n||s.isStable&&r.isStable?new Promise(l=>{l(i)}):new $(...q(e,"Uniswap_Quoter"),Te()).callStatic.quoteExactInput(Nt.solidityPack(["address","uint24","address"],[t,Xn,n]),o).then(l=>{const y=l.toBigInt();return Z(y,r.decimals)}).catch(l=>{console.log(`Swapping ${s.symbol} to ${r.symbol} error!

`,l)})},Me=(e,t,n)=>{const i=xn(e);return rn(e,t,i,n)},Ur=(e,t,n)=>{const i=xn(e);return rn(e,i,t,n)},Hr=(e,t)=>Nt.solidityPack(["address","uint24","address"],[e,Xn,t]);class Xe{constructor(t){this.getMarketToken=n=>ue(n,t)}}class $r extends Xe{constructor(){super("USDC.e")}calcDeltaByAssetPrice(t,n){const{isCall:i,strike:s,amount:r}=t,o=V(r);return i?s<n?o:0:s>n?-o:0}calcDeltaByStrikeScale(t,n){const{isCall:i,amount:s}=t;return i?Number(n)<100?s:0:Number(n)>100?-s:0}}const on=new $r,qr="Hegic_",Wr=e=>{const{isBuy:t}=e;if(t)return!0},Vr=(e,t,n)=>{const[i,,s]=e.split("_");return!(i.includes("SPREAD")||n!==(i==="CALL")||s!==t)},Gr=async(e,t,n)=>{const{asset:i,amount:s,period:r}=n;let o;const p=new $(t,$t(e,"Hegic_Strategy"),W(e)),u=Ce(r);try{const l=(await p.getAvailableContracts(u,[])).toBigInt(),y=Wt[i],d=le(s,y);o=l>=d}catch{}return o},Kr=async(e,t,n,i)=>{const{asset:s,period:r}=n,o=Zt(i,s),p=Rr(e,t),u=Ce(r);return p.calculatePremium(u,o,0).then(l=>{const y=Z(l.toBigInt(),St),d=on.getMarketToken(e);return Me(e,d.address,y).then(T=>({inUSDC:T,inMarketToken:y,marketToken:d}))})},Yr=(e,t)=>{const n=V(t);return Math.floor(n*(e/100))},zr=(e,t,n)=>{const{protocolName:i,isCall:s,assetPrice:r}=n,{strategyKey:o}=t,[,p]=o.split("_"),u=Yr(p,r),l=Zr(e,t,n),y=on.calcDeltaByStrikeScale(n,p);return{market:"Hegic",protocolName:i,strike:u,isCurrentPrice:p==="100",isCall:s,isBuy:!0,greeks:{delta:y,vega:void 0,gamma:void 0,theta:void 0,rho:void 0},utils:l}},Zr=(e,t,n)=>{const{strategyKey:i,strategyAddress:s}=t,{asset:r,protocolName:o,period:p}=n;return{calcPremium:async y=>Kr(e,i,n,y),getBuilderParams:async(y,d,T)=>{y=Zt(y,r);const c=ne.from(y),f=d.premiumInMarketToken,b=Mn(f,T),m=ne.from(b);return Xt(e,o).encodeFromHegic(s,c,Ce(p),m,[])}}},Qr=async(e,t,n)=>{const{asset:i,amount:s,isCall:r}=n,o={},p=[],u=Object.keys(t);for(let l=0;l<u.length;l++){const y=u[l],d=t[y],T={strategyKey:y,strategyAddress:d};if(!Vr(y,i,r)||!await Gr(e,d,n))continue;const c=zr(e,T,n),{strike:f}=c,b=c.utils.calcPremium(s).then(m=>{const x={...c,premiumData:m};o[`${qr}${f}`]=x}).catch();p.push(b)}return await Promise.all(p),Xr(o)},Xr=e=>{const t={};for(const n in e){const i=e[n];i!=null&&i.premiumData&&(t[n]=i)}return t},Jr=async(e,t)=>{if(!Wr(t))return{};const{expiry:n}=t,i=n-Date.now();t.protocolName="Hegic",t.period=i;const s=Fr(e,i);return s?await Qr(e,s,t):{}};class eo extends Xe{constructor(){super("USDC.e")}getLyra(t){return new za({provider:W(t)})}getSoftMaxCollateral(t,n,i){const s=(y,d=18)=>Nt.parseUnits(y.toFixed(d).toString(),d),r=ne.from(10).pow(18),o=2.5,p=i?t.strikePrice:t.strike().strikePrice,u=(t.newSize??t.size).mul(p).div(r).mul(s(o)).div(r);return n.max?n.max:u.gt(n.min)?u:n.min}async waitFormatCollateral(t,n,i){if(!n)return null;n=me(n);const{isBase:s,liquidationPrice:r,max:o,min:p}=n,u=`W${i}`,l=ue(t,s?u:"USDC.e");return Me(t,l.address,n.amount??0n).then(y=>({inMarketToken:n.amount,marketToken:l,inUSDC:y,isBase:s,liquidationPrice:r,min:p,max:o}))}}const Ee=new eo,Bt={TRADE_SLIPPAGE:.0015,PREMIUM_SLIPPAGE:.02},to="Lyra_",no=["NotEnoughCollateral","TooMuchCollateral","EmptyCollateral","InsufficientQuoteBalance","InsufficientQuoteAllowance","InsufficientBaseBalance","InsufficientBaseAllowance","IncorrectOwner"],ao=e=>{const t=no.find(n=>n===e);if(!e||t)return!0},io=(e,t)=>{var s;const n=(s=e.liveBoards().find(r=>r.expiryTimestamp===Ce(t)))==null?void 0:s.id;return n?e.liveBoardsMap[n]:void 0},so=(e,t)=>!(!e||!ao(t.disabledReason)),ro=(e,t,n,i,s)=>{const{asset:r,protocolName:o,isCall:p,isBuy:u}=i,l=Ee.getMarketToken(e),y=(b,m)=>{const x=ne.from(b);return t.trade(s,n,p,u,x,Bt.TRADE_SLIPPAGE,m)},d=async(b,m)=>{const x=Zt(b,r);return y(x).then(h=>{const _=()=>{const P=u?"maxTotalCost":"minTotalCost",j=h.params[0][P].toBigInt();return Ie(j,Bt.PREMIUM_SLIPPAGE)},w=()=>{const P={};for(const j in h.greeks){const D=h.greeks[j];P[j]=V(D.toBigInt(),X,3)}return P},B=_();return so(B,h)?Me(e,l.address,B).then(P=>{const j={inUSDC:P,inMarketToken:B,marketToken:l},D=w();return m?j:{premiumData:j,greeks:D}}):null})};return{calcPremium:async b=>d(b,!0),calcPremiumWithGreeks:d,getCollateralData:async(b,m)=>{const x=ne.from(b);return y(x,m).then(h=>{const{collateral:_}=h;_&&!_.max&&(h.collateral.max=Ee.getSoftMaxCollateral(h,_));const w=h.marketName.split("-")[0];return Ee.waitFormatCollateral(e,_,w)})},getBuilderParams:async(b,m,x)=>{const h=Xt(e,o),_=ne.from(b),w=m.premiumInMarketToken,B=Mn(w,x),P=ne.from(B);return y(_,m).then(j=>{const D=j.params[0];return h.encodeFromLyra([D.strikeId,D.positionId,D.iterations,D.optionType,D.amount,D.setCollateralTo,D.minTotalCost,P,Kt])})}}},oo=(e,t,n,i,s)=>{const{protocolName:r,isCall:o,isBuy:p}=i,{strikeId:u,strikePrice:l}=n,y=u.toNumber(),d=V(l.toBigInt()),T=ro(e,t,y,i,s);return{market:"Lyra",protocolName:r,strike:d,isCall:o,isBuy:p,utils:T}},po=async(e,t,n,i,s)=>{const{amount:r}=n,o={},p=[];return i.strikes.forEach(u=>{const l=oo(e,t,u,n,s),y=l.utils.calcPremiumWithGreeks(r).then(d=>{const{strike:T}=l,c={...l,...d};o[`${to}${T}`]=c}).catch();p.push(y)}),await Promise.all(p),uo(o)},uo=e=>{const t={};for(const n in e){const i=e[n];i!=null&&i.premiumData&&(t[n]=i)}return t},lo=async(e,t,n,i)=>{if(!n)return{};const{asset:s,expiry:r}=t;t.protocolName=`Lyra_${s}`;const o=io(n,r);return o?await po(e,n,t,o,i):void 0},ze={SLIPPAGE:.003,EMPTY_SERIES:{expiration:1n,strike:1n,isPut:!0,collateral:re,underlying:re,strikeAsset:re},OPERATION_TYPES:{OPYN:0,RYSK:1}};let yo=class extends Xe{constructor(){super("USDC"),this._waitDhvExposure=this._waitDhvExposure.bind(this),this._calcExpiredPremium=this._calcExpiredPremium.bind(this),this.getMarketToken=this.getMarketToken.bind(this),this.getIsExpired=this.getIsExpired.bind(this),this.getIsSellPremiumTooSmall=this.getIsSellPremiumTooSmall.bind(this),this.calcPremiumWithGreeks=this.calcPremiumWithGreeks.bind(this),this.waitFees=this.waitFees.bind(this)}async _waitDhvExposure(t,n){return new $(...q(t,"Rysk_AlphaPortfolioValuesFeed"),W(t)).netDhvExposure(Tn(["uint64","uint128","bool"],[n.expiration,n.strike,n.isPut])).then(s=>BigInt(s))}async _calcExpiredPremium(t,n,i){const s=new $(...q(t,"Rysk_MarginCalculator"),W(t)),r=this.getMarketToken(t),o=await s.getExpiredPayoutRate(n).then(u=>Z(BigInt(u),r.decimals)).catch(()=>null);return o===null?null:Se(i,o)}getIsExpired(t){return t.expiration*ae<Date.now()}getIsSellPremiumTooSmall(t,n){return xe(t)>>3n<=n}async calcPremiumWithGreeks(t,n,i,s,r,o){const p=!s,u=this.getMarketToken(t),l=this.getIsExpired(n);let y;if(l)y=this._calcExpiredPremium(t,n.address,i).then(f=>f===null?null:{delta:null,premiumInMarketToken:f});else{const f=new $(...q(t,"Rysk_BeyondPricer"),W(t)),b=await this._waitDhvExposure(t,n);y=f.quoteOptionPrice(n,i,p,b).then(async m=>{m=me(m);const{totalPremium:x,totalFees:h}=m;if(!o&&p&&this.getIsSellPremiumTooSmall(x,h))return null;const _=V(m.totalDelta,void 0,3),w=Ie(x+h,ze.SLIPPAGE,u.decimals),B=Z(w,u.decimals);return{delta:_,premiumInMarketToken:B}}).catch(()=>null)}const d=await y;if(d===null)return null;const{delta:T,premiumInMarketToken:c}=d;return Me(t,u.address,c).then(f=>{const b={marketToken:u,inMarketToken:c,inUSDC:f};return r?b:{premiumData:b,greeks:{delta:T,vega:void 0,gamma:void 0,theta:void 0,rho:void 0}}})}getOptionSeries(t,n,i,s,r=void 0,o=void 0){const p=ue(t,"USDC").address,u=ue(t,"WETH").address;return{expiration:Ce(n),strike:i,isPut:!s,strikeAsset:p,underlying:u,collateral:o??p,address:r}}async waitFees(t,n){const s=await(async()=>{const o=new $(...q(t,"Rysk_BeyondPricer"),W(t)),p=this.getMarketToken(t),u=(await o.feePerContract()).toBigInt();return Z(u,p.decimals)})();return Se(n,s)}async calcPnlWithGreeks(t,n,i,s,r,o){const p=this.calcPremiumWithGreeks(t,n,i,!r,!1,!0).then(h=>{if(h===null)return null;const{inUSDC:_,inMarketToken:w}=h.premiumData;return r||(h.premiumData.inUSDC=-_,h.premiumData.inMarketToken=-w),h}),u=this.waitFees(t,i),[l,y]=await Promise.all([p,u]);if(l===null)return null;const{premiumData:d,greeks:T}=l;T.delta=qn(T.delta,!n.isPut,r);const{inUSDC:c}=d,f=r&&c===0n,b=Se(i,o),m=f?s:c-b-y;return{pnl:{inUSDC:m,inPercentage:Ne(r,m,b)},greeks:T}}async validateOptionSeries(t,n,i){return new $(...q(t,"Rysk_OptionExchange"),W(t)).checkHash({...i,strike:le(i.strike,8)},i.strike,!n).then(r=>!!r).catch(r=>null)}};const Ue=new yo,co="Rysk_",mo=async(e,t)=>{const n=()=>{const{asset:o}=t;if(o==="ETH")return!0};return!await(async()=>new $(...q(e,"Rysk_OptionExchange"),W(e)).paused())()&&n()},To=async e=>{const t=new $(...q(e,"Rysk_OptionExchange"),W(e)),n=t.minTradeSize(),i=t.maxTradeSize();return Promise.all([n,i]).then(s=>{const r={};return s=s.map(o=>BigInt(o)).sort(bt),r.minAmount=s[0],r.maxAmount=s[1],r})},fo=async(e,t)=>To(e).then(({minAmount:n,maxAmount:i})=>{if(t>=n&&t<=i)return!0}),bo=async(e,t,n,i)=>{const{isBuy:s}=t,{validateOptionSeries:r}=Ue;return Promise.all([fo(e,n),r(e,s,i)]).then(([o,p])=>!!(o&&p))},ho=(e,t,n,i)=>{const{expiry:s,isCall:r,isBuy:o,protocolName:p}=t,u=Ue.getOptionSeries(e,s,G(n),r),l=async T=>y(T,!0),y=async(T,c)=>await bo(e,t,T,u)?Ue.calcPremiumWithGreeks(e,u,T,o,c):null;return{calcPremium:l,calcPremiumWithGreeks:y,getBuilderParams:async(T,c)=>{const f=Xt(e,p),{premiumInMarketToken:b}=c,m=Ue.getMarketToken(e),x=await Ue.waitFees(e,T),h=b+x,_=le(h,m.decimals);let w;if(o)w=[{actionType:0,owner:re,secondAddress:re,asset:re,vaultId:0,amount:0,optionSeries:u,indexOrAcceptablePremium:0,data:re},{actionType:1,owner:re,secondAddress:i,asset:re,vaultId:0,amount:T,optionSeries:u,indexOrAcceptablePremium:_,data:re}];else throw new Error("Selling Rysk options is currently unavailable");return f.encodeFromRyskFinance([{operation:ze.OPERATION_TYPES.RYSK,operationQueue:w}]).catch(console.log)}}},xo=async(e,t)=>{const{expiry:n,isCall:i}=t;return new $(...q(e,"Rysk_OptionCatalogue"),W(e)).getOptionDetails(Ce(n),!i).then(r=>r.map(o=>{const p=BigInt(o);return V(p)}))},go=async(e,t,n,i)=>{const{asset:s,amount:r,isCall:o,isBuy:p,protocolName:u}=t,l=ho(e,t,n,i);return l.calcPremiumWithGreeks(r).then(async d=>{if(!d)return null;const{premiumData:T,greeks:c}=d;return{market:"Rysk",protocolName:u,source:"DHV",asset:s,strike:n,isCall:o,isBuy:p,premiumData:T,greeks:c,utils:l,isComingSoon:!p,marketLink:"https://app.rysk.finance/"}})},_o=async(e,t,n)=>{if(!await mo(e,t))return{};t.protocolName="Rysk";const s={},r=[];return(await xo(e,t)).forEach(p=>{r.push(go(e,t,p,n).then(u=>{u&&(s[`${co}${p}`]=u)}))}),await Promise.all(r),s};class vo extends Xe{async waitPremia(t){return await Za.Premia.initialize({chainId:t,provider:Ki(t),signer:Te()})}}const ko=new vo,wo="Premia_",Co=async(e,t)=>{const n=await ko.waitPremia(e);return await So(n,t)},So=async(e,t)=>{const i=Po(e,t).map(o=>Mo(e,t,o)),s=await Promise.allSettled(i).then(o=>o.filter(l=>l.status==="fulfilled").map(l=>l.value).filter(l=>l)),r={};return s.forEach(o=>{r[`${wo}${o.strike}`]=o}),r},Po=(e,t)=>{const{assetPrice:n}=t;return e.options.getSuggestedStrikes(n)},Mo=async(e,t,n)=>{const{asset:i,amount:s,isCall:r,isBuy:o,expiry:p}=t,l={token:ue(e.chainId,i).address,size:s,strike:n,maturity:Ce(p),isCall:r,isBuy:o,referrer:Kt},y=e.options.multiQuote(l).catch(console.log),d=e.vaults.getAllVaultsExtended().then(m=>m.map(x=>x.address)),[T,c]=await Promise.all([y,d]),f=m=>{const x=m.provider;return!!c.find(_=>_.toLowerCase()===x.toLowerCase())},b=T.find(f);if(b){const{calcPremium:m}=Ao(e,t,b);return{market:"Premia",source:"Vault",strike:Ze(V(n)),isCall:r,isBuy:o,greeks:{delta:void 0,vega:void 0,gamma:void 0,theta:void 0,rho:void 0},utils:{calcPremium:m},isComingSoon:!0,marketLink:"https://app.premia.blue/"}}},Ao=(e,t,n)=>{const{asset:i,isBuy:s,isCall:r}=t,o=r?i:"USDC.e",p=ue(e.chainId,o);return{calcPremium:async l=>{const y=await e.vaults.getQuote(n.provider,n.poolKey,l,s,n.taker),d=Z(y,p.decimals);return{inUSDC:await Me(e.chainId,p.address,d),inMarketToken:d,marketToken:p}}}},Do=e=>{const{asset:t,strategy:n,amountStr:i,chosenDate:s,strategyStructure:r,hasSell:o,strikesDataArrState:p,chosenStrikesState:u,areStrikesLoadingState:l,lyraMarket:y,updateTriggers:d,resetTriggers:T,updateUnstableField:c}=e,f=Y(),{account:b}=Q(),[m,x]=p,[h,_]=u,[w,B]=l,P=an(t),j=()=>{B(!0);const I=[];r.forEach((A,S)=>{const C={asset:t,amount:Ge(i),expiry:s,isCall:ht(A),isBuy:Le(A),assetPrice:P};m[S]={};const E=v=>{m[S]={...m[S],...v}};I.push(Jr(f,{...C}).then(E)),I.push(lo(f,{...C},y,b).then(E)),I.push(_o(f,{...C},b).then(E)),I.push(Co(f,{...C}).then(E))}),Promise.all(I).then(()=>{const A=Sr(m),S=Mr(A);x([...S]),B(!1)})},D=()=>{_([])},N=()=>{x([])};return g.useEffect(()=>{D(),N()},T),g.useEffect(()=>{s&&j()},d),a.jsxs("div",{className:O("BuilderForm__field","BuilderForm__field_strike",!o&&"col-span-2"),children:[a.jsx("div",{className:"BuilderForm__field-header",children:a.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_StrikeTooltip",children:"Strike"})}),a.jsx("div",{className:"BuilderForm__field-body",children:r.map((I,A)=>{const S=Gs(n),C=S&&S.indexOf(A)!==-1,E=Yt(a.jsx(Br,{id:A,isAutoSelectEnabled:r.length===1,structureKey:I,asset:t,amountStr:i,strikesData:m[A],chosenStrikeData:h[A],setChosenStrikeData:v=>{if(h[A]=v,C){const k=v.strike,F=v.market;S.filter(M=>M!==A).forEach(M=>{const R=Ks(m[M][k],F);h[M]=R})}_([...h])}},A),w,a.jsx(ke,{},A));return c(A,E),E})})]})};const Eo=e=>{const{liqPrice:t,isLiqPriceLoading:n,isInLastHalf:i}=e,s=a.jsx("span",{className:"muted_light",children:"..."}),r=a.jsx("span",{className:"muted_light",children:"—"}),o=()=>`$${J(t)}`;return a.jsxs("div",{className:O("CollateralLiqPrice",i&&"CollateralLiqPrice_down"),children:["Liq. Price:",a.jsxs("span",{className:"CollateralLiqPrice__val",children:[n&&s,!n&&(t?o():r)]})]})};const Bo=({min:e,max:t,collateralData:n,handleClick:i})=>a.jsx("div",{className:"CollateralRangeBtns",children:[e,t].map((s,r)=>{const o=n.isBase,p=ye(Ze(V(s),$e)),u=Fe(s,n.marketToken.isStable),l=r===0;return a.jsxs(qe.Fragment,{children:[a.jsxs("button",{onClick:()=>i(p),children:[o?"":"$",u]},r),l?"—":""]},r)})});const Io=({collateralData:e,collateralAmountStr:t,onChange:n})=>{const{isBase:i}=e,s=i?1:0,r=V(e.min,X,s),o=V(e.max,X,s),p=ve(t),u=i?.01:1;return a.jsx("div",{className:"CollateralSlider",children:a.jsx(Qa,{defaultValue:0,value:p,min:r,max:o,step:u,onChange:n})})},Oo=e=>{const{isInLastHalf:t,getCollateralData:n,collateralData:i,setCollateralData:s,collateralTokens:r,chosenStrike:o,updateTriggers:p,resetTriggers:u}=e,[l,y]=g.useState(""),[d,T]=g.useState(r[0]),[c,f]=g.useState(!1),[b,m]=g.useState(!1),x=()=>{y(""),T(r[0]),s(null)},h=()=>{y(""),s(null)};g.useEffect(()=>{x()},u),g.useEffect(()=>{o&&(f(!0),h(),_(!0))},[o,d]);const _=D=>{let N;if(!D&&l){const I=ve(l);N=G(I)}n(d,N).then(I=>{s(I),f(!1),m(!1)})};st(()=>{c||(m(!0),_())},ct,[l,...p]);const w=mt([l,y],{placeholder:"0"}),B=r.map(D=>({value:D,label:a.jsx(ie,{symbol:D,isHlight:!0,children:D})})),P=O(w.hasFocus&&"hlight"),j=()=>a.jsxs(a.Fragment,{children:[i&&a.jsx(Eo,{liqPrice:i.liquidationPrice,isLiqPriceLoading:b,isInLastHalf:t}),ft(()=>a.jsxs("div",{className:"CollateralChooser__input-container",children:[a.jsx("div",{className:"CollateralChooser__input",children:w.node}),i&&a.jsx(Bo,{min:i.min,max:i.max,collateralData:i,handleClick:D=>{y(D)}}),i&&a.jsx(Io,{collateralData:i,collateralAmountStr:l,onChange:D=>{const N=We(D);y(N)}})]}),c),a.jsx("div",{className:"CollateralChooser__token-selector",children:a.jsx(je,{options:B,defaultValue:d,isDisabled:B.length===1,onChange:D=>{T(D.value)}},`CollateralChooser__token-selector_${d}`)})]});return a.jsx("div",{className:O("CollateralChooser",P),children:o?o.isComingSoon?a.jsxs(Ye,{children:[o.market," is coming soon"]}):j():a.jsx(Ye,{children:"Strike required"})})},Fo=e=>{const{asset:t,amountStr:n,strategy:i,strategyStructure:s,hasSell:r,chosenStrikes:o,collateralDataArrState:p,updateTriggers:u,resetTriggers:l,updateUnstableField:y}=e,[d,T]=p,c=()=>{T([])};g.useEffect(()=>{c()},l);const f=(m,x)=>{d[m]=x,T([...d])},b=(m,x,h)=>{const _=o[m];if(!_||!_.utils.getCollateralData)return new Promise(()=>{});const w=G(ve(n)),B=Hs(x),P=ne.from(h??0);return _.utils.getCollateralData(w,{isBaseCollateral:B,setToCollateral:P})};return r?a.jsxs("div",{className:"BuilderForm__field BuilderForm__field_collateral",children:[a.jsx("div",{className:"BuilderForm__field-header",children:a.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),a.jsx("div",{className:"BuilderForm__field-body",children:s.map((m,x)=>{if(Le(m))return a.jsx("div",{className:"BuilderForm__field-empty-row",children:ee()},x);const _=o[x],w=Vs(m,i,t),B=x>(s.length-1)/2,P=a.jsx(Oo,{isInLastHalf:B,collateralTokens:w,collateralData:d[x],setCollateralData:j=>f(x,j),getCollateralData:(j,D)=>b(x,j,D),chosenStrike:_,updateTriggers:u,resetTriggers:l},x);return y(x,P),P})})]}):null};const jo=e=>{const{strategyStructure:t,unstableFields:n,chosenStrikes:i,strikesDataArr:s,areStrikesLoading:r}=e;return gt()?a.jsxs("div",{className:"BuilderMobileContainer BuilderForm__field",children:[a.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),a.jsx("div",{className:"BuilderForm__field-body",children:t.map((p,u)=>{const l=r||!!s[u],y=!!i[u],d=!!n.collateral[u],T=u===t.length-1;return a.jsxs("div",{className:"BuilderMobileContainer__item",children:[a.jsx("div",{className:O("BuilderMobileContainer__item-date",l&&"mb-7"),children:n.date[u]}),a.jsx("div",{className:"BuilderMobileContainer__item-strike",children:n.strike[u]}),d&&y&&a.jsxs("div",{className:O("BuilderMobileContainer__item-collateral"),children:[a.jsx("div",{className:"BuilderMobileContainer__item-title",children:a.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),n.collateral[u]]}),l&&!T&&a.jsx(Ke,{})]},u)})})]}):null},Lo=e=>{const{assetState:t,strategyState:n,amountStrState:i,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}=e,[l]=t,[y]=n,[d]=i,[T]=r,c=de[y].structure,f=Qt(c),b=g.useState(!1),[m]=b,[x]=p,[h]=o,_=Y(),w=Ee.getLyra(_),[B,P]=g.useState(void 0),j=()=>{P(void 0);const C=`W${l}`;w.markets().then(E=>{const v=E.find(k=>k.baseToken.symbol===C);P(v??null)})};g.useEffect(()=>{j()},[l]);const D={date:[l,B],strike:[T],collateral:[d]},N={date:[l,y],strike:[l,y,T],collateral:[l,y,T],unstableFields:[y]},[I,A]=g.useState({date:[],strike:[],collateral:[]}),S=(C,E,v)=>{I[C][E]=v};return g.useEffect(()=>{A({date:[],strike:[],collateral:[]})},N.unstableFields),a.jsxs("div",{className:"BuilderForm__fields",children:[a.jsx(Is,{assetState:t,isDisabled:m}),a.jsx(Fs,{strategyState:n,isDisabled:m}),a.jsx(Bs,{amountStrState:i,strategy:y}),a.jsx(fr,{strategyStructure:c,dateListState:s,chosenDateState:r,lyraMarket:B,updateTriggers:D.date,resetTriggers:N.date,isDisabled:m,updateUnstableField:(C,E)=>{S("date",C,E)}}),a.jsx(Do,{asset:l,strategy:y,amountStr:d,chosenDate:T,strategyStructure:c,hasSell:f,strikesDataArrState:o,chosenStrikesState:p,areStrikesLoadingState:b,lyraMarket:B,updateTriggers:D.strike,resetTriggers:N.strike,updateUnstableField:(C,E)=>{S("strike",C,E)}}),a.jsx(Fo,{asset:l,strategy:y,amountStr:d,strategyStructure:c,hasSell:f,chosenStrikes:x,collateralDataArrState:u,updateTriggers:D.collateral,resetTriggers:N.collateral,updateUnstableField:(C,E)=>{S("collateral",C,E)}}),a.jsx(jo,{strategyStructure:c,unstableFields:I,chosenStrikes:x,strikesDataArr:h,areStrikesLoading:m})]})},No=()=>a.jsxs(fe,{id:"BuilderForm_StrikeTooltip",children:[a.jsx("h6",{children:"Hegic Options (American options)"}),a.jsxs("p",{className:"my-5",children:["They require manual exercise before ",a.jsx("br",{}),"the expiration date. ",a.jsx("br",{}),"There are no secondary markets; out-",a.jsx("br",{}),"of-the-money options can't be sold."]}),a.jsx("h6",{children:"Lyra (European options)"}),a.jsxs("p",{className:"my-5",children:["They are only exercised automatically ",a.jsx("br",{}),"at the expiration date. ",a.jsx("br",{}),"Secondary markets are available; out-",a.jsx("br",{}),"of-the-money options can be sold."]})]});const Ro=({strategy:e})=>{const t=de[e],{outlooks:n,profit:i,loss:s,description:r}=t.stats;return a.jsxs(fe,{className:"WhenPurchaseTooltip",id:"BuilderForm_WhenPurchaseTooltip",place:"bottom-end",children:[a.jsxs("div",{className:"WhenPurchaseTooltip__header",children:[a.jsx("h2",{className:"WhenPurchaseTooltip__title",children:e}),a.jsx("div",{className:"WhenPurchaseTooltip__outlooks",children:n.map(o=>{const p=As[o];return a.jsx("div",{className:"WhenPurchaseTooltip__outlook",style:{color:p},children:o},o)})})]}),a.jsxs("div",{className:"WhenPurchaseTooltip__body",children:[a.jsx("h3",{className:"WhenPurchaseTooltip__subtitle",children:"When purchase"}),a.jsx("p",{className:"WhenPurchaseTooltip__description",children:r}),a.jsx("div",{className:"WhenPurchaseTooltip__stats",children:[i,s].map((o,p)=>{const u=p===0?"Profit":"Loss";return a.jsxs("div",{className:"WhenPurchaseTooltip__stats-item",children:[a.jsx("div",{className:"WhenPurchaseTooltip__stats-item-name",children:u}),a.jsx("div",{className:"WhenPurchaseTooltip__stats-item-value",children:o})]},`${u}_${o}`)})})]})]})},Uo=()=>a.jsxs(fe,{id:"BuilderForm_CollateralTooltip",children:["This refers to the amount ",a.jsx("br",{}),"you’re setting aside ",a.jsx("br",{}),"as collateral for selling options"]}),Ho=()=>a.jsxs(fe,{id:"BuilderForm_MaxCostTooltip",children:["This is the highest amount ",a.jsx("br",{}),"you’ll pay for buying options. ",a.jsx("br",{}),"If the option price rises ",a.jsx("br",{}),"beyond this, your transaction ",a.jsx("br",{}),"will be reverted."]}),$o=()=>a.jsxs(fe,{id:"BuilderForm_MinReceivedTooltip",children:["This is the least amount you’re ",a.jsx("br",{}),"assured to receive when ",a.jsx("br",{}),"selling options. If the option ",a.jsx("br",{}),"price drops beyond this point, ",a.jsx("br",{}),"your transaction will ",a.jsx("br",{}),"be reverted."]}),qo=()=>a.jsxs(fe,{id:"BuilderForm_YouPayWarningTooltip",children:["Apparently, the collateral you've set ",a.jsx("br",{}),"is too small. This may result in instant ",a.jsx("br",{}),"liquidation of the position."]}),Wo=()=>a.jsxs(fe,{id:"Builder_PremiumTooltip",children:[a.jsx("h6",{children:"Negative Premium"}),a.jsxs("div",{style:{margin:"3px 0 5px"},children:["Indicates the amount of USDC you ",a.jsx("br",{}),"have paid as an option buyer."]}),a.jsx("h6",{children:"Positive Premium"}),a.jsxs("div",{style:{margin:"3px 0"},children:["Denotes the amount of USDC you ",a.jsx("br",{}),"have received as an option seller."]})]}),Vo=({strategy:e})=>a.jsxs("div",{className:"BuilderTooltips",children:[a.jsx(No,{}),a.jsx(Ro,{strategy:e}),a.jsx(Uo,{}),a.jsx(Wo,{}),a.jsx(Ho,{}),a.jsx($o,{}),a.jsx(qo,{})]});const Go=({collateralCost:e,getCostNode:t})=>a.jsxs("div",{className:"BuilderCalculations__item",children:[a.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"}),a.jsx("div",{className:O("BuilderCalculations__item-value",e&&e.inUSDC!==0n&&"tip"),"data-tooltip-id":"BuilderForm__CollateralCostDecompositionTooltip",children:t(e)})]}),Ko=({maxCost:e,getCostNode:t})=>a.jsxs("div",{className:"TradeCostValue",children:[a.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MaxCostTooltip",children:"Max. Cost"}),a.jsx("div",{className:O("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MaxCostDecompositionTooltip",children:t(e,Tt.negative)})]}),Yo=({netCost:e,getCostNode:t})=>{const n=(e==null?void 0:e.inUSDC)<0?"negative":(e==null?void 0:e.inUSDC)>0?"positive":"neutral",i=Tt[n];return a.jsxs("div",{className:"TradeCostValue",children:[a.jsx("div",{className:"BuilderCalculations__item-name",children:"Net. Cost"}),a.jsx("div",{className:O("BuilderCalculations__item-value",n),children:t(e,i)})]})},zo=({minReceived:e,getCostNode:t})=>a.jsxs("div",{className:"TradeCostValue",children:[a.jsx("div",{className:"BuilderCalculations__item-name tip","data-tooltip-id":"BuilderForm_MinReceivedTooltip",children:"Min. Received"}),a.jsx("div",{className:O("BuilderCalculations__item-value",e&&"tip"),"data-tooltip-id":"BuilderForm__MinReceivedDecompositionTooltip",children:t(e,Tt.positive)})]});const Zo=({hasBuy:e,hasSell:t,getCostNode:n,maxCost:i,minReceived:s,netCost:r})=>{const o={plus:a.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:18},children:"+"}),equal:a.jsx("span",{className:"helper-symbol mx-10 muted_light",style:{fontSize:17},children:"="})},p=e&&t;return a.jsxs("div",{className:"TradeCostItem BuilderCalculations__item",children:[e&&a.jsx(Ko,{maxCost:i,getCostNode:n}),p&&o.plus,t&&a.jsx(zo,{minReceived:s,getCostNode:n}),p&&a.jsxs(a.Fragment,{children:[o.equal,a.jsx(Yo,{netCost:r,getCostNode:n})]})]})},_t=(e,t=2,n,i)=>{const s=V(e,n);return Xo(s,t,i)},Qo=(e,t=2,n)=>_t(e,t,n,!0),Xo=(e,t=2,n)=>{const i=n?"+":"",s=e<0?"–":e>0?i:"";return e=Math.abs(e),e=Ze(e,t),e=Sn(e,t),`${s}$${ye(e)}`},Jo=({hasBuy:e,hasSell:t,hasChosenStrike:n,maxCost:i,minReceived:s,netCost:r,collateralCost:o})=>{const p=(u,l)=>!n||oe(u)||(u==null?void 0:u.inUSDC)===0n?"$0":ft(()=>{const y=xe(u.inUSDC);return`${l??""}${_t(y)}`},!u);return a.jsxs("div",{className:"BuilderCostItems BuilderCalculations__items",children:[a.jsx(Zo,{hasBuy:e,hasSell:t,getCostNode:p,maxCost:i,minReceived:s,netCost:r}),t&&a.jsx(Go,{collateralCost:o,getCostNode:p})]})};const Jn=({id:e,decompositionArr:t,...n})=>a.jsx(fe,{className:"TooltipDecomposition",id:e,place:"bottom-end",...n,children:t.map((i,s)=>{const r=s===t.length-1;return a.jsxs(qe.Fragment,{children:[a.jsxs("div",{className:"TooltipDecomposition__item",children:[a.jsx("div",{className:"TooltipDecomposition__item-name",children:i.nameNode}),a.jsx("div",{className:"TooltipDecomposition__item-value",children:i.valueNode})]}),!r&&a.jsx(Ke,{})]},s)})}),ep=({id:e,priceDecompositionArr:t})=>{const i=(()=>t.map(r=>{const o=r.marketToken.isStable,p=a.jsx(ie,{symbol:r.marketToken.symbol,isHlight:!0,children:Fe(r.inMarketToken,o)}),u=`$${J(r.inUSDC,2)}`;return{nameNode:p,valueNode:u}}))();return a.jsx(Jn,{id:e,decompositionArr:i})},tp=({maxCost:e,minReceived:t,collateralCost:n})=>{const i=[{id:"BuilderForm__MaxCostDecompositionTooltip",decomposition:e==null?void 0:e.decomposition,isZero:(e==null?void 0:e.inUSDC)===0n},{id:"BuilderForm__MinReceivedDecompositionTooltip",decomposition:t==null?void 0:t.decomposition,isZero:(t==null?void 0:t.inUSDC)===0n},{id:"BuilderForm__CollateralCostDecompositionTooltip",decomposition:n==null?void 0:n.decomposition,isZero:(n==null?void 0:n.inUSDC)===0n}];return a.jsx("div",{className:"CostDecompositionTooltips",children:i.map(s=>!s.decomposition||s.isZero?null:a.jsx(ep,{id:s.id,priceDecompositionArr:s.decomposition},s.id))})};const ea="/sf_draft/assets/pen-7561a00e.svg",np="/sf_draft/assets/confirm-d9cebec0.svg",ap=({slippage:e,setSlippage:t})=>{const n=f=>`${Ze(f*100,6)}`,[i,s]=g.useState(n(e)),[r,o]=g.useState(!1),{node:p,ref:u,hasFocus:l}=mt([i,s],{maxValue:100}),y=()=>{const f=n(Dt);s(f)},d=()=>{const f=Number(i)/100;t(f)},T=()=>{const f=u.current,b=f.value.includes(".");let m=(f.value.length+1)*8.5;b&&(m-=4),f.style.width=m+"px"},c=()=>{(!i||Number(i)===0)&&y(),d(),r||(o(!0),setTimeout(()=>{o(!1)},200))};return g.useEffect(()=>{T()},[i]),g.useEffect(()=>{l||c()},[l]),a.jsxs("div",{className:"SlippageInput",onClick:()=>{var f;r||(f=u.current)==null||f.focus()},children:[a.jsxs("div",{className:O("SlippageInput__input-container",l&&"focused"),children:[p,a.jsx("span",{className:"SlippageInput__unit",children:"%"})]}),a.jsx("button",{className:"SlippageInput__btn",children:a.jsx("img",{src:l?np:ea,alt:"Edit slippage"})})]})},ip=({swapSlippageState:e})=>{const[t,n]=e;return a.jsxs("div",{className:"SwapSlippageField info-row",children:[a.jsx("div",{className:"info-row__title",children:"Slippage"}),a.jsx("div",{className:"info-row__value",children:a.jsx(ap,{slippage:t,setSlippage:n})})]})},sp=({strategy:e,amountStr:t,chosenStrikesState:n,collateralDataArrState:i,youPayState:s,swapSlippageState:r})=>{const o=de[e].structure,p=Qt(o),u=$s(o),[l,y]=s,[d,T]=n,[c,f]=i,[b]=r,[m,x]=g.useState(null),[h,_]=g.useState(null),[w,B]=g.useState(null),[P,j]=g.useState(null),[D,N]=g.useState(null),I=qs(d),A=!!c.find(M=>M),S=M=>{d[M]=null,c[M]=null,T([...d]),f([...c])};g.useEffect(()=>{!!(l!=null&&l.paymentToken)&&N(Rn(l))},[l]);const C={sum:M=>M.reduce((L,H,z)=>{if(z===0)return{inUSDC:H.inUSDC,decomposition:[H]};const pe=L.decomposition;return pe[z]={marketToken:H.marketToken,inMarketToken:H.inMarketToken,inUSDC:H.inUSDC},{inUSDC:L.inUSDC+H.inUSDC,decomposition:pe}},M[0]),separateBuyFromSell:M=>{const R=[],L=[];return M.forEach(H=>{H&&(H.isBuy?R.push(H):L.push(H))}),{buyCosts:R,sellCosts:L}},getArgsForHandler:M=>{const{reset:R}=E[M],{isAllowed:L,update:H}=k[M];return[R,L,H]}},E={collateral:{reset:()=>{j({inUSDC:0n})}},trade:{reset:()=>{x(null),_(null),B(null)}},youPay:{reset:()=>{y(null)}}},v={collateral:{calc:()=>{const M=c.filter(L=>L);return C.sum(M)}},trade:{calc:()=>{if(!t)return;const M=[],R=G(ve(t));return d.forEach((L,H)=>{L&&M.push(L.utils.calcPremium(R).then(z=>z?(L.premiumData=z,L.amount=R,z.isBuy=L.isBuy,z):(S(H),null)))}),Promise.all(M).then(L=>{const{buyCosts:H,sellCosts:z}=C.separateBuyFromSell(L);return{maxCost:C.sum(H),minReceived:C.sum(z)}})}},youPay:{calc:()=>{const M=()=>({inUSDC:m.inUSDC,decomposition:m.decomposition}),R=()=>{if(P!=null&&P.inUSDC)return{inUSDC:P.inUSDC+((m==null?void 0:m.inUSDC)??0n),decomposition:zs(o,m==null?void 0:m.decomposition,P.decomposition),shouldSwap:D}},L=pe=>{const K=kt=>Ie(kt,b),vt=kt=>Ie(kt,Es),{inUSDC:la}=pe,ya=K(la),da=vt(ya);return pe.inUSDC=da,pe},H=p?R():M();return L(H)}}},k={collateral:{triggers:[c],isAllowed:A&&I,update:()=>{const M=v.collateral.calc();j(M)}},trade:{triggers:[d],debouncedTriggers:[t],isAllowed:I,update:()=>{v.trade.calc().then(M=>{const{maxCost:R,minReceived:L}=M;x(R),_(L);const H={inUSDC:((L==null?void 0:L.inUSDC)??0n)-((R==null?void 0:R.inUSDC)??0n)};B(H)})}},youPay:{triggers:[w,P,b],isAllowed:!!(p?w!=null&&w.inUSDC&&(P!=null&&P.inUSDC):w!=null&&w.inUSDC),update:()=>{const M=v.youPay.calc();y(M)}}},F=(M,R,L)=>{M(),R&&L()};return Object.keys(k).forEach(M=>{const R=()=>{F(...C.getArgsForHandler(M))},L=[...k[M].triggers],H=k[M].debouncedTriggers&&[...k[M].debouncedTriggers];H&&st(R,ct,H),g.useEffect(R,L)}),a.jsxs("div",{className:O("BuilderCost",p&&"has-sell"),children:[a.jsxs("div",{className:"BuilderCost__content",children:[a.jsx(Jo,{hasBuy:u,hasSell:p,hasChosenStrike:I,maxCost:m,minReceived:h,netCost:w,collateralCost:P}),D&&a.jsx(ip,{swapSlippageState:r})]}),a.jsx(tp,{maxCost:m,minReceived:h,collateralCost:P})]})};const rp=({decompositionData:e})=>a.jsx("div",{className:"GreeksDecompositionTooltips",children:Et.map(t=>{const n=e[t];if(!n||!n.length)return null;const s=`BuilderForm_${Ln(t)}DecompositionTooltip`;return a.jsx(Jn,{id:s,decompositionArr:n},s)})}),op=({chosenStrikes:e})=>{const t={};Et.forEach(p=>{t[p]=[]});const n=(p,u)=>{const l=p.greeks[u],y={nameNode:a.jsx(zn,{strikeData:p,priceNode:`$${ye(p.strike)}`}),valueNode:l??ee()};t[u].push(y)},i=()=>a.jsx("div",{className:"BuilderCalculations__items",children:Et.map(p=>{const u=Ln(p),l=e.reduce((d,T)=>{if(!T)return d;n(T,p);const c=T.greeks[p];return(d??0)+c},void 0),y=l||l===0;return y||(t[p]=null),a.jsxs("div",{className:"BuilderCalculations__item",children:[a.jsx("div",{className:"BuilderCalculations__item-name",children:u}),a.jsx("div",{className:O("BuilderCalculations__item-value",y&&"tip"),"data-tooltip-id":`BuilderForm_${u}DecompositionTooltip`,children:y?ut(l,3):ee()})]},p)})}),s=()=>a.jsx(Wn,{renderHeader:({state:p})=>`${p.isEnter?"Hide":"Show"} greeks`,children:i()}),o=gt(576);return a.jsxs("div",{className:"BuilderGreeks",children:[o?s():i(),a.jsx(rp,{decompositionData:t})]})};const pp=({youPayState:e,paymentToken:t})=>{const n=Y(),[i,s]=e,r=()=>i.inUSDC<0?new Promise(y=>{y(null)}):Ur(n,t.address,i.inUSDC),o={triggers:[i],isAllowed:!!(i&&t&&oe(i.inPaymentToken)),update:()=>{const y=()=>{setTimeout(()=>{s({...i})},1e3)};r().then(d=>{i.paymentToken=t,i.inPaymentToken=d,y()})}},p={triggers:[t.symbol],isAllowed:!!i,reset:()=>{i.inPaymentToken=void 0,s({...i})}};g.useEffect(()=>{o.isAllowed&&o.update()},[...o.triggers]),g.useEffect(()=>{p.isAllowed&&p.reset()},[...p.triggers]);const u={getNegativeValueNode:()=>a.jsx(ie,{children:a.jsx("span",{className:"negative tip","data-tooltip-id":"BuilderForm_YouPayWarningTooltip",children:J(i.inUSDC,0)})}),getPaymentTokenNode:()=>Fe(i.inPaymentToken,i.paymentToken.isStable),getUsdcNode:()=>_t(i.inUSDC),getApproximatelySymbolNode:()=>a.jsx("span",{className:"muted_light mx-5",style:{fontSize:16},children:Ms})};return(()=>!i||!t?ee():i.inPaymentToken===null?u.getNegativeValueNode():oe(i.inPaymentToken)?a.jsx(ke,{}):a.jsxs(ie,{isHlight:!0,symbol:t.symbol,children:[u.getPaymentTokenNode(),u.getApproximatelySymbolNode(),u.getUsdcNode()]}))()};const up=({className:e,options:t,defaultOption:n,defaultValue:i,onChange:s,...r})=>a.jsx(je,{className:O("SelectorInline",e),options:t,defaultOption:n,defaultValue:i,onChange:s,...r}),lp=e=>{const{account:t}=Q();return e.map(i=>{let{data:s}=_a({address:t,token:i.isETH?null:i.address,watch:!0});return s||(s={value:0n}),{...s,address:i.address,symbol:i.symbol,isETH:i.isETH,isStable:i.isStable}})},yp=e=>{const{isConnected:t,account:n}=Q(),i=Y(),s=lp(e),{data:r}=Oe(t&&[n,"useTokenBalancesUSDC",s],async()=>{const o=[],p=[];return s.forEach((u,l)=>{u&&(u.inTokenDecimals=u.value,u.inDefaultDecimals=Z(u.value,u.decimals),p.push(Me(i,u.address,u.inDefaultDecimals).then(y=>{o[l]={...u,inUSDC:y}}).catch(y=>{console.log(`Swapping ${u.symbol} to USDC error.

`+y),o[l]=null})))}),await Promise.all(p),o});return r??[]},dp=({paymentTokens:e,paymentToken:t,setPaymentToken:n})=>{const{isConnected:i,account:s}=Q(),r=yp(e),o=()=>{const y=r.find(d=>d.symbol===t.symbol);y!==t.balance&&n({...t,balance:y})};g.useEffect(()=>{o()},[r,s]);const p=y=>i?y===null?ee("Error"):oe(y)||oe(y.inUSDC)?a.jsx(ke,{}):`$${J(y.inUSDC,0)}`:ee(),u=e.map((y,d)=>{const T=r[d],c=p(T);return{label:a.jsxs("div",{className:"PaymentTokenSelector__item",children:[a.jsx("div",{className:"PaymentTokenSelector__item-name",children:a.jsx(ie,{symbol:y.symbol,isHlight:!0,children:y.symbol})}),a.jsx("div",{className:"PaymentTokenSelector__item-value",children:c})]}),value:y.symbol,balance:T}}),l=[{label:a.jsxs("div",{className:"PaymentTokenSelector__item",children:[a.jsx("div",{children:"Asset"}),a.jsx("div",{children:"Balance, $"})]}),options:u}];return a.jsx(up,{className:"PaymentTokenSelector",options:l,defaultValue:t.symbol,onChange:y=>{n({symbol:y.value,balance:y.balance})}},s)},cp=({paymentToken:e,setPaymentToken:t,youPayState:n,confirmButtonNode:i})=>{const{isConnected:s}=Q(),r=Y(),o=Wi(r),p=()=>{if(!s)return ee();if(e.balance===null)return ee("Error");if(oe(e.balance))return a.jsx(ke,{});const u=e.balance.value===0n?0:void 0;return a.jsx(ie,{symbol:e.symbol,isHlight:!0,children:Fe(e.balance.inDefaultDecimals,e.isStable,u)})};return a.jsxs("div",{className:"BuilderSwap",children:[a.jsxs("div",{className:"BuilderCalculations__items",children:[a.jsxs("div",{className:"BuilderCalculations__item",children:[a.jsx("div",{className:"BuilderCalculations__item-name",children:"Select Payment method"}),a.jsx("div",{className:"BuilderCalculations__item-value",children:a.jsx(dp,{paymentTokens:o,paymentToken:e,setPaymentToken:t})})]}),a.jsxs("div",{className:"BuilderCalculations__item",children:[a.jsx("div",{className:"BuilderCalculations__item-name",children:"You pay"}),a.jsx("div",{className:"BuilderCalculations__item-value",children:a.jsx(pp,{youPayState:n,paymentToken:e})})]}),a.jsxs("div",{className:"BuilderCalculations__item",children:[a.jsx("div",{className:"BuilderCalculations__item-name",children:"Balance"}),a.jsx("div",{className:"BuilderCalculations__item-value",children:p()})]})]}),i]})},mp=(e,t,n,i,s,r,o)=>{const{isConnected:p}=Q(),{connectWallet:u}=Bn(),l=Qt(t),y=n.length!==t.length||!n.every(h=>h),d=!!i.find(h=>h&&h.inMarketToken===0n),T=n.find(h=>h==null?void 0:h.isComingSoon),c=()=>{if(!e)return"Enter Amount";if(y)return"Fill out the Strike fields";if(l&&d)return"Fill out the Collateral fields";if(!s)return"Please, wait...";if(s>r)return"Insufficient balance"},f=()=>!p||T?!0:!c(),b=()=>{const h="Buy Strategy";return p?T?`Visit ${T.market} app`:c()??h:"Connect wallet"},m=()=>{if(!p){u();return}if(T){window.open(T.marketLink);return}o()};return a.jsx(ge,{className:"BuilderForm__button",onClick:m,isDisabled:!f(),children:b()})},Tp=({strategy:e,amountStr:t,youPayState:n,chosenStrikesState:i,collateralDataArrState:s,openBuyModal:r,swapSlippageState:o})=>{var x;const p=Y(),[u,l]=jt("builder-payment-token","ETH"),[y,d]=g.useState({symbol:u});g.useEffect(()=>{if(l(y.symbol),!y.address){const h=ue(p,y.symbol);d({...y,...h})}},[y]);const[T]=i,[c]=s,[f]=n,b=de[e].structure,m=mp(t,b,T,c,f==null?void 0:f.inPaymentToken,(x=y.balance)==null?void 0:x.inDefaultDecimals,r);return a.jsxs("div",{className:"BuilderCalculations",children:[a.jsx(op,{chosenStrikes:T}),a.jsx(sp,{strategy:e,amountStr:t,chosenStrikesState:i,collateralDataArrState:s,youPayState:n,swapSlippageState:o}),a.jsx(cp,{youPayState:n,paymentToken:y,setPaymentToken:d,confirmButtonNode:m})]})};const fp=({stagesArr:e})=>a.jsx("div",{className:"Stages",children:e.map(t=>a.jsx("div",{className:O("Stages__item",t.isActive&&"active"),children:t.name},t.name))}),ta=(e,t,n,i=s=>{})=>{const{account:s}=Q(),r=Y(),o=ue(r,e);return{check:async()=>o.isETH?new Promise(u=>u(!0)).then(i):Rs(r,o,s,t,n).then(i),approve:async(u,l)=>{if(o.isETH)throw new Error("Trying to approve ETH");return Ns(r,o,t,n,u,l)}}},bp=(e,t,n,i,s,r={setIsLoading:()=>{},closeModal:()=>{},addPendingPosition:()=>{}})=>{const o=Y(),p=de[e],{setIsLoading:u,closeModal:l,addPendingPosition:y}=r,{paymentToken:d,decomposition:T}=i,c=d.isETH,[f,b]=g.useState({moduleArr:[],parametersArr:[],swapDataArr:[],productType:p.key}),[m,x]=g.useState([]),h=()=>m.reduce((I,A)=>I+A,0n),_=new $(...q(o,"TxBuilder"),Te()),w=(N,I)=>{const A=Ds[N.protocolName];return _.module(A).then(S=>{f.moduleArr[I]=S})},B=(N,I)=>{const A=n[I],S={setToCollateral:A&&ne.from(A.inMarketToken),isBaseCollateral:A==null?void 0:A.isBase,premiumInMarketToken:N.premiumData.inMarketToken};return N.utils.getBuilderParams(N.amount,S,d.decimals).then(C=>{f.parametersArr[I]=C})},P=(N,I)=>{const A=T[I],S=new $(...q(o,"Exchanger"),W(o)),C=A.marketToken,E=Hr(d.address,C.address),v=A.inMarketToken,k=Nn(d,C);return rn(o,C.address,d.address,v).then(F=>Ie(F,s)).then(F=>{const U=le(F,d.decimals),M=le(v,C.decimals);return c&&(m.push(U),x([...m])),S.encodeFromExchange({path:E,tokenIn:d.address,tokenOut:C.address,amountIn:U,amountOutMinimum:M,isETH:c,swap:k}).then(R=>{f.swapDataArr[I]=R})})},j=()=>{const N=[];return t.forEach((I,A)=>{N.push(w(I,A),B(I,A),P(I,A))}),Promise.all(N).then(()=>{b({...f})}).catch(I=>{console.log(I),u(!1)})};return()=>{u(!0);const{amount:N,asset:I}=t[0];return j().then(()=>{const A=V(N),S=A!==1,C=p.plural??`${e}s`,E=S?C:e,F={text:`${A} ${I} ${E} opened.`,node:a.jsxs(ie,{symbol:I,children:[A," ",E," opened."]})};return yt(o,_.consolidationOfTransactions,[f.moduleArr,f.parametersArr,f.swapDataArr,f.productType,m.length?{value:h()}:{}],F,u,l)}).then(()=>{x([])})}},na=()=>({opening:[],closing:[]}),Re=g.createContext(na()),hp=(e,t)=>{const[n,i]=e;for(const s in n){const r=n[s];if(r.length){const o=r.filter(p=>p.market!==t);n[s]=o,i({...n})}}},xp=({isOpen:e,setIsOpen:t,asset:n,strategy:i,amountStr:s,chosenStrikes:r,collateralDataArr:o,youPay:p,swapSlippage:u})=>{const l=Y(),y=de[i],[d,T]=g.useState(!1),[c,f]=g.useState(null),[b,m]=g.useContext(Re),x=bp(i,r,o,p,u,{setIsLoading:T,closeModal:()=>t(!1),addPendingPosition:F=>{F.isOpening=!0,b.opening.push(F),m({...b})}}),h=Rn(p),w=["Approve","Buy"].map(F=>({name:F,isActive:c===F})),{paymentToken:B,inPaymentToken:P}=p,j=Fe(P,B.isStable),D=B.symbol,N=`${j} ${D}`,I={Approve:`Approve ${N}`,Buy:`Pay ${N}`},A=new $(...q(l,"Exchanger"),Te()),S=ta(D,A.address,P,F=>{f(F?"Buy":"Approve")}),C=()=>{f(null),S.check()};g.useEffect(()=>{e&&C()},[e,p]);const E=()=>{if(!c)return"Please, wait...";if(d){if(c==="Approve")return`Approving ${D}...`;if(c==="Buy")return`Buying ${i}...`}},v={approve:()=>{S.approve(T,C)},buy:x},k={getBtnText:()=>E()??I[c],getIsBtnEnabled:()=>!E(),getBtnOnClick:()=>{switch(c){case"Approve":return v.approve;case"Buy":return v.buy}}};return a.jsxs(dt,{className:"BuyBuildModal",isOpen:e,setIsOpen:t,children:[a.jsx(fp,{stagesArr:w}),a.jsx("h1",{className:"BuyBuildModal__title",children:c??a.jsx(ke,{})}),a.jsxs("div",{className:"BuyBuildModal__strategy",children:["Strategy",a.jsxs("div",{className:"BuyBuildModal__strategy-info",children:[a.jsx("span",{className:"BuyBuildModal__strategy-name",style:{color:y.color},children:i}),a.jsx(Ke,{isVertical:!0}),a.jsx(ie,{className:"BuyBuildModal__strategy-amount",symbol:n,isHlight:!0,children:s})]})]}),h&&a.jsx("div",{className:"BuyBuildModal__footer",children:a.jsxs("p",{className:"BuyBuildModal__hint",children:["Sharwa.Finance will auto-convert your ",N," into tokens compatible with the options protocols where your positions are to be opened, using Uniswap v3."]})}),a.jsx(ge,{className:"BuyBuildModal__button",isDisabled:!k.getIsBtnEnabled(),onClick:k.getBtnOnClick(),children:k.getBtnText()})]})},gp=e=>!(typeof e!="number"||e>1||e<0),_p=({assetState:e,strategyState:t,amountStrState:n,dateListState:i,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p})=>{const u=g.useState(null),[l]=u,[y,d]=g.useState(!1),T=jt("Builder-swap-slippage",Dt),[c,f]=T;gp(c)||f(Dt);const[b]=e,[m]=t,[x]=n,[h]=o,[_]=p,w=()=>{d(!0)};return a.jsxs("div",{className:"BuilderForm App-box",children:[a.jsx(Lo,{assetState:e,strategyState:t,amountStrState:n,dateListState:i,chosenDateState:s,strikesDataArrState:r,chosenStrikesState:o,collateralDataArrState:p}),a.jsx(Tp,{strategy:m,amountStr:x,youPayState:u,chosenStrikesState:o,collateralDataArrState:p,openBuyModal:w,swapSlippageState:T}),(l==null?void 0:l.inPaymentToken)&&a.jsx(xp,{isOpen:y,setIsOpen:d,asset:b,strategy:m,amountStr:x,chosenStrikes:h,collateralDataArr:_,youPay:l,swapSlippage:c}),a.jsx(Vo,{strategy:m})]})};const vp=({asset:e,strategy:t,amountStr:n,chosenStrikes:i,collateralDataArr:s})=>{var E;const r=de[t].structure,o=g.useRef(null),p=ve(n),u={amount:p,strikes:i.map(v=>v==null?void 0:v.strike),premiums:i.map(v=>{const k=v==null?void 0:v.premiumData.inUSDC;return k&&V(k)}),strategies:r,collaterals:s,isReady:p&&i.length===r.length&&i.every(v=>v)},l=e==="ETH",y=l?.3:.2,d=l?5:10,T=100,c=an(e),f=V(c),b=f&&Math.round(f/d)*d,m=(v,k)=>{const F=u.strategies[v],U=u.premiums[v],M=u.strikes[v],R=u.amount,L=u.collaterals[v],H=(L==null?void 0:L.liquidationPrice)&&V(L.liquidationPrice),z=L&&V(L.inMarketToken),pe=L==null?void 0:L.isBase;let K;if(U){switch(F){case 1:k<M?K=-U:K=(k-M)*R-U;break;case 2:k>M?K=-U:K=(M-k)*R-U;break;case-1:if(H&&k>H)pe?K=-(z*H)+U:K=-z+U;else if(pe){const vt=(M-f)*R+U;k>M?K=vt:K=(k-f)*R+U}else k<M?K=U:K=(M-k)*R+U;break;case-2:H&&k<H?pe?K=-(z*H)+U:K=-z+U:k>M?K=U:K=(k-M)*R+U;break}if(K)return Number(K)}},h=(()=>{if(!u)return;const v=u.strikes.reduce((L,H)=>(L+H)/2,u.strikes[0]),k=window.innerWidth>480?y:y-.05,F=Math.round(v*(1-k)/100)*100,U=Math.round(v*(1+k)/100)*100,M=[];for(let L=0;L<(U-F)/d;L++){const H=F+L*d;M.push(H)}const R=[];return u.strategies.forEach((L,H)=>{M.forEach((z,pe)=>{const K=m(H,z);H===0?R.push({closePrice:z,pnl:K}):R[pe].pnl=R[pe].pnl+K})}),R})(),_=(E=h.reduce((v,k)=>k.pnl>v.pnl?k:v,h[0]))==null?void 0:E.pnl,w=_&&ye(_.toFixed(0)),P=(()=>{if(!h)return;const v=Math.max(...h.map(U=>U.pnl)),k=Math.min(...h.map(U=>U.pnl));if(v<=0)return 0;if(k>=0)return 1;const F=v/(v-k);return isNaN(F)?0:F})(),j=({value:v,cx:k,cy:F})=>{const U=v[1];let M;return U<0?M=se:U>0?M=Pe:M=Je,a.jsx("circle",{cx:k,cy:F,r:5,style:{opacity:"0.9"},fill:M})},D=v=>{const{active:k,payload:F,label:U}=v,M=k&&F&&F.length&&Number(F[0].value.toFixed(2));return k&&F&&F.length?a.jsxs("div",{className:"react-tooltip",children:[a.jsx(ie,{currencyName:e,isHlight:!0,isSmall:!0,children:ye(U)}),a.jsxs("p",{children:["PnL ",a.jsx("span",{className:O({positive:M>0,negative:M<0}),children:`${M!==0?M>0?"+":"-":""}$${ye(Math.abs(M))}`})]})]}):null},N=v=>ye(v),I={fill:Je,fontSize:13},A=wt,[S,C]=g.useState(null);return g.useEffect(()=>{if(o.current&&h){let v;const k=Math.round(T/(o.current.clientWidth/h.length));k<20?v=19:v=Math.floor(k/20)*20-1,C(v)}},[o.current,h,window.innerWidth]),a.jsx("div",{className:"BuilderPositionChart App-box",ref:o,children:u.isReady?a.jsx(Xa,{children:a.jsxs(Ja,{data:h,margin:{left:(w==null?void 0:w.length)*7.5-40,right:15,top:15},children:[a.jsx(ei,{dataKey:"closePrice",interval:S,tickFormatter:N,tick:I,stroke:A}),a.jsx(ti,{dataKey:"pnl",tickFormatter:N,tick:I,stroke:A,padding:{bottom:15}}),a.jsx(ni,{cursor:{stroke:Je},content:a.jsx(D,{})}),a.jsx(ai,{type:"monotone",dot:!1,dataKey:"pnl",stroke:"url(#splitColor)",activeDot:a.jsx(j,{}),fill:"url(#splitColorTransparent)"}),a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"splitColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:P,stopColor:Pe,stopOpacity:1}),a.jsx("stop",{offset:P,stopColor:se,stopOpacity:1})]}),a.jsxs("linearGradient",{id:"splitColorTransparent",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:P,stopColor:Pe,stopOpacity:.3}),a.jsx("stop",{offset:P,stopColor:se,stopOpacity:.3})]})]}),a.jsx(pn,{x:b,stroke:wt,strokeDasharray:"3 3",label:{value:"Current Price",fill:wt,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}}),u.collaterals.length&&u.collaterals.map(v=>{if(!v||!v.liquidationPrice)return;const k=V(v.liquidationPrice),F=Math.round(k/d)*d;return a.jsx(pn,{x:F,stroke:se,strokeDasharray:"3 3",label:{value:"Liq. Price",fill:se,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}},k)}),a.jsx(ii,{stroke:"rgba(58, 68, 102, 0.15)"})]})}):a.jsx(Ye,{children:"Fill out the Strike fields to view position chart"})})},kp=e=>{const{assetState:t}=e,n=g.useState("Long Call"),i=g.useState("1"),s=g.useState([]),r=g.useState(null),o=g.useState([]),p=g.useState([]),u=g.useState([]),[l]=t,[y]=n,[d]=i,[T]=p,[c]=u;return a.jsxs("div",{className:"BuilderDashboard",children:[a.jsx(_p,{assetState:t,strategyState:n,amountStrState:i,dateListState:s,chosenDateState:r,strikesDataArrState:o,chosenStrikesState:p,collateralDataArrState:u}),a.jsx(vp,{asset:l,strategy:y,amountStr:d,chosenStrikes:T,collateralDataArr:c})]})},aa=async(e,t,n,i)=>{const s=n%t;if(i+1>n-s&&(t=s),e.length>=t){await Promise.all(e),Ls(e);return}},wp=()=>new Promise(e=>e(null)),Cp=6,Sp=()=>{const{isConnected:e,account:t}=Q(),n=Y(),i=new $(...q(n,"TxBuilder"),W(n)),{data:s,error:r}=Oe(e&&[t,"useBuilderPositionsStructure"],async()=>{const o=[],p=await Mp(i,t),u=[];for(let l=0;l<p.length;l++){const y=p[l],{buildID:d,productType:T}=y.args,f={strategy:Fn.find(h=>de[h].key===T.toNumber()),buildId:d.toNumber(),childPositionsStructure:[]},b=Pp(n,d),m=[];for(const h in b)b[h].forEach(w=>{w.then(B=>{Dp(B,h,f.childPositionsStructure)}),m.push(w)});const x=Promise.all(m).then(()=>{o.push(f)});u.push(x),await aa(u,Cp,p.length,l)}return o},{refreshInterval:2e4});return r?(console.log(`Builder Positions error:
`,r),null):s},Pp=(e,t)=>{const{Hegic:n,Lyra_ETH:i,Lyra_BTC:s}=Ys(e),{OpenPositionByHegic:r}=n.filters,{OpenPositionByLyra:o}=i.filters,{OpenPositionByLyra:p}=s.filters,u=[n.queryFilter(r(t))],l=[i.queryFilter(o(t)),s.queryFilter(p(t))];return{Hegic:u,Lyra:l}},Mp=(e,t)=>{const{CreateBuild:n}=e.filters;return e.queryFilter(n(null,t)).then(s=>{const r=s.map(o=>Ap(o,e.provider));return Promise.all(r).then(o=>s.filter((u,l)=>{if(o[l])return!0}).reverse())})},Ap=(e,t)=>t.getBlock(e.blockNumber).then(n=>{const i=it[it.length-1],s=Date.now()-i-Un(1);if(n.timestamp*ae>s)return!0}),Dp=(e,t,n)=>{e.forEach(i=>{const s=i.args.tokenID;n.push({market:t,id:s.toNumber()})})},Ep=13,ia=e=>{const{isConnected:t,account:n}=Q(),i=Y(),s=Qe(),[r,o]=g.useState(void 0),p=()=>{r&&o(void 0)},u=new $(...q(i,"Hegic_PositionManager"),W(i)),{error:l,mutate:y}=Oe(t&&s&&[n,"useHegicPositions"],async()=>{const d=[],T=Lr(i),c=Bp(u,n),b=(await u.queryFilter(c)).map(m=>m.args.tokenId);if(b.length){const m=[];for(let x=0;x<T.length;x++){const h=T[x],_=Qn(i,h),w=Ip(h,b),B=_.queryFilter(w).then(P=>Promise.all(P.map(j=>Op(i,j,n,s).then(D=>{D&&d.push(D)}))));m.push(B),await aa(m,Ep,T.length,x)}}o(d??[]),e&&e()},{refreshInterval:tn});return g.useEffect(()=>{p(),n&&y()},[n,t]),l&&console.log(`Fetching Hegic positions error:
`,l),r},Bp=(e,t)=>({address:e.address,topics:[It("Transfer(address,address,uint256)"),null,Ot(t,32)]}),Ip=(e,t)=>{const n=[It("Acquired(uint256,(uint128,uint128),uint256,uint256,uint256,bytes[])"),t.map(s=>Ot(s,32))];return{address:e,topics:n}},Op=async(e,t,n,i)=>{const s=t.address,r=me(t.decode(t.data,t.topics));r.data=me(r.data);const o=new $(...q(e,"Hegic_OperationalTreasury"),W(e)),p=await o.lockedLiquidity(r.id);if(!(p.state!==0))return;const{asset:l,isCall:y,isSpread:d,isBuy:T,strikeScale:c}=Fp(e,s);Object.assign(r,{asset:l,isCall:y,isSpread:d,isBuy:T});const f=Us(r.data.amount,l),b=i[l],m=jp(r,c);Object.assign(r,{strike:m});const{premium:x,pnl:h}=await Lp(e,r,s),_=h.inPercentage===G(-100),w=p.expiration*ae,B=Np(r,b);return{id:Number(r.id),market:"Hegic",asset:l,amount:f,strike:m,isCall:y,isSpread:d,isBuy:T,premium:x,pnl:h,expiry:w,greeks:B,utils:{calcPnl:async()=>new Promise(j=>{j(h)})},actions:{close:async()=>{const j=Te();return o.connect(j).payOff(r.id,n)},isClosingDisabled:_}}},Fp=(e,t)=>{const n=jr(e),i=Object.keys(n).find(l=>n[l]===t),[s,r,o]=i.split("_"),p=s.includes("CALL"),u=s.includes("SPREAD");return{asset:o,isCall:p,isSpread:u,isBuy:!0,strikeScale:r}},jp=(e,t)=>{const n=Z(e.data.strike,Zi);let i=n/100n*BigInt(t);return e.isSpread&&(i=n),i},Lp=async(e,t,n)=>{const i=Qn(e,n),s=Ve(Z(t.positivepnl,St)),o=Z(BigInt(await i.payOffAmount(t.id)),St)+s,p={inUSDC:o,inPercentage:Ne(t.isBuy,o,s)};return{premium:s,pnl:p}},Np=(e,t)=>{const n={strike:e.strike,isCall:e.isCall,amount:e.data.amount};return{delta:on.calcDeltaByAssetPrice(n,t),vega:void 0,gamma:void 0,theta:void 0,rho:void 0}},sa=e=>{const{account:t,isConnected:n}=Q(),[i,s]=g.useState(void 0),r=()=>{i&&s(void 0)},o=Y(),p=Ee.getLyra(o),{error:u,mutate:l}=Oe(n&&[t,"useLyraPositions"],async()=>{const y=await p.positions(t);if(!y){s([]);return}const d=y.filter(Hp),T=[];for(let c=0;c<d.length;c++){const f=d[c];T.push(await Rp(o,f))}return s(T),e&&e(),T},{refreshInterval:tn});return g.useEffect(()=>{r(),t&&l().then(s)},[t,n]),u&&console.log(`Fetching Lyra positions error:
`,u),i},Rp=async(e,t)=>{const{id:n,strikePrice:i,isCall:s,isLong:r,size:o,expiryTimestamp:p}=me(t),u=p*ae,{TRADE_SLIPPAGE:l}=Bt,{asset:y,premium:d,pnl:T,greeks:c,collateral:f}=await Up(e,t);return{id:n,market:"Lyra",asset:y,amount:o,strike:i,isCall:s,isBuy:r,premium:d,collateral:f,pnl:T,expiry:u,greeks:c,utils:{calcPnl:async(m=t.size)=>t.trade(!t.isLong,ne.from(m),l).then(x=>{const h=BigInt(x.pnl()),_=Ne(r,h,d);return{inUSDC:h,inPercentage:_}})},actions:{close:async m=>{const x=ne.from(m),h={referrer:Kt};return t.close(x,l,h).then(_=>{if(_.isDisabled){Be(new Error(_.disabledReason));return}return Te().sendTransaction(_.tx)})},addToCollateral:async m=>{const x=f.inMarketToken+m;return t.trade(r,ne.from(0),l,{position:t,setToCollateral:ne.from(x)}).then(h=>(h.isDisabled&&Be(new Error(h.disabledReason)),Te().sendTransaction(h.tx)))},isAddingToCollateralDisabled:!(f!=null&&f.liquidationPrice)}}},Up=async(e,t)=>{const n=()=>t.marketName.split("-USDC")[0],i=()=>t.trades().reduce((l,y)=>(y=me(y),y.isBuy?l-y.premium:l+y.premium),0n),s=()=>{const{unrealizedPnl:p,unrealizedPnlPercentage:u}=me(t.pnl());return{inUSDC:p,inPercentage:u*100n}},r=()=>{const{delta:p,theta:u,rho:l}=t.liveOption(),{vega:y,gamma:d}=t.liveStrike(),T={delta:p,vega:y,gamma:d,theta:u,rho:l};for(const c in T){const f=T[c];T[c]=V(f.toBigInt(),X,3)}return T},o=async()=>{const p=t.collateral&&me(t.collateral);if(p)return Ee.waitFormatCollateral(e,p,n())};return{asset:n(),premium:i(),pnl:s(),greeks:r(),collateral:await o()}},Hp=e=>{const{size:t,expiryTimestamp:n}=me(e),i=t===0n,s=n*ae<Date.now();return!(i||s)},ra=(e,t,n)=>{const i=$t(e,"Rysk_Otoken");return new $(t,i,n?Te():W(e))};class $p extends Xe{constructor(){super("USDC"),this._waitDhvExposure=this._waitDhvExposure.bind(this),this._calcExpiredPremium=this._calcExpiredPremium.bind(this),this.getMarketToken=this.getMarketToken.bind(this),this.getIsExpired=this.getIsExpired.bind(this),this.getIsSellPremiumTooSmall=this.getIsSellPremiumTooSmall.bind(this),this.calcPremiumWithGreeks=this.calcPremiumWithGreeks.bind(this),this.waitFees=this.waitFees.bind(this)}async _waitDhvExposure(t,n){return new $(...q(t,"Rysk_AlphaPortfolioValuesFeed"),W(t)).netDhvExposure(Tn(["uint64","uint128","bool"],[n.expiration,n.strike,n.isPut])).then(s=>BigInt(s))}async _calcExpiredPremium(t,n,i){const s=new $(...q(t,"Rysk_MarginCalculator"),W(t)),r=this.getMarketToken(t),o=await s.getExpiredPayoutRate(n).then(u=>Z(BigInt(u),r.decimals)).catch(()=>null);return o===null?null:Se(i,o)}getIsExpired(t){return t.expiration*ae<Date.now()}getIsSellPremiumTooSmall(t,n){return xe(t)>>3n<=n}async calcPremiumWithGreeks(t,n,i,s,r,o){const p=!s,u=this.getMarketToken(t),l=this.getIsExpired(n);let y;if(l)y=this._calcExpiredPremium(t,n.address,i).then(f=>f===null?null:{delta:null,premiumInMarketToken:f});else{const f=new $(...q(t,"Rysk_BeyondPricer"),W(t)),b=await this._waitDhvExposure(t,n);y=f.quoteOptionPrice(n,i,p,b).then(async m=>{m=me(m);const{totalPremium:x,totalFees:h}=m;if(!o&&p&&this.getIsSellPremiumTooSmall(x,h))return null;const _=V(m.totalDelta,void 0,3),w=Ie(x+h,ze.SLIPPAGE,u.decimals),B=Z(w,u.decimals);return{delta:_,premiumInMarketToken:B}}).catch(()=>null)}const d=await y;if(d===null)return null;const{delta:T,premiumInMarketToken:c}=d;return Me(t,u.address,c).then(f=>{const b={marketToken:u,inMarketToken:c,inUSDC:f};return r?b:{premiumData:b,greeks:{delta:T,vega:void 0,gamma:void 0,theta:void 0,rho:void 0}}})}getOptionSeries(t,n,i,s,r=void 0,o=void 0){const p=ue(t,"USDC").address,u=ue(t,"WETH").address;return{expiration:Ce(n),strike:i,isPut:!s,strikeAsset:p,underlying:u,collateral:o??p,address:r}}async waitFees(t,n){const s=await(async()=>{const o=new $(...q(t,"Rysk_BeyondPricer"),W(t)),p=this.getMarketToken(t),u=(await o.feePerContract()).toBigInt();return Z(u,p.decimals)})();return Se(n,s)}async calcPnlWithGreeks(t,n,i,s,r,o){const p=this.calcPremiumWithGreeks(t,n,i,!r,!1,!0).then(h=>{if(h===null)return null;const{inUSDC:_,inMarketToken:w}=h.premiumData;return r||(h.premiumData.inUSDC=-_,h.premiumData.inMarketToken=-w),h}),u=this.waitFees(t,i),[l,y]=await Promise.all([p,u]);if(l===null)return null;const{premiumData:d,greeks:T}=l;T.delta=qn(T.delta,!n.isPut,r);const{inUSDC:c}=d,f=r&&c===0n,b=Se(i,o),m=f?s:c-b-y;return{pnl:{inUSDC:m,inPercentage:Ne(r,m,b)},greeks:T}}async validateOptionSeries(t,n,i){return new $(...q(t,"Rysk_OptionExchange"),W(t)).checkHash({...i,strike:le(i.strike,8)},i.strike,!n).then(r=>!!r).catch(r=>null)}}const we=new $p,qp=e=>{const t=Y(),{account:n,isConnected:i}=Q(),[s,r]=g.useState(void 0),o=()=>{s&&r(void 0)},p=new $(...q(t,"Rysk_OptionExchange"),W(t)),{error:u,mutate:l}=Oe(i&&[n,"useRyskPositions"],async()=>{const y=Kp(p,n),d=await Yp(p,y),T=Wp(t,d),f=Object.values(T).map(b=>Gp(t,b,n));await Promise.all(f).then(b=>b.filter(m=>m)).then(b=>{r(b??[])}),e&&e()},{refreshInterval:tn});return g.useEffect(()=>{o(),n&&l()},[n,i]),u&&console.log(`Fetching Rysk positions error:
`,u),s},Wp=(e,t)=>{const n={},{buyEvents:i,sellEvents:s}=t,r=[...i,...s],o=we.getMarketToken(e),p=async l=>await l.getTransactionReceipt().then(d=>{const T=_n(e,"Rysk_OptionRegistry"),c=d.logs.find(b=>b.address===T);if(!c)return null;const f=new Ea;try{return f.decode(["uint","uint"],c.data)[0].toBigInt()}catch{return null}});r.forEach(l=>{const{isBuy:y,optionAmount:d,premium:T,fee:c,series:f}=me(l.args),b=y?d:Ve(d),m=Z(T,o.decimals),x=y?Ve(m):m,h=Z(c,6),_=Pt(m+h,b),w=Se(_,b),B=y?d:0n,P=y?w:0n;n[f]?(n[f].amount+=b,n[f].premium+=x,n[f].amountSum+=B,n[f].contractValueSum+=P):n[f]={isBuy:y,amount:b,premium:x,amountSum:B,contractValueSum:P,seriesAddress:f,vaultIdPromise:p(l),event:l}});const u=l=>{const{amountSum:y,contractValueSum:d}=l;return y===0n?null:Pt(d,y)};return Object.values(n).forEach(l=>{l.amount<0n&&(l.amount=xe(l.amount),l.isBuy=!1),l.entryPrice=u(l)}),{...n}},Vp=async(e,t,n,i)=>{let s;return n?s=(await e.balanceOf(i)).toBigInt()>0n:s=t>0n,s},Gp=async(e,t,n)=>{const{seriesAddress:i,amount:s,premium:r,entryPrice:o,isBuy:p,vaultIdPromise:u}=t;if(!p)return null;const l=ra(e,i);if(!await Vp(l,s,p,n))return null;const d=l.getOtokenDetails().then(S=>{const[,C,,E,v,k]=S,F=BigInt(E),U=Number(v),M=!k,[,R]=Ct(e,C).symbol.split("W"),L=Z(F,8),H=U*ae;return{isCall:M,asset:R,strike:L,expiry:H}}),[T,{isCall:c,asset:f,strike:b,expiry:m}]=await Promise.all([u,d]),x=we.getOptionSeries(e,m,b,c,i),h=[e,x,s,r,p,o],_=we.calcPnlWithGreeks(...h),w=we.waitFees(e,s),[B,P]=await Promise.all([_,w]);if(!B)return null;const{pnl:j,greeks:D}=B,N=zp(...h),I=we.getIsExpired(x);return{market:"Rysk",id:i,asset:f,amount:s,strike:b,isCall:c,isBuy:p,premium:r,expiry:m,pnl:j,greeks:D,utils:{calcPnl:N},actions:{close:Zp(e,s,x,T,n),isClosingDisabled:I?!1:!await Qp(e,p,x)}}},Kp=(e,t)=>{const n=i=>({address:e.address,topics:[It(`Options${i?"Bought":"Sold"}(address,address,uint256,uint256,uint256)`),null,Ot(t,32)]});return{buyFilter:n(!0),sellFilter:n(!1)}},Yp=async(e,t)=>{const n=p=>p.map(l=>(l.args={...l.args,isBuy:!0},l)),{buyFilter:i,sellFilter:s}=t,[r,o]=await Promise.all([e.queryFilter(i).then(n),e.queryFilter(s)]);return{buyEvents:r,sellEvents:o}},zp=(e,t,n,i,s,r)=>async p=>(await we.calcPnlWithGreeks(e,t,p??n,i,s,r)).pnl,Zp=(e,t,n,i,s)=>{const{address:r}=n,o=le(t,8),p=we.getIsExpired(n),u=new $(...q(e,"Rysk_OpynController"),Te()),l=new $(...q(e,"Rysk_OptionExchange"),Te()),y=async c=>{const f=le(c,8),b=ra(e,r,!0);return(await b.allowance(s,l.address)).toBigInt()>=f?wp():b.approve(l.address,f)};return p?async()=>{const f=[{actionType:8,owner:re,secondAddress:s,asset:r,vaultId:0n,amount:o,index:0n,data:re}];return u.operate(f)}:async c=>{await y(c).then(m=>m==null?void 0:m.wait());const f=2,b=[{operation:ze.OPERATION_TYPES.RYSK,operationQueue:[{actionType:f,owner:re,secondAddress:s,asset:r,vaultId:0n,amount:c,optionSeries:ze.EMPTY_SERIES,indexOrAcceptablePremium:0n,data:re}]}];return l.operate(b)}},Qp=async(e,t,n)=>we.validateOptionSeries(e,!t,n),{PARENT_COMPLEX:Xp,PARENT_SIMPLE:Jp,CHILD:oa}=jn,eu=e=>{const t=g.useContext(Re),n=d=>()=>{hp(t,d)},i={Hegic:ia(n("Hegic")),Lyra:sa(n("Lyra")),Rysk:qp(n("Rysk"))},s=Object.values(i),r=s.every(d=>oe(d)),o=s.every(d=>!oe(d)),p=Sp();if(!p||r)return;const l=p.map(d=>{const{childPositionsStructure:T}=d,c=[],f=T.length===1;for(let b=0;b<T.length;b++){const{id:m,market:x}=T[b],h=i[x];if(!h)return;const _=h.findIndex(B=>B.id===m),w=h[_];w&&(c.push(w),h[_].role=oa)}if(c.length)if(f){const b={...c[0]};return{...d,...b,role:Jp}}else{const b=au(c),m=c[0].asset;return{...d,childPositions:c,asset:m,...b,role:Xp}}}).filter(d=>!oe(d));return o&&e&&e(),nu(l,i)},tu=e=>{if(!e.length)return null;const t={premium:0n,collateral:{inUSDC:0n},pnl:{inUSDC:0n},greeks:{},isTotal:!0},n=e.reduce((r,o,p)=>{var l;const u=xt(r,o,["premium","pnl.inUSDC"]);return u.greeks=$n(r.greeks,o.greeks),(l=o.collateral)!=null&&l.inUSDC&&(u.collateral.inUSDC+=o.collateral.inUSDC),u},t),i=()=>Ne(null,n.pnl.inUSDC,n.premium),s=e.length===1;return n.pnl.inPercentage=s?e[0].pnl.inPercentage:i(),n},nu=(e,t)=>{const n=[],i=[];Object.values(t).forEach(p=>{p&&i.push(...p)});const r=i.filter(p=>p.role!==oa).map(p=>{const{isCall:u,isSpread:l,isBuy:y}=p;return{strategy:`${l?u?"Bull":"Bear":y?"Long":"Short"} ${u?"Call":"Put"} ${l?"Spread":""}`.trim(),...p}});n.push(...e,...r);const o=tu(i);return o&&n.push(o),n},au=e=>{const t=e.reduce((n,i)=>{const s=xt(n,i,["amount","premium","pnl.inUSDC"]);return s.greeks=$n(n.greeks,i.greeks),s.collaterals=i.collateral?[...n.collaterals,i.collateral]:n.collaterals,s},{amount:0n,premium:0n,collaterals:[],pnl:{inUSDC:0n},greeks:{delta:0,vega:0,gamma:0,theta:0,rho:0}});return t.pnl.inPercentage=Ne(null,t.pnl.inUSDC,t.premium),t.expiry=e[0].expiry,t};const iu=({position:e,openCloseModal:t})=>{const[n]=g.useContext(Re);if(!e.actions)return null;const{isClosingDisabled:i}=e.actions,s=n.closing.find(o=>o.id===e.id),r=()=>{t(e)};return a.jsx("div",{className:"BuilderPositionCloseBtn",children:Yt(a.jsx(ge,{className:"close-btn",type:"micro",isDisabled:i,onClick:r,children:"Close"}),s)})},su=({handleClick:e})=>a.jsx("button",{onClick:e,className:"shrink-0",children:a.jsx("img",{src:ea,alt:"Update Collateral"})}),pa=({market:e,strikeParams:t,isSmall:n})=>{const{strike:i,isCall:s,isBuy:r,expiry:o}=t,p=en[e].circled,u=r?Kn:Yn,l=fn(o,"dMMMyy").toUpperCase(),y=Math.floor(V(i)),T=`${l}-${y}${s?"C":"P"}`;return a.jsxs("div",{className:O("Brief","SeriesBrief",n&&"small"),children:[a.jsxs("div",{className:"Brief__icons",children:[a.jsx("div",{className:"Brief__icon",children:a.jsx("img",{src:p,alt:`${e}`})}),a.jsx("div",{className:"Brief__icon",children:a.jsx("img",{src:u,alt:`${r?"Long":"Short"}`})})]}),a.jsx("div",{className:"SeriesBrief__string",children:T})]})},{PARENT_COMPLEX:ru,CHILD:ou}=jn,pu={strategy:"Strategy",amount:"Amount",series:"Series",collateral:a.jsx("span",{"data-tooltip-id":"BuilderForm_CollateralTooltip",className:"tip",children:"Collateral"}),pnl:"PnL",liqPrice:"Liq. Price",delta:"Delta",vega:"Vega",gamma:"Gamma",theta:"Theta",rho:"Rho",closeBtn:""},uu=({positions:e,openCollateralModal:t,openCloseModal:n,isLoadingComplete:i})=>{const{isConnected:s}=Q(),r=d=>{const{role:T,isOpening:c,isTotal:f}=d,b=T===ru,m=T===ou,x=()=>{if(m)return"";if(f)return ee("Total",!1,!0);const{strategy:S}=d,C=de[S],E=C==null?void 0:C.color,v=a.jsx("svg",{className:"icon-dropdown",xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",children:a.jsx("path",{d:"M2 5L6.5 9L11 5",stroke:E,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});return a.jsxs("span",{className:"flex items-center gap-x-4",style:{color:E},children:[c&&a.jsx(ke,{}),S,b&&v]})},h=()=>{const{asset:S,amount:C}=d;if(C)return a.jsx(ie,{symbol:S,children:V(C)})},_=()=>{const{market:S,strike:C}=d;if(b)return a.jsx("div",{className:"BuilderPositionsTable__strike-msg",children:ee("Click to see strikes")});if(C)return a.jsx(pa,{market:S,strikeParams:d})},w=()=>{const{premium:S}=d,C=S<0n,E=J(xe(S)),v=`${C?"–":"+"}$${E}`;return a.jsx("span",{className:O({positive:!C,negative:C}),children:v})},B=()=>{const{collateral:S,collaterals:C,actions:E}=d;if(!S&&(!C||!C.length))return;const v=k=>f?k.inUSDC?a.jsxs("span",{children:["$",J(k.inUSDC)]}):void 0:a.jsx(ie,{symbol:k.marketToken.symbol,children:Fe(k.inMarketToken,k.marketToken.isStable)},k.isBase);return b?P(C,v):E&&!E.isAddingToCollateralDisabled?a.jsxs("div",{className:"flex items-center gap-x-3",children:[v(S),a.jsx(su,{handleClick:()=>t(d)})]}):v(S)},P=(S,C)=>{const E={base:{},stable:{}},v=F=>{const{isBase:U}=F,M=U?"base":"stable";E[M]={...xt(E[M],F,["inMarketToken","inUSDC"]),isBase:U}};S.forEach(v);const k=Object.values(E).map(C);return a.jsx("div",{className:"flex flex-col gap-y-5",children:k})},j=()=>{if(!d.pnl)return;const{inUSDC:S,inPercentage:C}=d.pnl,E=S<0?Tt.negative:"",v=xe(C),k=V(v)<1?1:0,F=J(v,k);return a.jsxs("div",{className:O({positive:S>0n,negative:S<0n,muted:S===0n}),children:[a.jsx("span",{style:{color:Je,marginRight:5},children:_t(S)}),`(${E}${F}%)`]})},D=()=>{const{collateral:S}=d;if(!(!S||!S.liquidationPrice))return`$${J(S.liquidationPrice)}`},N=()=>{const{greeks:S}=d;if(f)for(const C in S)S[C]||(S[C]=void 0);return S},I=()=>b?d.childPositions.map(r):void 0,A=()=>c?"":a.jsx(iu,{openCloseModal:n,position:d});return{id:`${d.buildId}_${d.id}`,strategy:x(),amount:h(),series:_(),premium:w(),collateral:B(),pnl:j(),liqPrice:D(),...N(),children:I(),closeBtn:A(),omittedKeys:(b||f)&&["series","closeBtn"]}},o=pu,p=e==null?void 0:e.map(r),u={titleData:o,itemsData:p},l=[{name:"Active",isActive:!0}],y=()=>{let d;return s?!e||!i?d="Loading...":e.length||(d="No open positions"):d="No wallet connected",a.jsx("div",{className:"App-box BuilderPositionsTable__message",style:i?{}:{marginBottom:10},children:ee(d)})};return a.jsxs("div",{className:"BuilderPositionsTable",children:[a.jsxs("div",{className:"BuilderPositionsTable__header",children:[a.jsx(Rt,{links:l,type:"border"}),ee("*The table displays estimated PnL values. To view the actual PnL, click on the «Close» button",!0)]}),e!=null&&e.length?a.jsxs(a.Fragment,{children:[!i&&y(),a.jsx(Gn,{structureData:u})]}):y()]})};const ua=e=>{const{value:t,setValue:n,maxValue:i,placeholder:s,isDisabled:r,isFocused:o,hasError:p,formatInputStringFns:u=[We,ve],title:l,presentedValue:y,presentedValueTitle:d,iconData:T,unitStr:c}=e,f=mt([t,n],{maxValue:i,placeholder:s,isDisabled:r,isFocused:o},u),b=O(e.className,f.hasFocus&&"hlight",p&&"error",r&&"disabled"),m=u[0];return a.jsxs("div",{className:O("InputFamily InputComplexNumeric",b),onClick:()=>{f.ref.current.focus()},children:[a.jsxs("div",{className:"InputComplexNumeric__header",children:[a.jsx("div",{className:"InputComplexNumeric__title",children:l}),y&&a.jsxs("button",{className:"InputComplexNumeric__presented-value",onClick:x=>{x.stopPropagation(),n(m(y))},children:[a.jsxs("span",{className:"InputComplexNumeric__presented-value-title",children:[d,":"]}),m(y)]}),T&&a.jsx("div",{className:"InputComplexNumeric__icon",children:a.jsx("img",{src:T.src,alt:T.alt??"icon"})})]}),a.jsxs("div",{className:"InputComplexNumeric__body",children:[a.jsx("div",{className:"InputComplexNumeric__input-wrapper",children:f.node}),a.jsxs("div",{className:"InputComplexNumeric__helper",children:[i&&a.jsx("button",{className:"InputComplexNumeric__max-btn",disabled:r,onClick:x=>{x.stopPropagation(),n(We(i))},children:"Max"}),c&&a.jsx("div",{className:"InputComplexNumeric__unit",children:c})]})]})]})},lu=({position:e,isOpen:t,setIsOpen:n})=>{var h;const i=Y(),[s,r]=g.useState(""),[o,p]=g.useState(!1),[u,l]=g.useState(null),y=((h=e==null?void 0:e.collateral)==null?void 0:h.marketToken)??{symbol:"ETH"},d=gn(y.symbol),T=ta(y==null?void 0:y.symbol,_n(i,"Lyra_Quoter"),Ge(s),l),c=()=>{l(null),T.check()};if(g.useEffect(()=>{l(null)},[s]),st(()=>{s&&c()},ct,[s]),!e||!e.collateral)return null;const f=()=>{if(!s)return"Enter Amount";if(u===null)return"Please, wait...";if(o)return u?"Updating Collateral...":`Approving ${y.symbol}...`},b=()=>!f(),m=()=>{const _=u?"Add Collateral":`Approve ${s} ${y.symbol}`;return f()??_},x=()=>{if(!u){T.approve(p,c);return}const _=Ge(s);yt(i,e.actions.addToCollateral,[_],{text:`${s} ${y.symbol} added.`,node:a.jsxs(ie,{symbol:y.symbol,children:[s," added to collateral."]})},p,()=>n(!1))};return a.jsxs(dt,{className:"PositionCollateralModal",isOpen:t,setIsOpen:n,reset:()=>{r(""),l(null)},children:[a.jsx("h1",{children:"Edit Collateral"}),a.jsx(ua,{value:s,setValue:r,title:"Add Amount",iconData:{src:d},isFocused:!0}),a.jsx(ge,{isDisabled:!b(),onClick:x,children:m()})]})};const yu=({position:e,isOpen:t,setIsOpen:n})=>{const i=Y(),[s,r]=g.useState(""),[o,p]=g.useState(void 0),[u,l]=g.useState(!1),[y,d]=g.useContext(Re),T=()=>{const k=rs(e.amount);r(k)},c=k=>{p(void 0),e.utils.calcPnl(k).then(p)};if(g.useEffect(()=>{t&&e&&T()},[t]),st(()=>{e&&s&&c(Ge(s))},ct,[s]),!e||!e.actions)return null;const f=k=>{if(k)y.closing.push({id:e.id,market:e.market});else{const F=y.closing.findIndex(U=>U.id===e.id);F!==-1&&y.closing.splice(F,1)}d({...y})},{close:b}=e.actions,{asset:m,amount:x,strategy:h,isCall:_,isBuy:w}=e,B=h??`${w?"Long":"Short"} ${_?"Call":"Put"}`,P=a.jsxs(ie,{symbol:m,children:[s," ",B," closed."]}),D={text:`${s} ${m} ${B} closed.`,node:P},N=Ge(s),I=o==null?void 0:o.inUSDC,A=()=>{yt(i,b,[N],D,l,()=>{f(!0),n(!1)})},S=()=>{if(!s)return"Enter Amount";if(u)return"Closing Strategy..."},C=()=>S()??"Close Strategy",E=()=>!S(),v=gn(m);return a.jsxs(dt,{className:"ClosePositionModal",isOpen:t,setIsOpen:n,reset:()=>{r(""),p(void 0)},children:[a.jsxs("div",{className:"ClosePositionModal__body",children:[a.jsx("h1",{children:"Close Strategy"}),a.jsxs("div",{className:"info-row",children:[a.jsx("div",{className:"info-row__title",children:"Series"}),a.jsx("div",{className:"info-row__value",children:a.jsx(pa,{market:e.market,strikeParams:e})})]}),e.market!=="Hegic"&&a.jsx(ua,{value:s,setValue:r,title:"Amount",iconData:{src:v},isFocused:!0,maxValue:V(x)})]}),a.jsxs("div",{className:"ClosePositionModal__footer",children:[a.jsxs("div",{className:"info-row",children:[a.jsx("div",{className:"info-row__title",children:"PnL"}),a.jsx("div",{className:O("info-row__value",{positive:I>0n,negative:I<0n}),children:ft(()=>Qo(I),oe(I))})]}),a.jsx(ge,{isDisabled:!E(),onClick:A,children:C()})]})]})},du=()=>{const{account:e}=Q(),[t,n]=g.useState(!1),i=()=>{t||n(!0)};g.useEffect(()=>{n(!1)},[e]);const s=eu(i),r=s==null?void 0:s.sort((b,m)=>m.isTotal?-1:b.isTotal?1:Hn(b,m,"pnl.inUSDC",-1)),[o,p]=g.useState(null),[u,l]=g.useState(!1),[y,d]=g.useState(!1),T=b=>{p(b),l(!0)},c=b=>{p(b),d(!0)},[f]=g.useContext(Re);return f.opening&&r&&[...f.opening,...r],a.jsxs("div",{className:"BuilderPositions",children:[a.jsx("h1",{className:"BuilderPositions__title",children:"My Positions"}),a.jsx(uu,{positions:r,isLoadingComplete:t,openCollateralModal:T,openCloseModal:c}),a.jsx(lu,{isOpen:u,setIsOpen:l,position:o}),a.jsx(yu,{isOpen:y,setIsOpen:d,position:o})]})},cu=()=>{const e=jt("asset","ETH"),[t,n]=g.useState({});return g.useEffect(()=>{n(na())},[]),a.jsx(Re.Provider,{value:[t,n],children:a.jsxs("div",{className:"Builder",children:[a.jsx(kp,{assetState:e}),a.jsx(du,{})]})})};const mu=()=>{const e=ia(),t=sa(),{ETH:n,BTC:i}=Qe()??{};return console.log(n,i),g.useEffect(()=>{e&&console.log(e),t&&console.log(t)},[e,t]),G(1),G(1,8),Pn(G(1),2),xe(G(-1)),Ve(G(1)),Ve(G(-1)),Gt(G(1,10),10,8),le(G(1),8),Z(G(1,8),8),V(1000000000000000000n),V(1000n,3),J(G(1e3)),J(G(1e3),0),J(G(1e3),5),J(G(1e3,8),2,8),a.jsxs("div",{className:"Sandbox",children:[a.jsx("h3",{className:"text-center",children:"Page for calculations testing"}),a.jsxs("p",{children:["Default Decimals: ",a.jsx("span",{style:{color:"white"},children:X})]}),a.jsx("div",{style:{margin:"10px 0"},children:t==null?void 0:t.map(s=>{const r=s.premium,o=J(r);return a.jsxs("div",{children:[o," ",a.jsxs("span",{className:"muted",children:["(",s.asset,")"]})]},s.id)})})]})};const Tu=()=>{Y();const{account:e,isConnected:t}=Q(),n=Qe();return g.useEffect(()=>{},[e]),g.useEffect(()=>{},[n]),g.useEffect(()=>{},[]),a.jsxs("div",{className:"RyskSandbox",children:[a.jsx("h1",{children:"Rysk.Finance SDK"}),a.jsx("div",{className:"text-center muted_light",children:"Uncomment needed functions and watch console"})]})},fu=()=>{const e=rt(),t=Ha();return g.useEffect(()=>{e.pathname.endsWith("terminal")&&t("/terminal/builder")},[e.pathname]),a.jsxs($a,{children:[a.jsxs(Ae,{path:"/terminal",element:a.jsx(Ss,{}),children:[a.jsx(Ae,{path:"builder",element:a.jsx(cu,{})}),a.jsx(Ae,{path:"margin-trading",element:a.jsx("div",{children:"Margin Trading"})})]}),a.jsx(Ae,{path:"/sandbox",element:a.jsx(mu,{})}),a.jsx(Ae,{path:"/rysk-sandbox",element:a.jsx(Tu,{})}),a.jsx(Ae,{path:"*",element:a.jsx(qa,{to:ks,replace:!0})})]})},bu=()=>a.jsxs("div",{className:"Tooltips",children:[a.jsx(fe,{id:"Tooltip_default"}),a.jsx(fe,{place:"bottom-end",id:"Tooltip_bottom-end"})]});const hu="/sf_draft/assets/Discord-f7d998b5.svg",xu="/sf_draft/assets/Gitbook-c728118d.svg",gu="/sf_draft/assets/Github-d50e83d6.svg",_u="/sf_draft/assets/Mirror-095740c8.svg",vu="/sf_draft/assets/Dune-cc12c29c.svg",ku="/sf_draft/assets/Twitter-5cfdd2f4.svg",wu=()=>{const e=[{name:"Discord",icon:hu,url:"https://discord.gg/5DGZ7rzSfS"},{name:"Gitbook",icon:xu,url:"https://docs.sharwa.finance/"},{name:"Github",icon:gu,url:"https://github.com/SharwaFinance"},{name:"Mirror",icon:_u,url:"https://mirror.xyz/sharwa-finance.eth"},{name:"Dune",icon:vu,url:"https://dune.com/sharwa_finance/aggregator"},{name:"Twitter",icon:ku,url:"https://twitter.com/SharwaFinance"}];return a.jsx("footer",{className:"Footer",children:a.jsxs("div",{className:"Footer__content _container",children:[a.jsx(bn,{}),a.jsx("div",{className:"Footer__smedia-items",children:e.map(t=>a.jsx("a",{className:"Footer__smedia-item",target:"_blank",rel:"noreferrer",href:t.url,children:a.jsx("img",{src:t.icon,alt:`${t.name} logo`})},t.name))})]})})};const Cu=({children:e})=>a.jsx("div",{className:"GlobalStickyMessage",children:e}),Su=()=>{const e=Y(),{data:t,error:n}=Oe("useTokenPricesConfig",{fetcher:async()=>{const i={},s=[];return qt.forEach(r=>{s.push(ls(e,r).then(o=>{i[r]=o}))}),await Promise.all(s),i},refreshInterval:60*1e3,refreshWhenHidden:!0,revalidateOnFocus:!1});return n?(console.log(n),null):t},Pu=({children:e})=>{const t=Su();return a.jsx(On.Provider,{value:t,children:e})};function Mu(){const{chain:e}=ka(),t=()=>a.jsxs(a.Fragment,{children:[a.jsx(Ts,{}),a.jsx("main",{className:"_container",children:a.jsx(fu,{})}),a.jsx(wu,{}),a.jsx(Cu,{children:"Sharwa.Finance is in alpha. Use at your own risk"})]}),n=()=>a.jsx(xs,{chainId:e.id});return e!=null&&e.unsupported?n():t()}function Au(){return a.jsx(Wa,{fallbackRender:null,children:a.jsxs(a.Fragment,{children:[a.jsx(fs,{}),a.jsx(bu,{}),a.jsx(va,{config:us(),children:a.jsx(Ta,{children:a.jsx(vs,{children:a.jsx(Pu,{children:a.jsx(Mu,{})})})})})]})})}ca.createRoot(document.getElementById("root")).render(a.jsx(qe.StrictMode,{children:a.jsx(Au,{})}));
