import{r as n}from"./react-0beb1837.js";import{e as v}from"./@xobotyi-c2000ea3.js";var d=function(){},y=typeof window<"u";function S(t,e){e===void 0&&(e=0);var r=n.useRef(!1),u=n.useRef(),o=n.useRef(t),l=n.useCallback(function(){return r.current},[]),s=n.useCallback(function(){r.current=!1,u.current&&clearTimeout(u.current),u.current=setTimeout(function(){r.current=!0,o.current()},e)},[e]),i=n.useCallback(function(){r.current=null,u.current&&clearTimeout(u.current)},[]);return n.useEffect(function(){o.current=t},[t]),n.useEffect(function(){return s(),i},[e]),[l,i,s]}function _(t,e,r){e===void 0&&(e=0),r===void 0&&(r=[]);var u=S(t,e),o=u[0],l=u[1],s=u[2];return n.useEffect(s,r),[o,l]}var E=function(t,e,r){if(!y)return[e,d,d];if(!t)throw new Error("useLocalStorage key may not be falsy");var u=r?r.raw?function(c){return c}:r.deserializer:JSON.parse,o=n.useRef(function(c){try{var f=r?r.raw?String:r.serializer:JSON.stringify,a=localStorage.getItem(c);return a!==null?u(a):(e&&localStorage.setItem(c,f(e)),e)}catch{return e}}),l=n.useState(function(){return o.current(t)}),s=l[0],i=l[1];n.useLayoutEffect(function(){return i(o.current(t))},[t]);var m=n.useCallback(function(c){try{var f=typeof c=="function"?c(s):c;if(typeof f>"u")return;var a=void 0;r?r.raw?typeof f=="string"?a=f:a=JSON.stringify(f):r.serializer?a=r.serializer(f):a=JSON.stringify(f):a=JSON.stringify(f),localStorage.setItem(t,a),i(u(a))}catch{}},[t,i]),g=n.useCallback(function(){try{localStorage.removeItem(t),i(void 0)}catch{}},[t,i]);return[s,m,g]};const h=E;function C(){var t=n.useState(v()),e=t[0],r=t[1];return n.useEffect(function(){if(!(typeof e<"u")){var u=requestAnimationFrame(function(){r(v())});return function(){return cancelAnimationFrame(u)}}},[]),e}export{_ as a,h as b,C as u};
