import{j as a,r as g,a as Ue}from"./node_modules/react-b979d401.js";import{a as ja,c as La}from"./node_modules/react-dom-c0f3f6a6.js";import{L as Na,H as Ra}from"./node_modules/react-router-dom-7b89c0db.js";import{c as M}from"./node_modules/classnames-2be43c3e.js";import{c as Ua,u as Ha,a as qa,b as $a,d as Q,e as Va,f as Wa,W as Ga,g as Ka}from"./node_modules/wagmi-9a077251.js";import{p as Ya,I as za,q as Qa,r as Za,t as Xa}from"./node_modules/@wagmi-3173449d.js";import{Q as qt,k as Ja,h as ei}from"./node_modules/react-toastify-745789d2.js";import{b as Tt,O as ti,a as ni,d as ai,e as ze,f as ii}from"./node_modules/react-router-ca37d440.js";import{u as si,a as ri,b as oi,c as He,d as pi,e as ft}from"./node_modules/react-use-400d2e16.js";import{S as ui,c as li}from"./node_modules/react-select-e8c917f3.js";import{W as yi}from"./node_modules/react-tooltip-c088b562.js";import{E as di}from"./node_modules/react-error-boundary-e90c37cb.js";import{R as $t}from"./node_modules/react-modal-34047cda.js";import{i as ae,u as Pe}from"./node_modules/swr-ad69e3dd.js";import{B as ge,H as ci,W as mi,C as $,I as Ti,J as bt,K as Xe}from"./node_modules/@ethersproject-8d169c9e.js";import{_ as fi}from"./node_modules/react-fast-marquee-e8f46724.js";import{I as bi}from"./node_modules/react-icons-18752bc3.js";import{g as ht,c as xt,d as hi,f as Vt,a as Wt,r as Sn,b as Pn,e as xi,h as gi}from"./node_modules/@premia-d56ed90d.js";import{f as We}from"./node_modules/date-fns-003c5fae.js";import{A as _i,a as vi}from"./node_modules/@szhsin-37c522b7.js";import{r as Ci}from"./node_modules/swiper-4105a6d8.js";import{u as Gt}from"./node_modules/ethers-b4767e0b.js";import{A as re}from"./node_modules/@uniswap-3c81f8d2.js";import{S as wi}from"./node_modules/rc-slider-25b9c01d.js";import{L as ki}from"./node_modules/@lyrafinance-5dd2ac78.js";import"./node_modules/cross-fetch-11000567.js";import{R as Si,A as Pi,X as Mi,Y as Ai,T as Ei,a as Di,b as bn,C as Bi}from"./node_modules/recharts-2c8ebe8e.js";import"./node_modules/scheduler-765c72db.js";import"./node_modules/@remix-run-06a34d2a.js";import"./node_modules/@tanstack-c6bbe587.js";import"./node_modules/use-sync-external-store-a1b162f1.js";import"./node_modules/eventemitter3-2f4c80a1.js";import"./node_modules/@noble-efb69e2c.js";import"./node_modules/zustand-33f96c56.js";import"./node_modules/isows-320f3033.js";import"./node_modules/vite-plugin-node-polyfills-cb3ca294.js";import"./node_modules/clsx-1229b3e0.js";import"./node_modules/copy-to-clipboard-de72d289.js";import"./node_modules/toggle-selection-93f4ad84.js";import"./node_modules/@xobotyi-c2000ea3.js";import"./node_modules/@babel-0a888fcc.js";import"./node_modules/@emotion-3ff7488d.js";import"./node_modules/hoist-non-react-statics-23d96a9a.js";import"./node_modules/react-is-e8e5dbb3.js";import"./node_modules/stylis-79144faa.js";import"./node_modules/@floating-ui-1f2e0c5a.js";import"./node_modules/use-isomorphic-layout-effect-910d0b51.js";import"./node_modules/memoize-one-297ddbcb.js";import"./node_modules/prop-types-c8be5997.js";import"./node_modules/warning-883c7a3c.js";import"./node_modules/exenv-9baed461.js";import"./node_modules/react-lifecycles-compat-69166f5c.js";import"./node_modules/bech32-41b3abd9.js";import"./node_modules/js-sha3-ade8b073.js";import"./node_modules/bn.js-27e5e3c1.js";import"./node_modules/hash.js-db676fda.js";import"./node_modules/minimalistic-assert-7cc78341.js";import"./node_modules/inherits-2c87d58f.js";import"./node_modules/aes-js-63e6d53d.js";import"./node_modules/scrypt-js-711c64fd.js";import"./node_modules/react-transition-state-6c1bd24a.js";import"./node_modules/jsbi-a35364a5.js";import"./node_modules/tiny-invariant-bee4f299.js";import"./node_modules/decimal.js-light-6fe16ef2.js";import"./node_modules/big.js-da9df5c5.js";import"./node_modules/toformat-adc1203b.js";import"./node_modules/rc-util-3fdedbc0.js";import"./node_modules/optimism-b75d32e9.js";import"./node_modules/@wry-dfc42599.js";import"./node_modules/ts-invariant-d7b1ef22.js";import"./node_modules/tslib-c8b1efb7.js";import"./node_modules/graphql-tag-51d2f030.js";import"./node_modules/graphql-6a9502bd.js";import"./node_modules/zen-observable-ts-47d5f8bb.js";import"./node_modules/symbol-observable-ea67d9ce.js";import"./node_modules/react-resize-detector-40339bda.js";import"./node_modules/lodash-e099a798.js";import"./node_modules/react-smooth-634b6c16.js";import"./node_modules/fast-equals-a0711cdd.js";import"./node_modules/victory-vendor-5e3e398c.js";import"./node_modules/d3-scale-4cce9527.js";import"./node_modules/internmap-7949acc8.js";import"./node_modules/d3-array-7d9b19f9.js";import"./node_modules/d3-time-format-aa787c71.js";import"./node_modules/d3-time-9ce187c0.js";import"./node_modules/d3-interpolate-8fa1f6ff.js";import"./node_modules/d3-color-6502c434.js";import"./node_modules/d3-format-ffdb8652.js";import"./node_modules/recharts-scale-170b47f7.js";import"./node_modules/d3-shape-9e788a4f.js";import"./node_modules/d3-path-41c4cb36.js";import"./node_modules/reduce-css-calc-98f203c9.js";import"./node_modules/css-unit-converter-9e08bb2c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Oi="/sf_draft/assets/Logo-78374f46.svg",Mn=({className:e})=>a.jsx("div",{className:M("Logo",e),children:a.jsx("a",{className:"Logo__link",href:"/index.html",children:a.jsx("img",{src:Oi,alt:"Sharwa.Finance"})})});const Kt=({className:e,links:t,type:n})=>{const s=M(e,n&&`Links_${n}`);return a.jsx("div",{className:M("Links",s),children:t.map((i,o)=>{var l;const r=M("Links__item",i.isActive&&"active");return((l=i.to)==null?void 0:l.startsWith("http"))?a.jsx("a",{className:r,href:i.to,rel:"noreferrer",target:"_blank",children:i.name},i.to):a.jsx(Na,{to:i.to,className:r,disabled:i.isDisabled,onClick:i.isDisabled&&(y=>y.preventDefault()),children:i.name},i.to??o)})})};const An=e=>{const[t,n]=g.useState(!1),s=g.useCallback(()=>{document.removeEventListener("click",s),n(!1),e&&e()},[]);return{isOpen:t,openPopup:()=>{t||(n(!0),setTimeout(()=>{document.addEventListener("click",s)},10))},closePopup:s}},Ii="/sf_draft/assets/wallet-fce3adf9.svg",Fi="/sf_draft/assets/link-c9833cec.svg",ji="/sf_draft/assets/cross_white-7e20b14c.svg",Li="/sf_draft/assets/Arbitrum-7db65e18.svg",Ni="/sf_draft/assets/Arbitrum-7db65e18.svg",de=42161,gt=10,Yt=[de],zt={[de]:{name:"Arbitrum",icon:Li},[gt]:{name:"Optimism",icon:Ni,isDisabled:!0}},Ri=e=>{let t=e.reason??e.message;return t==="Internal JSON-RPC error."&&(t=e.data.message),t},Ui=e=>e.includes("User rejected the request")?"User rejected the request.":e.includes("user rejected transaction")?"User rejected transaction.":e.includes("Request of type 'wallet_switchEthereumChain' already pending")?"Switching network request is already pending.":e.includes("Connector already connected")?"Wallet is already connected.":e.includes("Already processing eth_requestAccounts")?"Please, log in to your wallet account.":e.includes("Too little received")?"Slippage set too low. Please consider increasing it for successful strategy purchase.":e.includes("Pausable: paused")?`Rysk system is currently paused.
Please try again shortly.`:e,xe=e=>{if(typeof e!="bigint")throw new TypeError(`Invalid BigInt: ${e}`)},En=e=>{if(typeof e!="number"&&typeof e!="string")throw new TypeError(`Invalid amount: ${e}`)},Hi=e=>{if(typeof e!="string")throw new TypeError(`Invalid String: ${e}`)},qi=(e,t,n)=>{t=Dn(t);const s=Bn(e)+"/tx/"+n;console.log(t.text,`
`,s),qt.success(a.jsxs("div",{children:[a.jsx("div",{children:t.node}),a.jsx("br",{}),n&&a.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:"View transaction"})]}))},Dn=e=>{if(typeof e=="string"){const t=e;e={text:t,node:t}}return e},$i=e=>{e=Dn(e),console.log(e.text),qt.success(e.node)},Be=(e,t)=>{const n=Ri(e),s=Ui(n);console.error(e),qt.error(a.jsx("div",{children:s})),t&&t(!1)},_t=(e,t,n=[],s,i,o)=>(i&&i(!0),t(...n).then(r=>{console.log("Submitting:",r),r.wait().then(p=>{qi(e,s,r.hash),i&&i(!1),o&&o(p)},p=>{Be(p,i)})},r=>{Be(r,i)})),Vi=()=>{const e=[Qa];if(e.length!==Yt.length)throw new Error("Invalid number of wagmi chains.");const{chains:t,publicClient:n,webSocketPublicClient:s}=Ya(e,[Za()]);return Ua({autoConnect:!0,publicClient:n,webSocketPublicClient:s,connectors:[new za({chains:t,options:{name:"Injected",shimDisconnect:!0}})]})},Bn=e=>{switch(e){case de:return"https://arbiscan.io";case gt:return"https://optimistic.etherscan.io";default:return"https://etherscan.io"}};const _e=g.forwardRef(function({children:t,className:n,style:s,isDisabled:i,onClick:o,type:r},p){const u=M(n,r&&`Button_${r}`),l=r==="complex";return a.jsx("button",{className:M("Button",u),ref:p,disabled:i,onClick:o,"data-text":t,style:s,children:l?a.jsx("span",{children:t.toString()}):t})}),On=g.createContext(null),Wi=({children:e})=>{const{godEyeAddress:t}=Ki();return a.jsx(On.Provider,{value:t,children:e})},Gi="AEZAKMI=",X=()=>{var i;const e=g.useContext(On),{address:t,isConnected:n}=Ha();return{account:(i=e??t)==null?void 0:i.toLocaleLowerCase(),isConnected:n}},Ki=()=>{const[e,t]=g.useState(),n=Tt(),s=o=>{t(o),console.log("GOD EYE MODE ENABLED:",o)},i=o=>{t(null),console.log(`GOD EYE MODE DISABLED${o?` (${o})`:""}`)};return g.useEffect(()=>{const o=n.pathname.split("/"),r=o[o.length-1];if(r.startsWith(Gi)){const p=r.split("=")[1];Xa(p)?s(p):i("Invalid wallet address")}},[n.pathname]),{godEyeAddress:e}};function In(){const{connect:e,connectors:t}=qa({onError:i=>{Be(i)}}),{disconnect:n}=$a(),s=t[0];return{connectWallet:()=>e({connector:s}),disconnectWallet:n}}const Yi=()=>{const{isOpen:e,openPopup:t,closePopup:n}=An(),s=M(e&&"open"),i=Q(),{account:o,isConnected:r}=X(),{connectWallet:p,disconnectWallet:u}=In(),[,l]=si(),y=m=>m.slice(0,9)+"..."+m.slice(-15),d=()=>a.jsx(_e,{type:"complex",onClick:p,children:"Connect Wallet"}),c=()=>a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"Wallet__header",onClick:()=>{t(),l(o)},children:a.jsxs("div",{className:"Wallet__address",children:[a.jsx("img",{src:Ii,alt:"Wallet icon"}),a.jsx("span",{children:y(o)})]})}),a.jsxs("div",{className:"Wallet__body",onClick:m=>m.stopPropagation(),children:[a.jsx("button",{className:"close-btn",onClick:n,children:a.jsx("img",{src:ji,alt:"x"})}),a.jsxs("a",{className:"Wallet__link",href:`${Bn(i)}/address/${o}`,rel:"noreferrer",target:"_blank",children:[a.jsx("img",{src:Fi,alt:"external link"}),a.jsx("span",{children:"View on explorer"})]}),a.jsx("div",{className:"Wallet__inner-address",children:"("+y(o)+")"}),a.jsx(_e,{className:"Wallet__button",onClick:u,children:"Disconnect wallet"})]})]});return a.jsx("div",{className:M("Wallet",s),children:r?c():d()})};const zi="/sf_draft/assets/dropdown-482807de.svg",Fe=({className:e,options:t,defaultValue:n,defaultOption:s,onChange:i,iconNode:o,iconTextNode:r,...p})=>{const u=o||r,l=({children:c,...m})=>a.jsxs(li.Control,{...m,children:[o&&a.jsx("div",{className:"Selector__icon",children:o}),r&&a.jsx("div",{className:"Selector__icon Selector__icon_text",children:r}),c]}),y=c=>{let m;const T=f=>f.value===c;return t.find(f=>f.options)?t.forEach(f=>{if(m)return;m=(f.options??[f]).find(T)}):m=t.find(T),m},d=M(e,u&&"Selector_with-icon");return a.jsx(ui,{...p,options:t,defaultValue:s??y(n),onChange:i,className:M("Selector",d),classNamePrefix:"Selector",isClearable:!1,isSearchable:!1,components:{DropdownIndicator:({innerRef:c,innerProps:m})=>a.jsx("div",{ref:c,...m,className:"Selector__indicator Selector__dropdown-indicator",children:a.jsx("img",{src:zi,alt:"dropdown icon"})}),Control:l}})};const ue=({children:e,hasDelay:t=!0,...n})=>a.jsx(yi,{place:"bottom-start",delayShow:t?150:0,delayHide:t?150:0,...n,children:e}),Fn=()=>{const{switchNetworkAsync:e}=Va();return t=>{if(typeof t!="number"&&typeof t!="string")throw new TypeError(`Invalid chainId type: ${t} (${typeof t})`);const n=zt[t].name;e(t).then(()=>{$i(`Network switched to ${n} (${t})`)},s=>{Be(s)})}},Qi=()=>{const e=Q(),t=Fn(),n=Yt.map(i=>{const{name:o,icon:r,isDisabled:p}=zt[i];return{value:i,label:a.jsxs("div",{className:"flex gap-x-7",children:[a.jsx("img",{src:r,alt:`${o} icon`}),a.jsx("span",{children:o})]}),isCurrent:i===e,isDisabled:p}}),s=n.find(i=>i.isCurrent);return a.jsxs("div",{className:"NetworkSwitcher",children:[a.jsx(Fe,{options:n,value:s,onChange:i=>{t(i.value)},isDisabled:!0}),a.jsx(ue,{anchorSelect:".NetworkSwitcher .Selector__option--is-disabled",content:"Coming soon"})]})},Zi=()=>{const{isConnected:e}=X();return a.jsxs("div",{className:"CryptoGateway",children:[e&&a.jsx(Qi,{}),a.jsx(Yi,{})]})},Xi=()=>{const e=Tt(),t=[{name:"Option Trading",to:"/trading"},{name:"Legacy",to:"https://old.sharwa.finance/"}];return t.forEach(n=>{e.pathname.startsWith(n.to)&&(n.isActive=!0)}),a.jsxs("header",{className:"Header _container",children:[a.jsx(Mn,{}),a.jsx(Kt,{links:t}),a.jsx(Zi,{})]})};const Ji=()=>{const e=ei({enter:"jellyIn",exit:"jellyOut"});return a.jsx(Ja,{limit:2,transition:e,position:"bottom-right",hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,draggable:!1})};const es=300,ts=e=>{const t=ri();g.useEffect(()=>{const n=window.innerWidth>1025?t:0;e?(document.body.style.overflow="hidden",document.body.style.paddingRight=`${n}px`):setTimeout(()=>{document.body.style.overflow="unset",document.body.style.paddingRight=0},es)},[e,t])};$t.setAppElement("#root");$t.defaultStyles={};const vt=({children:e,className:t,isOpen:n,setIsOpen:s,isObligatory:i,reset:o})=>(ts(n),g.useEffect(()=>{!n&&o&&o()},[n]),a.jsx($t,{className:M(t,"App-box"),isOpen:n,onRequestClose:()=>{i||s(!1)},overlayElement:(r,p)=>a.jsxs("div",{...r,children:[p,!i&&a.jsx("button",{className:"ReactModal__Close-btn"})]}),closeTimeoutMS:300,children:e})),ns=e=>{const{chainId:t}=e,[n]=g.useState(!0),s=Fn();return a.jsxs(vt,{className:"UnsupportedChainErrorModal",isOpen:n,isObligatory:!0,children:[a.jsxs("div",{className:"UnsupportedChainErrorModal__text text-inline",children:["Chain ",t," is not supported."]}),a.jsx("div",{className:"UnsupportedChainErrorModal__switch-btns",children:Yt.map(i=>{const o=zt[i],{name:r,icon:p,isDisabled:u}=o;return a.jsxs(_e,{isDisabled:u,type:"stroke",onClick:()=>{s(i)},children:[a.jsx("img",{src:p,alt:`${r} icon`}),"Switch to ",r]},i)})})]})},as="/trading/option-chain",Ct="0x683Ad8b899Cd14d8e077c9A623E8B3fEd65a8c09",wt=600;const is="/sf_draft/assets/graph-857cdbfb.svg",ss="/sf_draft/assets/ETH-fb1e5539.svg",rs="/sf_draft/assets/BTC-148eeb6e.svg",os="/sf_draft/assets/WETH-b906a28b.svg",ps="/sf_draft/assets/WBTC-98075014.svg",us="/sf_draft/assets/LINK-34fd98c1.svg",ls="/sf_draft/assets/ARB-1fa7376f.svg",ys="/sf_draft/assets/GMX-9b65c4b5.svg",ds="/sf_draft/assets/wstETH-2ce198a6.svg",cs="/sf_draft/assets/MAGIC-5214f6ce.svg",ms="/sf_draft/assets/SOL-7d44017d.svg",Ts="/sf_draft/assets/FXS-e96ab67e.svg",hn="/sf_draft/assets/USDC-5278ca06.svg",fs="/sf_draft/assets/USDT-b571d43e.svg",bs="/sf_draft/assets/DAI-01366c10.svg",Oe={[de]:[{name:"Ethereum",symbol:"ETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",oracleAddress:"0x639fe6ab55c921f74e7fac1ee960c0b6293ba612",url:"https://www.coingecko.com/en/coins/ethereum",isAsset:!0,isETH:!0,icon:ss,isSwappable:!0,isWrappable:!0},{name:"Bitcoin",symbol:"BTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",oracleAddress:"0x6ce185860a4963106506c203335a2910413708e9",url:"https://www.coingecko.com/en/coins/bitcoin",isAsset:!0,icon:rs,isWrappable:!0},{name:"Wrapped Ethereum",symbol:"WETH",decimals:18,address:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",icon:os,isSwappable:!0},{name:"Wrapped Bitcoin",symbol:"WBTC",decimals:8,address:"0x2f2a2543B76A4166549F7aaB2e75Bef0aefC5B0f",icon:ps,isSwappable:!0},{name:"Chainlink Token",symbol:"LINK",decimals:18,address:"0xf97f4df75117a78c1A5a0DBb814Af92458539FB4",oracleAddress:"0x86e53cf1b870786351da77a57575e79cb55812cb",url:"https://www.coingecko.com/en/coins/chainlink",isAsset:!0,icon:us},{name:"Arbitrum Token",symbol:"ARB",decimals:18,address:"0x912CE59144191C1204E64559FE8253a0e49E6548",oracleAddress:"0xb2a824043730fe05f3da2efafa1cbbe83fa548d6",url:"https://www.coingecko.com/en/coins/arbitrum",isAsset:!0,icon:ls},{name:"GMX Token",symbol:"GMX",decimals:18,address:"0xfc5A1A6EB076a2C7aD06eD22C90d7E710E35ad0a",oracleAddress:"0xdb98056fecfff59d032ab628337a4887110df3db",url:"https://www.coingecko.com/en/coins/gmx",isAsset:!0,icon:ys},{name:"Wrapped liquid staked Ether 2.0",symbol:"wstETH",decimals:18,address:"0x0fBcbaEA96Ce0cF7Ee00A8c19c3ab6f5Dc8E1921",oracleAddress:"0x07c5b924399cc23c24a95c8743de4006a32b7f2a",url:"https://www.coingecko.com/en/coins/wrapped-steth",isAsset:!0,icon:ds},{name:"MAGIC",symbol:"MAGIC",decimals:18,address:"0x539bdE0d7Dbd336b79148AA742883198BBF60342",oracleAddress:"0x47e55ccec6582838e173f252d08afd8116c2202d",url:"https://www.coingecko.com/en/coins/magic",isAsset:!0,icon:cs},{name:"Solana",symbol:"SOL",decimals:18,address:"0xa26A142Bb3E9d5503b882D17cFf43a37b62ee1Be",oracleAddress:"0x24cea4b8ce57cda5058b924b9b9987992450590c",url:"https://www.coingecko.com/en/coins/solana",isAsset:!0,icon:ms},{name:"Frax Share",symbol:"FXS",decimals:18,address:"0x9d2F299715D94d8A7E6F5eaa8E654E8c74a988A7",oracleAddress:"0x36a121448d74fa81450c992a1a44b9b7377cd3a5",url:"https://www.coingecko.com/en/coins/frax-share",isAsset:!0,icon:Ts},{name:"Dai",symbol:"DAI",decimals:18,address:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",icon:bs,isSwappable:!0,isStable:!0},{name:"USD Coin",symbol:"USDC",decimals:6,address:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",icon:hn,isSwappable:!0,isStable:!0},{name:"USDC.e",symbol:"USDC.e",decimals:6,address:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",icon:hn,isSwappable:!0,isStable:!0},{name:"Tether",symbol:"USDT",decimals:6,address:"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9",icon:fs,isSwappable:!0,isStable:!0}]},lt={},yt={},xn=Object.keys(Oe);for(let e=0;e<xn.length;e++){const t=xn[e];lt[t]={},yt[t]={};let n=Oe[t];for(let s=0;s<n.length;s++){const i=n[s];lt[t][i.symbol]=i,yt[t][i.address.toLowerCase()]=i}}const kt={};for(let e=0;e<Oe[de].length;e++){const t=Oe[de][e];kt[t.symbol]=t.decimals}const Qt=Oe[de].filter(e=>e.isAsset).map(e=>e.symbol),oe=(e,t)=>{if(!lt[e])throw new Error(`No tokens found for chainId ${e}`);const s=lt[e][t];if(!s)throw new Error(`Incorrect symbol "${t}" for chainId ${e}`);return s},Lt=(e,t)=>{if(!yt[e])throw new Error(`No tokens found for chainId ${e}`);const s=yt[e][t.toLowerCase()];if(!s)throw new Error(`Incorrect address "${t}" for chainId ${e}`);return s},hs=e=>{const t=Oe[e];if(!t)throw new Error(`No tokens found for chainId ${e}`);return t.filter(s=>s.isSwappable)},jn=e=>oe(e,"USDC.e").address,Ln=e=>oe(de,e).icon;const pe=({className:e,children:t,isSmall:n=!0,symbol:s="USDC",isHlight:i,style:o,...r})=>{const p=Q(),u=oe(p,s).icon,l=t,y=M(i&&"hlight",n&&"small",e);return a.jsxs("div",{className:M("Currency",y),style:o,...r,children:[a.jsx("img",{src:u,alt:`${s} icon`}),a.jsx("span",{children:l})]})},te=18,gn=6,xs=8,gs=8,Qe=6,Nn=2,Rn=3,ye=(e,t=",")=>{En(e);const n=e.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,t),n.join(".")},_s=e=>{if(En(e),!Un(e))return 0;const t=e.toString(),n=t.indexOf("."),s=t.match(/[1-9]/)[0];return t.indexOf(s,n)-n},St=(e,t=0,n=!1)=>{if(!Un(e))return e;let s=e.toString(),i=s;const o=s.indexOf(".");if(s.length-o-1>t&&(i=Ie(e,t),n&&Number(i)===0)){const p=_s(e);i=Ie(e,p)}return i},Un=e=>e.toString().indexOf(".")!==-1,Hn=(e,t)=>{let n=e.toString();const s=n.indexOf("."),i=s!==-1,o=i?n.length-s-1:0;return o<t&&(n+=+i?"":".",n+="0".repeat(t-o)),n},vs=e=>{const t=e.toString();return t.indexOf(".")!==-1?parseFloat(t):e},Cs=e=>{const t=e.toString(),[n,s]=t.split(".");return s==="0".repeat(s==null?void 0:s.length)?n:t},ws=(e,t)=>{var i;let n=e.toString().replace(/^\./g,"").replace(/[^0-9.]/g,"").replace(/^0\d/,"");return((i=n.match(/\./g))==null?void 0:i.length)>1&&(n=(r=>r.replace(/\.$/,""))(n)),n=St(n,t?0:Qe),n},Je=(e,t,n)=>ye(ws(e,n),t),Me=(e,t=",")=>(Hi(e),Number(e.split(t).join(""))),Ie=(e,t=0)=>Math.round(e*10**t)/10**t,q=(e,t=te,n)=>{xe(e);let s=Number(e)/10**t;return typeof n<"u"&&(s=Math.round(s*10**n)/10**n),String(s).includes("e")?0:s},Pt=(e,t)=>(xe(e),e*BigInt(10**t)),Zt=(e,t)=>(xe(e),e/BigInt(10**t)),Y=(e,t=te)=>{if(t<Qe)throw new Error("Converting number to BigInt without expanding decimals is not safe.");const n=Math.floor(Number(e)*10**Qe);return Pt(BigInt(n),t-Qe)},J=(e,t=Nn,n=te,s=!1)=>{xe(e);let i=q(e,n);return i=St(i,t),i=Hn(i,t),s||(i=Cs(i)),i=ye(i),String(i)},Xt=(e,t=Rn,n=te,s)=>{xe(e);let i=q(e,n);return i=St(i,t,s),i=vs(i),i=ye(i),String(i)},at=(e,t,n,s)=>{xe(e);const i=t?J:Xt;return ae(n)&&(n=t?Nn:Rn),i(e,n,s,!t)},Jt=(e,t,n)=>{xe(e);const s=n-t;return(s<0?Zt:Pt)(e,Math.abs(s))},ee=(e,t)=>Jt(e,t,te),ce=(e,t)=>Jt(e,te,t),en=(e,t,n=te)=>{xe(e);const s=q(e,n)*t;return Y(s,n)},Se=(e,t,n=te)=>(e=Pt(e,n),e/t),Ae=(e,t,n=te)=>{const s=e*t;return Zt(s,te)},ks=(e,t,n=te)=>{xe(e);const s=n-t,i=Zt(e,s);return Pt(i,s)},me=e=>(xe(e),e<0n?-e:e),qe=e=>-me(e),ve=e=>{if(typeof e!="object")throw new Error(`Invalid bigNumberData: ${e}`);const t={};for(const n in e){let s=e[n];ge.isBigNumber(s)&&(s=s.toBigInt()),t[n]=s}return t},dt=e=>{const t=Me(e);return Y(t)},Ss=e=>{const t=q(e);return Je(t)},Ps="/sf_draft/assets/url-269ab3ad.svg",Ms=[{inputs:[{internalType:"address",name:"_exchanger",type:"address"},{internalType:"address",name:"_buildManager",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"productType",type:"uint256"}],name:"CreateBuild",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"buildManager",outputs:[{internalType:"contract IBuildManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module[]",name:"moduleArray",type:"tuple[]"},{internalType:"bytes[]",name:"parametersArray",type:"bytes[]"},{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"productType",type:"uint256"}],name:"consolidationOfTransactions",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"exchanger",outputs:[{internalType:"contract IExchanger",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"module",outputs:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"exchangerAddress",type:"address"}],name:"setExchanger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{components:[{internalType:"address",name:"moduleAddress",type:"address"},{internalType:"string",name:"name",type:"string"}],internalType:"struct ITxBuilder.Module",name:"modData",type:"tuple"}],name:"setModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawETH",outputs:[],stateMutability:"nonpayable",type:"function"}],As=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Es=[{inputs:[{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"iterations",type:"uint256"},{indexed:!1,internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"setCollateralTo",type:"uint256"},{indexed:!1,internalType:"uint256",name:"minTotalCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"maxTotalCost",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"}],name:"OpenPositionByLyra",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromLyra",outputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"uint256",name:"minTotalCost",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],internalType:"struct IOptionMarket.TradeInputParameters",name:"params",type:"tuple"}],name:"encodeFromLyra",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Ds=[{inputs:[{internalType:"address",name:"_proxySeller",type:"address"},{internalType:"address",name:"_hegicErc721",type:"address"},{internalType:"address",name:"_usdc",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokenID",type:"uint256"},{indexed:!1,internalType:"address",name:"strategy",type:"address"},{indexed:!1,internalType:"address",name:"holder",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"}],name:"OpenPositionByHegic",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromHegic",outputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"maxTotalCost",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"encodeFromHegic",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"hegicErc721",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proxySeller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Bs=[{inputs:[{internalType:"contract ERC20",name:"_usdc",type:"address"},{internalType:"contract ERC20",name:"_weth",type:"address"},{internalType:"contract ERC20",name:"_wbtc",type:"address"},{internalType:"contract IBeyondPricer",name:"_pricer",type:"address"},{internalType:"contract IOptionExchange",name:"_optionExchange",type:"address"},{internalType:"contract IAlphaPortfolioValuesFeed",name:"_portfolioValuesFeed",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"address",name:"token",type:"address"},{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],indexed:!1,internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],name:"OpenPositionByRyskFinance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"allApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromRyskFinance",outputs:[{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"enum ICombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct ITypes.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct ICombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct ICombinedActions.OperationProcedures[]",name:"operationProcedures",type:"tuple[]"}],name:"encodeFromRyskFinance",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"optionExchange",outputs:[{internalType:"contract IOptionExchange",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"portfolioValuesFeed",outputs:[{internalType:"contract IAlphaPortfolioValuesFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IBeyondPricer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdc",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"wbtc",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"weth",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"}],Os=[{inputs:[{internalType:"contract IPoolFactory",name:"_poolFactory",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"buildID",type:"uint256"},{indexed:!1,internalType:"address",name:"vaultAddress",type:"address"},{indexed:!1,internalType:"address",name:"collateralToken",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"},{components:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],indexed:!1,internalType:"struct IPoolFactory.PoolKey",name:"poolKey",type:"tuple"},{indexed:!1,internalType:"UD60x18",name:"size",type:"uint256"},{indexed:!1,internalType:"bool",name:"isBuy",type:"bool"},{indexed:!1,internalType:"uint256",name:"premiumLimit",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"}],name:"OpenPositionByPremia",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes",name:"parameters",type:"bytes"}],name:"calculateAmount",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromPremia",outputs:[{internalType:"address",name:"vaultAddress",type:"address"},{components:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],internalType:"struct IPoolFactory.PoolKey",name:"poolKey",type:"tuple"},{internalType:"UD60x18",name:"size",type:"uint256"},{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"uint256",name:"premiumLimit",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"vaultAddress",type:"address"},{components:[{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],internalType:"struct IPoolFactory.PoolKey",name:"poolKey",type:"tuple"},{internalType:"UD60x18",name:"size",type:"uint256"},{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"uint256",name:"premiumLimit",type:"uint256"}],name:"encodeFromPremia",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolFactory",outputs:[{internalType:"contract IPoolFactory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"parametersArray",type:"bytes"},{internalType:"uint256",name:"buildID",type:"uint256"},{internalType:"address",name:"user",type:"address"}],name:"processTx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referrer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newReferrer",type:"address"}],name:"setReferrer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Is=[{inputs:[{internalType:"address",name:"_erc721Address",type:"address"},{internalType:"address",name:"_operationalTreasury",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"TakeProfitExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"TakeProfitSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{indexed:!1,internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"TakeProfitUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkTakeProfit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"erc721Contract",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveTakeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getExpirationTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPayOffAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveTakes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"operationalTreasury",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveTakes",type:"uint256"}],name:"setMaxActiveTakes",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"}],name:"setTakeProfit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"takeProfitPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum TakeProfit.TakeType",name:"takeType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newTakeProfitPrice",type:"uint256"},{internalType:"enum TakeProfit.TakeType",name:"newTakeType",type:"uint8"}],name:"updateTakeProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Fs=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],js=[{inputs:[{internalType:"address",name:"_priceProvider",type:"address"},{internalType:"address",name:"_optionMarket",type:"address"},{internalType:"address",name:"_optionToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"StopOrderIssue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"StopOrderSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{indexed:!1,internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"StopOrderUpdated",type:"event"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkExpire",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"checkStopOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"commissionSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"deleteStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"executeStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getActiveStopCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"getFirstFourBytes",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idTokenToIndexToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"indexTokenToTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxActiveStopOrders",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionMarket",outputs:[{internalType:"contract IOptionMarket",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionToken",outputs:[{internalType:"contract IOptionToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"newCommissionSize",type:"uint256"}],name:"setCommissionSize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxActiveStopOrders",type:"uint256"}],name:"setMaxActiveStopOrders",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRewardAddress",type:"address"}],name:"setRewardAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"}],name:"setStopOrder",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenIdToTokenInfo",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"stopOrderPrice",type:"uint256"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"enum StopOrder.OrderType",name:"stopOrderType",type:"uint8"},{internalType:"uint256",name:"commissionPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"newStopOrderPrice",type:"uint256"},{internalType:"enum StopOrder.OrderType",name:"newStopOrderType",type:"uint8"}],name:"updateStopOrder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawableBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ls=[{inputs:[{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_roleManager",type:"address"},{internalType:"address",name:"_weth9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"bytes",name:"swapData",type:"bytes"}],name:"calculateMsgValue",outputs:[{internalType:"uint256",name:"value",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes[]",name:"swapDataArray",type:"bytes[]"},{internalType:"uint256",name:"msgValue",type:"uint256"}],name:"checkMsgValue",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],name:"decodeFromExchange",outputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"bool",name:"isETH",type:"bool"},{internalType:"bool",name:"swap",type:"bool"}],internalType:"struct IExchanger.ExchangeData",name:"data",type:"tuple"}],name:"encodeFromExchange",outputs:[{internalType:"bytes",name:"paramData",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"roleManager",outputs:[{internalType:"contract RoleManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"weth9",outputs:[{internalType:"contract IWETH9",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ns=[{inputs:[{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"contract IPositionsManager",name:"_manager",type:"address"},{internalType:"uint256",name:"_maxLockupPeriod",type:"uint256"},{internalType:"contract ICoverPool",name:"_coverPool",type:"address"},{internalType:"uint256",name:"_benchmark",type:"uint256"},{internalType:"contract IHegicStrategy[]",name:"initialStrategies",type:"address[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"Expired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Paid",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Replenished",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"acceptedStrategy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"addStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"benchmark",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"buy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"s",type:"address"}],name:"connectStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"coverPool",outputs:[{internalType:"contract ICoverPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"lockedByStrategy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"lockedLiquidity",outputs:[{internalType:"enum IOperationalTreasury.LockedLiquidityState",name:"state",type:"uint8"},{internalType:"contract IHegicStrategy",name:"strategy",type:"address"},{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"},{internalType:"uint32",name:"expiration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedPremium",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"manager",outputs:[{internalType:"contract IPositionsManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLockupPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IHegicStrategy",name:"",type:"address"}],name:"mayBeAcceptedAtEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"account",type:"address"}],name:"payOff",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"replenish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setBenchmark",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalLocked",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lockedLiquidityID",type:"uint256"}],name:"unlock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],Rs=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"HEGIC_POOL_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"holder",type:"address"}],name:"createOptionFor",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"isApprovedOrOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC721Metadata",name:"_uriBuilder",type:"address"}],name:"setURIBuilder",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"tokenPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"uri",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uriBuilder",outputs:[{internalType:"contract IERC721Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"}],Us=[{inputs:[{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"contract IPremiumCalculator",name:"_pricer",type:"address"},{internalType:"uint256",name:"_limit",type:"uint256"},{internalType:"uint8",name:"_spotDecimals",type:"uint8"},{internalType:"uint16",name:"_priceScale",type:"uint16"},{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"},{internalType:"uint48",name:"_exerciseWindowDuration",type:"uint48"},{internalType:"contract LimitController",name:"_limitController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"id",type:"uint256"},{components:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],indexed:!1,internalType:"struct IHegicStrategy.StrategyData",name:"data",type:"tuple"},{indexed:!1,internalType:"uint256",name:"negativepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"positivepnl",type:"uint256"},{indexed:!1,internalType:"uint256",name:"period",type:"uint256"},{indexed:!1,internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"Acquired",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"limit",type:"uint256"}],name:"SetLimit",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"",type:"bytes[]"}],name:"calculateNegativepnlAndPositivepnl",outputs:[{internalType:"uint128",name:"negativepnl",type:"uint128"},{internalType:"uint128",name:"positivepnl",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"connect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"period",type:"uint256"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"create",outputs:[{internalType:"uint32",name:"expiration",type:"uint32"},{internalType:"uint256",name:"negativePNL",type:"uint256"},{internalType:"uint256",name:"positivePNL",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"exerciseWindowDuration",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"period",type:"uint32"},{internalType:"bytes[]",name:"additional",type:"bytes[]"}],name:"getAvailableContracts",outputs:[{internalType:"uint256",name:"available",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLockedByStrategy",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionID",type:"uint256"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"",type:"address"}],name:"isPayoffAvailable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"k",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"limitController",outputs:[{internalType:"contract LimitController",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockedLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"optionID",type:"uint256"}],name:"payOffAmount",outputs:[{internalType:"uint256",name:"profit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IOperationalTreasury",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positionExpiration",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract IPremiumCalculator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48",name:"value",type:"uint48"}],name:"setK",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"setLimit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract LimitController",name:"value",type:"address"}],name:"setLimitController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint48[2]",name:"periodLimits",type:"uint48[2]"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IPremiumCalculator",name:"value",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"strategyData",outputs:[{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint128",name:"strike",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Hs=[{inputs:[{internalType:"int256[5]",name:"initialCoefficients",type:"int256[5]"},{internalType:"contract AggregatorV3Interface",name:"_priceProvider",type:"address"},{internalType:"uint256",name:"_tokenDecimals",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[3]",name:"values",type:"uint256[3]"}],name:"SetBorders",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetCoefficients",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountCall",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"SetDiscountPut",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"values",type:"uint8"}],name:"SetDiscountSpread",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetImpliedVolRate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256[4]",name:"values",type:"uint256[4]"}],name:"SetImpliedVolRates",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"min",type:"uint256"},{indexed:!1,internalType:"uint256",name:"max",type:"uint256"}],name:"SetPeriodLimits",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetSettlementFeeShare",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SetStrikePercentage",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"period",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"strike",type:"uint256"}],name:"calculatePremium",outputs:[{internalType:"uint256",name:"premium",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"coefficients",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minPeriod",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"priceProvider",outputs:[{internalType:"contract AggregatorV3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256[5]",name:"values",type:"int256[5]"}],name:"setCoefficients",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"min",type:"uint256"},{internalType:"uint256",name:"max",type:"uint256"}],name:"setPeriodLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],qs=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],$s=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"isShort",type:"bool"}],name:"AddingCollateralToInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"AdjustmentResultsInMinimumCollateralNotBeingMet",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"AlreadyInitialised",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"bool",name:"invalidPositionId",type:"bool"},{internalType:"bool",name:"positionInactive",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"}],name:"CannotAdjustInvalidPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotClosePositionZero",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"CannotOpenZeroAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"}],name:"FullyClosingWithNonZeroSetCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollatParams",type:"tuple"}],name:"InvalidPartialCollateralParameters",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"originalPositionAmount",type:"uint256"},{internalType:"uint256",name:"splitAmount",type:"uint256"}],name:"InvalidSplitAmount",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"MergingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"}],name:"MustMergeTwoOrMorePositions",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"nominatedOwner",type:"address"}],name:"OnlyNominatedOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"optionMarket",type:"address"}],name:"OnlyOptionMarket",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwner",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"OnlyOwnerCanAdjustPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"address",name:"shortCollateral",type:"address"}],name:"OnlyShortCollateral",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"firstPosition",type:"tuple"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"nextPosition",type:"tuple"},{internalType:"bool",name:"ownerMismatch",type:"bool"},{internalType:"bool",name:"strikeMismatch",type:"bool"},{internalType:"bool",name:"optionTypeMismatch",type:"bool"},{internalType:"bool",name:"duplicatePositionId",type:"bool"}],name:"PositionMismatchWhenMerging",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"PositionNotLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingNewPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"ResultingOriginalPositionLiquidatable",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"address",name:"caller",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"}],name:"SplittingUnapprovedPosition",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"StrikeIsSettled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnerNominated",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],indexed:!1,internalType:"struct OptionToken.PartialCollateralParameters",name:"partialCollateralParams",type:"tuple"}],name:"PartialCollateralParamsSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"positionId",type:"uint256"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"enum OptionToken.PositionUpdatedType",name:"updatedType",type:"uint8"},{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],indexed:!1,internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"PositionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"URI",type:"string"}],name:"URISet",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"amountCollateral",type:"uint256"}],name:"addCollateral",outputs:[{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"address",name:"trader",type:"address"},{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"optionCost",type:"uint256"},{internalType:"uint256",name:"setCollateralTo",type:"uint256"},{internalType:"bool",name:"isOpen",type:"bool"}],name:"adjustPosition",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"int256",name:"pendingCollateral",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"position",type:"tuple"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],name:"canLiquidate",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"gwavPremium",type:"uint256"},{internalType:"uint256",name:"userPositionCollateral",type:"uint256"},{internalType:"uint256",name:"convertedMinLiquidationFee",type:"uint256"},{internalType:"uint256",name:"insolvencyMultiplier",type:"uint256"}],name:"getLiquidationFees",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getOptionPosition",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getOptionPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"getOwnerPositions",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],internalType:"struct OptionToken.OptionPosition[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPartialCollatParams",outputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionState",outputs:[{internalType:"enum OptionToken.PositionState",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"}],name:"getPositionWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"getPositionsWithOwner",outputs:[{components:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"},{internalType:"address",name:"owner",type:"address"}],internalType:"struct OptionToken.PositionWithOwner[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract OptionMarket",name:"_optionMarket",type:"address"},{internalType:"contract OptionGreekCache",name:"_greekCache",type:"address"},{internalType:"address",name:"_shortCollateral",type:"address"},{internalType:"contract BaseExchangeAdapter",name:"_exchangeAdapter",type:"address"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{components:[{internalType:"bool",name:"isBuy",type:"bool"},{internalType:"bool",name:"isForceClose",type:"bool"},{internalType:"enum OptionMarket.TradeDirection",name:"tradeDirection",type:"uint8"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"},{components:[{internalType:"uint256",name:"freeLiquidity",type:"uint256"},{internalType:"uint256",name:"burnableLiquidity",type:"uint256"},{internalType:"uint256",name:"reservedCollatLiquidity",type:"uint256"},{internalType:"uint256",name:"pendingDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"usedDeltaLiquidity",type:"uint256"},{internalType:"uint256",name:"NAV",type:"uint256"},{internalType:"uint256",name:"longScaleFactor",type:"uint256"}],internalType:"struct LiquidityPool.Liquidity",name:"liquidity",type:"tuple"}],internalType:"struct OptionMarket.TradeParameters",name:"trade",type:"tuple"},{internalType:"uint256",name:"totalCost",type:"uint256"}],name:"liquidate",outputs:[{components:[{internalType:"uint256",name:"returnCollateral",type:"uint256"},{internalType:"uint256",name:"lpPremiums",type:"uint256"},{internalType:"uint256",name:"lpFee",type:"uint256"},{internalType:"uint256",name:"liquidatorFee",type:"uint256"},{internalType:"uint256",name:"smFee",type:"uint256"},{internalType:"uint256",name:"insolventAmount",type:"uint256"}],internalType:"struct OptionToken.LiquidationFees",name:"liquidationFees",type:"tuple"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"merge",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"nominateNewOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nominatedOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialCollatParams",outputs:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"positions",outputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"enum OptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateral",type:"uint256"},{internalType:"enum OptionToken.PositionState",name:"state",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"penaltyRatio",type:"uint256"},{internalType:"uint256",name:"liquidatorFeeRatio",type:"uint256"},{internalType:"uint256",name:"smFeeRatio",type:"uint256"},{internalType:"uint256",name:"minLiquidationFee",type:"uint256"}],internalType:"struct OptionToken.PartialCollateralParameters",name:"_partialCollatParams",type:"tuple"}],name:"setPartialCollateralParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newURI",type:"string"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"positionIds",type:"uint256[]"}],name:"settlePositions",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"positionId",type:"uint256"},{internalType:"uint256",name:"newAmount",type:"uint256"},{internalType:"uint256",name:"newCollateral",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"split",outputs:[{internalType:"uint256",name:"newPositionId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],Vs=[{inputs:[{internalType:"address",name:"_lyraRegister",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardAlreadySettled",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"},{internalType:"uint256",name:"boardExpiry",type:"uint256"},{internalType:"uint256",name:"currentTime",type:"uint256"}],name:"BoardExpired",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"boardId",type:"uint256"}],name:"BoardIsFrozen",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"enum IOptionMarket.NonZeroValues",name:"valueType",type:"uint8"}],name:"ExpectedNonZeroValue",type:"error"},{inputs:[{internalType:"address",name:"thrower",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"}],name:"InvalidStrikeId",type:"error"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"fullQuotes",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IOptionMarket",name:"_optionMarket",type:"address"},{internalType:"uint256",name:"strikeId",type:"uint256"},{internalType:"uint256",name:"iterations",type:"uint256"},{internalType:"enum IOptionMarket.OptionType",name:"optionType",type:"uint8"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"quote",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"uint256",name:"totalFee",type:"uint256"}],stateMutability:"view",type:"function"}],Ws=[{inputs:[{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"},{internalType:"address",name:"_underlyingAsset",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"uint256",name:"rfr",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{components:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],internalType:"struct Types.OptionParams",name:"_optionParams",type:"tuple"},{internalType:"address",name:"_authority",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"InvalidAddress",type:"error"},{inputs:[],name:"InvalidAmount",type:"error"},{inputs:[],name:"InvalidDecimals",type:"error"},{inputs:[],name:"InvalidShareAmount",type:"error"},{inputs:[],name:"IssuanceFailed",type:"error"},{inputs:[],name:"LiabilitiesGreaterThanAssets",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NotHandler",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"OptionStrikeInvalid",type:"error"},{inputs:[],name:"ReactorAlreadyExists",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TradingNotPaused",type:"error"},{inputs:[],name:"TradingPaused",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{inputs:[],name:"WithdrawExceedsLiquidity",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrowReturned",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"}],name:"BuybackOption",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"DepositEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"InitiateWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"int256",name:"deltaChange",type:"int256"}],name:"RebalancePortfolioDelta",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralReturned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLost",type:"uint256"},{indexed:!1,internalType:"address",name:"closer",type:"address"}],name:"SettleVault",type:"event"},{anonymous:!1,inputs:[],name:"TradingPaused",type:"event"},{anonymous:!1,inputs:[],name:"TradingUnpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"epoch",type:"uint256"}],name:"WithdrawalEpochExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"escrow",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"}],name:"WriteOption",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"lpCollateralDifference",type:"uint256"},{internalType:"bool",name:"addToLpBalance",type:"bool"}],name:"adjustCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"collateralAmount",type:"uint256"},{internalType:"uint256",name:"optionsValue",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"bool",name:"isSale",type:"bool"}],name:"adjustVariables",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"bufferPercentage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"auth",type:"bool"}],name:"changeHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"checkBuffer",outputs:[{internalType:"int256",name:"bufferRemaining",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAllocated",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"completeWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"depositEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"depositEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depositReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"uint256",name:"unredeemedShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ephemeralLiabilities",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"executeEpochCalculation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"}],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExternalDelta",outputs:[{internalType:"int256",name:"externalDelta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getHedgingReactors",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"isPut",type:"bool"},{internalType:"uint256",name:"underlyingPrice",type:"uint256"},{internalType:"uint256",name:"strikePrice",type:"uint256"},{internalType:"uint256",name:"expiration",type:"uint256"}],name:"getImpliedVolatility",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNAV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPortfolioDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVolatilityFeed",outputs:[{internalType:"contract VolatilityFeed",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"seller",type:"address"}],name:"handlerBuybackOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"handlerIssue",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerIssueAndWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"address",name:"seriesAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"contract IOptionRegistry",name:"optionRegistry",type:"address"},{internalType:"uint256",name:"premium",type:"uint256"},{internalType:"int256",name:"delta",type:"int256"},{internalType:"address",name:"recipient",type:"address"}],name:"handlerWriteOption",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"hedgingReactors",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"initiateWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isTradingPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPriceDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTimeDeviationThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"optionParams",outputs:[{internalType:"uint128",name:"minCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxCallStrikePrice",type:"uint128"},{internalType:"uint128",name:"minPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"maxPutStrikePrice",type:"uint128"},{internalType:"uint128",name:"minExpiry",type:"uint128"},{internalType:"uint128",name:"maxExpiry",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"partitionedFunds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pauseTradingAndRequest",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_pause",type:"bool"}],name:"pauseUnpauseTrading",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingDeposits",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingWithdrawals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"uint256",name:"reactorIndex",type:"uint256"}],name:"rebalancePortfolioDelta",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"},{internalType:"bool",name:"_override",type:"bool"}],name:"removeHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"resetEphemeralValues",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bufferPercentage",type:"uint256"}],name:"setBufferPercentage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralCap",type:"uint256"}],name:"setCollateralCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_reactorAddress",type:"address"}],name:"setHedgingReactorAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxPriceDeviationThreshold",type:"uint256"}],name:"setMaxPriceDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxTimeDeviationThreshold",type:"uint256"}],name:"setMaxTimeDeviationThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_newMinCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxCallStrike",type:"uint128"},{internalType:"uint128",name:"_newMinPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMaxPutStrike",type:"uint128"},{internalType:"uint128",name:"_newMinExpiry",type:"uint128"},{internalType:"uint128",name:"_newMaxExpiry",type:"uint128"}],name:"setNewOptionParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"}],name:"settleVault",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"withdrawalEpochPricePerShare",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"withdrawalReceipts",outputs:[{internalType:"uint128",name:"epoch",type:"uint128"},{internalType:"uint128",name:"shares",type:"uint128"}],stateMutability:"view",type:"function"}],Gs=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidExpiry",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesAltered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"uint64",name:"expiration",type:"uint64"},{indexed:!1,internalType:"uint128",name:"strike",type:"uint128"},{indexed:!1,internalType:"bool",name:"isPut",type:"bool"},{indexed:!1,internalType:"bool",name:"isBuyable",type:"bool"},{indexed:!1,internalType:"bool",name:"isSellable",type:"bool"}],name:"SeriesApproved",type:"event"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"approvedOptions",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"changeOptionBuyOrSell",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"expirations",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"getExpirations",outputs:[{internalType:"uint64[]",name:"",type:"uint64[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"bool",name:"isPut",type:"bool"}],name:"getOptionDetails",outputs:[{internalType:"uint128[]",name:"",type:"uint128[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"getOptionStores",outputs:[{components:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct OptionCatalogue.OptionStores",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isBuyable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],name:"isSellable",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],internalType:"struct Types.Option[]",name:"options",type:"tuple[]"}],name:"issueNewSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],name:"optionDetails",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"optionStores",outputs:[{internalType:"bool",name:"approvedOption",type:"bool"},{internalType:"bool",name:"isBuyable",type:"bool"},{internalType:"bool",name:"isSellable",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"}],Ks=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_pricer",type:"address"},{internalType:"address",name:"_addressbook",type:"address"},{internalType:"address",name:"_swapRouter",type:"address"},{internalType:"address",name:"_feeRecipient",type:"address"},{internalType:"address",name:"_catalogue",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"CloseSizeTooLarge",type:"error"},{inputs:[],name:"CollateralAssetInvalid",type:"error"},{inputs:[],name:"ForbiddenAction",type:"error"},{inputs:[],name:"InvalidInput",type:"error"},{inputs:[],name:"MaxLiquidityBufferReached",type:"error"},{inputs:[],name:"NonExistentOtoken",type:"error"},{inputs:[],name:"NonWhitelistedOtoken",type:"error"},{inputs:[],name:"NothingToClose",type:"error"},{inputs:[],name:"OperatorNotApproved",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"PoolFeeNotSet",type:"error"},{inputs:[],name:"PremiumTooSmall",type:"error"},{inputs:[],name:"SeriesNotBuyable",type:"error"},{inputs:[],name:"SeriesNotSellable",type:"error"},{inputs:[],name:"StrikeAssetInvalid",type:"error"},{inputs:[],name:"TokenImbalance",type:"error"},{inputs:[],name:"TooMuchSlippage",type:"error"},{inputs:[],name:"TradeTooLarge",type:"error"},{inputs:[],name:"TradeTooSmall",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"UnapprovedSeries",type:"error"},{inputs:[],name:"UnauthorisedSender",type:"error"},{inputs:[],name:"UnderlyingAssetInvalid",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsBought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"}],name:"OptionsIssued",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"}],name:"OptionsRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"optionAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"premium",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"OptionsSold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newOptionExchange",type:"address"},{indexed:!1,internalType:"address",name:"otoken",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"OtokenMigrated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"redeemAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"redeemAsset",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"}],name:"RedemptionSent",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[],name:"addressbook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bool",name:"",type:"bool"}],name:"approvedCollateral",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"catalogue",outputs:[{internalType:"contract OptionCatalogue",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collateral",type:"address"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"bool",name:"isApproved",type:"bool"}],name:"changeApprovedCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint128",name:"strikeDecimalConverted",type:"uint128"},{internalType:"bool",name:"isSell",type:"bool"}],name:"checkHash",outputs:[{internalType:"bytes32",name:"oHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"createOtoken",outputs:[{internalType:"address",name:"series",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDelta",outputs:[{internalType:"int256",name:"delta",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"seriesAddress",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"getOptionDetails",outputs:[{internalType:"address",name:"",type:"address"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"",type:"tuple"},{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPoolDenominatedValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"_delta",type:"int256"}],name:"hedgeDelta",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"heldTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"minTradeSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum CombinedActions.OperationType",name:"operation",type:"uint8"},{components:[{internalType:"uint256",name:"actionType",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"uint256",name:"indexOrAcceptablePremium",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct CombinedActions.ActionArgs[]",name:"operationQueue",type:"tuple[]"}],internalType:"struct CombinedActions.OperationProcedures[]",name:"_operationProcedures",type:"tuple[]"}],name:"operate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"poolFees",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"pricer",outputs:[{internalType:"contract BeyondPricer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_series",type:"address[]"},{internalType:"uint256[]",name:"amountOutMinimums",type:"uint256[]"}],name:"redeem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_catalogue",type:"address"}],name:"setOptionCatalogue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"asset",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"}],name:"setPoolFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pricer",type:"address"}],name:"setPricer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_minTradeSize",type:"uint256"},{internalType:"uint256",name:"_maxTradeSize",type:"uint256"}],name:"setTradeSizeLimits",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"swapRouter",outputs:[{internalType:"contract ISwapRouter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOptionExchange",type:"address"},{internalType:"address[]",name:"otokens",type:"address[]"}],name:"transferOtokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"update",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Ys=[{inputs:[{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_authority",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadyExpired",type:"error"},{inputs:[],name:"HealthyVault",type:"error"},{inputs:[],name:"InsufficientBalance",type:"error"},{inputs:[],name:"InvalidCollateral",type:"error"},{inputs:[],name:"InvalidDecimals",type:"error"},{inputs:[],name:"NoVault",type:"error"},{inputs:[],name:"NonExistentSeries",type:"error"},{inputs:[],name:"NotExpired",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[],name:"NotLiquidityPool",type:"error"},{inputs:[],name:"NotOperator",type:"error"},{inputs:[],name:"SeriesAddressAlreadySet",type:"error"},{inputs:[],name:"SeriesInfoAlreadySet",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{inputs:[],name:"VaultAlreadySet",type:"error"},{inputs:[],name:"VaultExpired",type:"error"},{inputs:[],name:"VaultNotLiquidated",type:"error"},{inputs:[],name:"WithdrawExceedsLiquidity",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"putLower",type:"uint64"},{indexed:!1,internalType:"uint64",name:"putUpper",type:"uint64"},{indexed:!1,internalType:"uint64",name:"callLower",type:"uint64"},{indexed:!1,internalType:"uint64",name:"callUpper",type:"uint64"}],name:"HealthThresholdsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"target",type:"address"},{indexed:!1,internalType:"bool",name:"auth",type:"bool"}],name:"KeeperUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newLiquidityPool",type:"address"}],name:"LiquidityPoolUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"isOperator",type:"bool"}],name:"OperatorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"OptionTokenCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"closedAmount",type:"uint256"}],name:"OptionsContractClosed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"optionsAmount",type:"uint256"}],name:"OptionsContractOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"collateralReturned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountLost",type:"uint256"}],name:"OptionsContractSettled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"underlyingAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"strikeAmount",type:"uint256"}],name:"SeriesRedeemed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"series",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amountLiquidated",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralLiquidated",type:"uint256"}],name:"VaultLiquidationRegistered",type:"event"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"adjustCollateral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"adjustCollateralCaller",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callLowerHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"callUpperHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"checkVaultHealth",outputs:[{internalType:"bool",name:"isBelowMin",type:"bool"},{internalType:"bool",name:"isAboveMax",type:"bool"},{internalType:"uint256",name:"healthFactor",type:"uint256"},{internalType:"uint256",name:"upperHealthFactor",type:"uint256"},{internalType:"uint256",name:"collatRequired",type:"uint256"},{internalType:"address",name:"collatAsset",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"close",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"series",type:"tuple"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_series",type:"tuple"}],name:"getIssuanceHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"uint256",name:"expiration",type:"uint256"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"uint256",name:"strike",type:"uint256"},{internalType:"address",name:"collateral",type:"address"}],name:"getOtoken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_series",type:"tuple"}],name:"getSeries",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"issuanceHash",type:"bytes32"}],name:"getSeriesAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"series",type:"address"}],name:"getSeriesInfo",outputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"issue",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"collateralAmount",type:"uint256"}],name:"open",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"putLowerHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"putUpperHealthFactor",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"redeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"registerLiquidatedVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"seriesInfo",outputs:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_putLower",type:"uint64"},{internalType:"uint64",name:"_putUpper",type:"uint64"},{internalType:"uint64",name:"_callLower",type:"uint64"},{internalType:"uint64",name:"_callUpper",type:"uint64"}],name:"setHealthThresholds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_target",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newLiquidityPool",type:"address"}],name:"setLiquidityPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_isOperator",type:"bool"}],name:"setOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"address",name:"_seriesAddress",type:"address"},{internalType:"bytes32",name:"_issuanceHash",type:"bytes32"}],name:"setSeriesInfoAndAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_seriesAddress",type:"address"},{internalType:"uint256",name:"_id",type:"uint256"}],name:"setVaultIds",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"settle",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vaultCount",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultIds",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"vaultId",type:"uint256"}],name:"wCollatLiquidatedVault",outputs:[],stateMutability:"nonpayable",type:"function"}],zs=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"address",name:"_protocol",type:"address"},{internalType:"address",name:"_liquidityPool",type:"address"},{internalType:"address",name:"_addressBook",type:"address"},{internalType:"uint256",name:"_slippageGradient",type:"uint256"},{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IVNotFound",type:"error"},{inputs:[],name:"InvalidMultiplierValue",type:"error"},{inputs:[],name:"InvalidMultipliersArrayLength",type:"error"},{inputs:[],name:"InvalidTenorArrayLength",type:"error"},{inputs:[],name:"OptionExpiryInvalid",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__DivInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__DivOverflow",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"int256",name:"x",type:"int256"}],name:"PRBMathSD59x18__LogInputTooSmall",type:"error"},{inputs:[],name:"PRBMathSD59x18__MulInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"rAbs",type:"uint256"}],name:"PRBMathSD59x18__MulOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__Exp2InputTooBig",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__LogInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"}],name:"PRBMathUD60x18__SqrtOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newBidAskIVSpread",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldBidAskIVSpread",type:"uint256"}],name:"BidAskIVSpreadChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newCollateralLendingRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldCollateralLendingRate",type:"uint256"}],name:"CollateralLendingRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newDeltaBandWidth",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldDeltaBandWidth",type:"uint256"}],name:"DeltaBandWidthChanged",type:"event"},{anonymous:!1,inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"newDeltaBorrowRates",type:"tuple"},{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],indexed:!1,internalType:"struct BeyondPricer.DeltaBorrowRates",name:"oldDeltaBorrowRates",type:"tuple"}],name:"DeltaBorrowRatesChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newFeePerContract",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldFeePerContract",type:"uint256"}],name:"FeePerContractChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaSellOptionFlatIV",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaSellOptionFlatIV",type:"uint256"}],name:"LowDeltaSellOptionFlatIVChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newLowDeltaThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldLowDeltaThreshold",type:"uint256"}],name:"LowDeltaThresholdChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newRiskFreeRate",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldRiskFreeRate",type:"uint256"}],name:"RiskFreeRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newSlippageGradient",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldSlippageGradient",type:"uint256"}],name:"SlippageGradientChanged",type:"event"},{anonymous:!1,inputs:[],name:"SlippageGradientMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadCollateralMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"SpreadDeltaMultipliersChanged",type:"event"},{anonymous:!1,inputs:[],name:"TenorParamsSet",type:"event"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"bidAskIVSpread",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"collateralLendingRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBandWidth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deltaBorrowRates",outputs:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feePerContract",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getCallSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSlippageGradientMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadCollateralMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"}],name:"getPutSpreadDeltaMultipliers",outputs:[{internalType:"int80[]",name:"",type:"int80[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_deltaBandWidth",type:"uint256"},{internalType:"uint16",name:"_numberOfTenors",type:"uint16"},{internalType:"uint16",name:"_maxTenorValue",type:"uint16"},{components:[{internalType:"int80[]",name:"callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"putSpreadDeltaMultipliers",type:"int80[]"}],internalType:"struct BeyondPricer.DeltaBandMultipliers[]",name:"_tenorPricingParams",type:"tuple[]"}],name:"initializeTenorParams",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaSellOptionFlatIV",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lowDeltaThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxTenorValue",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"numberOfTenors",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bool",name:"isSell",type:"bool"},{internalType:"int256",name:"netDhvExposure",type:"int256"}],name:"quoteOptionPrice",outputs:[{internalType:"uint256",name:"totalPremium",type:"uint256"},{internalType:"int256",name:"totalDelta",type:"int256"},{internalType:"uint256",name:"totalFees",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"riskFreeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_bidAskIVSpread",type:"uint256"}],name:"setBidAskIVSpread",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_collateralLendingRate",type:"uint256"}],name:"setCollateralLendingRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"int256",name:"sellLong",type:"int256"},{internalType:"int256",name:"sellShort",type:"int256"},{internalType:"int256",name:"buyLong",type:"int256"},{internalType:"int256",name:"buyShort",type:"int256"}],internalType:"struct BeyondPricer.DeltaBorrowRates",name:"_deltaBorrowRates",type:"tuple"}],name:"setDeltaBorrowRates",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_feePerContract",type:"uint256"}],name:"setFeePerContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaSellOptionFlatIV",type:"uint256"}],name:"setLowDeltaSellOptionFlatIV",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_lowDeltaThreshold",type:"uint256"}],name:"setLowDeltaThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_riskFreeRate",type:"uint256"}],name:"setRiskFreeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_slippageGradient",type:"uint256"}],name:"setSlippageGradient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSlippageGradientMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSlippageGradientMultipliers",type:"int80[]"}],name:"setSlippageGradientMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadCollateralMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadCollateralMultipliers",type:"int80[]"}],name:"setSpreadCollateralMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"_tenorIndex",type:"uint16"},{internalType:"int80[]",name:"_callSpreadDeltaMultipliers",type:"int80[]"},{internalType:"int80[]",name:"_putSpreadDeltaMultipliers",type:"int80[]"}],name:"setSpreadDeltaMultipliers",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"slippageGradient",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Qs=[{inputs:[{internalType:"address",name:"_authority",type:"address"},{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"},{internalType:"address",name:"_protocol",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExchangeNotPaused",type:"error"},{inputs:[],name:"IncorrectSeriesToRemove",type:"error"},{inputs:[],name:"MaxNetDhvExposureExceeded",type:"error"},{inputs:[],name:"NoShortPositions",type:"error"},{inputs:[],name:"NoVaultForShortPositions",type:"error"},{inputs:[],name:"NotKeeper",type:"error"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"seriesAddress",type:"address"}],name:"OptionHasExpiredInStores",type:"error"},{inputs:[],name:"PRBMathSD59x18__AbsInputTooSmall",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"}],name:"PRBMath__MulDivFixedPointOverflow",type:"error"},{inputs:[{internalType:"uint256",name:"prod1",type:"uint256"},{internalType:"uint256",name:"denominator",type:"uint256"}],name:"PRBMath__MulDivOverflow",type:"error"},{inputs:[],name:"SeriesNotExpired",type:"error"},{inputs:[],name:"UNAUTHORIZED",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract IAuthority",name:"authority",type:"address"}],name:"AuthorityUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"underlying",type:"address"},{indexed:!0,internalType:"address",name:"strike",type:"address"},{indexed:!1,internalType:"int256",name:"delta",type:"int256"},{indexed:!1,internalType:"int256",name:"gamma",type:"int256"},{indexed:!1,internalType:"int256",name:"vega",type:"int256"},{indexed:!1,internalType:"int256",name:"theta",type:"int256"},{indexed:!1,internalType:"int256",name:"callPutsValue",type:"int256"}],name:"DataFullfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"maxNetDhvExposure",type:"uint256"}],name:"MaxNetDhvExposureUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"optionHash",type:"bytes32"},{indexed:!1,internalType:"int256",name:"oldNetDhvExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"newNetDhvExposure",type:"int256"}],name:"NetDhvExposureChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_underlying",type:"address"},{indexed:!1,internalType:"address",name:"_strike",type:"address"}],name:"RequestedUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"seriesAddress",type:"address"},{indexed:!1,internalType:"int256",name:"shortExposure",type:"int256"},{indexed:!1,internalType:"int256",name:"longExposure",type:"int256"},{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],indexed:!1,internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"}],name:"StoresUpdated",type:"event"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"accountLiquidatedSeries",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"addressAtIndexInSet",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"addressSetLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"authority",outputs:[{internalType:"contract IAuthority",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_series",type:"address"}],name:"cleanLooperManually",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"}],name:"fulfill",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddressSet",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strike",type:"address"}],name:"getPortfolioValues",outputs:[{components:[{internalType:"int256",name:"delta",type:"int256"},{internalType:"int256",name:"gamma",type:"int256"},{internalType:"int256",name:"vega",type:"int256"},{internalType:"int256",name:"theta",type:"int256"},{internalType:"int256",name:"callPutsValue",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"spotPrice",type:"uint256"}],internalType:"struct Types.PortfolioValues",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"handler",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_a",type:"address"}],name:"isAddressInSet",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"keeper",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidityPool",outputs:[{internalType:"contract ILiquidityPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxNetDhvExposure",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IPortfolioValuesFeed",name:"_migrateContract",type:"address"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"netDhvExposure",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocol",outputs:[{internalType:"contract Protocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"}],name:"requestPortfolioData",outputs:[{internalType:"bytes32",name:"id",type:"bytes32"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rfr",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract IAuthority",name:"_newAuthority",type:"address"}],name:"setAuthority",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_handler",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_keeper",type:"address"},{internalType:"bool",name:"_auth",type:"bool"}],name:"setKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_liquidityPool",type:"address"}],name:"setLiquidityPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxNetDhvExposure",type:"uint256"}],name:"setMaxNetDhvExposure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32[]",name:"_optionHashes",type:"bytes32[]"},{internalType:"int256[]",name:"_netDhvExposures",type:"int256[]"}],name:"setNetDhvExposures",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_rfr",type:"uint256"}],name:"setRFR",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"storesForAddress",outputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"syncLooper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint64",name:"expiration",type:"uint64"},{internalType:"uint128",name:"strike",type:"uint128"},{internalType:"bool",name:"isPut",type:"bool"},{internalType:"address",name:"underlying",type:"address"},{internalType:"address",name:"strikeAsset",type:"address"},{internalType:"address",name:"collateral",type:"address"}],internalType:"struct Types.OptionSeries",name:"_optionSeries",type:"tuple"},{internalType:"int256",name:"shortExposure",type:"int256"},{internalType:"int256",name:"longExposure",type:"int256"},{internalType:"address",name:"_seriesAddress",type:"address"}],name:"updateStores",outputs:[],stateMutability:"nonpayable",type:"function"}],Zs=[{inputs:[{internalType:"address",name:"_oracle",type:"address"},{internalType:"address",name:"_addressBook",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!1,internalType:"uint256",name:"dust",type:"uint256"}],name:"CollateralDustUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"feeRecipient",type:"address"}],name:"FeeRecipientUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"FeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"liquidationMultiplier",type:"uint256"}],name:"LiquidationMultiplierUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"MaxPriceAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldValue",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newValue",type:"uint256"}],name:"MaxPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oracleDeviation",type:"uint256"}],name:"OracleDeviationUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"product",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"spotShock",type:"uint256"}],name:"SpotShockUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"productHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timeToExpiry",type:"uint256"}],name:"TimeToExpiryAdded",type:"event"},{inputs:[],name:"AUCTION_TIME",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"addressBook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRecipient",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"}],name:"getCollateralDust",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"getExcessCollateral",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"getExpiredPayoutRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getFeeInformation",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"getMarginRequired",outputs:[{components:[{internalType:"int256",name:"value",type:"int256"}],internalType:"struct FixedPointInt256.FixedPointInt",name:"",type:"tuple"},{components:[{internalType:"int256",name:"value",type:"int256"}],internalType:"struct FixedPointInt256.FixedPointInt",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_timeToExpiry",type:"uint256"}],name:"getMaxPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_shortAmount",type:"uint256"},{internalType:"uint256",name:"_strikePrice",type:"uint256"},{internalType:"uint256",name:"_underlyingPrice",type:"uint256"},{internalType:"uint256",name:"_shortExpiryTimestamp",type:"uint256"},{internalType:"uint256",name:"_collateralDecimals",type:"uint256"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getNakedMarginRequired",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOracleDeviation",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getSpotShock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"getTimesToExpiry",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"_vault",type:"tuple"},{internalType:"uint256",name:"_vaultType",type:"uint256"}],name:"isLiquidatable",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidationMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"contract OracleInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_dust",type:"uint256"}],name:"setCollateralDust",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"setFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_feeRecipient",type:"address"}],name:"setFeeRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_liquidationMultiplier",type:"uint256"}],name:"setLiquidationMultiplier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_deviation",type:"uint256"}],name:"setOracleDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_shockValue",type:"uint256"}],name:"setSpotShock",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256[]",name:"_timesToExpiry",type:"uint256[]"},{internalType:"uint256[]",name:"_values",type:"uint256[]"}],name:"setUpperBoundValues",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"bool",name:"_isPut",type:"bool"},{internalType:"uint256",name:"_timeToExpiry",type:"uint256"},{internalType:"uint256",name:"_value",type:"uint256"}],name:"updateUpperBoundValue",outputs:[],stateMutability:"nonpayable",type:"function"}],Xs=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnOtoken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"collateralAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"expiryTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOtokenDetails",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_underlyingAsset",type:"address"},{internalType:"address",name:"_strikeAsset",type:"address"},{internalType:"address",name:"_collateralAsset",type:"address"},{internalType:"uint256",name:"_strikePrice",type:"uint256"},{internalType:"uint256",name:"_expiryTimestamp",type:"uint256"},{internalType:"bool",name:"_isPut",type:"bool"}],name:"init",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isPut",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mintOtoken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strikeAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"strikePrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlyingAsset",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Js=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"isSet",type:"bool"}],name:"AccountOperatorUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"}],name:"CallExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isRestricted",type:"bool"}],name:"CallRestricted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollateralAssetDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"CollateralAssetWithdrawed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"donator",type:"address"},{indexed:!0,internalType:"address",name:"asset",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Donated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldFullPauser",type:"address"},{indexed:!0,internalType:"address",name:"newFullPauser",type:"address"}],name:"FullPauserUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LongOtokenDeposited",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LongOtokenWithdrawed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collateral",type:"address"},{indexed:!1,internalType:"uint256",name:"cap",type:"uint256"}],name:"NakedCapUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldPartialPauser",type:"address"},{indexed:!0,internalType:"address",name:"newPartialPauser",type:"address"}],name:"PartialPauserUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"redeemer",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"address",name:"collateralAsset",type:"address"},{indexed:!1,internalType:"uint256",name:"otokenBurned",type:"uint256"},{indexed:!1,internalType:"uint256",name:"payout",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ShortOtokenBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"otoken",type:"address"},{indexed:!0,internalType:"address",name:"AccountOwner",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"ShortOtokenMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"SystemFullyPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"}],name:"SystemPartiallyPaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"vaultOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"auctionPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"collateralPayout",type:"uint256"},{indexed:!1,internalType:"uint256",name:"debtAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"address",name:"series",type:"address"}],name:"VaultLiquidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"vaultType",type:"uint256"}],name:"VaultOpened",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountOwner",type:"address"},{indexed:!0,internalType:"address",name:"oTokenAddress",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"payout",type:"uint256"},{indexed:!1,internalType:"uint256",name:"vaultId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"vaultType",type:"uint256"}],name:"VaultSettled",type:"event"},{inputs:[],name:"addressbook",outputs:[{internalType:"contract AddressBookInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"calculator",outputs:[{internalType:"contract MarginCalculatorInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callRestricted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_underlying",type:"address"},{internalType:"address",name:"_strike",type:"address"},{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_expiry",type:"uint256"}],name:"canSettleAssets",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"clearVaultLiquidationDetails",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"donate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"fullPauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accountOwner",type:"address"}],name:"getAccountVaultCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getConfiguration",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getNakedCap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getNakedPoolBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"getPayout",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getProceed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVault",outputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVaultLiquidationDetails",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"getVaultWithDetails",outputs:[{components:[{internalType:"address[]",name:"shortOtokens",type:"address[]"},{internalType:"address[]",name:"longOtokens",type:"address[]"},{internalType:"address[]",name:"collateralAssets",type:"address[]"},{internalType:"uint256[]",name:"shortAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"longAmounts",type:"uint256[]"},{internalType:"uint256[]",name:"collateralAmounts",type:"uint256[]"}],internalType:"struct MarginVault.Vault",name:"",type:"tuple"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"hasExpired",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addressBook",type:"address"},{internalType:"address",name:"_owner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"isLiquidatable",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_operator",type:"address"}],name:"isOperator",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_otoken",type:"address"}],name:"isSettlementAllowed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"enum Actions.ActionType",name:"actionType",type:"uint8"},{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"secondAddress",type:"address"},{internalType:"address",name:"asset",type:"address"},{internalType:"uint256",name:"vaultId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"index",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct Actions.ActionArgs[]",name:"_actions",type:"tuple[]"}],name:"operate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"oracle",outputs:[{internalType:"contract OracleInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"partialPauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract MarginPoolInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"refreshConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_isRestricted",type:"bool"}],name:"setCallRestriction",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_fullPauser",type:"address"}],name:"setFullPauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_collateral",type:"address"},{internalType:"uint256",name:"_cap",type:"uint256"}],name:"setNakedCap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operator",type:"address"},{internalType:"bool",name:"_isOperator",type:"bool"}],name:"setOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_partialPauser",type:"address"}],name:"setPartialPauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_fullyPaused",type:"bool"}],name:"setSystemFullyPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_partiallyPaused",type:"bool"}],name:"setSystemPartiallyPaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"uint256",name:"_vaultId",type:"uint256"}],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"systemFullyPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"systemPartiallyPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whitelist",outputs:[{internalType:"contract WhitelistInterface",name:"",type:"address"}],stateMutability:"view",type:"function"}],er=[{inputs:[{internalType:"address",name:"vaultRegistry",type:"address"},{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"},{internalType:"bool",name:"isCall",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"Proxy__ImplementationIsNotContract",type:"error"},{inputs:[],name:"Vault__SettingsUpdateIsEmpty",type:"error"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"VAULT_TYPE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getImplementation",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],tr=[{inputs:[{internalType:"address",name:"diamond",type:"address"},{internalType:"address",name:"base",type:"address"},{internalType:"address",name:"quote",type:"address"},{internalType:"address",name:"oracleAdapter",type:"address"},{internalType:"UD60x18",name:"strike",type:"uint256"},{internalType:"uint256",name:"maturity",type:"uint256"},{internalType:"bool",name:"isCallPool",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"DoublyLinkedList__InvalidInput",type:"error"},{inputs:[],name:"DoublyLinkedList__NonExistentEntry",type:"error"},{inputs:[],name:"ERC165Base__InvalidInterfaceId",type:"error"},{inputs:[],name:"Proxy__ImplementationIsNotContract",type:"error"},{inputs:[{internalType:"UD60x18",name:"x",type:"uint256"}],name:"UD60x18_IntoUD50x28_Overflow",type:"error"},{stateMutability:"payable",type:"fallback"}],nr=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],ar=[{inputs:[{internalType:"address",name:"_aggregator",type:"address"},{internalType:"address",name:"_accessController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"int256",name:"current",type:"int256"},{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"updatedAt",type:"uint256"}],name:"AnswerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"roundId",type:"uint256"},{indexed:!0,internalType:"address",name:"startedBy",type:"address"},{indexed:!1,internalType:"uint256",name:"startedAt",type:"uint256"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"accessController",outputs:[{internalType:"contract AccessControllerInterface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"aggregator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"confirmAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"description",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"getRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_roundId",type:"uint256"}],name:"getTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestAnswer",outputs:[{internalType:"int256",name:"",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRound",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"",type:"uint16"}],name:"phaseAggregators",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"phaseId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_aggregator",type:"address"}],name:"proposeAggregator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proposedAggregator",outputs:[{internalType:"contract AggregatorV2V3Interface",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint80",name:"_roundId",type:"uint80"}],name:"proposedGetRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[],name:"proposedLatestRoundData",outputs:[{internalType:"uint80",name:"roundId",type:"uint80"},{internalType:"int256",name:"answer",type:"int256"},{internalType:"uint256",name:"startedAt",type:"uint256"},{internalType:"uint256",name:"updatedAt",type:"uint256"},{internalType:"uint80",name:"answeredInRound",type:"uint80"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_accessController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],ir=[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Ze={[de]:{TxBuilder:{address:"0x9daA79Dbf6CD067D207194661779677B5Ee29DCF",abi:Ms},TxBuilderOpen_Hegic:{address:"0xb94fe302bF6B707027706996887299120449B6ec",abi:Ds},TxBuilderOpen_Lyra_BTC:{address:"0x74c9F3Fd89406DBf66cd856d7e5Baa790437d61b",abi:As},TxBuilderOpen_Lyra_ETH:{address:"0xF399516F22c4C6BfdA1A4d858Ea188912B846B5c",abi:Es},TxBuilderOpen_Rysk:{address:"0xd824D637174B3D3eEdab2C7a66f3B246c8B7B7f1",abi:Bs},TxBuilderOpen_Premia:{address:"0xcaeCf0e9d03bB4AF9907221A55f822F50c64b032",abi:Os},Exchanger:{address:"0x03E34a4d1F2B88579521086876E781479A544610",abi:Ls},StopOrder_Hegic:{address:"0x83ca705E8eEE363b16935D5FCbC3514530d41C74",abi:Is},StopOrder_Lyra_BTC:{address:"0xDE51a10A711412353e825623F58F56d9D0EA98cF",abi:Fs},StopOrder_Lyra_ETH:{address:"0x06a6815b91c88BDa19832Ada861077e123C34FFb",abi:js},Hegic_OperationalTreasury:{address:"0xec096ea6eB9aa5ea689b0CF00882366E92377371",abi:Ns},Hegic_PositionManager:{address:"0x5fe380d68fee022d8acd42dc4d36fbfb249a76d5",abi:Rs},Hegic_Strategy:{abi:Us},Hegic_PriceCalculator:{abi:Hs},Lyra_OptionToken_BTC:{address:"0x0e97498F3d91756Ec7F2d244aC97F6Ea9f4eBbC3",abi:qs},Lyra_OptionToken_ETH:{address:"0xe485155ce647157624C5E2A41db45A9CC88098c3",abi:$s},Lyra_Quoter:{address:"0x23236b4c7772636b5224df56Be8168A2f42df31C",abi:Vs},Rysk_LiquidityPool:{address:"0x217749d9017cB87712654422a1F5856AAA147b80",abi:Ws},Rysk_OptionCatalogue:{address:"0x44227Dc2a1d71FC07DC254Dfd42B1C44aFF12168",abi:Gs},Rysk_OptionExchange:{address:"0xC117bf3103bd09552F9a721F0B8Bce9843aaE1fa",abi:Ks},Rysk_OptionRegistry:{address:"0x8Bc23878981a207860bA4B185fD065f4fd3c7725",abi:Ys},Rysk_BeyondPricer:{address:"0xeA5Fb118862876f249Ff0b3e7fb25fEb38158def",abi:zs},Rysk_AlphaPortfolioValuesFeed:{address:"0xc7abaec336098cd0dcd98b67cb14d3b18e1c68a8",abi:Qs},Rysk_MarginCalculator:{address:"0x268544e8dc0b016aabda5dfa633c7ec4362aed45",abi:Zs},Rysk_Otoken:{abi:Xs},Rysk_OpynController:{address:"0x594bd4ec29f7900ae29549c140ac53b5240d4019",abi:Js},Premia_Vault:{abi:er},Premia_Pool:{abi:tr},ChainlinkOracle:{abi:ar},UniswapQuoter:{address:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",abi:ir}},[gt]:{}},sr=()=>{for(const e in Ze){const t=Ze[e],n=Oe[e];n&&(n.forEach(s=>{s.isETH||(t[s.symbol]={address:s.address,abi:nr})}),Ze[e]={...t})}};sr();const G=(e,t)=>{if(!Ze[e])throw new Error(`Unknown chainId ${e}`);const n=Ze[e][t];if(!n)throw new Error(`Unknown contract "${t}" for chainId ${e}`);return[n.address,n.abi]},tn=(e,t)=>G(e,t)[0],it=(e,t)=>G(e,t)[1],rr={[de]:"https://arb-mainnet.g.alchemy.com/v2/",[gt]:""},qn=e=>({VITE_ALCHEMY_API_KEY_42161:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",VITE_PREMIA_API_KEY_42161:"sharwa_3ZgugmeGTvPgPXmuxuEeho4J",VITE_SUBGRAPH_API_KEY_42161:"4d7d37cf3bc9fc7cae70d943fb30a47e",BASE_URL:"/sf_draft",MODE:"production",DEV:!1,PROD:!0,SSR:!1})[`VITE_ALCHEMY_API_KEY_${e}`],or=e=>{const t=rr[e],n=qn(e);return`${t}${n}`},z=e=>{const t=qn(e);if(!t)throw new Error(`No Alchemy api key found for chainId ${e}`);return new ci(e,t)},he=()=>{if(!window.ethereum)throw new Error("No Ethereum provider found");return new mi(window.ethereum).getSigner()},pr=async(e,t)=>{const s=(await ur(e,t).latestAnswer()).toBigInt();return ee(s,gs)},ur=(e,t)=>{const n=it(e,"ChainlinkOracle"),s=oe(e,t).oracleAddress;if(!s)throw new Error(`No oracle address set for asset ${t}`);return new $(s,n,z(e))},$n=g.createContext(null),lr=({children:e})=>{const t=yr();return a.jsx($n.Provider,{value:t,children:e})},Mt=()=>g.useContext($n),yr=()=>{const e=Q(),{data:t,error:n}=Pe("useTokenPricesSetup",{fetcher:async()=>{const s={},i=[];return Qt.forEach(o=>{i.push(pr(e,o).then(r=>{s[o]=r}))}),await Promise.all(i),s},refreshInterval:60*1e3,refreshWhenHidden:!0,revalidateOnFocus:!1});return n?(console.log(n),null):t},st=e=>{const t=Mt();return(t==null?void 0:t[e])??0n},dr=()=>{var y;const e=Q(),t=Mt(),[n,s]=g.useState(!1),i=g.useRef(null),o=g.useRef(null),r=g.useRef(null),p=()=>{var T,b,f;const d=(T=r.current)==null?void 0:T.clientWidth,c=((b=i.current)==null?void 0:b.clientWidth)-d;return((f=o.current)==null?void 0:f.clientWidth)>c},u=oi();g.useEffect(()=>{s(p())},[(y=o.current)==null?void 0:y.width,u]);const l=()=>Qt.map(d=>{if(!t)return null;const c=t[d],m=J(c,void 0,void 0,!0),T=oe(e,d);return a.jsx("div",{className:"AssetPricesPanel__item",children:a.jsxs("a",{href:T.url,target:"_blank",rel:"noreferrer","data-tooltip-id":"Tooltip_Asset","data-tooltip-content":T.name,children:[a.jsx(pe,{isHlight:!0,symbol:d,children:a.jsxs("span",{children:["$",m]})}),a.jsx("img",{className:"icon-url",src:Ps,alt:"External url"})]})},d)});return a.jsxs("div",{className:M("AssetPricesPanel",n&&"marquee_rendered"),ref:i,children:[a.jsx("div",{className:"AssetPricesPanel__icon",ref:r,children:a.jsx("img",{src:is,alt:"Graph icon"})}),a.jsx("div",{className:"AssetPricesPanel__items",ref:o,children:n?a.jsx(fi,{pauseOnHover:!0,autoFill:!0,children:l()}):l()})]})},cr=()=>{const e=Tt(),t=[{name:"Option Strategies",to:"/trading/builder"},{name:"Option-Chain",to:"/trading/option-chain"}];return t.forEach(n=>{e.pathname.endsWith(n.to)&&(n.isActive=!0)}),a.jsxs("div",{className:"TradingPage",children:[a.jsx(dr,{}),a.jsx(Kt,{links:t,type:"border"}),a.jsx(ti,{})]})};function At(e,t={maxValue:void 0,placeholder:"",isDisabled:!1,isFocused:!1},n=[Je,Me]){const[s,i]=e,{maxValue:o,placeholder:r,isDisabled:p,isFocused:u}=t,[l,y]=n,[d,c]=g.useState(!1),m=g.useRef(null);return{node:a.jsx("input",{autoFocus:u,type:"text",ref:m,value:s,disabled:p,placeholder:r,onChange:T=>{o&&y(T.target.value)>o?i(l(o)):i(l(T.target.value))},onFocus:()=>{c(!0)},onBlur:()=>{c(!1)}}),hasFocus:d,ref:m}}const mr=e=>{const{value:t,setValue:n,maxValue:s,formatInputStringFns:i,hasError:o,isDisabled:r,unitStr:p,placeholder:u}=e,l=At([t,n],{maxValue:s,placeholder:u,isDisabled:r},i),y=M(e.className,l.hasFocus&&"hlight",o&&"error",r&&"disabled");return a.jsxs("div",{className:M("InputFamily Input",y),onClick:()=>{l.ref.current.focus()},children:[l.node,a.jsx("div",{className:"Input__unit",children:p})]})},De="#46956A",se="#C75E4B",_n="#D99445",Nt="#6988FF",ut="#747FA6",jt="#3A4466",Tr="",fr={positive:"+",negative:"",neutral:""},ie="Limited",fe="Unlimited",Re="Bullish",Rt="Bearish",ke="Neutral",Te={"Long Call":{stats:{outlooks:[Re],profit:fe,loss:ie,description:"When you believe that the price ofthe underlying asset will rise."},structure:[1],key:1,color:De},"Short Call":{stats:{outlooks:[Rt],profit:ie,loss:fe,description:"When you believe that the price ofthe underlying asset will fall."},structure:[-1],key:101,color:se},"Covered Call":{stats:{outlooks:[Re],profit:ie,loss:fe,description:"When you believe that the price ofthe underlying asset will rise."},structure:[-1],key:201,color:se},"Long Put":{stats:{outlooks:[Rt],profit:fe,loss:ie,description:"When you believe that the price ofthe underlying asset fall."},structure:[2],key:2,color:De},"Short Put":{stats:{outlooks:[Re],profit:ie,loss:fe,description:"When you believe that the price ofthe underlying asset will rise."},structure:[-2],key:102,color:se},"Long Strangle":{stats:{outlooks:[ke],profit:fe,loss:ie,description:"When you believe that the price ofthe underlying asset will rise orfall."},structure:[1,2],key:3,color:_n},"Short Strangle":{stats:{outlooks:[ke],profit:ie,loss:fe,description:"When you believe that the price ofthe underlying asset wont rise orfall significantly."},structure:[-1,-2],key:103,color:se},"Covered Strangle":{stats:{outlooks:[ke,Re],profit:ie,loss:fe,description:"When you believe that the price ofthe underlying asset isatorabove the strike price ofthe short call atexpiration."},structure:[-1,-2],key:203,color:se},"Long Straddle":{stats:{outlooks:[ke],profit:fe,loss:ie,description:"When you believe that the price ofthe underlying asset changes when the direction ofthe change could beeither upordown."},structure:[1,2],key:4,color:_n},"Short Straddle":{stats:{outlooks:[ke],profit:ie,loss:fe,description:"When you believe that the price ofthe underlying asset wont rise orfall significantly."},structure:[-1,-2],key:104,color:se},"Covered Straddle":{stats:{outlooks:[ke,Re],profit:ie,loss:fe,description:"When you believe that the price ofthe underlying asset isatorabove the strike price ofthe short call atexpiration."},structure:[-1,-2],key:204,color:se},"Iron Butterfly":{stats:{outlooks:[ke],profit:ie,loss:ie,description:"When you believe that the price ofthe underlying asset wont rise orfall significantly."},structure:[2,-2,-1,1],key:5,color:Nt,plural:"Iron Butterflies"},"Iron Condor":{stats:{outlooks:[ke],profit:ie,loss:ie,description:"When you believe that the price ofthe underlying asset wont rise orfall significantly."},structure:[2,-2,-1,1],key:6,color:Nt},"Bull Call Spread":{color:De},"Bear Put Spread":{color:se}},br={[Re]:De,[ke]:Nt,[Rt]:se},Vn=Object.keys(Te).filter(e=>Te[e].key),hr={Lyra_ETH:0,Lyra_BTC:1,Hegic:2,Rysk:3,Premia:4},Ut=.003,xr=.005,Wn={PARENT_COMPLEX:"parent_complex",PARENT_SIMPLE:"parent_simple",CHILD:"child"},gr=e=>{const{amountStrState:t,strategy:n}=e,[s,i]=t,o=Te[n].plural??`${n}s`;return a.jsxs("div",{className:"BuilderForm__field BuilderForm__field_amount",children:[a.jsx("div",{className:"BuilderForm__field-header",children:"Enter Amount"}),a.jsx("div",{className:"BuilderForm__field-body",children:a.jsx(mr,{value:s,setValue:i,unitStr:o})})]})},_r="/sf_draft/assets/strategy-selector-icon-3c32aef3.svg",vr=e=>{const{strategyState:t,isDisabled:n}=e,[s,i]=t,o=Vn.map(r=>({value:r,label:r}));return a.jsxs("div",{className:"BuilderForm__field BuilderForm__field_strategy",children:[a.jsxs("div",{className:"BuilderForm__field-header",children:["Strategy",a.jsx("div",{className:"BuilderForm__field-tip tip","data-tooltip-id":"BuilderForm_WhenPurchaseTooltip",children:"When purchase"})]}),a.jsx("div",{className:"BuilderForm__field-body",children:a.jsx(Fe,{options:o,defaultValue:s,onChange:r=>{i(r.value)},iconNode:a.jsx("img",{src:_r,alt:"Strategy selector icon"}),className:"Selector_thin-options",isDisabled:n})})]})};const Ce=e=>{const{style:t,hasLeftMargin:n}=e;return a.jsx("div",{className:"Spinner",children:a.jsx(bi,{className:"Spinner__icon",style:{marginLeft:n?7:0,...t}})})},Et=(e,t,n=a.jsx(Ce,{}))=>t?n:e,rt=(e,t,n=a.jsx(Ce,{}))=>t?n:e(),Z=(e="",t,n)=>a.jsx("span",{className:M("muted",n&&"muted_light"),style:{fontSize:t?13:"inherit"},children:e}),Cr=(e,t,n,s,i,o)=>{const r=ce(s,t.decimals),p=new $(...G(e,t.symbol),he());_t(e,p.approve,[n,ge.from(r)],`${t.symbol} approved.`,i,o)},wr=async(e,t,n,s,i)=>{xe(i);const o=new $(...G(e,t.symbol),z(e)),r=ce(i,t.decimals);return(await o.allowance(n,s)).toBigInt()>=r},Gn=(e,t)=>{const n=kt[t];return ce(e,n)},nn=(e,t)=>{const n=kt[t];return ee(e,n)},kr=e=>e.startsWith("W"),Kn=(e,t)=>{const n=e.address!==t.address,s=e.isETH!==t.isETH;return n||s},Ee=e=>{const t=Math.abs(e)===1,n=e>0;return{isCall:t,isBuy:n}},an=e=>!!e.find(t=>!Ee(t)),Sr=e=>!!e.find(t=>Ee(t)),Pr=e=>!!e.find(t=>t),Mr=(e,t,n)=>{let s;const i=`W${n}`,o=t.split(" ")[0],{isCall:r}=Ee(e);return!r||o==="Short"?s=["USDC.e"]:o==="Covered"?s=[i]:o==="Iron"&&(s=["USDC.e",i]),s},Ar=e=>{const t=e.includes("Straddle"),n=e==="Iron Butterfly";if(t)return[0,1];if(n)return[1,2]},Er=(e,t)=>{if(!(e!=null&&e[0].market))return;if(e.length>1){const s=e.find(i=>i.market===t);if(s)return s}return e[0]},sn=(e,t)=>new $(...G(e,`TxBuilderOpen_${t}`),z(e)),Dr=e=>{const t=new $(...G(e,"TxBuilderOpen_Hegic"),z(e)),n=new $(...G(e,"TxBuilderOpen_Lyra_BTC"),z(e)),s=new $(...G(e,"TxBuilderOpen_Lyra_ETH"),z(e)),i=new $(...G(e,"TxBuilderOpen_Rysk"),z(e)),o=new $(...G(e,"TxBuilderOpen_Premia"),z(e));return{Hegic:t,Lyra_ETH:s,Lyra_BTC:n,Rysk:i,Premia:o}},Br=(e,t,n)=>{if(!t)return n;let s=0,i=0;return e.map(r=>{const{isBuy:p}=Ee(r);return p?t[s++]:n[i++]})},Or=e=>{const t=Object.keys(e);return t?!!t.find(s=>!e[s][0].isAbsent):!1},Yn=(e,t)=>{var s;return(s=e==null?void 0:e.decomposition)!=null&&s.length?!!e.decomposition.find(i=>{if(!i)return;const o=i.marketToken,r=t??e.paymentToken;return!o||!r?!1:Kn(o,r)}):!1},ne=1e3,ot=60,et=60,tt=24,zn=e=>e*tt*et*ot*ne,rn=e=>Math.floor(e/ne/ot/et/tt),Ge=e=>Math.floor(e/ne),on=(e,t)=>{if(e<0)return`0d:0h${t?":0m":""}`;const n=e/ne/ot/et,s=Math.floor(n%tt),i=Math.floor(n/tt),o=Math.floor((n-Math.floor(n))*et);return t?`${i}d:${s}h:${o}m`:s===0&&i===0?`${o}m`:`${i}d:${s}h`};const Ir="/sf_draft/assets/Hegic-50361d0c.svg",Fr="/sf_draft/assets/Hegic_circled-5c5ab1db.svg",jr="/sf_draft/assets/Hegic_circled-light-22a3e4bd.svg",Lr="/sf_draft/assets/Lyra-c47cec23.svg",Nr="/sf_draft/assets/Lyra_circled-f19738d0.svg",Rr="/sf_draft/assets/Lyra_circled-light-23753028.svg",Ur="/sf_draft/assets/Rysk-954aae04.svg",Hr="/sf_draft/assets/Rysk_circled-15f0a9af.svg",qr="/sf_draft/assets/Rysk_circled-light-6138a794.svg",$r="/sf_draft/assets/Premia-71c688dd.svg",Vr="/sf_draft/assets/Premia_circled-38554b78.svg",Wr="/sf_draft/assets/Premia_circled-38554b78.svg",pn={Hegic:{common:Ir,circled:Fr,circledLight:jr},Lyra:{common:Lr,circled:Nr,circledLight:Rr},Rysk:{common:Ur,circled:Hr,circledLight:qr},Premia:{common:$r,circled:Vr,circledLight:Wr}},Ht=["delta","vega","gamma","theta"],vn=8,Gr=[7,14,30,60,90],ct=Gr.map(zn),Dt=1e4,Kr=.003,Yr=()=>{const e=Q(),{data:t,error:n}=Pe("_useDates",async()=>{let s;try{s=[...zr(),...await Qr(e)]}catch(i){console.log(i)}return s?ht(s).sort(xt):null},{refreshInterval:5*ot*ne,revalidateOnFocus:!1});return n?(console.log(n),null):t},zr=()=>ct.map((t,n)=>{const s=new Date(Date.now()+t),i=n===0,o=n===ct.length-1,r=s.getUTCHours()>=vn,p=s.getUTCDate();return i&&r&&s.setUTCDate(p+1),o&&!r&&s.setUTCDate(p-1),s.setUTCHours(vn),s.setUTCMinutes(0),s.setUTCSeconds(0),s.setUTCMilliseconds(0),s.getTime()}),Qr=async e=>{const t=new $(...G(e,"Rysk_LiquidityPool"),z(e)),n=new $(...G(e,"Rysk_OptionCatalogue"),z(e)),{minExpiry:s,maxExpiry:i}=await t.optionParams();return n.getExpirations().then(o=>o.map(p=>Number(p)*ne).filter(p=>{const u=Number(s)*ne,l=Number(i)*ne;if(!(p<Date.now())&&!(p-Date.now()<u)&&!(p-Date.now()>l))return!0}))},Qn=g.createContext(null),Zr=({children:e})=>{const t=Xr();return a.jsx(Qn.Provider,{value:t,children:e})},je=()=>g.useContext(Qn),Xr=()=>{const e=Yr(),t=He("chosen-date",null);return{dates:e,chosenDateState:t}},Jr=e=>{const{strategyStructure:t,chosenDateState:n,resetTriggers:s,isDisabled:i,updateUnstableField:o}=e,{account:r}=X(),[p,u]=n,y=je().dates??[],d=()=>{u(null)};g.useEffect(()=>{d()},s);const c=(b,f="d MMM")=>{const x=b-Date.now();return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"BuilderForm__date-value",children:We(b,f)}),a.jsx("div",{className:"BuilderForm__date-period",children:on(x)})]})},m=y.map(b=>({value:b,label:c(b)})),T=p&&m.find(b=>b.value===p);return a.jsxs("div",{className:"BuilderForm__field BuilderForm__field_date",children:[a.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),a.jsx("div",{className:"BuilderForm__field-body",children:t.map((b,f)=>{const{isCall:x,isBuy:h}=Ee(b),v=Et(a.jsx(Fe,{className:"Selector_thin-options",placeholder:"Choose Date",isDisabled:i||!r,options:m,value:T,formatOptionLabel:({value:C},{selectValue:D,context:O})=>{var I;if(O==="menu")return c(C);const k=((I=D[0])==null?void 0:I.value)===C?"d MMM hh a":"d MMM";return c(C,k)},onChange:C=>{u(C.value)},iconTextNode:a.jsxs("span",{className:M({positive:h,negative:!h},"block"),style:{width:25},children:[h?"Buy":"Sell",a.jsx("br",{}),x?"Call":"Put"]})},f),ae(y),a.jsx(Ce,{},f));return o(f,v),v})})]})},un=(e,t,n,s)=>{const[i,o]=n.split(".");let r=e[i],p=t[i];return o&&(r=r&&r[o],p=p&&p[o]),xt(r,p,s)},eo=(e,t)=>(n,s)=>un(n,s,e,t),Bt=(e,t,n)=>{if(!e||!Object.keys(e).length)return{...t};if(!t)return;const s={...e};n||(n=Object.keys(e));for(let i=0;i<n.length;i++){const[o,r]=n[i].split("."),p=r?e[o][r]:e[o],u=r?t[o][r]:t[o],l=p+u;r?(s[o]||(s[o]={}),s[o][r]=l):s[o]=l}return s};const Zn=(e,t)=>`${e?"Long":"Short"} ${t?"Call":"Put"}`,Xn=(e,t,n)=>e?n>t:n<t,mt=(e,t,n=te)=>en(e,1+t,n),Ke=(e,t,n)=>{const s=Se(t,me(n))*100n,i=Y(-100),o=Y(100);return e===null?s:e?s<i?i:s:s>o?o:s},Jn=()=>({delta:void 0,vega:void 0,gamma:void 0,theta:void 0,rho:void 0}),ea=(e,t)=>{const n=Bt(e,t);for(const s in n){const i=n[s];n[s]=i?Ie(i,3):void 0}return n},to=(e,t,n)=>{if(e===null)return null;const s=Math.abs(e);let i=t?s:-s;return n||(i=-i),i},ln=(e,t=te)=>q(e,t),no=(e,t)=>{const n=()=>{const o=b=>(1+r(b/Math.sqrt(2)))/2,r=b=>{const f=.254829592,x=-.284496736,h=1.421413741,v=-1.453152027,C=1.061405429,D=.3275911,O=Math.sign(b);b=Math.abs(b);const F=1/(1+D*b),k=1-((((C*F+v)*F+h)*F+x)*F+f)*F*Math.exp(-b*b);return O*k},p=(b,f,x,h,v)=>{const C=(Math.log(b/f)+(h+.5*v**2)*x)/(v*Math.sqrt(x)),D=C-v*Math.sqrt(x);return b*o(C)-f*Math.exp(-h*x)*o(D)},u=(b,f,x,h,v)=>{let C=.2,D=.001,O=1;const F=1e-5;let k=p(b,f,x,h,C),I=0;const A=1e3;for(;Math.abs(k-v)>F&&I<A;)k<v?D=C:O=C,C=(D+O)/2,k=p(b,f,x,h,C),I++;return C},l=q(t),y=q(e.strike),d=(e.expiry-Date.now())/ne/ot/et/tt/365,c=q(e.premiumData.inUSDC);return u(l,y,d,.01,c)},s=o=>`${Math.floor(o*100)}%`,i=n();return{value:i,formatted:s(i)}};function Cn(){const{innerWidth:e,innerHeight:t}=window;return{width:e,height:t}}function ao(){const[e,t]=g.useState(Cn());return g.useEffect(()=>{function n(){t(Cn())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const we=(e=768)=>{const{width:t}=ao();return t<e},io=({getParentNode:e,getChildNodes:t})=>{const[n,s]=pi(!1),i=M(n&&"expanded"),o=e(i,s),r=t(i);return a.jsxs(a.Fragment,{children:[o,...r]})};const ta=({children:e,transitionTimeout:t=250,renderHeader:n=({state:s})=>s.isEnter?"Hide":"Show"})=>a.jsx("div",{className:"Accordion",children:a.jsx(_i,{transition:!0,transitionTimeout:t,children:a.jsx(vi,{header:n,children:e})})});const nt=({isVertical:e})=>a.jsx("div",{className:M("Divider",e&&"vertical")});class na{constructor(t){const{titleData:n,itemsData:s}=t,i=Object.keys(n);this.titleData=n,this.itemsData=s,this.dataKeys=i}}class so extends na{constructor(t){super(t),this.getTitleRow=this.getTitleRow.bind(this),this.getItemsRows=this.getItemsRows.bind(this)}getTitleRow(){const t=this._getCells(this.titleData,!0);return a.jsxs("tr",{children:[...t]})}getItemsRows(){const t=this.itemsData.map(n=>{const s=this._getItemRow(n);return a.jsx(Ue.Fragment,{children:s},n.id)});return a.jsx(Ue.Fragment,{children:t},"rows")}_getCells(t,n){return this.dataKeys.map(s=>{const i=t[s]??Z();return n?a.jsx("th",{children:i},s):a.jsx("td",{children:i},s)})}_getItemRow(t){const n=!!t.children,s=this._getCells(t),i=(r,p)=>{const u=[r,t.className];return a.jsxs("tr",{className:M("Table__item",n&&"expandable",u),onClick:p,children:[...s]})};return n?this._getExpandableRow(t,i):i()}_getExpandableRow(t,n){const s=i=>t.children.map(r=>{const p=this._getCells(r);return a.jsxs("tr",{className:M("Table__child-item",i),children:[...p]},r.id)});return a.jsx(io,{getParentNode:n,getChildNodes:s},t.id)}}class ro extends na{constructor(t){super(t),this._getItem=this._getItem.bind(this)}getItems(){return this.itemsData.map(this._getItem)}_renderItemRows(t){const n=t.omittedKeys;return this.dataKeys.map(i=>{const o=t[i];return n&&!!n.find(p=>i===p)||ae(o)?null:a.jsxs("div",{className:M("Table__item-row info-row",i),children:[a.jsx("div",{className:"info-row__title",children:this.titleData[i]}),a.jsx("div",{className:"info-row__value",children:o===null?Z():o})]})})}_getItem(t){const n=t.className;return a.jsxs("div",{className:M("Table__item App-box",n),children:[this._renderItemRows(t),t.children&&a.jsxs(a.Fragment,{children:[a.jsx(nt,{}),a.jsx(ta,{transitionTimeout:500,renderHeader:({state:s})=>`${s.isEnter?"Hide":"Show"} full strategy`,children:t.children.map(s=>a.jsxs(a.Fragment,{children:[a.jsx(nt,{}),a.jsx("div",{className:"Table__child-item",children:this._renderItemRows(s)})]}))})]})]})}}const aa=({structureData:e,className:t,children:n})=>{const s=we(576),i=p=>{if(!p){const u=new so(e),{getTitleRow:l,getItemsRows:y}=u;p=[a.jsx("thead",{children:l()},"head"),a.jsx("tbody",{children:y()},"body")]}return a.jsx("div",{className:"Table__desktop",children:a.jsx("table",{children:p})})},o=()=>{const u=new ro(e).getItems();return a.jsx("div",{className:"Table__mobile",children:u})},r=()=>s?o():i();return a.jsx("div",{className:M("Table",t),children:n!=null&&n.length?i(n):r()})};const ia="/sf_draft/assets/direction_up-f2313617.svg",sa="/sf_draft/assets/direction_down-591f3c38.svg",ra=({strikeData:e,priceNode:t,isPriceHlight:n,isSmall:s})=>{const{market:i,isCall:o,isBuy:r}=e,p=pn[i].circled,u=r?ia:sa;return a.jsxs("div",{className:M("Brief","PriceBrief",s&&"small"),children:[a.jsxs("div",{className:"PriceBrief__icons Brief__icons",children:[a.jsx("div",{className:"Brief__icon",children:a.jsx("img",{src:p,alt:`${i}`})}),a.jsx("div",{className:"Brief__icon",children:a.jsx("img",{src:u,alt:`${r?"Long":"Short"}`})})]}),a.jsx("div",{className:M("PriceBrief__info-card",{positive:r,negative:!r}),children:o?"Call":"Put"}),a.jsx("div",{className:M("PriceBrief__price",n&&"hlight"),children:t})]})},oo=e=>{const{id:t,amountStr:n,strikeMarketsDataArr:s,chosenStrikeData:i,setChosenStrikeData:o,isOpen:r,close:p}=e,[u,l]=g.useState([]),y=()=>{const f=[];s.forEach((x,h)=>{const v=Y(Me(n));x.utils.calcPremium(v).then(C=>{x.premiumData=C,f[h]=C,l([...f])})})};if(g.useEffect(()=>{l([]),s&&y()},[s,n]),!s)return null;const d=23,m=80-d,b=200-d;return a.jsx("div",{className:M("StrikeInfoBox",r&&"open"),style:{zIndex:9-t*2},children:a.jsxs(aa,{onClick:f=>f.stopPropagation(),children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:a.jsx("div",{style:{minWidth:b},children:"Market"})}),a.jsx("th",{children:a.jsx("div",{style:{minWidth:m},children:"Source"})}),a.jsx("th",{children:a.jsx("div",{style:{minWidth:m},children:"Delta"})}),a.jsx("th",{children:a.jsx("div",{style:{minWidth:m},children:"Vega"})}),a.jsx("th",{children:a.jsx("div",{style:{minWidth:m},children:"Gamma"})}),a.jsx("th",{children:a.jsx("div",{style:{minWidth:m},children:"Theta"})}),a.jsx("th",{children:a.jsx("div",{style:{width:m},children:"Rho"})})]})}),a.jsx("tbody",{children:s.sort(eo("premiumData.inUSDC")).map((f,x)=>{const{greeks:h,source:v}=f,C=u[x],D=!C||C.isDisabled,O=f===i;return a.jsxs("tr",{className:M("StrikeInfoBox__strike-option",D&&"disabled",O&&"chosen"),children:[a.jsxs("td",{children:[a.jsx("button",{className:"StrikeInfoBox__strike-option-overlay-btn",onClick:()=>{o(f),p()},disabled:D}),a.jsx(ra,{strikeData:f,priceNode:rt(()=>C===null?Z("No liquidity",!0):`$${J(C.inUSDC)}`,ae(C)),isPriceHlight:!0})]}),a.jsx("td",{children:v??"AMM"}),Object.keys(h).map(F=>{const k=h[F];return a.jsx("td",{children:k??Z()},F)})]},f.market)})})]})})};const $e=e=>{const{children:t}=e;return a.jsx("div",{className:"InnerWarning",children:t})};Ci();const oa=({id:e,className:t,isUnited:n,spaceBetween:s,isDraggable:i,breakpoints:o,handleInit:r,slideClassName:p,children:u})=>{const l=g.useRef(null),y=`${n?`.${t}`:`#${e}`}`,d={spaceBetween:s,allowTouchMove:i,breakpoints:o,navigation:{enabled:!0,prevEl:`${y} .Carousel__nav-btn_prev`,nextEl:`${y} .Carousel__nav-btn_next`},on:{init:c=>{c.el.style.overflow="clip visible",r&&r(c)}}};return g.useEffect(()=>{const c=l.current;c&&(Object.assign(c,d),c.initialize())},[l,d]),a.jsxs("div",{className:M("Carousel",t),id:e,children:[a.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_prev"}),a.jsx("swiper-container",{init:!1,ref:l,children:u==null?void 0:u.map((c,m)=>a.jsx("swiper-slide",{class:p,children:c},m))}),a.jsx("button",{className:"Carousel__nav-btn Carousel__nav-btn_next"})]})};const po=e=>{const{asset:t}=e;return a.jsx(oa,{breakpoints:{768:{slidesPerView:"auto"},576:{slidesPerView:7,grid:{fill:"row",rows:2}},520:{slidesPerView:6,grid:{fill:"row",rows:2}},380:{slidesPerView:5,grid:{fill:"row",rows:2}},0:{slidesPerView:4,spaceBetween:4,grid:{fill:"row",rows:2}}},spaceBetween:5,className:"StrikeCarousel",isDraggable:!1,isUnited:!0,slideClassName:`StrikeCarousel__slide_${t}`,children:e.children})},yn=e=>Object.keys(e).map(Number),uo=e=>{const t={},n=e.map(i=>i.strike);return ht(n).forEach(i=>{const o=e.filter(p=>p.strike===i),r=ln(i);t[r]=o}),t},lo=e=>e.map(uo),yo=e=>{const t=[];return e.forEach(s=>{const i=yn(s);t.push(...i)}),ht(t)},co=e=>{const t=yo(e);return e.map(s=>{const i=yn(s),o={...s};return t.forEach(r=>{i.indexOf(r)===-1&&(o[r]=[{strike:Y(r),isAbsent:!0}])}),o})},pa=e=>{const t=lo(e);return co(t)};const mo=e=>{const{currentPrice:t,isFirst:n}=e;return a.jsx("div",{className:M("StrikeCurrentPriceItem","StrikeChooser__item",n&&"StrikeCurrentPriceItem_first"),children:a.jsxs("span",{children:["$",ye(t)]})})};const To="/sf_draft/assets/cross_grey-cde8ab6b.svg",fo=e=>{const{isITM:t}=e;return a.jsx("div",{className:M("StrikeAbsentItem","StrikeChooser__item",t&&"StrikeChooser__item_ITM"),children:a.jsx("img",{src:To,alt:"Absent"})})},bo=({className:e,id:t,isAutoSelectEnabled:n,structureKey:s,asset:i,amountStr:o,strikesData:r,chosenStrikeData:p,setChosenStrikeData:u})=>{const{isConnected:l}=X(),y=st(i),d=Math.floor(q(y)),c=t===0,m=we(),[T,b]=g.useState(null),f=B=>{const R={};for(const L in B){const w=B[L][0],{isCurrentPrice:_,isAbsent:S}=w;_&&S||(R[L]=B[L])}return R},x=()=>{const B=f(r);let R;for(const L in r){const U=r[L][0];if(U.isCurrentPrice||d===U.strike){U.isCurrentPrice=!0,R=U;break}}return R||(B[d]=[{strike:y,isCurrentPrice:!0,isAbsent:!0}]),B},h=()=>{if(r){if(!Or(r))return{strikes:[],dataArr:[]};let B=x();const R=yn(B).sort(xt),L=Object.values(B).sort((U,w)=>{const _=U[0],S=w[0];return un(_,S,"strike")});return{strikes:R,dataArr:L}}return{}},{strikes:v,dataArr:C}=h(),D=!!(v!=null&&v.length),{openPopup:O,closePopup:F,isOpen:k}=An(()=>b(null)),I=()=>a.jsx(po,{asset:i,children:v.map((B,R)=>{const L=C[R],U=L[0],{isCurrentPrice:w,isAbsent:_}=U;if(w&&_)return a.jsx(mo,{currentPrice:B,isFirst:c},"current_price");const{isCall:S}=Ee(s),P=Xn(S,B,d);if(_)return a.jsx(fo,{isITM:P},R);const j=p&&p.strike===Y(B),V=j&&p.market,K=T===L;return a.jsxs(_e,{className:M("StrikeChooser__item",P&&"StrikeChooser__item_ITM",j&&"chosen",K&&"open",w&&M("StrikeCurrentPriceItem",c&&"StrikeCurrentPriceItem_first")),style:{cursor:"pointer"},type:"stroke",onClick:E=>{k&&E.stopPropagation(),b(L),O()},children:[j&&a.jsx("div",{className:"StrikeChooser__item-market",children:a.jsx("img",{src:pn[V].circledLight,alt:`${V} icon`})}),a.jsxs("span",{children:["$",ye(B)]})]},B)})}),A=()=>r?D?a.jsx("div",{className:"StrikeChooser__items",style:{zIndex:10-t*2},children:I()}):a.jsx($e,{children:"No Liquidity"}):a.jsxs($e,{children:[l?"C":"Connect wallet and c","hoose expiration date to view strikes"]});return a.jsxs("div",{className:M("StrikeChooser",e,m&&!r&&"hidden"),children:[A(),a.jsx(oo,{id:t,amountStr:o,strikeMarketsDataArr:T,chosenStrikeData:p,setChosenStrikeData:u,isOpen:k,close:F})]})},ho=()=>g.useContext(ua),xo=()=>{const[e,t]=g.useReducer(go,{});return[e,t]},go=(e,t)=>{switch(t.type){case"added":{const{asset:n,dateMs:s,strikesForDate:i}=t;return e[n]||(e[n]={}),e[n][s]||(e[n][s]=i),{...e}}case"reset":return{};default:throw Error(`Unknown action: ${t.type}`)}},ua=g.createContext(null),la=g.createContext(null),_o=({children:e})=>{const[t,n]=xo();return a.jsx(ua.Provider,{value:t,children:a.jsx(la.Provider,{value:n,children:e})})},vo={[de]:{short:{CALL_100_BTC:"0x527d1086C3DD22FcdB338F69D47A1e4bFE11E539",CALL_100_ETH:"0x09a4B65b3144733f1bFBa6aEaBEDFb027a38Fb60",CALL_110_BTC:"0x377191F680b52ce3d0060388fEF01be7ef68e3d5",CALL_110_ETH:"0xF48f571DdD77dba9Ae10fefF6df04484685091D9",CALL_120_BTC:"0x8Fb8529695237D4004cffb21499e7E49E982786a",CALL_120_ETH:"0x96416b82C9DFA7649570c784Eb0D0FFcDE361cFE",CALL_130_BTC:"0x32563D6151891c0A8d56eD644AcDEa6FE5f4E4eB",CALL_130_ETH:"0xf8b8b54bE1Eb37E76873670Ac9DE3C28b507142C",PUT_100_BTC:"0xA8DF600289bEc25602741756f55f27ffFDAB69a6",PUT_100_ETH:"0xaA0DfBFb8dA7f45BB41c0fB68B71FAEB959B22aa",PUT_70_BTC:"0x7066286C1AA0FeBE0f63eF8a44F6Fea9F05FFBE0",PUT_70_ETH:"0x35EF16F3c329a54050Ca120145340dfC2b4F9541",PUT_80_BTC:"0x06c3Ba025bEd24Ea38c2BdDA4bcD2A7F9f5C30e1",PUT_80_ETH:"0x77C8d12d9E2D21f6eE02E8ccA332fDe4BE5C2465",PUT_90_BTC:"0xe115beD3b0752BBbbEF5C423021b464bBF93dC2c",PUT_90_ETH:"0x6B7e5906F53d8bB365f4A6fA776Fd0f0caf57881","CALL-SPREAD_10_BTC":"0x5D0bc0d08e8A7C09d10df9BB2498f1d4aB986e6A","CALL-SPREAD_10_ETH":"0x5c59f7ec23C0Bace3B1959C99A43FFd30078E5bE","CALL-SPREAD_20_BTC":"0x597cdD5D4CEC7FA2851Cc0cfd93d6915c926a107","CALL-SPREAD_20_ETH":"0x4490ad3c0c1A61061E88a3eaD661bFe16225A370","CALL-SPREAD_30_BTC":"0xc822F483dAE467721123eA60D3D233e7ac68802f","CALL-SPREAD_30_ETH":"0x610D7feB49DD18BBC20E4dbe600c53E1cDf6d9F1","PUT-SPREAD_10_BTC":"0x45b9D63F1998ca31151981792849a64342C88631","PUT-SPREAD_10_ETH":"0xc4C3b5050D574CBF3eE0b613104cF5C4E47625d4","PUT-SPREAD_20_BTC":"0x606e34C7008f1425C3a69446de4cAd3D7c6fd96D","PUT-SPREAD_20_ETH":"0xa1c290D16E2290EA536a13Ba7cc3Df0000A0f1A6","PUT-SPREAD_30_BTC":"0x71D89f44C71252f319Cd9652f7886c3834685A58","PUT-SPREAD_30_ETH":"0x8F11Ed84e9Dc76db4392b428A0eAF98Ce72c3752"},medShort:{CALL_100_BTC:"0x20ee3e61e8f1eB8ae959abf5F78bA8731d010Ac3",CALL_100_ETH:"0x6418C3514923a6464A26A2ffA5f17bF1efC96a21",CALL_110_BTC:"0xaFA483B18FE66251C8306C7018028f674F653012",CALL_110_ETH:"0xaF38a4d9153B149F05FA85C2cCFAaA677c99040E",CALL_120_BTC:"0xFe35F1AB7e18930d4316B86fCefBCF053bf44A45",CALL_120_ETH:"0x1060e80c1156060a1E8DdB9C64Afe74564865Ee2",CALL_130_BTC:"0xe4DB400BFC4D627559D592db4ca2839cb87Fbbfc",CALL_130_ETH:"0xc00103524932d86770d4F671107b0E170BD0fe6c",PUT_100_BTC:"0xE0f083fd87ebAEBFCfa8236098048105d32639E4",PUT_100_ETH:"0x2739A4C003080A5B3Ade22b92c3321EDa2Da3A9e",PUT_70_BTC:"0x52442a8C632D4c998A8BDBf44A70481AA5599b0e",PUT_70_ETH:"0x48EcF46Aa51992a064aB172439ABFE182F39b478",PUT_80_BTC:"0xb02343D33d2447870E38b3452Ef59d0De7b3289d",PUT_80_ETH:"0xb58ccd922B57422d0497904B7D9fccB922b8aaDf",PUT_90_BTC:"0x7d0c3FDF0e8A6f475Ed1834ae05fDa1E519fd227",PUT_90_ETH:"0x3e2a0fE32Cc000d87D9e5D6ed8b3D64e9c74C752","CALL-SPREAD_10_BTC":"0x6FF946F2BB609B63910a774E193F29CdE7E8fD5f","CALL-SPREAD_10_ETH":"0x0ac1995C43B5566760AD1D88B812f3e51e12eCc6","CALL-SPREAD_20_BTC":"0x7E8e5eaD9A1b8F0533F614a736214a95835c79d7","CALL-SPREAD_20_ETH":"0x1068daF4CD8fDe2000B6FbE8Ec94F106dc08a40E","CALL-SPREAD_30_BTC":"0x3b4900D5a20dbEbCE44eDF8f6B68Dae32E990Ed0","CALL-SPREAD_30_ETH":"0x24db3145F45aAF2c54f586C66b801c42c8658671","PUT-SPREAD_10_BTC":"0x88386f02c46d8D7b2C9E4aEf3b4246A438F72693","PUT-SPREAD_10_ETH":"0x31e6Cd148fe51830E7a97262eE9cf52Fe5256B08","PUT-SPREAD_20_BTC":"0x72Ac8A96b8E79466AdcE711EcBD1Ec5968b371C8","PUT-SPREAD_20_ETH":"0x9e1072E5119C9345d9543a5Ba1EFeDBAE9bEF2AD","PUT-SPREAD_30_BTC":"0x01381e0EDdB57678257179d2cB472C3e8e54202c","PUT-SPREAD_30_ETH":"0xE8dD9Cc3A4Bd078f3D36043f259381d5B50D4B45"},medLong:{CALL_100_BTC:"0x21a4b4441AA957735902507A72A58A3a1Caaa0dC",CALL_100_ETH:"0xE377A1a97237b3B89a96d8B731A2ab10d5DaC16C",CALL_110_BTC:"0x6c46e2531a42F618F2ae452971DC9a7c6AD48D15",CALL_110_ETH:"0x05458B7d9531EaD242290De60bEaa3cC10C87560",CALL_120_BTC:"0xe259410Bbfb45CE89FDA81ec0A97d36Da8Db4374",CALL_120_ETH:"0x79F87E88088293FE34dEf4eBe71fBFa5367220B4",CALL_130_BTC:"0x27806482457FC98F9C2e724b5E604C66BB5ba121",CALL_130_ETH:"0xae2F4e15564995af79b7dd2378B2680f7Facc342",PUT_100_BTC:"0x035b965c5B7bC20E00358ACF1794d2248eA1932A",PUT_100_ETH:"0xf711D0BC60F37cA28845BA623ccd9C635E5073A1",PUT_70_BTC:"0x55c4532e1790592120b7b27436842caD203E7CD3",PUT_70_ETH:"0xF55F6d98e2F48F8D46757D5A6e225bf0ADC9651C",PUT_80_BTC:"0x8dD239e0e51BCAAd503b06D818ce811e7D99c1Af",PUT_80_ETH:"0xdF30cdb7abb3Ca707b82359A349D3b0C94d4a421",PUT_90_BTC:"0xE56BEAfAe4731A21eF83fe81F63b95055e81E374",PUT_90_ETH:"0x33a4B4403B8C6349371CbDf539138D78ec0Aab66","CALL-SPREAD_10_BTC":"0x8e3063D5dCbe66E58053C3Bc8E0BC8dDFe43D585","CALL-SPREAD_10_ETH":"0xBB318170Ce1c2dc79B564f33F92BacaadaBd22de","CALL-SPREAD_20_BTC":"0x324be893029D982c187F0333E7aa1d44365d2676","CALL-SPREAD_20_ETH":"0xb89d7eB2bc675347BEb685ff1bE1557E983beFe1","CALL-SPREAD_30_BTC":"0x530289340C6d2Ef02140054Ae7F91C293fd586CF","CALL-SPREAD_30_ETH":"0x929d20D9e1A6A90bf057857C8BA09271f1BaadA2","PUT-SPREAD_10_BTC":"0x7267091cFc9825a4A1dF36C26d412FeFD788d935","PUT-SPREAD_10_ETH":"0x2B93645f310E016c1a6d1738DCec0f18621F71d0","PUT-SPREAD_20_BTC":"0x9ab2f8530150799CDdAC35799d18Ad2fe05Bf8c3","PUT-SPREAD_20_ETH":"0x4EE21aB8bc165Cd3e6C45676F9f64426Ffc2d67b","PUT-SPREAD_30_BTC":"0xBa883223A1757eEB781d02C383926c308d4843f4","PUT-SPREAD_30_ETH":"0xf87C8C7587055FA62082E8ed447fe68D98805fF2"},long:{CALL_100_BTC:"0xc07fBf677f417bb9FfDD8248A74c7FBcCFaDAe9e",CALL_100_ETH:"0x2727B807D22fCAeB7F900F49894054Ed92b9125B",CALL_110_BTC:"0x14d25367102A931E2E2F587F4ED94087dc585fd0",CALL_110_ETH:"0xE53a20c824cEAB8151AF8Fc92E7Eb689cFbD1231",CALL_120_BTC:"0xBAbccB37338488AFBaBECAE2C3D21b9a71289A73",CALL_120_ETH:"0xB7b36483B256290435a060805bdF15B3f2b122eb",CALL_130_BTC:"0x9fA4DFfBE3B129988e0d09536b0E2D74F6bF7D91",CALL_130_ETH:"0x4dC39763ccC861dB1c8e80c34C0079c9A12f03E4",PUT_100_BTC:"0xEd46f602212d1CbaCd699C876b4A49761421bf97",PUT_100_ETH:"0x015FAA9aF7599e6cea597EBC7e7e04A149a3E992",PUT_70_BTC:"0xa26541ccE18CcC6E21360562d34044ceb3B5A40e",PUT_70_ETH:"0x5BBe6C4A66D4a48442dc0837a0eA859a11D7766C",PUT_80_BTC:"0xFD203c73851986ad7e7B99457AeafF3d98e76228",PUT_80_ETH:"0x7FD5E8B2Ef25A105bf6B1c45f62d8925Eaa068Bc",PUT_90_BTC:"0x02d730e3dEb3B5876fE2Cba59423ef1Db8211DA1",PUT_90_ETH:"0x3031EA515c2274024D93A8D3BfA91ce920E1192E","CALL-SPREAD_10_BTC":"0x0c1C4D9dFd51093bE1e4Bab1b565113B339835F6","CALL-SPREAD_10_ETH":"0xCe5e136688A1553C67b3B39Ff5366595dD0F771E","CALL-SPREAD_20_BTC":"0x7b92a9f268bab14F0FAee4337B01D563AE132Bc3","CALL-SPREAD_20_ETH":"0xe3F646CB987a9d16eb71B8d0883744e55c95862a","CALL-SPREAD_30_BTC":"0x223b806Bab0CA844a91b247fE0Ba179E11EAA728","CALL-SPREAD_30_ETH":"0x199DB958f00F150438E5b9276ff30617D3f83ebF","PUT-SPREAD_10_BTC":"0x66F54921b32cCA36767D2C272Dda64D5152B92C4","PUT-SPREAD_10_ETH":"0xfcd40dDe82b699D455B3D073196d580227C2Fba6","PUT-SPREAD_20_BTC":"0x8c77f5427B40ab2414dC9bca48c74928BFe17Dd1","PUT-SPREAD_20_ETH":"0xbAe8114E3A2EA5aF5e2b3c8F6FF37714f6D4afFB","PUT-SPREAD_30_BTC":"0x6D79b82701e4017887d499Ba131FD336ceA6A4CC","PUT-SPREAD_30_ETH":"0x9945Eb8ac1F4c524fe7Da710ff3068969A329fBA"}}},Co={[de]:{PUT_100_BTC:"0x4567600c2c813322F0CBb358a8d083296A7eEA37",PUT_100_ETH:"0xB72FC913e45522cD721252476fEfB7F50a65E23A",PUT_70_BTC:"0x3aFbaf00a6C42e6BE67f8a618b17fB3D441C1898",PUT_70_ETH:"0xf3625e26cb920f762dEC8DB4fE4845E9384313C0",PUT_80_BTC:"0x9C3BBe90191F8311939A34737c02A6B49e27caA5",PUT_80_ETH:"0x58051Cb78094551afC202C50085B13bF00BF624E",PUT_90_BTC:"0x56A2dC3fAc4bE0A1716c938295e141195e4A1cb3",PUT_90_ETH:"0x1AF37c8412bCdAa6C6dD4D2E2aDae2B8292603D4",CALL_100_BTC:"0xAA4483Da5c4D17830dE9a843d07C37b3eC028d9F",CALL_100_ETH:"0xC62a0b7e480a23BdCfe13EA08BDAceDc278a14C1",CALL_110_BTC:"0x04BFC83f6277cf50dFB032EFd348316aACbD7863",CALL_110_ETH:"0x6316BC5f5dF141ae88C436Fe6047D334f1B7e485",CALL_120_BTC:"0x965Ded687bc0Da3388c6925e0Eb330bD44629B77",CALL_120_ETH:"0x321F8A71e8268f50eBd2f748D524E7750AD70798",CALL_130_BTC:"0x4b350b7457b54C5A76828f81472f2719D801D0D5",CALL_130_ETH:"0xffdc9da896d3301DE596b16a389138B70b1CBAdb","CALL-SPREAD_10_BTC":"0xD3872581C3f7DE832Ecc9Aa51eb525AC9Ffc41d2","CALL-SPREAD_10_ETH":"0x3BC74C993e1E85ffB5e242402aEc3e90DCfa249f","CALL-SPREAD_20_BTC":"0x7f6a7d60c6f7ac50BD0efA677D397d9cd61fC3a9","CALL-SPREAD_20_ETH":"0x8C335E897B04B2Ca569Ec733f6242cDe33917094","CALL-SPREAD_30_BTC":"0x631c5EFb3e9D2536F9c9c9d7635e2B01363C51C5","CALL-SPREAD_30_ETH":"0xAe4897D4d3742F7f9C6A1eA01447EA3061bD6de2","PUT-SPREAD_10_BTC":"0xa4A32102a2c1d3Bf01A73B66571B440795835ff5","PUT-SPREAD_10_ETH":"0x5a4Dc7011CA0be61c42957cDC36D508d45010D8B","PUT-SPREAD_20_BTC":"0x0cC3559beCa7bB605348B1a7B4D90963672C880a","PUT-SPREAD_20_ETH":"0xeb38c2Ba3125733e9636eAB7C3c2e7a2C4A11534","PUT-SPREAD_30_BTC":"0x4CE72803543da3f563Ef76592945C57FBE7fce38","PUT-SPREAD_30_ETH":"0xDB044975100aE87d0eEDd804D9E6083a8406fdAe"}},dn=e=>{const t=vo[e];if(!t)throw new Error(`No Hegic strategies found for chainId ${e}`);return t},wo=(e,t)=>{const n=dn(e),s=rn(t);if(s<7||s>90)return;let i;return s<14?i=n.short:s<30?i=n.medShort:s<60?i=n.medLong:s<=90&&(i=n.long),i},ko=e=>{const t={},n=dn(e);return Object.values(n).forEach((s,i)=>{const o=Object.keys(t)[i];for(const r in s){const p=s[r];t[`${r}_${o}`]=p}}),t},So=e=>{const t=dn(e),n=[];return Object.values(t).forEach(s=>{n.push(...Object.values(s))}),n},Po=(e,t)=>{const n=Co[e];if(!n)throw new Error(`No Hegic Price Calculator address found for chainId ${e}`);const s=n[t];if(!s)throw new Error(`No Hegic Price Calculator address found for strategy key ${t}`);return s},ya=(e,t,n)=>{const s=it(e,`Hegic_${n}`);return new $(t,s,z(e))},Mo=(e,t)=>{const n=Po(e,t);return ya(e,n,"PriceCalculator")},da=(e,t)=>ya(e,t,"Strategy"),ca=.005*10**5,cn=(e,t,n,s)=>{const i=Lt(e,t),o=Lt(e,n),r=ce(s,i.decimals);return t===n||r===0n||i.isStable&&o.isStable?new Promise(l=>{l(s)}):new $(...G(e,"UniswapQuoter"),he()).callStatic.quoteExactInput(Gt.solidityPack(["address","uint24","address"],[t,ca,n]),r).then(l=>{const y=l.toBigInt();return ee(y,o.decimals)}).catch(l=>{console.log(`Swapping ${i.symbol} to ${o.symbol} error!

`,l)})},Le=(e,t,n)=>{const s=jn(e);return cn(e,t,s,n)},Ao=(e,t,n)=>{const s=jn(e);return cn(e,s,t,n)},Eo=(e,t)=>Gt.solidityPack(["address","uint24","address"],[e,ca,t]);class Ot{constructor(t){this.getMarketToken=n=>oe(n,t)}}class Do extends Ot{constructor(){super("USDC.e")}calcDeltaByAssetPrice(t,n){const{isCall:s,strike:i,amount:o}=t,r=q(o);return s?i<n?r:0:i>n?-r:0}calcDeltaByStrikeScale(t,n){const{isCall:s,amount:i}=t;return s?Number(n)<100?i:0:Number(n)>100?-i:0}}const mn=new Do,ma={PROTOCOL_NAME:"Hegic"},Bo=async(e,t,n)=>{if(!Oo(t))return[];const{assetPrice:i}=n,{expiry:o}=t,r=o-Date.now();t={...t,period:r};const p=wo(e,r);return p?await Io(e,p,t,i):[]},Oo=e=>{const{isBuy:t}=e;if(t)return!0},Io=async(e,t,n,s)=>{const{amount:i,asset:o,isCall:r}=n,p=[],u=Object.keys(t);for(let y=0;y<u.length;y++){const d=u[y],c=t[d],m={strategyKey:d,strategyAddress:c},T=Fo(d,o,r),b=await jo(e,c,n),f=b>=i;if(!T||!f)continue;const x=Lo(e,m,n,s),h=x.utils.calcPremium(i).then(v=>({...x,liquidity:b,premiumData:v})).catch();p.push(h)}return await Promise.all(p).then(Ho)},Fo=(e,t,n)=>{const[s,,i]=e.split("_");return!(s.includes("SPREAD")||n!==(s==="CALL")||i!==t)},jo=async(e,t,n)=>{const{asset:s,period:i}=n,o=new $(t,it(e,"Hegic_Strategy"),z(e)),r=Ge(i);let p=0n;try{const u=(await o.getAvailableContracts(r,[])).toBigInt();p=ee(u,kt[s])}catch{}return p},Lo=(e,t,n,s)=>{const{isCall:i,asset:o,expiry:r}=n,{strategyKey:p}=t,[,u]=p.split("_"),l=Uo(u,s),y=No(e,t,n),d=mn.calcDeltaByStrikeScale(n,u);return{market:"Hegic",protocolName:ma.PROTOCOL_NAME,asset:o,strike:l,expiry:r,isCurrentPrice:u==="100",isCall:i,isBuy:!0,greeks:{delta:d,vega:void 0,gamma:void 0,theta:void 0,rho:void 0},utils:y}},No=(e,t,n)=>{const{strategyKey:s,strategyAddress:i}=t,{asset:o,period:r}=n;return{calcPremium:async l=>Ro(e,s,n,l),getBuilderParams:async(l,y,d)=>{const c=Gn(l,o),m=y.premiumData.inMarketToken,T=ks(m,d);return sn(e,ma.PROTOCOL_NAME).encodeFromHegic(i,c,Ge(r),T,[])}}},Ro=async(e,t,n,s)=>{const{asset:i,period:o}=n,r=mn.getMarketToken(e),p=Gn(s,i),u=Mo(e,t),l=Ge(o),y=await u.calculatePremium(l,p,0).then(BigInt),d=ee(y,r.decimals);return{inUSDC:await Le(e,r.address,d),inMarketToken:d,marketToken:r}},Uo=(e,t)=>{const n=q(t),s=Math.floor(n*(e/100));return Y(s)},Ho=e=>e.filter(t=>t&&t.premiumData),Tn=e=>e.charAt(0).toUpperCase()+e.slice(1),qo=e=>e[e.length-1];class $o extends Ot{constructor(){super(),this.queryPremia=this.queryPremia.bind(this),this.queryDynamicContract=this.queryDynamicContract.bind(this),this._unfoldPremiaArgument=this._unfoldPremiaArgument.bind(this),this._getClosingQuoteOptions=this._getClosingQuoteOptions.bind(this),this._bestQuoteByProvider=this._bestQuoteByProvider.bind(this)}async queryPremia(t){const n={VITE_ALCHEMY_API_KEY_42161:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",VITE_PREMIA_API_KEY_42161:"sharwa_3ZgugmeGTvPgPXmuxuEeho4J",VITE_SUBGRAPH_API_KEY_42161:"4d7d37cf3bc9fc7cae70d943fb30a47e",BASE_URL:"/sf_draft",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[`VITE_PREMIA_API_KEY_${t}`],s={VITE_ALCHEMY_API_KEY_42161:"tz_aYA5g8dBegbWo1l6TQEY7cKhGZCh1",VITE_PREMIA_API_KEY_42161:"sharwa_3ZgugmeGTvPgPXmuxuEeho4J",VITE_SUBGRAPH_API_KEY_42161:"4d7d37cf3bc9fc7cae70d943fb30a47e",BASE_URL:"/sf_draft",MODE:"production",DEV:!1,PROD:!0,SSR:!1}[`VITE_SUBGRAPH_API_KEY_${t}`];return await hi.Premia.initialize({chainId:t,provider:or(t),signer:he(),apiKey:n,useTestnet:!1,subgraphUri:`https://gateway-arbitrum.network.thegraph.com/api/${s}/subgraphs/id/8SxuHUYYBLHs1UkgFFYNaS7MgrEiAMbDyt5YzwZsSa6R`})}async queryDynamicContract(t,n,s){const i=await this._unfoldPremiaArgument(t);return s=Tn(s),new $(n,it(i.chainId,`Premia_${s}`),z(i.chainId))}async queryVaultContract(t,n){const s=await this._unfoldPremiaArgument(t),i=(await s.vaults.getVaults(n))[0].address;return await this.queryDynamicContract(s,i,"Vault")}async queryClosingQuote(t,n){const s=await this._unfoldPremiaArgument(t),i=this._getClosingQuoteOptions(n),o=await s.options.quotesByProvider(i),r=this._bestQuoteByProvider(o);return r&&(r.isBuy=!n.isBuy),r}calcClosingPremium(t,n){if(!n)return null;const{amount:s}=t,i=nn(n.isBuy?n.price+n.takerFee:n.price-n.takerFee,t.base.symbol);return Ae(i,s)}async _unfoldPremiaArgument(t){let n=t;return typeof t=="number"&&(n=await this.queryPremia(chainId)),n}_getClosingQuoteOptions(t){return{...t,isBuy:!t.isBuy,poolAddress:t.address,token:t.base,referrer:Ct}}_bestQuoteByProvider(t){if(!t)return null;let n;for(const s in t){const i=t[s][0];if(!i)continue;const o=BigInt(i.price),r=(n==null?void 0:n.price)??0n;o>r&&(n={...i,providerType:s})}return n}}const Ve=new $o,Ta={PROTOCOL_NAME:"Premia"},Vo=async(e,t,n)=>{const{assetPrice:s}=n,i=await Ve.queryPremia(e);return await Wo(i,t,s)},Wo=async(e,t,n)=>{const i=Go(e,n).map(r=>Ko(e,t,r));return await Promise.allSettled(i).then(Vt).then(r=>r.filter(p=>p))},Go=(e,t)=>{const n=q(t);return e.options.getSuggestedStrikes(n).map(i=>Y(i))},Ko=async(e,t,n)=>{const{asset:s,amount:i,isCall:o,isBuy:r,expiry:p}=t,l={token:oe(e.chainId,s).address,size:i,strike:n,maturity:Ge(p),isCall:o,isBuy:r,referrer:Ct},y=await e.options.quotesByProvider(l).then(d=>{var c;return(c=d.vault)==null?void 0:c[0]}).catch(console.log);if(y){const d=Yo(e,t,y),c=await d.calcPremium(Y(1),y);return{market:"Premia",protocolName:Ta.PROTOCOL_NAME,source:"Vault",asset:s,strike:n,expiry:p,isCall:o,isBuy:r,premiumData:c,greeks:Jn(),utils:d,isComingSoon:!r,marketLink:"https://app.premia.blue/"}}},Yo=(e,t,n)=>{const{asset:s,isBuy:i,isCall:o}=t,{chainId:r}=e,p=o?s:"USDC.e";let u=oe(r,p);return u.isWrappable&&(u=oe(r,`W${p}`)),{calcPremium:async(d,c=void 0)=>{let m=c==null?void 0:c.price;if(!c)try{m=await e.vaults.getQuote(c.provider,c.poolKey,d,i,c.taker)}catch{}if(!m)return null;const T=ee(m,u.decimals);return{inUSDC:await Le(r,u.address,T),inMarketToken:T,marketToken:u}},getBuilderParams:async(d,c)=>{const{premiumData:m}=c,T=ce(m.inMarketToken,m.marketToken.decimals);return await sn(r,Ta.PROTOCOL_NAME).encodeFromPremia(n.provider,n.poolKey,d,i,T)}}},It={PROTOCOL_NAME:"Rysk",SLIPPAGE:.003,EMPTY_SERIES:{expiration:1n,strike:1n,isPut:!0,collateral:re,underlying:re,strikeAsset:re},OPERATION_TYPES:{Opyn:0,Rysk:1},RYSK_ACTION_TYPES:{Issue:0,Buy:1,Sell:2,Close:3}};class zo extends Ot{constructor(){super("USDC"),this._queryDhvExposure=this._queryDhvExposure.bind(this),this._calcExpiredPremium=this._calcExpiredPremium.bind(this),this.getMarketToken=this.getMarketToken.bind(this),this.getIsExpired=this.getIsExpired.bind(this),this.getIsSellPremiumTooSmall=this.getIsSellPremiumTooSmall.bind(this),this.calcPremiumWithGreeks=this.calcPremiumWithGreeks.bind(this),this.queryFees=this.queryFees.bind(this)}async _queryDhvExposure(t,n){return new $(...G(t,"Rysk_AlphaPortfolioValuesFeed"),z(t)).netDhvExposure(Ti(["uint64","uint128","bool"],[n.expiration,n.strike,n.isPut])).then(i=>BigInt(i))}async _calcExpiredPremium(t,n,s){const i=new $(...G(t,"Rysk_MarginCalculator"),z(t)),o=this.getMarketToken(t),r=await i.getExpiredPayoutRate(n).then(u=>ee(BigInt(u),o.decimals)).catch(()=>null);return r===null?null:Ae(s,r)}getIsExpired(t){return t.expiration*ne<Date.now()}getIsSellPremiumTooSmall(t,n){return me(t)>>3n<=n}async calcPremiumWithGreeks(t,n,s,i,o,r){const p=!i,u=this.getMarketToken(t),l=this.getIsExpired(n);let y;if(l)y=this._calcExpiredPremium(t,n.address,s).then(T=>T===null?null:{delta:null,premiumInMarketToken:T});else{const T=new $(...G(t,"Rysk_BeyondPricer"),z(t)),b=await this._queryDhvExposure(t,n);y=T.quoteOptionPrice(n,s,p,b).then(async f=>{f=ve(f);const{totalPremium:x,totalFees:h}=f;if(!r&&p&&this.getIsSellPremiumTooSmall(x,h))return null;const v=q(f.totalDelta,void 0,3),C=mt(x+h,It.SLIPPAGE,u.decimals),D=ee(C,u.decimals);return{delta:v,premiumInMarketToken:D}}).catch(()=>null)}const d=await y;if(d===null)return null;const{delta:c,premiumInMarketToken:m}=d;return Le(t,u.address,m).then(T=>{const b={marketToken:u,inMarketToken:m,inUSDC:T};return o?b:{premiumData:b,greeks:{delta:c,vega:void 0,gamma:void 0,theta:void 0,rho:void 0}}})}getOptionSeries(t,n,s,i,o=void 0,r=void 0){const p=oe(t,"USDC").address,u=oe(t,"WETH").address;return{expiration:Ge(n),strike:s,isPut:!i,strikeAsset:p,underlying:u,collateral:r??p,address:o}}async queryFees(t,n){const i=await(async()=>{const r=new $(...G(t,"Rysk_BeyondPricer"),z(t)),p=this.getMarketToken(t),u=(await r.feePerContract()).toBigInt();return ee(u,p.decimals)})();return Ae(n,i)}async calcPnlWithGreeks(t,n,s,i,o,r){const p=this.calcPremiumWithGreeks(t,n,s,!o,!1,!0).then(h=>{if(h===null)return null;const{inUSDC:v,inMarketToken:C}=h.premiumData;return o||(h.premiumData.inUSDC=-v,h.premiumData.inMarketToken=-C),h}),u=this.queryFees(t,s),[l,y]=await Promise.all([p,u]);if(l===null)return null;const{premiumData:d,greeks:c}=l;c.delta=to(c.delta,!n.isPut,o);const{inUSDC:m}=d,T=o&&m===0n,b=Ae(s,r),f=T?-b:m-b-y;return{pnl:{inUSDC:f,inPercentage:Ke(o,f,b),closePrice:Se(m,s)},greeks:c}}async validateOptionSeries(t,n,s){return await new $(...G(t,"Rysk_OptionExchange"),z(t)).checkHash({...s,strike:ce(s.strike,8)},s.strike,!n).then(()=>!0).catch(()=>!1)}}const be=new zo,Qo=async(e,t,n)=>{if(!await Zo(e,t))return[];const{account:i}=n,r=(await Xo(e,t)).map(async u=>Jo(e,t,u,i));return await Promise.all(r).then(Wt)},Zo=async(e,t)=>{const n=()=>{const{asset:r}=t;if(r==="ETH")return!0};return!await(async()=>new $(...G(e,"Rysk_OptionExchange"),z(e)).paused())()&&n()},Xo=async(e,t)=>{const{expiry:n,isCall:s}=t;return(await new $(...G(e,"Rysk_OptionCatalogue"),z(e)).getOptionDetails(Ge(n),!s)).map(p=>BigInt(p))},Jo=async(e,t,n,s)=>{const{asset:i,amount:o,isCall:r,isBuy:p,expiry:u}=t,l=ep(e,t,n,s),y=await l.calcPremiumWithGreeks(o);if(!y)return null;const{premiumData:d,greeks:c}=y;return{market:"Rysk",protocolName:It.PROTOCOL_NAME,source:"DHV",asset:i,strike:n,expiry:u,isCall:r,isBuy:p,premiumData:d,greeks:c,utils:l,isComingSoon:!p,marketLink:"https://app.rysk.finance/"}},ep=(e,t,n,s)=>{const{expiry:i,isCall:o,isBuy:r}=t,p=be.getOptionSeries(e,i,n,o),u=async d=>l(d,!0),l=async(d,c)=>await tp(e,t,d,p)?be.calcPremiumWithGreeks(e,p,d,r,c):null;return{calcPremium:u,calcPremiumWithGreeks:l,getBuilderParams:async(d,c)=>{const{PROTOCOL_NAME:m,OPERATION_TYPES:T,RYSK_ACTION_TYPES:b}=It,f=sn(e,m),{premiumData:x}=c,h=be.getMarketToken(e),v=x.inMarketToken,C=ce(v,h.decimals);let D;if(r)D=[{actionType:b.Issue,owner:re,secondAddress:re,asset:re,vaultId:0,amount:0,optionSeries:p,indexOrAcceptablePremium:0,data:re},{actionType:b.Buy,owner:re,secondAddress:s,asset:re,vaultId:0,amount:d,optionSeries:p,indexOrAcceptablePremium:C,data:re}];else throw new Error("Selling Rysk options is currently unavailable");return await f.encodeFromRyskFinance([{operation:T.Rysk,operationQueue:D}]).catch(console.log)}}},tp=async(e,t,n,s)=>{const{isBuy:i}=t,{validateOptionSeries:o}=be,[r,p]=await Promise.all([np(e,n),o(e,i,s)]);return!!(r&&p)},np=async(e,t)=>{const{minAmount:n,maxAmount:s}=await ap(e);if(t>=n&&t<=s)return!0},ap=async e=>{const t=new $(...G(e,"Rysk_OptionExchange"),z(e)),[n,s]=await Promise.all([t.minTradeSize(),t.maxTradeSize()]);return{minAmount:BigInt(n),maxAmount:BigInt(s)}},fa=(e,t)=>{var y;const n=ho(),s=g.useContext(la),i=Q(),{account:o}=X(),r=st(e),p=(y=n==null?void 0:n[e])==null?void 0:y[t],{data:u,error:l}=Pe(t&&r&&[n,t,e,r,"fetchStrikesForDate"],async()=>p||await ip(i,e,t,{account:o,assetPrice:r}));return g.useEffect(()=>{!p&&u&&!l&&s({type:"added",asset:e,dateMs:t,strikesForDate:u})},[u]),l?(console.log(l),null):u},ip=async(e,t,n,s)=>{const i={asset:t,expiry:n,amount:Y(1)},o=[{...i,isCall:!0,isBuy:!0,strategy:"Long Call"},{...i,isCall:!1,isBuy:!0,strategy:"Long Put"},{...i,isCall:!0,isBuy:!1,strategy:"Short Call"},{...i,isCall:!1,isBuy:!1,strategy:"Short Put"}],r={},p=[];return o.forEach(l=>{const y=Promise.allSettled([Bo(e,l,s),Qo(e,l,s),Vo(e,l,s)]).then(Vt).then(d=>{const c={strategy:l.strategy,strikes:[]};return d.forEach(m=>{c.strikes.push(...m)}),c}).catch(console.log);p.push(y)}),(await Promise.all(p)).forEach(l=>{r[l.strategy]=l.strikes}),r},sp=e=>{const{asset:t,strategy:n,amountStr:s,chosenDate:i,strategyStructure:o,hasSell:r,strikesDataArrState:p,chosenStrikesState:u,areStrikesLoadingState:l,updateTriggers:y,resetTriggers:d,updateUnstableField:c}=e,[m,T]=p,[b,f]=u,[x,h]=l,v=fa(t,i),C=()=>{if(h(!0),o.forEach((F,k)=>{m[k]=[];const{isCall:I,isBuy:A}=Ee(F),B=Zn(A,I);v!=null&&v[B]&&(m[k]=[...v[B]])}),v){const F=pa(m);T([...F]),h(!1)}},D=()=>{f([])},O=()=>{T([])};return g.useEffect(()=>{D(),O()},d),g.useEffect(()=>{i&&C()},[...y,v]),a.jsxs("div",{className:M("BuilderForm__field","BuilderForm__field_strike",!r&&"col-span-2"),children:[a.jsx("div",{className:"BuilderForm__field-header",children:a.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_StrikeTooltip",children:"Strike"})}),a.jsx("div",{className:"BuilderForm__field-body",children:o.map((F,k)=>{const I=Ar(n),A=I&&I.indexOf(k)!==-1,B=Et(a.jsx(bo,{id:k,isAutoSelectEnabled:o.length===1,structureKey:F,asset:t,amountStr:s,strikesData:m[k],chosenStrikeData:b[k],setChosenStrikeData:R=>{if(b[k]=R,A){const L=q(R.strike),U=R.market;I.filter(_=>_!==k).forEach(_=>{const S=Er(m[_][L],U);b[_]=S})}f([...b])}},k),x,a.jsx(Ce,{},k));return c(k,B),B})})]})};const rp=e=>{const{liqPrice:t,isLiqPriceLoading:n,isInLastHalf:s}=e,i=a.jsx("span",{className:"muted_light",children:"..."}),o=a.jsx("span",{className:"muted_light",children:""}),r=()=>`$${J(t)}`;return a.jsxs("div",{className:M("CollateralLiqPrice",s&&"CollateralLiqPrice_down"),children:["Liq. Price:",a.jsxs("span",{className:"CollateralLiqPrice__val",children:[n&&i,!n&&(t?r():o)]})]})};const op=({min:e,max:t,collateralData:n,handleClick:s})=>a.jsx("div",{className:"CollateralRangeBtns",children:[e,t].map((i,o)=>{const r=n.isBase,p=ye(Ie(q(i),Qe)),u=at(i,n.marketToken.isStable),l=o===0;return a.jsxs(Ue.Fragment,{children:[a.jsxs("button",{onClick:()=>s(p),children:[r?"":"$",u]},o),l?"":""]},o)})});const pp=({collateralData:e,collateralAmountStr:t,onChange:n})=>{const{isBase:s}=e,i=s?1:0,o=q(e.min,te,i),r=q(e.max,te,i),p=Me(t),u=s?.01:1;return a.jsx("div",{className:"CollateralSlider",children:a.jsx(wi,{defaultValue:0,value:p,min:o,max:r,step:u,onChange:n})})},up=e=>{const{isInLastHalf:t,getCollateralData:n,collateralData:s,setCollateralData:i,collateralTokens:o,chosenStrike:r,updateTriggers:p,resetTriggers:u}=e,[l,y]=g.useState(""),[d,c]=g.useState(o[0]),[m,T]=g.useState(!1),[b,f]=g.useState(!1),x=()=>{y(""),c(o[0]),i(null)},h=()=>{y(""),i(null)};g.useEffect(()=>{x()},u),g.useEffect(()=>{r&&(T(!0),h(),v(!0))},[r,d]);const v=k=>{let I;if(!k&&l){const A=Me(l);I=Y(A)}n(d,I).then(A=>{i(A),T(!1),f(!1)})};ft(()=>{m||(f(!0),v())},wt,[l,...p]);const C=At([l,y],{placeholder:"0"}),D=o.map(k=>({value:k,label:a.jsx(pe,{symbol:k,isHlight:!0,children:k})})),O=M(C.hasFocus&&"hlight"),F=()=>a.jsxs(a.Fragment,{children:[s&&a.jsx(rp,{liqPrice:s.liquidationPrice,isLiqPriceLoading:b,isInLastHalf:t}),rt(()=>a.jsxs("div",{className:"CollateralChooser__input-container",children:[a.jsx("div",{className:"CollateralChooser__input",children:C.node}),s&&a.jsx(op,{min:s.min,max:s.max,collateralData:s,handleClick:k=>{y(k)}}),s&&a.jsx(pp,{collateralData:s,collateralAmountStr:l,onChange:k=>{const I=Je(k);y(I)}})]}),m),a.jsx("div",{className:"CollateralChooser__token-selector",children:a.jsx(Fe,{options:D,defaultValue:d,isDisabled:D.length===1,onChange:k=>{c(k.value)}},`CollateralChooser__token-selector_${d}`)})]});return a.jsx("div",{className:M("CollateralChooser",O),children:r?r.isComingSoon?a.jsxs($e,{children:[r.market," is coming soon"]}):F():a.jsx($e,{children:"Strike required"})})},lp=e=>{const{asset:t,amountStr:n,strategy:s,strategyStructure:i,hasSell:o,chosenStrikes:r,collateralDataArrState:p,updateTriggers:u,resetTriggers:l,updateUnstableField:y}=e,[d,c]=p,m=()=>{c([])};g.useEffect(()=>{m()},l);const T=(f,x)=>{d[f]=x,c([...d])},b=(f,x,h)=>{const v=r[f];if(!v||!v.utils.getCollateralData)return new Promise(()=>{});const C=Y(Me(n)),D=kr(x),O=ge.from(h??0);return v.utils.getCollateralData(C,{isBaseCollateral:D,setToCollateral:O})};return o?a.jsxs("div",{className:"BuilderForm__field BuilderForm__field_collateral",children:[a.jsx("div",{className:"BuilderForm__field-header",children:a.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),a.jsx("div",{className:"BuilderForm__field-body",children:i.map((f,x)=>{const{isBuy:h}=Ee(f);if(h)return a.jsx("div",{className:"BuilderForm__field-empty-row",children:Z()},x);const v=r[x],C=Mr(f,s,t),D=x>(i.length-1)/2,O=a.jsx(up,{isInLastHalf:D,collateralTokens:C,collateralData:d[x],setCollateralData:F=>T(x,F),getCollateralData:(F,k)=>b(x,F,k),chosenStrike:v,updateTriggers:u,resetTriggers:l},x);return y(x,O),O})})]}):null};const yp=e=>{const{strategyStructure:t,unstableFields:n,chosenStrikes:s,strikesDataArr:i,areStrikesLoading:o}=e;return we()?a.jsxs("div",{className:"BuilderMobileContainer BuilderForm__field",children:[a.jsx("div",{className:"BuilderForm__field-header",children:"Expiration Date"}),a.jsx("div",{className:"BuilderForm__field-body",children:t.map((p,u)=>{const l=o||!!i[u],y=!!s[u],d=!!n.collateral[u],c=u===t.length-1;return a.jsxs("div",{className:"BuilderMobileContainer__item",children:[a.jsx("div",{className:M("BuilderMobileContainer__item-date",l&&"mb-7"),children:n.date[u]}),a.jsx("div",{className:"BuilderMobileContainer__item-strike",children:n.strike[u]}),d&&y&&a.jsxs("div",{className:M("BuilderMobileContainer__item-collateral"),children:[a.jsx("div",{className:"BuilderMobileContainer__item-title",children:a.jsx("span",{className:"tip","data-tooltip-id":"BuilderForm_CollateralTooltip",children:"Collateral"})}),n.collateral[u]]}),l&&!c&&a.jsx(nt,{})]},u)})})]}):null};class dp extends Ot{constructor(){super("USDC.e")}getLyra(t){return new ki({provider:z(t)})}getSoftMaxCollateral(t,n,s){const i=(y,d=18)=>Gt.parseUnits(y.toFixed(d).toString(),d),o=ge.from(10).pow(18),r=2.5,p=s?t.strikePrice:t.strike().strikePrice,u=(t.newSize??t.size).mul(p).div(o).mul(i(r)).div(o);return n.max?n.max:u.gt(n.min)?u:n.min}async queryFormatCollateral(t,n,s){if(!n)return null;n=ve(n);const{isBase:i,liquidationPrice:o,max:r,min:p}=n,u=`W${s}`,l=oe(t,i?u:"USDC.e"),y=await Le(t,l.address,n.amount??0n);return{inMarketToken:n.amount,marketToken:l,inUSDC:y,isBase:i,liquidationPrice:o,min:p,max:r}}}const fn=new dp;const ba=({asset:e,setAsset:t,isDisabled:n})=>{const s=Qt.map(i=>({value:i,label:a.jsx(pe,{symbol:i,isHlight:!0,children:i})}));return a.jsxs("div",{className:"OptionController AssetController",children:[a.jsx("div",{className:"OptionController__title",children:"Asset"}),a.jsx("div",{className:"AssetController__selector",children:a.jsx(Fe,{options:s,defaultValue:e,isDisabled:n,onChange:i=>{t(i.value)}})})]})},cp=e=>{const{assetState:t,strategyState:n,amountStrState:s,chosenDateState:i,strikesDataArrState:o,chosenStrikesState:r,collateralDataArrState:p}=e,[u,l]=t,[y]=n,[d]=s,[c]=i,m=Te[y].structure,T=an(m),b=g.useState(!1),[f]=b,[x]=r,[h]=o,v=Q(),C=fn.getLyra(v),[D,O]=g.useState(void 0),F=()=>{O(void 0);const L=`W${u}`;C.markets().then(U=>{const w=U.find(_=>_.baseToken.symbol===L);O(w??null)})};g.useEffect(()=>{F()},[u]);const k={strike:[c],collateral:[d]},I={date:[u,y],strike:[u,y,c],collateral:[u,y,c],unstableFields:[y]},[A,B]=g.useState({date:[],strike:[],collateral:[]}),R=(L,U,w)=>{A[L][U]=w};return g.useEffect(()=>{B({date:[],strike:[],collateral:[]})},I.unstableFields),a.jsxs("div",{className:"BuilderForm__fields",children:[a.jsx(ba,{asset:u,setAsset:l,isDisabled:f}),a.jsx(vr,{strategyState:n,isDisabled:f}),a.jsx(gr,{amountStrState:s,strategy:y}),a.jsx(Jr,{strategyStructure:m,chosenDateState:i,lyraMarket:D,updateTriggers:k.date,resetTriggers:I.date,isDisabled:f,updateUnstableField:(L,U)=>{R("date",L,U)}}),a.jsx(sp,{asset:u,strategy:y,amountStr:d,chosenDate:c,strategyStructure:m,hasSell:T,strikesDataArrState:o,chosenStrikesState:r,areStrikesLoadingState:b,lyraMarket:D,updateTriggers:k.strike,resetTriggers:I.strike,updateUnstableField:(L,U)=>{R("strike",L,U)}}),a.jsx(lp,{asset:u,strategy:y,amountStr:d,strategyStructure:m,hasSell:T,chosenStrikes:x,collateralDataArrState:p,updateTriggers:k.collateral,resetTriggers:I.collateral,updateUnstableField:(L,U)=>{R("collateral",L,U)}}),a.jsx(yp,{strategyStructure:m,unstableFields:A,chosenStrikes:x,strikesDataArr:h,areStrikesLoading:f})]})},mp=()=>a.jsxs(ue,{id:"BuilderForm_StrikeTooltip",children:[a.jsx("h6",{children:"Hegic Options (American options)"}),a.jsxs("p",{className:"my-5",children:["They require manual exercise before ",a.jsx("br",{}),"the expiration date. ",a.jsx("br",{}),"There are no secondary markets; out-",a.jsx("br",{}),"of-the-money options can't be sold."]}),a.jsx("h6",{children:"Lyra, Rysk.Finance (European options)"}),a.jsxs("p",{className:"my-5",children:["They are only exercised automatically ",a.jsx("br",{}),"at the expiration date. ",a.jsx("br",{}),"Secondary markets are available; out-",a.jsx("br",{}),"of-the-money options can be sold."]})]});const Tp=({strategy:e})=>{const t=Te[e],{outlooks:n,profit:s,loss:i,description:o}=t.stats;return a.jsxs(ue,{className:"WhenPurchaseTooltip",id:"BuilderForm_WhenPurchaseTooltip",place:"bottom-end",children:[a.jsxs("div",{className:"WhenPurchaseTooltip__header",children:[a.jsx("h2",{className:"WhenPurchaseTooltip__title",children:e}),a.jsx("div",{className:"WhenPurchaseTooltip__outlooks",children:n.map(r=>{const p=br[r];return a.jsx("div",{className:"WhenPurchaseTooltip__outlook",style:{color:p},children:r},r)})})]}),a.jsxs("div",{className:"WhenPurchaseTooltip__body",children:[a.jsx("h3",{className:"WhenPurchaseTooltip__subtitle",children:"When purchase"}),a.jsx("p",{className:"WhenPurchaseTooltip__description",children:o}),a.jsx("div",{className:"WhenPurchaseTooltip__stats",children:[s,i].map((r,p)=>{const u=p===0?"Profit":"Loss";return a.jsxs("div",{className:"WhenPurchaseTooltip__stats-item",children:[a.jsx("div",{className:"WhenPurchaseTooltip__stats-item-name",children:u}),a.jsx("div",{className:"WhenPurchaseTooltip__stats-item-value",children:r})]},`${u}_${r}`)})})]})]})},fp=()=>a.jsxs(ue,{id:"BuilderForm_CollateralTooltip",children:["This refers tothe amount ",a.jsx("br",{}),"youre setting aside ",a.jsx("br",{}),"ascollateral for selling options"]}),bp=()=>a.jsxs(ue,{id:"BuilderForm_MaxCostTooltip",children:["This isthe highest amount ",a.jsx("br",{}),"youll pay for buying options. ",a.jsx("br",{}),"Ifthe option price rises ",a.jsx("br",{}),"beyond this, your transaction ",a.jsx("br",{}),"will bereverted."]}),hp=()=>a.jsxs(ue,{id:"BuilderForm_MinReceivedTooltip",children:["This isthe least amount youre ",a.jsx("br",{}),"assured toreceive when ",a.jsx("br",{}),"selling options. Ifthe option ",a.jsx("br",{}),"price drops beyond this point, ",a.jsx("br",{}),"your transaction will ",a.jsx("br",{}),"bereverted."]}),xp=()=>a.jsxs(ue,{id:"BuilderForm_YouPayWarningTooltip",children:["Apparently, the collateral you've set ",a.jsx("br",{}),"is too small. This may result in instant ",a.jsx("br",{}),"liquidation of the position."]}),gp=()=>a.jsxs(ue,{id:"Builder_PremiumTooltip",children:[a.jsx("h6",{children:"Negative Premium"}),a.jsxs("div",{style:{margin:"3px 0 5px"},children:["Indicates the amount ofUSDC you ",a.jsx("br",{}),"have paid asanoption buyer."]}),a.jsx("h6",{children:"Positive Premium"}),a.jsxs("div",{style:{margin:"3px 0"},children:["Denotes the amount of USDC you ",a.jsx("br",{}),"have received as an option seller."]})]}),_p=({strategy:e})=>a.jsxs("div",{className:"BuilderTooltips",children:[a.jsx(mp,{}),a.jsx(Tp,{strategy:e}),a.jsx(fp,{}),a.jsx(gp,{}),a.jsx(bp,{}),a.jsx(hp,{}),a.jsx(xp,{})]});const pt=(e,t=2,n,s)=>{const i=q(e,n);return Cp(i,t,s)},vp=(e,t=2,n)=>pt(e,t,n,!0),Cp=(e,t=2,n)=>{const s=n?"+":"",i=e<0?"":e>0?s:"";return e=Math.abs(e),e=Ie(e,t),e=Hn(e,t),`${i}$${ye(e)}`},wp=({strategy:e,amountStr:t,chosenStrikesState:n,collateralDataArrState:s,youPayState:i,swapSlippageState:o,shouldSwapState:r,setIsCostLoading:p})=>{const u=Te[e].structure,l=an(u),y=Sr(u),[d,c]=i,[m,T]=n,[b,f]=s,[x]=o,[h,v]=r,[C,D]=g.useState(null),[O,F]=g.useState(null),[k,I]=g.useState(null),[A,B]=g.useState(null),R=Pr(m),L=!!b.find(E=>E),U=E=>{m[E]=null,b[E]=null,T([...m]),f([...b])};g.useEffect(()=>{!!(d!=null&&d.inPaymentToken)&&v(Yn(d)),p(!1)},[d]);const w={sum:E=>E.reduce((H,N,le)=>{if(le===0)return{inUSDC:N.inUSDC,decomposition:[N]};const Ne=H.decomposition;return Ne[le]={marketToken:N.marketToken,inMarketToken:N.inMarketToken,inUSDC:N.inUSDC},{inUSDC:H.inUSDC+N.inUSDC,decomposition:Ne}},E[0]),separateBuyFromSell:E=>{const W=[],H=[];return E.forEach(N=>{N&&(N.isBuy?W.push(N):H.push(N))}),{buyCosts:W,sellCosts:H}},getArgsForHandler:E=>{const{reset:W}=_[E],{isAllowed:H,update:N}=P[E];return[W,H,N]}},_={collateral:{reset:()=>{B({inUSDC:0n})}},trade:{reset:()=>{D(null),F(null),I(null)}},youPay:{reset:()=>{c(null)}}},S={collateral:{calc:()=>{const E=b.filter(H=>H);return w.sum(E)}},trade:{calc:()=>{if(!t)return;const E=[],W=Y(Me(t));return m.forEach((H,N)=>{H&&E.push(H.utils.calcPremium(W).then(le=>le?(H.premiumData=le,H.amount=W,le.isBuy=H.isBuy,le):(U(N),null)))}),Promise.all(E).then(H=>{const{buyCosts:N,sellCosts:le}=w.separateBuyFromSell(H);return{maxCost:w.sum(N),minReceived:w.sum(le)}})}},youPay:{calc:()=>{const E=()=>({inUSDC:C.inUSDC,decomposition:C.decomposition}),W=()=>{if(A!=null&&A.inUSDC)return{inUSDC:A.inUSDC+((C==null?void 0:C.inUSDC)??0n),decomposition:Br(u,C==null?void 0:C.decomposition,A.decomposition),shouldSwap:h}},H=Ne=>{const Da=Ft=>mt(Ft,x),Ba=Ft=>mt(Ft,xr),{inUSDC:Oa}=Ne,Ia=Da(Oa),Fa=Ba(Ia);return Ne.inUSDC=Fa,Ne},N=l?W():E();return H(N)}}},P={collateral:{triggers:[b],isAllowed:L&&R,update:()=>{const E=S.collateral.calc();B(E)}},trade:{triggers:[m],debouncedTriggers:[t],isAllowed:R,update:()=>{S.trade.calc().then(E=>{const{maxCost:W,minReceived:H}=E;D(W),F(H);const N={inUSDC:((H==null?void 0:H.inUSDC)??0n)-((W==null?void 0:W.inUSDC)??0n)};I(N)})}},youPay:{triggers:[k,A,x],isAllowed:!!(l?k!=null&&k.inUSDC&&(A!=null&&A.inUSDC):k!=null&&k.inUSDC),update:()=>{const E=S.youPay.calc();c(E)}}},j=(E,W,H)=>{E(),W&&(p(!0),H())};Object.keys(P).forEach(E=>{const W=()=>{j(...w.getArgsForHandler(E))},H=[...P[E].triggers],N=P[E].debouncedTriggers&&[...P[E].debouncedTriggers];N&&ft(W,wt,N),g.useEffect(W,H)});const K=()=>{const E=[];return y&&E.push({name:"Max. Cost",value:C==null?void 0:C.inUSDC}),l&&E.push({name:"Min. Received",value:O==null?void 0:O.inUSDC},{name:"Collateral",value:A==null?void 0:A.inUSDC}),E};return a.jsx("div",{className:M("BuilderCost",l&&"has-sell"),children:a.jsx(ue,{id:"BuilderForm_YouPayTooltip",className:"YouPayTooltip",place:"bottom-end",children:K().map(E=>a.jsxs("div",{className:"YouPayTooltip__item",children:[a.jsx("div",{className:"YouPayTooltip__item-name",children:E.name}),a.jsx("div",{className:"YouPayTooltip__item-value",children:E.value?pt(E.value):Z()})]},E.name))})})};const kp=({id:e,decompositionArr:t,...n})=>a.jsx(ue,{className:"TooltipDecomposition",id:e,place:"bottom-end",...n,children:t.map((s,i)=>{const o=i===t.length-1;return a.jsxs(Ue.Fragment,{children:[a.jsxs("div",{className:"TooltipDecomposition__item",children:[a.jsx("div",{className:"TooltipDecomposition__item-name",children:s.nameNode}),a.jsx("div",{className:"TooltipDecomposition__item-value",children:s.valueNode})]}),!o&&a.jsx(nt,{})]},i)})}),Sp=({decompositionData:e})=>a.jsx("div",{className:"GreeksDecompositionTooltips",children:Ht.map(t=>{const n=e[t];if(!n||!n.length)return null;const i=`BuilderForm_${Tn(t)}DecompositionTooltip`;return a.jsx(kp,{id:i,decompositionArr:n},i)})});const ha="/sf_draft/assets/pen-9a5dbcdd.svg",Pp="/sf_draft/assets/confirm-e0180a57.svg",Mp=({slippage:e,setSlippage:t})=>{const n=T=>`${Ie(T*100,6)}`,[s,i]=g.useState(n(e)),[o,r]=g.useState(!1),{node:p,ref:u,hasFocus:l}=At([s,i],{maxValue:100}),y=()=>{const T=n(Ut);i(T)},d=()=>{const T=Number(s)/100;t(T)},c=()=>{const T=u.current,b=T.value.includes(".");let f=(T.value.length+1)*8.5;b&&(f-=4),T.style.width=f+"px"},m=()=>{(!s||Number(s)===0)&&y(),d(),o||(r(!0),setTimeout(()=>{r(!1)},200))};return g.useEffect(()=>{c()},[s]),g.useEffect(()=>{l||m()},[l]),a.jsxs("div",{className:"SlippageInput",onClick:()=>{var T;o||(T=u.current)==null||T.focus()},children:[a.jsxs("div",{className:M("SlippageInput__input-container",l&&"focused"),children:[p,a.jsx("span",{className:"SlippageInput__unit",children:"%"})]}),a.jsx("button",{className:"SlippageInput__btn",children:a.jsx("img",{src:l?Pp:ha,alt:"Edit slippage"})})]})},Ap=({swapSlippageState:e})=>{const[t,n]=e,s=we();return a.jsxs("div",{className:"SwapSlippageField info-row",children:[a.jsx("div",{className:"info-row__title",children:s?"Uniswap Slippage":"Slippage"}),a.jsx("div",{className:"info-row__value",children:a.jsx(Mp,{slippage:t,setSlippage:n})})]})},Ep=({chosenStrikes:e,swapSlippageState:t,shouldSwapState:n})=>{const[s]=n,i={};Ht.forEach(y=>{i[y]=[]});const o=(y,d)=>{const c=y.greeks[d],m=ln(y.strike),T={nameNode:a.jsx(ra,{strikeData:y,priceNode:`$${ye(m)}`}),valueNode:c??Z()};i[d].push(T)},r=()=>a.jsx("div",{className:"BuilderCalculations__items",children:Ht.map(y=>{const d=Tn(y),c=e.reduce((T,b)=>{if(!b)return T;o(b,y);const f=b.greeks[y];return(T??0)+f},void 0),m=c||c===0;return m||(i[y]=null),a.jsxs("div",{className:"BuilderCalculations__item",children:[a.jsx("div",{className:"BuilderCalculations__item-name",children:d}),a.jsx("div",{className:M("BuilderCalculations__item-value",m&&"tip"),"data-tooltip-id":`BuilderForm_${d}DecompositionTooltip`,children:m?St(c,3):Z()})]},y)})}),p=()=>a.jsx(ta,{renderHeader:({state:y})=>`${y.isEnter?"Hide":"Show"} greeks`,children:r()}),l=we(576);return a.jsxs("div",{className:"BuilderGreeks",children:[a.jsxs("div",{className:"BuilderGreeks__content",children:[l?p():r(),s&&a.jsx(Ap,{swapSlippageState:t})]}),a.jsx(Sp,{decompositionData:i})]})};const Dp=({youPayState:e,paymentToken:t,isCostLoading:n})=>{const s=Q(),[i,o]=e,r=()=>i.inUSDC<0?new Promise(d=>{d(null)}):Ao(s,t.address,i.inUSDC),p={triggers:[i],isAllowed:!!(i&&t&&ae(i.inPaymentToken)),update:()=>{const d=()=>{setTimeout(()=>{o({...i})},1e3)};r().then(c=>{i.paymentToken=t,i.inPaymentToken=c,d()})}},u={triggers:[t.symbol],isAllowed:!!i,reset:()=>{i.inPaymentToken=void 0,o({...i})}};g.useEffect(()=>{p.isAllowed&&p.update()},[...p.triggers]),g.useEffect(()=>{u.isAllowed&&u.reset()},[...u.triggers]);const l={getNegativeValueNode:()=>a.jsx(pe,{children:a.jsx("span",{className:"negative tip","data-tooltip-id":"BuilderForm_YouPayWarningTooltip",children:J(i.inUSDC,0)})}),getPaymentTokenNode:()=>at(i.inPaymentToken,i.paymentToken.isStable),getUsdcNode:()=>pt(i.inUSDC),getApproximatelySymbolNode:()=>a.jsx("span",{className:"muted_light mx-5",style:{fontSize:16},children:Tr})};return(()=>n?a.jsx(Ce,{}):!i||!t?Z():ae(i.inPaymentToken)?a.jsx(Ce,{}):i.inPaymentToken===null?l.getNegativeValueNode():a.jsx(pe,{isHlight:!0,symbol:t.symbol,"data-tooltip-id":"BuilderForm_YouPayTooltip",className:"tip",children:l.getPaymentTokenNode()}))()};const Bp=({className:e,options:t,defaultOption:n,defaultValue:s,onChange:i,...o})=>a.jsx(Fe,{className:M("SelectorInline",e),options:t,defaultOption:n,defaultValue:s,onChange:i,...o}),Op=e=>{const{account:t}=X();return e.map(s=>{let{data:i}=Wa({address:t,token:s.isETH?null:s.address,watch:!0});return i||(i={value:0n}),{...i,address:s.address,symbol:s.symbol,isETH:s.isETH,isStable:s.isStable}})},Ip=e=>{const{isConnected:t,account:n}=X(),s=Q(),i=Op(e),{data:o}=Pe(t&&[n,"useTokenBalancesUSDC",i],async()=>{const r=[];return i.forEach(u=>{if(!u)return;u.inTokenDecimals=u.value,u.inDefaultDecimals=ee(u.value,u.decimals);const l=Le(s,u.address,u.inDefaultDecimals).then(y=>({...u,inUSDC:y})).catch(y=>(console.log(`Swapping ${u.symbol} to USDC error.

`+y),null));r.push(l)}),await Promise.allSettled(r).then(Vt)});return o??[]},Fp=({paymentTokens:e,paymentToken:t,setPaymentToken:n})=>{const{isConnected:s,account:i}=X(),o=Ip(e),r=()=>{const y=o.find(d=>d.symbol===t.symbol);y!==t.balance&&n({...t,balance:y})};g.useEffect(()=>{r()},[o,i]);const p=y=>s?y===null?Z("Error"):ae(y)||ae(y.inUSDC)?a.jsx(Ce,{}):`$${J(y.inUSDC,0)}`:Z(),u=e.map((y,d)=>{const c=o[d],m=p(c);return{label:a.jsxs("div",{className:"PaymentTokenSelector__item",children:[a.jsx("div",{className:"PaymentTokenSelector__item-name",children:a.jsx(pe,{symbol:y.symbol,isHlight:!0,children:y.symbol})}),a.jsx("div",{className:"PaymentTokenSelector__item-value",children:m})]}),value:y.symbol,balance:c}}),l=[{label:a.jsxs("div",{className:"PaymentTokenSelector__item",children:[a.jsx("div",{children:"Asset"}),a.jsx("div",{children:"Balance, $"})]}),options:u}];return a.jsx(Bp,{className:"PaymentTokenSelector",options:l,defaultValue:t.symbol,onChange:y=>{n({symbol:y.value,balance:y.balance})}},i)},jp=({paymentToken:e,setPaymentToken:t,youPayState:n,confirmButtonNode:s,isCostLoading:i})=>{const{isConnected:o}=X(),r=Q(),p=hs(r),u=()=>{if(!o)return Z();if(e.balance===null)return Z("Error");if(ae(e.balance))return a.jsx(Ce,{});const l=e.balance.value===0n?0:void 0;return a.jsx(pe,{symbol:e.symbol,isHlight:!0,children:at(e.balance.inDefaultDecimals,e.isStable,l)})};return a.jsxs("div",{className:"BuilderSwap",children:[a.jsxs("div",{className:"BuilderCalculations__items",children:[a.jsxs("div",{className:"BuilderCalculations__item",children:[a.jsx("div",{className:"BuilderCalculations__item-name",children:"Select Payment method"}),a.jsx("div",{className:"BuilderCalculations__item-value",children:a.jsx(Fp,{paymentTokens:p,paymentToken:e,setPaymentToken:t})})]}),a.jsxs("div",{className:"BuilderCalculations__item",children:[a.jsx("div",{className:"BuilderCalculations__item-name",children:"You pay"}),a.jsx("div",{className:"BuilderCalculations__item-value",children:a.jsx(Dp,{youPayState:n,paymentToken:e,isCostLoading:i})})]}),a.jsxs("div",{className:"BuilderCalculations__item",children:[a.jsx("div",{className:"BuilderCalculations__item-name",children:"Balance"}),a.jsx("div",{className:"BuilderCalculations__item-value",children:u()})]})]}),s]})},Lp=(e,t,n,s,i,o,r)=>{const{isConnected:p}=X(),{connectWallet:u}=In(),l=an(t),y=n.length!==t.length||!n.every(h=>h),d=!!s.find(h=>h&&h.inMarketToken===0n),c=n.find(h=>h==null?void 0:h.isComingSoon),m=()=>{if(!e)return"Enter Amount";if(y)return"Fill out the Strike fields";if(l&&d)return"Fill out the Collateral fields";if(!i)return"Please, wait...";if(i>o)return"Insufficient balance"},T=()=>!p||c?!0:!m(),b=()=>{const h="Buy Strategy";return p?c?`Visit ${c.market} app`:m()??h:"Connect wallet"},f=()=>{if(!p){u();return}if(c){window.open(c.marketLink);return}r()};return a.jsx(_e,{className:"BuilderForm__button",onClick:f,isDisabled:!T(),children:b()})},Np=({strategy:e,amountStr:t,youPayState:n,chosenStrikesState:s,collateralDataArrState:i,openBuyModal:o,swapSlippageState:r})=>{var C;const p=Q(),[u,l]=He("builder-payment-token","ETH"),[y,d]=g.useState({symbol:u}),c=g.useState(!1),[m,T]=g.useState(!1);g.useEffect(()=>{if(l(y.symbol),!y.address){const D=oe(p,y.symbol);d({...y,...D})}},[y]);const[b]=s,[f]=i,[x]=n,h=Te[e].structure,v=Lp(t,h,b,f,x==null?void 0:x.inPaymentToken,(C=y.balance)==null?void 0:C.inDefaultDecimals,o);return a.jsxs("div",{className:"BuilderCalculations",children:[a.jsx(Ep,{chosenStrikes:b,swapSlippageState:r,shouldSwapState:c}),a.jsx(wp,{strategy:e,amountStr:t,chosenStrikesState:s,collateralDataArrState:i,youPayState:n,swapSlippageState:r,shouldSwapState:c,setIsCostLoading:T}),a.jsx(jp,{youPayState:n,paymentToken:y,setPaymentToken:d,confirmButtonNode:v,isCostLoading:m})]})};const Rp=({stagesArr:e})=>a.jsx("div",{className:"Stages",children:e.map(t=>a.jsx("div",{className:M("Stages__item",t.isActive&&"active"),children:t.name},t.name))}),Up=(e,t,n,s,i,o={setIsLoading:()=>{},closeModal:()=>{},addPendingPosition:()=>{}})=>{const r=Q(),p=Te[e],{setIsLoading:u,closeModal:l,addPendingPosition:y}=o,{paymentToken:d,decomposition:c}=s,m=d.isETH,[T,b]=g.useState({moduleArr:[],parametersArr:[],swapDataArr:[],productType:p.key}),[f,x]=g.useState([]),h=()=>f.reduce((A,B)=>A+B,0n),v=new $(...G(r,"TxBuilder"),he()),C=(I,A)=>{const B=hr[I.protocolName];return v.module(B).then(R=>{T.moduleArr[A]=R})},D=async(I,A)=>{const B=n[A],R={setToCollateral:B&&ge.from(B.inMarketToken),isBaseCollateral:B==null?void 0:B.isBase,premiumData:I.premiumData};return I.utils.getBuilderParams(I.amount,R,d.decimals).then(w=>{T.parametersArr[A]=w})},O=(I,A)=>{const B=new $(...G(r,"Exchanger"),z(r)),R=c[A],L=R.marketToken,U=Eo(d.address,L.address),w=R.inMarketToken,_=Kn(d,L);return cn(r,L.address,d.address,w).then(S=>mt(S,i)).then(S=>{const P=ce(S,d.decimals),j=ce(w,L.decimals);return m&&(f.push(P),x([...f])),B.encodeFromExchange({path:U,tokenIn:d.address,tokenOut:L.address,amountIn:P,amountOutMinimum:j,isETH:m,swap:_}).then(V=>{T.swapDataArr[A]=V})})},F=()=>{const I=[];return t.forEach((A,B)=>{I.push(C(A,B),D(A,B),O(A,B))}),Promise.all(I).then(()=>{b({...T})}).catch(A=>{throw console.log(A),u(!1),new Error("Something went wrong")})};return()=>{u(!0);const{amount:I,asset:A}=t[0];return F().then(()=>{const B=q(I),R=B!==1,L=p.plural??`${e}s`,U=R?L:e,S={text:`${B} ${A} ${U} opened.`,node:a.jsxs(pe,{symbol:A,children:[B," ",U," opened."]})};return _t(r,v.consolidationOfTransactions,[T.moduleArr,T.parametersArr,T.swapDataArr,T.productType,f.length?{value:h()}:{}],S,u,l)}).then(()=>{x([])}).catch(Be)}},xa=()=>({opening:[],closing:[]});g.createContext(xa());const Hp=(e,t)=>{const[n,s]=e;for(const i in n){const o=n[i];if(o.length){const r=o.filter(p=>p.market!==t);n[i]=r,s({...n})}}},qp=13,ga=e=>{const{isConnected:t,account:n}=X(),s=Q(),i=Mt(),[o,r]=g.useState(void 0),p=()=>{o&&r(void 0)},u=new $(...G(s,"Hegic_PositionManager"),z(s)),{error:l,mutate:y}=Pe(t&&i&&[n,"useHegicPositions"],async()=>{const d=[],c=So(s),m=$p(u,n),b=(await u.queryFilter(m)).map(f=>f.args.tokenId);if(b.length){const f=[];for(let x=0;x<c.length;x++){const h=c[x],v=da(s,h),C=Vp(h,b),D=v.queryFilter(C),O=k=>Wp(s,k,n,i),F=D.then(async k=>{const I=k.map(O),A=await Promise.all(I);d.push(...Wt(A))});f.push(F),await Sn(f,qp,c.length,x)}}r(d??[]),e&&e()},{refreshInterval:Dt});return g.useEffect(()=>{p(),n&&y()},[n,t]),l&&console.log(`Fetching Hegic positions error:
`,l),o},$p=(e,t)=>({address:e.address,topics:[bt("Transfer(address,address,uint256)"),null,Xe(t,32)]}),Vp=(e,t)=>{const n=[bt("Acquired(uint256,(uint128,uint128),uint256,uint256,uint256,bytes[])"),t.map(i=>Xe(i,32))];return{address:e,topics:n}},Wp=async(e,t,n,s)=>{const i=t.address,o=ve(t.decode(t.data,t.topics));o.data=ve(o.data);const r=new $(...G(e,"Hegic_OperationalTreasury"),z(e)),p=await r.lockedLiquidity(o.id);if(!(p.state!==0))return;const{asset:l,isCall:y,isSpread:d,isBuy:c,strikeScale:m}=Gp(e,i);Object.assign(o,{asset:l,isCall:y,isSpread:d,isBuy:c});const T=nn(o.data.amount,l),b=s[l],f=Kp(o,m);Object.assign(o,{strike:f});const{premium:x,pnl:h}=await Yp(e,o,i),v=Se(me(x),T),C=h.inPercentage===Y(-100),D=p.expiration*ne,O=zp(o,b);return{market:"Hegic",id:Number(o.id),asset:l,amount:T,strike:f,isCall:y,isSpread:d,isBuy:c,premium:x,pnl:h,entryPrice:v,expiry:D,greeks:O,utils:{calcPnl:async()=>new Promise(k=>{k(h)})},actions:{close:async()=>{const k=he();return r.connect(k).payOff(o.id,n)},isClosingDisabled:C}}},Gp=(e,t)=>{const n=ko(e),s=Object.keys(n).find(l=>n[l]===t),[i,o,r]=s.split("_"),p=i.includes("CALL"),u=i.includes("SPREAD");return{asset:r,isCall:p,isSpread:u,isBuy:!0,strikeScale:o}},Kp=(e,t)=>{const n=ee(e.data.strike,xs);let s=n/100n*BigInt(t);return e.isSpread&&(s=n),s},Yp=async(e,t,n)=>{const s=da(e,n),i=qe(ee(t.positivepnl,gn)),r=ee(BigInt(await s.payOffAmount(t.id)),gn)+i,p={inUSDC:r,inPercentage:Ke(t.isBuy,r,i)};return{premium:i,pnl:p}},zp=(e,t)=>{const n={strike:e.strike,isCall:e.isCall,amount:e.data.amount};return{delta:mn.calcDeltaByAssetPrice(n,t),vega:void 0,gamma:void 0,theta:void 0,rho:void 0}},_a={PROTOCOL_NAME:{ETH:"Lyra_ETH",BTC:"Lyra_BTC"},ACCEPTABLE_DISABLED_REASONS:["NotEnoughCollateral","TooMuchCollateral","EmptyCollateral","InsufficientQuoteBalance","InsufficientQuoteAllowance","InsufficientBaseBalance","InsufficientBaseAllowance","IncorrectOwner"],TRADE_SLIPPAGE:.0015,PREMIUM_SLIPPAGE:.02},va=e=>{const{account:t,isConnected:n}=X(),[s,i]=g.useState(void 0),o=()=>{s&&i(void 0)},r=Q(),p=fn.getLyra(r),{error:u,mutate:l}=Pe(n&&[t,"useLyraPositions"],async()=>{const y=await p.positions(t);if(!y){i([]);return}const d=y.filter(Xp),c=[];for(let m=0;m<d.length;m++){const T=d[m];c.push(await Qp(r,T))}return i(c),e&&e(),c},{refreshInterval:Dt});return g.useEffect(()=>{o(),t&&l().then(i)},[t,n]),u&&console.log(`Fetching Lyra positions error:
`,u),s},Qp=async(e,t)=>{const{id:n,strikePrice:s,isCall:i,isLong:o,size:r,expiryTimestamp:p}=ve(t),u=p*ne,{asset:l,premium:y,greeks:d,collateral:c}=await Zp(e,t);t.premium=y;const m=await wn(t,r),{closePrice:T}=m,b=Se(me(y),r);return{id:n,market:"Lyra",asset:l,amount:r,strike:s,isCall:i,isBuy:o,premium:y,collateral:c,pnl:m,entryPrice:b,closePrice:T,expiry:u,greeks:d,utils:{calcPnl:async x=>{const{TRADE_SLIPPAGE:h}=_a,v=await t.trade(!o,ge.from(x),h);return await wn(t,x,v)}},actions:{close:async x=>{const h={referrer:Ct},v=await t.close(ge.from(x),TRADE_SLIPPAGE,h);if(v.isDisabled){Be(new Error(v.disabledReason));return}return he().sendTransaction(v.tx)},addToCollateral:async x=>{const h=c.inMarketToken+x,v=await t.trade(o,ge.from(0),TRADE_SLIPPAGE,{position:t,setToCollateral:ge.from(h)});if(v.isDisabled){Be(new Error(v.disabledReason));return}return he().sendTransaction(v.tx)},isAddingToCollateralDisabled:!(c!=null&&c.liquidationPrice)}}},wn=async(e,t,n)=>{const{isLong:s,premium:i}=e,{TRADE_SLIPPAGE:o}=_a;t||(t=e.size),n||(n=await e.trade(!s,ge.from(t),o));const r=n.pnl().toBigInt(),p=Ke(s,r,i);return{inUSDC:r,inPercentage:p,closePrice:n.pricePerOption.toBigInt()}},Zp=async(e,t)=>{const n=()=>t.marketName.split("-USDC")[0],s=()=>t.trades().reduce((u,l)=>(l=ve(l),l.isBuy?u-l.premium:u+l.premium),0n),i=()=>{const{delta:r,theta:p,rho:u}=t.liveOption(),{vega:l,gamma:y}=t.liveStrike(),d={delta:r,vega:l,gamma:y,theta:p,rho:u};for(const c in d){const m=d[c];d[c]=q(m.toBigInt(),te,3)}return d},o=async()=>{const r=t.collateral&&ve(t.collateral);if(r)return fn.queryFormatCollateral(e,r,n())};return{asset:n(),premium:s(),greeks:i(),collateral:await o()}},Xp=e=>{const{size:t,expiryTimestamp:n}=ve(e),s=t===0n,i=n*ne<Date.now();if(!s&&!i)return!0},Jp=e=>{const t=Q(),{account:n,isConnected:s}=X(),[i,o]=g.useState(void 0),r=()=>{i&&o(void 0)},{error:p,mutate:u}=Pe(s&&[n,"usePremiaPositions"],async()=>{const l=await Ve.queryPremia(t),y=await l.users.getOptionPositionsExtendedForUser(n,!0),d=!ae(await l.subgraph.getAllTokens());n&&!d&&console.log("Premia graph's not working =/");const c=y.map(eu).map(T=>nu(l,T)),m=await Promise.all(c).then(Wt);o(m),e&&e()},{refreshInterval:Dt});return g.useEffect(()=>{r(),n&&u()},[n,s]),p&&console.log(`Fetching Premia positions error:
`,p),i},eu=e=>{const{size:t,maturity:n,strike:s,isBuy:i,premiumPaid:o,premiumReceived:r}=e,p=BigInt(o),u=BigInt(r),l={asset:tu(e),amount:BigInt(t),premium:i?p:u,partialClosingPremium:i?u:p,expiry:n*ne,strike:BigInt(s)};return{...e,...l}},tu=e=>{const t=e.base;return t.isWrappedNative?t.symbol.split("W")[1]:t.symbol},nu=async(e,t)=>{let n=t.premium;n===0n&&(n=me(await au(e,t)));const s=Se(n,t.amount);t.entryPrice=s;const{asset:i,amount:o,expiry:r,isCall:p,isBuy:u,strike:l,address:y,base:d}=t,c=p?await Le(e.chainId,d.address,n):n,m=await Ve.queryClosingQuote(e,t),T=m?nn(BigInt(m.price),i):void 0,b=await kn(e,t,m),f=Date.now()>r;return{market:"Premia",id:y,asset:i,amount:o,strike:l,isCall:p,isBuy:u,premium:c,expiry:r,pnl:b,entryPrice:s,closePrice:T,greeks:Jn(),utils:{calcPnl:async h=>{const v={...t,amount:h};return await kn(e,v)}},actions:{close:su(e,t,b.inMarketToken),isClosingDisabled:!f&&!t.closingQuote}}},au=async(e,t)=>{const n=r=>{const p=Pn(r,["uint256","bool","uint256"]);return p==null?void 0:p[2].toBigInt()};return(await iu(e,t)).map(n).reduce((r,p)=>r+(p??0n),0n)-t.partialClosingPremium},iu=async(e,t)=>{const{address:n,base:s}=t,i=tn(e.chainId,"TxBuilderOpen_Premia"),o=await Ve.queryVaultContract(e,s.address),r={address:o.address,topics:[bt("Trade(address,address,uint256,bool,uint256,uint256,uint256,uint256)"),Xe(i,32),Xe(n,32)]};return await o.queryFilter(r)},kn=async(e,t,n)=>{const{address:s,amount:i,isCall:o,isBuy:r,entryPrice:p,expiry:u,base:l}=t,y=Ae(p,i);let d;n||(n=await Ve.queryClosingQuote(e,t)),t.closingQuote=n;const c=Ve.calcClosingPremium(t,n);if(Date.now()>u||!c){const v=await e.options.getProfitLoss(s,r,Se(y,i));d=Ae(v,i)}else d=r?c-y:y-c;const T=d>0n,b=y!==0n?Ke(r,d,y):0n,f=o?await Le(e.chainId,l.address,me(d)):d;return{inUSDC:T?f:qe(f),inPercentage:b,inMarketToken:d}},su=(e,t)=>{const{address:n,amount:s,isBuy:i,expiry:o,closingQuote:r}=t,{buy:p,sell:u,exercise:l,settle:y,fillQuote:d}=e.pools;let c;const m=Date.now()>o,T=(r==null?void 0:r.providerType)==="orderbook";return m?i?c=l:c=y:T?c=d:i?c=u:c=p,async b=>{const f=BigInt(r.price),x=Ae(f,b),h=e.pricing.premiumLimit(x,Kr,r.isBuy),v={quote:r,signature:r==null?void 0:r.signature,size:b??s,premiumLimit:h,referrer:Ct};if(T){const C=await e.orders.isQuoteValid(r);console.log(C)}return console.log(v,c),c=c.bind(e.pools),c(n,m?void 0:v,e.signer)}},Ca=(e,t,n)=>{const s=it(e,"Rysk_Otoken");return new $(t,s,n?he():z(e))},ru=e=>{const t=Q(),{account:n,isConnected:s}=X(),[i,o]=g.useState(void 0),r=()=>{i&&o(void 0)},p=new $(...G(t,"Rysk_OptionExchange"),z(t)),{error:u,mutate:l}=Pe(s&&[n,"useRyskPositions"],async()=>{const y=ou(p,n),d=await pu(p,y),c=uu(t,d),T=Object.values(c).map(b=>yu(t,b,n));await Promise.all(T).then(b=>b.filter(f=>f)).then(b=>{o(b??[])}),e&&e()},{refreshInterval:Dt});return g.useEffect(()=>{r(),n&&l()},[n,s]),u&&console.log(`Fetching Rysk positions error:
`,u),i},ou=(e,t)=>{const n=s=>({address:e.address,topics:[bt(`Options${s?"Bought":"Sold"}(address,address,uint256,uint256,uint256)`),null,Xe(t,32)]});return{buyFilter:n(!0),sellFilter:n(!1)}},pu=async(e,t)=>{const n=p=>p.map(l=>(l.args={...l.args,isBuy:!0},l)),{buyFilter:s,sellFilter:i}=t,[o,r]=await Promise.all([e.queryFilter(s).then(n),e.queryFilter(i)]);return{buyEvents:o,sellEvents:r}},uu=(e,t)=>{const n={},{buyEvents:s,sellEvents:i}=t,o=[...s,...i],r=be.getMarketToken(e),p=async l=>{const y=await l.getTransactionReceipt(),d=tn(e,"Rysk_OptionRegistry"),c=y.logs.find(b=>b.address===d);if(!c)return null;const m=Pn(c,["uint"]);return m?m[0].toBigInt():null};o.forEach(l=>{const{isBuy:y,optionAmount:d,premium:c,fee:m,series:T}=ve(l.args),b=y?d:qe(d),f=ee(c,r.decimals),x=y?qe(f):f,h=ee(m,6),v=Se(f+h,b),C=Ae(v,b),D=y?d:0n,O=y?C:0n;n[T]?(n[T].amount+=b,n[T].premium+=x,n[T].amountSum+=D,n[T].contractValueSum+=O):n[T]={isBuy:y,amount:b,premium:x,amountSum:D,contractValueSum:O,seriesAddress:T,vaultIdPromise:p(l),event:l}});const u=l=>{const{amountSum:y,contractValueSum:d}=l;return y===0n?null:Se(d,y)};return Object.values(n).forEach(l=>{l.amount<0n&&(l.amount=me(l.amount),l.isBuy=!1),l.entryPrice=u(l)}),{...n}},lu=async(e,t,n,s)=>{let i;return n?i=(await e.balanceOf(s)).toBigInt()>0n:i=t>0n,i},yu=async(e,t,n)=>{const{seriesAddress:s,amount:i,premium:o,entryPrice:r,isBuy:p,vaultIdPromise:u}=t;if(!p)return null;const l=Ca(e,s);if(!await lu(l,i,p,n))return null;const d=l.getOtokenDetails().then(B=>{const[,R,,L,U,w]=B,_=BigInt(L),S=Number(U),P=!w,[,j]=Lt(e,R).symbol.split("W"),V=ee(_,8),K=S*ne;return{isCall:P,asset:j,strike:V,expiry:K}}),[c,{isCall:m,asset:T,strike:b,expiry:f}]=await Promise.all([u,d]),x=be.getOptionSeries(e,f,b,m,s),h=[e,x,i,o,p,r],v=await be.calcPnlWithGreeks(...h);if(!v)return null;const{pnl:C,greeks:D}=v,O=du(...h),k=be.getIsExpired(x)?!1:!await mu(e,p,x),I=k||C.closePrice===0n;return{market:"Rysk",id:s,asset:T,amount:i,strike:b,isCall:m,isBuy:p,premium:o,expiry:f,pnl:C,entryPrice:r,closePrice:I?void 0:C.closePrice,greeks:D,utils:{calcPnl:O},actions:{close:cu(e,i,x,c,n),isClosingDisabled:k}}},du=(e,t,n,s,i,o)=>async p=>(await be.calcPnlWithGreeks(e,t,p??n,s,i,o)).pnl,cu=(e,t,n,s,i)=>{const{address:o}=n,r=ce(t,8),p=be.getIsExpired(n),u=new $(...G(e,"Rysk_OpynController"),he()),l=new $(...G(e,"Rysk_OptionExchange"),he()),y=async m=>{const T=ce(m,8),b=Ca(e,o,!0);return(await b.allowance(i,l.address)).toBigInt()>=T?xi():b.approve(l.address,T)};return p?async()=>{const T=[{actionType:8,owner:re,secondAddress:i,asset:o,vaultId:0n,amount:r,index:0n,data:re}];return u.operate(T)}:async m=>{await y(m).then(h=>h==null?void 0:h.wait());const{OPERATION_TYPES:T,RYSK_ACTION_TYPES:b,EMPTY_SERIES:f}=It,x=[{operation:T.Rysk,operationQueue:[{actionType:b.Sell,owner:re,secondAddress:i,asset:o,vaultId:0n,amount:m,optionSeries:f,indexOrAcceptablePremium:0n,data:re}]}];return l.operate(x)}},mu=async(e,t,n)=>await be.validateOptionSeries(e,!t,n),Tu=(e,t)=>{const n=l=>()=>{Hp(e,l)},s={Hegic:ga(n("Hegic")),Lyra:va(n("Lyra")),Rysk:ru(n("Rysk")),Premia:Jp(n("Premia"))},{isConnected:i}=X();if(!i)return{};const[o,r]=t;return Object.values(s).every(l=>!ae(l))&&!o&&r(!0),s},wa=g.createContext(null),fu=({children:e})=>{const t=bu();return a.jsx(wa.Provider,{value:t,children:e})},Ye=()=>g.useContext(wa),bu=()=>{const e=g.useState(xa()),[t,n]=g.useState(!1),s=Tu(e,[t,n]),i=hu(s),o=xu(i),{account:r}=X();return g.useEffect(()=>{n(!1)},[r]),{positions:i,positionsByMarket:s,positionsTotalData:o,arePositionsLoaded:t,pendingPositionsState:e}},hu=e=>Object.values(e).reduce((n,s)=>(s&&n.push(...s),n),[]),xu=e=>{if(!e.length)return null;const t={premium:0n,collateral:{inUSDC:0n},pnl:{inUSDC:0n},greeks:{},isTotal:!0},n=e.reduce((o,r,p)=>{var l;const u=Bt(o,r,["premium","pnl.inUSDC"]);return u.greeks=ea(o.greeks,r.greeks),(l=r.collateral)!=null&&l.inUSDC&&(u.collateral.inUSDC+=r.collateral.inUSDC),u},t),s=()=>Ke(null,n.pnl.inUSDC,n.premium),i=e.length===1;return n.pnl.inPercentage=i?e[0].pnl.inPercentage:s(),n},ka=(e,t,n,s=i=>{})=>{const{account:i}=X(),o=Q(),r=oe(o,e);return{check:async()=>r.isETH?new Promise(u=>u(!0)).then(s):wr(o,r,i,t,n).then(s),approve:async(u,l)=>{if(r.isETH)throw new Error("Trying to approve ETH");return Cr(o,r,t,n,u,l)}}},gu=({isOpen:e,setIsOpen:t,asset:n,strategy:s,amountStr:i,chosenStrikes:o,collateralDataArr:r,youPay:p,swapSlippage:u})=>{const l=Q(),y=Te[s],[d,c]=g.useState(!1),[m,T]=g.useState(null),b=Ye(),[f,x]=b.pendingPositionsState,h=Up(s,o,r,p,u,{setIsLoading:c,closeModal:()=>t(!1),addPendingPosition:P=>{P.isOpening=!0,f.opening.push(P),x({...f})}}),v=Yn(p),D=["Approve","Buy"].map(P=>({name:P,isActive:m===P})),{paymentToken:O,inPaymentToken:F}=p,k=at(F,O.isStable),I=O.symbol,A=`${k} ${I}`,B={Approve:`Approve ${A}`,Buy:`Pay ${A}`},R=new $(...G(l,"Exchanger"),he()),L=ka(I,R.address,F,P=>{T(P?"Buy":"Approve")}),U=()=>{T(null),L.check()};g.useEffect(()=>{e&&U()},[e,p]);const w=()=>{if(!m)return"Please, wait...";if(d){if(m==="Approve")return`Approving ${I}...`;if(m==="Buy")return`Buying ${s}...`}},_={approve:()=>{L.approve(c,U)},buy:h},S={getBtnText:()=>w()??B[m],getIsBtnEnabled:()=>!w(),getBtnOnClick:()=>{switch(m){case"Approve":return _.approve;case"Buy":return _.buy}}};return a.jsxs(vt,{className:"BuyBuildModal",isOpen:e,setIsOpen:t,children:[a.jsx(Rp,{stagesArr:D}),a.jsx("h1",{className:"BuyBuildModal__title",children:m??a.jsx(Ce,{})}),a.jsxs("div",{className:"BuyBuildModal__strategy",children:["Strategy",a.jsxs("div",{className:"BuyBuildModal__strategy-info",children:[a.jsx("span",{className:"BuyBuildModal__strategy-name",style:{color:y.color},children:s}),a.jsx(nt,{isVertical:!0}),a.jsx(pe,{className:"BuyBuildModal__strategy-amount",symbol:n,isHlight:!0,children:i})]})]}),v&&a.jsx("div",{className:"BuyBuildModal__footer",children:a.jsxs("p",{className:"BuyBuildModal__hint",children:["Sharwa.Finance will auto-convert your ",A," into tokens compatible with the options protocols where your positions are to be opened, using Uniswap v3."]})}),a.jsx(_e,{className:"BuyBuildModal__button",isDisabled:!S.getIsBtnEnabled(),onClick:S.getBtnOnClick(),children:S.getBtnText()})]})},_u=({assetState:e,strategyState:t,amountStrState:n,chosenDateState:s,strikesDataArrState:i,chosenStrikesState:o,collateralDataArrState:r})=>{const p=g.useState(null),[u]=p,[l,y]=g.useState(!1),d=He("Builder-swap-slippage",Ut),[c,m]=d;vu(c)||m(Ut);const[T]=e,[b]=t,[f]=n,[x]=o,[h]=r,v=()=>{y(!0)};return a.jsxs("div",{className:"BuilderForm App-box",children:[a.jsx(cp,{assetState:e,strategyState:t,amountStrState:n,chosenDateState:s,strikesDataArrState:i,chosenStrikesState:o,collateralDataArrState:r}),a.jsx(Np,{strategy:b,amountStr:f,youPayState:p,chosenStrikesState:o,collateralDataArrState:r,openBuyModal:v,swapSlippageState:d}),(u==null?void 0:u.inPaymentToken)&&a.jsx(gu,{isOpen:l,setIsOpen:y,asset:T,strategy:b,amountStr:f,chosenStrikes:x,collateralDataArr:h,youPay:u,swapSlippage:c}),a.jsx(_p,{strategy:b})]})},vu=e=>!(typeof e!="number"||e>1||e<0);const Cu=({asset:e,strategy:t,amountStr:n,chosenStrikes:s,collateralDataArr:i})=>{var U;const o=Te[t].structure,r=g.useRef(null),p=Me(n),u={amount:p,strikes:s.map(w=>q((w==null?void 0:w.strike)??0n)),premiums:s.map(w=>{const _=w==null?void 0:w.premiumData.inUSDC;return _&&q(_)}),strategies:o,collaterals:i,isReady:p&&s.length===o.length&&s.every(w=>w)},l=e==="ETH",y=l?.3:.2,d=l?5:10,c=100,m=st(e),T=q(m),b=T&&Math.round(T/d)*d,f=(w,_)=>{const S=u.strategies[w],P=u.premiums[w],j=u.strikes[w],V=u.amount,K=u.collaterals[w],E=(K==null?void 0:K.liquidationPrice)&&q(K.liquidationPrice),W=K&&q(K.inMarketToken),H=K==null?void 0:K.isBase;let N;if(P){switch(S){case 1:_<j?N=-P:N=(_-j)*V-P;break;case 2:_>j?N=-P:N=(j-_)*V-P;break;case-1:if(E&&_>E)H?N=-(W*E)+P:N=-W+P;else if(H){const le=(j-T)*V+P;_>j?N=le:N=(_-T)*V+P}else _<j?N=P:N=(j-_)*V+P;break;case-2:E&&_<E?H?N=-(W*E)+P:N=-W+P:_>j?N=P:N=(_-j)*V+P;break}if(N)return Number(N)}},h=(()=>{if(!u)return;const w=u.strikes.reduce((K,E)=>(K+E)/2,u.strikes[0]),_=window.innerWidth>480?y:y-.05,S=Math.round(w*(1-_)/100)*100,P=Math.round(w*(1+_)/100)*100,j=[];for(let K=0;K<(P-S)/d;K++){const E=S+K*d;j.push(E)}const V=[];return u.strategies.forEach((K,E)=>{j.forEach((W,H)=>{const N=f(E,W);E===0?V.push({closePrice:W,pnl:N}):V[H].pnl=V[H].pnl+N})}),V})(),v=(U=h.reduce((w,_)=>_.pnl>w.pnl?_:w,h[0]))==null?void 0:U.pnl,C=v&&ye(v.toFixed(0)),O=(()=>{if(!h)return;const w=Math.max(...h.map(P=>P.pnl)),_=Math.min(...h.map(P=>P.pnl));if(w<=0)return 0;if(_>=0)return 1;const S=w/(w-_);return isNaN(S)?0:S})(),F=({value:w,cx:_,cy:S})=>{const P=w[1];let j;return P<0?j=se:P>0?j=De:j=ut,a.jsx("circle",{cx:_,cy:S,r:5,style:{opacity:"0.9"},fill:j})},k=w=>{const{active:_,payload:S,label:P}=w,j=_&&S&&S.length&&Number(S[0].value.toFixed(2));return _&&S&&S.length?a.jsxs("div",{className:"react-tooltip",children:[a.jsxs(pe,{symbol:e,isHlight:!0,isSmall:!0,children:["$",ye(P)]}),a.jsxs("p",{children:["PnL ",a.jsx("span",{className:M({positive:j>0,negative:j<0}),children:`${j!==0?j>0?"+":"-":""}$${ye(Math.abs(j))}`})]})]}):null},I=w=>ye(w),A={fill:ut,fontSize:13},B=jt,[R,L]=g.useState(null);return g.useEffect(()=>{if(r.current&&h){let w;const _=Math.round(c/(r.current.clientWidth/h.length));_<20?w=19:w=Math.floor(_/20)*20-1,L(w)}},[r.current,h,window.innerWidth]),a.jsx("div",{className:"BuilderPositionChart App-box",ref:r,children:u.isReady?a.jsx(Si,{children:a.jsxs(Pi,{data:h,margin:{left:(C==null?void 0:C.length)*7.5-40,right:15,top:15},children:[a.jsx(Mi,{dataKey:"closePrice",interval:R,tickFormatter:I,tick:A,stroke:B}),a.jsx(Ai,{dataKey:"pnl",tickFormatter:I,tick:A,stroke:B,padding:{bottom:15}}),a.jsx(Ei,{cursor:{stroke:ut},content:a.jsx(k,{})}),a.jsx(Di,{type:"monotone",dot:!1,dataKey:"pnl",stroke:"url(#splitColor)",activeDot:a.jsx(F,{}),fill:"url(#splitColorTransparent)"}),a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"splitColor",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:O,stopColor:De,stopOpacity:1}),a.jsx("stop",{offset:O,stopColor:se,stopOpacity:1})]}),a.jsxs("linearGradient",{id:"splitColorTransparent",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:O,stopColor:De,stopOpacity:.3}),a.jsx("stop",{offset:O,stopColor:se,stopOpacity:.3})]})]}),a.jsx(bn,{x:b,stroke:jt,strokeDasharray:"3 3",label:{value:"Current Price",fill:jt,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}}),u.collaterals.length&&u.collaterals.map(w=>{if(!w||!w.liquidationPrice)return;const _=q(w.liquidationPrice),S=Math.round(_/d)*d;return a.jsx(bn,{x:S,stroke:se,strokeDasharray:"3 3",label:{value:"Liq. Price",fill:se,fontSize:window.innerWidth>768?15:13,position:"insideTopLeft",writingMode:"tb-rl",offset:9}},_)}),a.jsx(Bi,{stroke:"rgba(58, 68, 102, 0.15)"})]})}):a.jsx($e,{children:"Fill out the Strike fields to view position chart"})})},wu=e=>{const{assetState:t}=e,n=g.useState("Long Call"),s=g.useState("1"),i=g.useState(null),o=g.useState([]),r=g.useState([]),p=g.useState([]),[u]=t,[l]=n,[y]=s,[d]=r,[c]=p;return a.jsxs("div",{className:"BuilderDashboard",children:[a.jsx(_u,{assetState:t,strategyState:n,amountStrState:s,chosenDateState:i,strikesDataArrState:o,chosenStrikesState:r,collateralDataArrState:p}),a.jsx(Cu,{asset:u,strategy:l,amountStr:y,chosenStrikes:d,collateralDataArr:c})]})},ku=6,Su=()=>{const{isConnected:e,account:t}=X(),n=Q(),s=new $(...G(n,"TxBuilder"),z(n)),{data:i,error:o}=Pe(e&&[t,"useBuilderPositionsStructure"],async()=>{const r=[],p=await Mu(s,t),u=[];for(let l=0;l<p.length;l++){const y=p[l],{buildID:d,productType:c}=ve(y.args),T={strategy:Vn.find(h=>Te[h].key===Number(c)),buildId:d,childPositionsStructure:[]},b=Pu(n,d),f=[];for(const h in b)b[h].forEach(C=>{C.then(D=>{Eu(D,h,T.childPositionsStructure)}),f.push(C)});const x=Promise.all(f).then(()=>{r.push(T)});u.push(x),await Sn(u,ku,p.length,l)}return r},{refreshInterval:2e4});return o?(console.log(`Builder Positions error:
`,o),null):i},Pu=(e,t)=>{const{Hegic:n,Lyra_ETH:s,Lyra_BTC:i,Rysk:o,Premia:r}=Dr(e),{OpenPositionByHegic:p}=n.filters,{OpenPositionByLyra:u}=s.filters,{OpenPositionByLyra:l}=i.filters,{OpenPositionByRyskFinance:y}=o.filters,{OpenPositionByPremia:d}=r.filters,c=[n.queryFilter(p(t))],m=[s.queryFilter(u(t)),i.queryFilter(l(t))],T=[o.queryFilter(y(t))],b=[r.queryFilter(d(t))];return{Hegic:c,Lyra:m,Rysk:T,Premia:b}},Mu=(e,t)=>{const{CreateBuild:n}=e.filters;return e.queryFilter(n(null,t)).then(i=>{const o=i.map(r=>Au(r,e.provider));return Promise.all(o).then(r=>i.filter((u,l)=>{if(r[l])return!0}).reverse())})},Au=async(e,t)=>t.getBlock(e.blockNumber).then(n=>{const s=ct[ct.length-1],i=Date.now()-s-zn(1);if(n.timestamp*ne>i)return!0}),Eu=(e,t,n)=>{e.forEach(s=>{let i=Number(s.args.tokenID);if(t==="Premia"){const o=s.args;i=`${o.vaultAddress}_${o.isBuy?"LONG":"SHORT"}`}if(t==="Rysk"){const o=s.args.operationProcedures[0].operationQueue[0].optionSeries;i=`${o.underlying}_${q(BigInt(o.strike))}_${o.isPut?"PUT":"CALL"}`}n.push({market:t,id:i})})},{PARENT_COMPLEX:Du,PARENT_SIMPLE:Bu,CHILD:Sa}=Wn,Ou=()=>{const e=Ye(),{positionsByMarket:t}=e,n=Su();if(!n||!t)return;const i=n.map(r=>{const{childPositionsStructure:p}=r,u=[],l=p.length===1;for(let y=0;y<p.length;y++){const{id:d,market:c}=p[y],m=t[c];if(!m)return;const T=m.findIndex(f=>f.id===d),b=m[T];b&&(u.push(b),m[T].role=Sa)}if(u.length)if(l){const y={...u[0]};return{...r,...y,role:Bu}}else{const y=Fu(u),d=u[0].asset;return{...r,childPositions:u,asset:d,...y,role:Du}}}).filter(r=>!ae(r));return Iu(i,t)},Iu=(e,t)=>{const n=[],s=[];Object.values(t).forEach(r=>{r&&s.push(...r)});const o=s.filter(r=>r.role!==Sa).map(r=>{const{isCall:p,isSpread:u,isBuy:l}=r;return{strategy:`${u?p?"Bull":"Bear":l?"Long":"Short"} ${p?"Call":"Put"} ${u?"Spread":""}`.trim(),...r}});return n.push(...e,...o),n},Fu=e=>{const t=e.reduce((n,s)=>{const i=Bt(n,s,["amount","premium","pnl.inUSDC"]);return i.greeks=ea(n.greeks,s.greeks),i.collaterals=s.collateral?[...n.collaterals,s.collateral]:n.collaterals,i},{amount:0n,premium:0n,collaterals:[],pnl:{inUSDC:0n},greeks:{delta:0,vega:0,gamma:0,theta:0,rho:0}});return t.pnl.inPercentage=Ke(null,t.pnl.inUSDC,t.premium),t.expiry=e[0].expiry,t};const ju=({position:e,openCloseModal:t})=>{const[n]=Ye().pendingPositionsState;if(!e.actions)return null;const{isClosingDisabled:s}=e.actions,i=n.closing.find(r=>r.id===e.id),o=()=>{t(e)};return a.jsx("div",{className:"PositionCloseBtn",children:Et(a.jsx(_e,{className:"close-btn",type:"micro",isDisabled:s,onClick:o,children:"Close"}),i)})},Lu=({handleClick:e})=>a.jsx("button",{onClick:e,className:"shrink-0",children:a.jsx("img",{src:ha,alt:"Update Collateral"})});const Nu=({expiry:e})=>{const t=e-Date.now(),n=t<=0,i=on(t,!0).split(":");return a.jsxs("div",{className:M("ExpirationTimer",n&&"expired"),children:[a.jsx("div",{className:"ExpirationTimer__text",children:"Left until expiration"}),a.jsx("div",{className:"ExpirationTimer__timer",children:i.map((o,r)=>{const p=r===i.length-1,u=qo(o);return a.jsxs(Ue.Fragment,{children:[a.jsx("div",{className:"ExpirationTimer__timer-value",children:o}),!p&&a.jsx("span",{className:"ExpirationTimer__timer-separator",children:":"})]},u)})})]})};const Pa=({market:e,strikeParams:t,isSmall:n})=>{const{strike:s,isCall:i,isBuy:o,expiry:r}=t,p=Date.now()>r,u=pn[e].circled,l=o?ia:sa,y=We(r,"dMMMyy").toUpperCase(),d=ln(s),m=`${y}-${d}-${i?"C":"P"}`,T=ja(a.jsx(Nu,{expiry:r}));return a.jsxs("div",{className:M("Brief","SeriesBrief",n&&"small",p&&"expired"),children:[a.jsxs("div",{className:"Brief__icons",children:[a.jsx("div",{className:"Brief__icon",children:a.jsx("img",{src:u,alt:`${e}`})}),a.jsx("div",{className:"Brief__icon",children:a.jsx("img",{src:l,alt:`${o?"Long":"Short"}`})})]}),a.jsx("div",{className:"SeriesBrief__string tip","data-tooltip-id":"Tooltip_Expiration","data-tooltip-html":T,children:m})]})},{PARENT_COMPLEX:Ru,CHILD:Uu}=Wn,Hu={strategy:"Strategy",amount:"Amount",series:"Series",collateral:a.jsx("span",{"data-tooltip-id":"BuilderForm_CollateralTooltip",className:"tip",children:"Collateral"}),pnl:"PnL",entryPrice:"Entry Price",closePrice:"Close Price",liqPrice:"Liq. Price",delta:"Delta",vega:"Vega",gamma:"Gamma",theta:"Theta",rho:"Rho",closeBtn:""},qu=({positions:e,openCollateralModal:t,openCloseModal:n,isLoadingComplete:s})=>{const{isConnected:i}=X(),o=d=>{const{role:c,isOpening:m,isTotal:T,expiry:b}=d,f=c===Ru,x=c===Uu,h=Date.now()>b,v=()=>{if(x)return"";if(T)return Z("Total",!1,!0);let{strategy:_}=d;if(!_){const{isCall:V,isBuy:K}=d;_=Zn(K,V)}const S=Te[_],P=S==null?void 0:S.color,j=a.jsx("svg",{className:"icon-dropdown",xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",children:a.jsx("path",{d:"M2 5L6.5 9L11 5",stroke:P,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})});return a.jsxs("span",{className:"flex items-center gap-x-4",style:{color:P},children:[m&&a.jsx(Ce,{}),_,f&&j]})},C=()=>{const{asset:_,amount:S}=d;if(S)return a.jsx(pe,{symbol:_,children:q(S)})},D=()=>{const{market:_,strike:S}=d;if(f)return a.jsx("div",{className:"PositionsTable__strike-msg",children:Z("Click to see strikes")});if(S)return a.jsx(Pa,{market:_,strikeParams:d})},O=()=>{const{premium:_}=d,S=_<0n,P=J(me(_)),j=`${S?"":"+"}$${P}`;return a.jsx("span",{className:M({positive:!S,negative:S}),children:j})},F=()=>{const{collateral:_,collaterals:S,actions:P}=d;if(!_&&(!S||!S.length))return;const j=V=>T?V.inUSDC?a.jsxs("span",{children:["$",J(V.inUSDC)]}):void 0:a.jsx(pe,{symbol:V.marketToken.symbol,children:at(V.inMarketToken,V.marketToken.isStable)},V.isBase);return f?k(S,j):P&&!P.isAddingToCollateralDisabled?a.jsxs("div",{className:"flex items-center gap-x-3",children:[j(_),a.jsx(Lu,{handleClick:()=>t(d)})]}):j(_)},k=(_,S)=>{const P={base:{},stable:{}},j=K=>{const{isBase:E}=K,W=E?"base":"stable";P[W]={...Bt(P[W],K,["inMarketToken","inUSDC"]),isBase:E}};_.forEach(j);const V=Object.values(P).map(S);return a.jsx("div",{className:"flex flex-col gap-y-5",children:V})},I=()=>{if(!d.pnl)return;const{inUSDC:_,inPercentage:S}=d.pnl,P=_<0?fr.negative:"",j=me(S),V=q(j)<1?1:0,K=J(j,V);return a.jsxs("div",{className:M({positive:_>0n,negative:_<0n,muted:_===0n}),children:[a.jsx("span",{style:{color:ut,marginRight:5},children:pt(_)}),`(${P}${K}%)`]})},A=()=>{const{entryPrice:_}=d;if(!ae(_))return`$${J(_)}`},B=()=>{const{closePrice:_}=d;if(!ae(_))return`$${J(_)}`},R=()=>{const{collateral:_}=d;if(!(!_||!_.liquidationPrice))return`$${J(_.liquidationPrice)}`},L=()=>{const{greeks:_}=d;if(T)for(const S in _)_[S]||(_[S]=void 0);return _},U=()=>f?d.childPositions.map(o):void 0,w=()=>m?"":a.jsx(ju,{openCloseModal:n,position:d});return{id:`${d.buildId}_${d.id}`,strategy:v(),amount:C(),series:D(),premium:O(),collateral:F(),pnl:I(),entryPrice:A(),closePrice:B(),liqPrice:R(),...L(),children:U(),closeBtn:w(),omittedKeys:(f||T)&&["series","closeBtn"],className:M(h&&"expired")}},r=Hu,p=e==null?void 0:e.map(o),u={titleData:r,itemsData:p},l=[{name:"Active",isActive:!0}],y=()=>{let d;return i?!e||!s?d="Loading...":e.length||(d="No open positions"):d="No wallet connected",a.jsx("div",{className:"App-box PositionsTable__message",style:s?{}:{marginBottom:10},children:Z(d)})};return a.jsxs("div",{className:"PositionsTable",children:[a.jsx("div",{className:"PositionsTable__header",children:a.jsx(Kt,{links:l,type:"border"})}),e!=null&&e.length?a.jsxs(a.Fragment,{children:[!s&&y(),a.jsx(aa,{structureData:u})]}):y()]})};const Ma=e=>{const{value:t,setValue:n,maxValue:s,placeholder:i,isDisabled:o,isFocused:r,hasError:p,formatInputStringFns:u=[Je,Me],title:l,presentedValue:y,presentedValueTitle:d,iconData:c,unitStr:m}=e,T=At([t,n],{maxValue:s,placeholder:i,isDisabled:o,isFocused:r},u),b=M(e.className,T.hasFocus&&"hlight",p&&"error",o&&"disabled"),f=u[0];return a.jsxs("div",{className:M("InputFamily InputComplexNumeric",b),onClick:()=>{T.ref.current.focus()},children:[a.jsxs("div",{className:"InputComplexNumeric__header",children:[a.jsx("div",{className:"InputComplexNumeric__title",children:l}),y&&a.jsxs("button",{className:"InputComplexNumeric__presented-value",onClick:x=>{x.stopPropagation(),n(f(y))},children:[a.jsxs("span",{className:"InputComplexNumeric__presented-value-title",children:[d,":"]}),f(y)]}),c&&a.jsx("div",{className:"InputComplexNumeric__icon",children:a.jsx("img",{src:c.src,alt:c.alt??"icon"})})]}),a.jsxs("div",{className:"InputComplexNumeric__body",children:[a.jsx("div",{className:"InputComplexNumeric__input-wrapper",children:T.node}),a.jsxs("div",{className:"InputComplexNumeric__helper",children:[s&&a.jsx("button",{className:"InputComplexNumeric__max-btn",disabled:o,onClick:x=>{x.stopPropagation(),n(Je(s))},children:"Max"}),m&&a.jsx("div",{className:"InputComplexNumeric__unit",children:m})]})]})]})},$u=({position:e,isOpen:t,setIsOpen:n})=>{var h;const s=Q(),[i,o]=g.useState(""),[r,p]=g.useState(!1),[u,l]=g.useState(null),y=((h=e==null?void 0:e.collateral)==null?void 0:h.marketToken)??{symbol:"ETH"},d=Ln(y.symbol),c=ka(y==null?void 0:y.symbol,tn(s,"Lyra_Quoter"),dt(i),l),m=()=>{l(null),c.check()};if(g.useEffect(()=>{l(null)},[i]),ft(()=>{i&&m()},wt,[i]),!e||!e.collateral)return null;const T=()=>{if(!i)return"Enter Amount";if(u===null)return"Please, wait...";if(r)return u?"Updating Collateral...":`Approving ${y.symbol}...`},b=()=>!T(),f=()=>{const v=u?"Add Collateral":`Approve ${i} ${y.symbol}`;return T()??v},x=()=>{if(!u){c.approve(p,m);return}const v=dt(i);_t(s,e.actions.addToCollateral,[v],{text:`${i} ${y.symbol} added.`,node:a.jsxs(pe,{symbol:y.symbol,children:[i," added to collateral."]})},p,()=>n(!1))};return a.jsxs(vt,{className:"PositionCollateralModal",isOpen:t,setIsOpen:n,reset:()=>{o(""),l(null)},children:[a.jsx("h1",{children:"Edit Collateral"}),a.jsx(Ma,{value:i,setValue:o,title:"Add Amount",iconData:{src:d},isFocused:!0}),a.jsx(_e,{isDisabled:!b(),onClick:x,children:f()})]})};const Vu=({position:e,isOpen:t,setIsOpen:n})=>{const s=Q(),[i,o]=g.useState(""),[r,p]=g.useState(void 0),[u,l]=g.useState(!1),[y,d]=Ye().pendingPositionsState,c=()=>{const _=Ss(e.amount);o(_)},m=_=>{p(void 0),e.utils.calcPnl(_).then(p)};if(g.useEffect(()=>{t&&e&&c()},[t]),ft(()=>{e&&i&&m(dt(i))},wt,[i]),!e||!e.actions)return null;const T=_=>{if(_)y.closing.push({id:e.id,market:e.market});else{const S=y.closing.findIndex(P=>P.id===e.id);S!==-1&&y.closing.splice(S,1)}d({...y})},{close:b}=e.actions,{asset:f,amount:x,strategy:h,isCall:v,isBuy:C}=e,D=h??`${C?"Long":"Short"} ${v?"Call":"Put"}`,O=a.jsxs(pe,{symbol:f,children:[i," ",D," closed."]}),k={text:`${i} ${f} ${D} closed.`,node:O},I=dt(i),A=r==null?void 0:r.inUSDC,B=()=>{_t(s,b,[I],k,l,()=>{T(!0),n(!1)})},R=()=>{if(!i)return"Enter Amount";if(u)return"Closing Strategy..."},L=()=>R()??"Close Strategy",U=()=>!R(),w=Ln(f);return a.jsxs(vt,{className:"ClosePositionModal",isOpen:t,setIsOpen:n,reset:()=>{o(""),p(void 0)},children:[a.jsxs("div",{className:"ClosePositionModal__body",children:[a.jsx("h1",{children:"Close Strategy"}),a.jsxs("div",{className:"info-row",children:[a.jsx("div",{className:"info-row__title",children:"Series"}),a.jsx("div",{className:"info-row__value",children:a.jsx(Pa,{market:e.market,strikeParams:e})})]}),e.market!=="Hegic"&&a.jsx(Ma,{value:i,setValue:o,title:"Amount",iconData:{src:w},isFocused:!0,maxValue:q(x)})]}),a.jsxs("div",{className:"ClosePositionModal__footer",children:[a.jsxs("div",{className:"info-row",children:[a.jsx("div",{className:"info-row__title",children:"PnL"}),a.jsx("div",{className:M("info-row__value",{positive:A>0n,negative:A<0n}),children:rt(()=>vp(A),ae(A))})]}),a.jsx(_e,{isDisabled:!U(),onClick:B,children:L()})]})]})},Aa=({positions:e})=>{const t=Ye(),{arePositionsLoaded:n,positionsTotalData:s,pendingPositionsState:i}=t,o=e==null?void 0:e.sort((f,x)=>x.isTotal?-1:f.isTotal?1:un(f,x,"pnl.inUSDC",-1)),r=o&&s?[...o,s]:o,[p,u]=g.useState(null),[l,y]=g.useState(!1),[d,c]=g.useState(!1),m=f=>{u(f),y(!0)},T=f=>{u(f),c(!0)},[b]=i;return b.opening&&r&&[...b.opening,...r],a.jsxs("div",{className:"Positions",children:[a.jsx("h1",{className:"Positions__title",children:"My Positions"}),a.jsx(qu,{positions:r,isLoadingComplete:n,openCollateralModal:m,openCloseModal:T}),a.jsx($u,{isOpen:l,setIsOpen:y,position:p}),a.jsx(Vu,{isOpen:d,setIsOpen:c,position:p})]})},Wu=()=>{const e=He("asset","ETH"),t=Ou();return a.jsxs("div",{className:"Builder",children:[a.jsx(wu,{assetState:e}),a.jsx(Aa,{positions:t})]})};const Gu=()=>{const e=ga(),t=va(),{ETH:n,BTC:s}=Mt()??{};return console.log(n,s),g.useEffect(()=>{e&&console.log(e),t&&console.log(t)},[e,t]),Y(1),Y(1,8),en(Y(1),2),me(Y(-1)),qe(Y(1)),qe(Y(-1)),Jt(Y(1,10),10,8),ce(Y(1),8),ee(Y(1,8),8),q(1000000000000000000n),q(1000n,3),J(Y(1e3)),J(Y(1e3),0),J(Y(1e3),5),J(Y(1e3,8),2,8),a.jsxs("div",{className:"Sandbox",children:[a.jsx("h3",{className:"text-center",children:"Page for calculations testing"}),a.jsxs("p",{children:["Default Decimals: ",a.jsx("span",{style:{color:"white"},children:te})]}),a.jsx("div",{style:{margin:"10px 0"},children:t==null?void 0:t.map(i=>{const o=i.premium,r=J(o);return a.jsxs("div",{children:[r," ",a.jsxs("span",{className:"muted",children:["(",i.asset,")"]})]},i.id)})})]})},Ku=()=>{const e=Ye(),{positionsByMarket:t,positions:n}=e;return n};const Yu="/sf_draft/assets/date-1ea6323e.svg",zu=({chosenDate:e,setChosenDate:t,type:n="Selector",shouldRenderCarousel:s=!1})=>{const{dates:i}=je();g.useEffect(()=>{i&&!e&&t(i[0])},[i]);const o=we(1100)||!s;return a.jsxs("div",{className:M("OptionController","DateController",`_${n}`),children:[a.jsx("div",{className:"OptionController__title DateController__title",children:"Expiration Date"}),a.jsx("div",{className:"DateController__items",children:rt(()=>o?a.jsx(Qu,{chosenDate:e,setChosenDate:t,type:n}):a.jsx(Ju,{chosenDate:e,setChosenDate:t}),ae(i))})]})},Qu=({chosenDate:e,setChosenDate:t,type:n})=>{const{dates:s}=je(),i=s.map(p=>{const u=Zu(n,p);return{value:p,label:a.jsx(Xu,{date:p,expiryStr:u})}}),o=e&&i.find(p=>p.value===e),r=n==="Selector"?a.jsx("img",{src:Yu,alt:"Strategy selector icon"}):null;return a.jsx(Fe,{className:"Selector_thin-options",placeholder:"Choose Date",options:i,value:o,onChange:p=>{t(p.value)},iconNode:r})},Zu=(e,t)=>{const n=t-Date.now();switch(e){case"Selector":return on(n);case"Selector_no-icon":return`Expires in ${rn(n)} days`;default:return""}},Xu=({date:e,expiryStr:t})=>a.jsxs("div",{className:"DateController__selector-date",children:[a.jsx("div",{className:"DateController__selector-date-value",children:We(e,"d MMM yy")}),a.jsx("div",{className:"DateController__selector-date-expiry",children:t})]}),Ju=({chosenDate:e,setChosenDate:t})=>{const{dates:n}=je(),s=n.map(i=>{const o=We(i,"d MMM yy"),r=rn(i-Date.now()),p=e===i;return a.jsxs(_e,{className:M("DateController__item",p&&"chosen"),type:"stroke",onClick:()=>t(i),children:[a.jsx("div",{className:"DateController__item-date",children:o}),a.jsxs("div",{className:"DateController__item-expiry",children:[r," days"]})]},i)});return a.jsx(oa,{id:"DateControllerCarousel",spaceBetween:8,isDraggable:!1,breakpoints:{992:{slidesPerView:7},1200:{slidesPerView:8},1300:{slidesPerView:"auto"}},children:s})};const el=({isCheckedState:e,text:t})=>{const[n,s]=e,i=o=>{const r=o.target;s(r.checked)};return a.jsxs("div",{className:"Checker",children:[a.jsx("input",{type:"checkbox",checked:n,onChange:i}),a.jsx("label",{children:t})]})},tl=({assetState:e,isDistanceEnabledState:t})=>{const[n,s]=e,[i,o]=je().chosenDateState;return a.jsxs("div",{className:"OptionChainControllers",children:[a.jsx(zu,{chosenDate:i,setChosenDate:o,type:"Selector_no-icon",shouldRenderCarousel:!0}),a.jsx(ba,{asset:n,setAsset:s}),a.jsx(el,{isCheckedState:t,text:"Distance"})]})};const nl=e=>{const t=[];Object.values(e).forEach(i=>{t.push(...i)});const n=t.map(i=>i.strike);return ht(n).sort(xt)},al=({asset:e,chosenDate:t,strikes:n,isDistanceEnabled:s})=>{const i=nl(n),o=st(e),r=We(t??0,"d MMM yy"),p=we();return a.jsxs("div",{className:M("OptionChainStrikeList",s&&"_distance"),children:[!p&&a.jsx("div",{className:"OptionChainStrikeList__cell _title whitespace-nowrap",children:r}),a.jsx("div",{className:"OptionChainStrikeList__cell _title",children:"Strike"}),a.jsx(il,{assetPrice:o,strikePrices:i,isDistanceEnabled:s})]})},il=({assetPrice:e,strikePrices:t,isDistanceEnabled:n})=>{const s=t.find(o=>{const r=en(e,.001);return me(o-e)<r});let i;return s||(i=t.reduce((o,r,p)=>{if(o)return o;if(e<r||p===t.length-1)return r},void 0)),a.jsx(a.Fragment,{children:t.map(o=>{const r=o===s,p=!r&&o===i,u=`$${Xt(o)}`;return a.jsxs("div",{className:M("OptionChainStrikeList__cell",r&&"_assetPrice"),children:[n?a.jsx(sl,{assetPrice:e,strikePrice:o}):p&&a.jsx(rl,{assetPrice:e,strikePrices:t}),a.jsx("div",{className:"OptionChainStrikeList__strike",children:u})]},o)})})},sl=({assetPrice:e,strikePrice:t})=>{const n=Ie(q(Se(t,e))*100-100);return a.jsxs("span",{className:M("OptionChainStrikeList__distance",{negative:n<0,positive:n>0,neutral:n===0}),children:[n,"%"]})},rl=({assetPrice:e,strikePrices:t})=>{if(!e)return null;const n=M("OptionChainStrikeList__assetPrice",e>gi(t)&&"_last"),s=`$${Xt(e,2)}`;return a.jsx("div",{className:n,children:s})};const ol=({style:e})=>a.jsx("div",{className:"SpinnerBig",style:e,children:a.jsxs("svg",{viewBox:"0 0 100 100",children:[a.jsx("defs",{}),a.jsx("circle",{className:"SpinnerBig__circle",style:{fill:"transparent",stroke:"#fff",strokeWidth:"7px",strokeLinecap:"round"},cx:"50",cy:"50",r:"45"})]})});const pl="/sf_draft/assets/arrow-up_green-2d5f573c.svg",ul="/sf_draft/assets/arrow-down_red-ed33cd18.svg",Ea=({strikes:e,isCall:t,asset:n,renderStrikeList:s})=>{const i=st(n),o=we(),r=g.useRef(null);return g.useEffect(()=>{if(o){const p=document.querySelector(".OptionChainStrikeList");r.current&&(r.current.style.paddingRight=`${p.clientWidth}px`)}else r.current.style.paddingRight&&(r.current.style.paddingRight="")},[o]),a.jsx("div",{className:"OptionChainTable__wrapper",children:a.jsxs("div",{className:"OptionChainTable",children:[a.jsx(ll,{isCall:t}),a.jsxs("div",{className:"OptionChainTable__scrollable",ref:r,children:[a.jsx(yl,{}),a.jsx(dl,{strikes:e,isCall:t,assetPrice:i})]}),o&&s()]})})},ll=({isCall:e})=>{const t=we(),[n]=je().chosenDateState,s=We(n,"d MMM yy"),i=()=>a.jsxs("div",{className:"OptionChainTable__cell-content",children:[e?"Calls":"Puts",a.jsx("img",{src:e?pl:ul,alt:e?"Arrow up":"Arrow down"})]}),o="rgba(70, 149, 106, 0.03)",r="rgba(199, 94, 75, 0.03)";return a.jsxs("div",{className:M("OptionChainTable__cell _title _main-title",e?"positive":"negative"),style:{backgroundColor:e?o:r},children:[i(),t&&a.jsx("span",{className:"text-white",children:s})]})},yl=()=>a.jsxs("div",{className:"OptionChainTable__head",children:[a.jsxs("div",{className:"OptionChainTable__head-group",children:[a.jsx("div",{className:"OptionChainTable__cell _title _head muted_light",children:"Size"}),a.jsx("div",{className:"OptionChainTable__cell _title _head positive",children:"IV Bid"}),a.jsx("div",{className:"OptionChainTable__cell _title _head positive",children:"Bid"})]}),a.jsxs("div",{className:"OptionChainTable__head-group",children:[a.jsx("div",{className:"OptionChainTable__cell _title _head muted_light",children:"Size"}),a.jsx("div",{className:"OptionChainTable__cell _title _head negative",children:"IV Ask"}),a.jsx("div",{className:"OptionChainTable__cell _title _head negative",children:"Ask"})]})]}),dl=({strikes:e,isCall:t,assetPrice:n})=>{const s=t?"Call":"Put",i=[...e[`Long ${s}`]],o=[...e[`Short ${s}`]],r=pa(Object.values(e))[0],p=Object.keys(r).map(y=>Y(y)),u=(y,d)=>p.map(c=>{const m=`${c}_${d}`,T=Xn(t,c,n),b=y.filter(C=>C.isCall===t&&C.strike===c);if(!b.length)return l(m,T);const f=b.reduce((C,D)=>{const O=C.premiumData.inUSDC,F=D.premiumData.inUSDC;if(d){if(F<O)return D}else if(F>O)return D;return C},b[0]),x=f.liquidity?J(f.liquidity,1):Z(),h=no(f,n).formatted,v=rt(()=>pt(f.premiumData.inUSDC),!f.premiumData);return l(m,T,{size:x,IV:h,price:v},()=>{console.log(b)})}),l=(y,d,c,m=()=>{})=>a.jsxs("button",{className:M("OptionChainTable__strikes-item",d&&"_ITM"),disabled:!c,onClick:m,children:[a.jsx("div",{className:"OptionChainTable__strikes-item-cell OptionChainTable__cell",children:(c==null?void 0:c.size)??Z()}),a.jsx("div",{className:"OptionChainTable__strikes-item-cell OptionChainTable__cell",children:(c==null?void 0:c.IV)??Z()}),a.jsx("div",{className:"OptionChainTable__strikes-item-cell OptionChainTable__cell",children:(c==null?void 0:c.price)??Z()})]},y);return a.jsxs("div",{className:"OptionChainTable__strikes",children:[a.jsx("div",{className:"OptionChainTable__strikes-long",children:u(o,!1)}),a.jsx("div",{className:"OptionChainTable__strikes-short",children:u(i,!0)})]})};const cl=({assetState:e,isDistanceEnabled:t})=>{const[n]=je().chosenDateState,[s]=e,i=fa(s,n),o=!n||!i,r=we();if(!!(!o&&Object.values(i).every(l=>!l.length)))return a.jsx("div",{className:"OptionChainOptions",children:a.jsx($e,{children:"No Liquidity"})});const u=()=>a.jsx(al,{asset:s,chosenDate:n,strikes:i,isDistanceEnabled:t});return Et(a.jsxs("div",{className:"OptionChainOptions",children:[a.jsx(ml,{asset:s,strikes:i,renderStrikeList:u}),!r&&u(),a.jsx(Tl,{asset:s,strikes:i,renderStrikeList:u})]}),o,a.jsx(ol,{style:{margin:"50px auto 70px"}}))},ml=({asset:e,strikes:t,renderStrikeList:n})=>a.jsx(Ea,{asset:e,strikes:t,renderStrikeList:n,isCall:!0}),Tl=({asset:e,strikes:t,renderStrikeList:n})=>a.jsx(Ea,{asset:e,strikes:t,renderStrikeList:n,isCall:!1}),fl=()=>{const e=He("asset","ETH"),t=He("isDistanceEnabled",!1);return a.jsxs("div",{className:"OptionChainDashboard App-box",children:[a.jsx(tl,{assetState:e,isDistanceEnabledState:t}),a.jsx(cl,{assetState:e,isDistanceEnabled:t[0]})]})};const bl=()=>{const e=Ku();return a.jsxs("div",{className:"OptionChain",children:[a.jsx(fl,{}),a.jsx(Aa,{positions:e})]})},hl=()=>{const e=Tt(),t=ni();return g.useEffect(()=>{e.pathname.endsWith("trading")&&t("/trading/builder")},[e.pathname]),a.jsxs(ai,{children:[a.jsxs(ze,{path:"/trading",element:a.jsx(cr,{}),children:[a.jsx(ze,{path:"builder",element:a.jsx(Wu,{})}),a.jsx(ze,{path:"option-chain",element:a.jsx(bl,{})})]}),a.jsx(ze,{path:"/sandbox",element:a.jsx(Gu,{})}),a.jsx(ze,{path:"*",element:a.jsx(ii,{to:as,replace:!0})})]})};const xl="/sf_draft/assets/Discord-953a06b2.svg",gl="/sf_draft/assets/Gitbook-e6bd9837.svg",_l="/sf_draft/assets/Github-91413dd2.svg",vl="/sf_draft/assets/Mirror-57127b4e.svg",Cl="/sf_draft/assets/Dune-6a822b0b.svg",wl="/sf_draft/assets/Twitter-42687d77.svg",kl=()=>{const e=[{name:"Discord",icon:xl,url:"https://discord.gg/5DGZ7rzSfS"},{name:"Gitbook",icon:gl,url:"https://docs.sharwa.finance/"},{name:"Github",icon:_l,url:"https://github.com/SharwaFinance"},{name:"Mirror",icon:vl,url:"https://mirror.xyz/sharwa-finance.eth"},{name:"Dune",icon:Cl,url:"https://dune.com/sharwa_finance/aggregator"},{name:"Twitter",icon:wl,url:"https://twitter.com/SharwaFinance"}];return a.jsx("footer",{className:"Footer",children:a.jsxs("div",{className:"Footer__content _container",children:[a.jsx(Mn,{}),a.jsx("div",{className:"Footer__smedia-items",children:e.map(t=>a.jsx("a",{className:"Footer__smedia-item",target:"_blank",rel:"noreferrer",href:t.url,children:a.jsx("img",{src:t.icon,alt:`${t.name} logo`})},t.name))})]})})};const Sl=({children:e})=>a.jsx("div",{className:"GlobalStickyMessage",children:e}),Pl=({children:e})=>a.jsx(Wi,{children:a.jsx(lr,{children:a.jsx(fu,{children:a.jsx(Zr,{children:a.jsx(_o,{children:e})})})})}),Ml=()=>a.jsxs("div",{className:"Tooltips",children:[a.jsx(ue,{id:"Tooltip_default"}),a.jsx(ue,{id:"Tooltip_Asset",hasDelay:!1,place:"bottom"}),a.jsx(ue,{id:"Tooltip_Expiration",place:"bottom-end"})]});function Al(){const{chain:e}=Ka(),t=()=>a.jsxs(a.Fragment,{children:[a.jsx(Xi,{}),a.jsx("main",{className:"_container",children:a.jsx(hl,{})}),a.jsx(kl,{}),a.jsx(Sl,{children:"Sharwa.Finance is in alpha. Use at your own risk"})]}),n=()=>a.jsx(ns,{chainId:e.id});return e!=null&&e.unsupported?n():t()}function El(){return a.jsx(di,{fallbackRender:null,children:a.jsxs(a.Fragment,{children:[a.jsx(Ji,{}),a.jsx(Ml,{}),a.jsx(Ga,{config:Vi(),children:a.jsx(Ra,{children:a.jsx(Pl,{children:a.jsx(Al,{})})})})]})})}La.createRoot(document.getElementById("root")).render(a.jsx(Ue.StrictMode,{children:a.jsx(El,{})}));
